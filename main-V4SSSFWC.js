var Hx=Object.defineProperty,$x=Object.defineProperties;var qx=Object.getOwnPropertyDescriptors;var Wp=Object.getOwnPropertySymbols,Gx=Object.getPrototypeOf,Wx=Object.prototype.hasOwnProperty,Kx=Object.prototype.propertyIsEnumerable,Qx=Reflect.get;var Kp=(t,e,n)=>e in t?Hx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})Wx.call(e,n)&&Kp(t,n,e[n]);if(Wp)for(var n of Wp(e))Kx.call(e,n)&&Kp(t,n,e[n]);return t},ie=(t,e)=>$x(t,qx(e));var d1=(t,e,n)=>Qx(Gx(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var s=a=>{try{c(n.next(a))}catch(u){i(u)}},o=a=>{try{c(n.throw(a))}catch(u){i(u)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(s,o);c((n=n.apply(t,e)).next())});function Qp(t,e){return Object.is(t,e)}var mt=null,Pc=!1,kc=1,h1=Symbol("SIGNAL");function _e(t){let e=mt;return mt=t,e}function Yp(){return mt}var _o={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kl(t){if(Pc)throw new Error("");if(mt===null)return;mt.consumerOnSignalRead(t);let e=mt.nextProducerIndex++;if(Uc(mt),e<mt.producerNode.length&&mt.producerNode[e]!==t&&vo(mt)){let n=mt.producerNode[e];Vc(n,mt.producerIndexOfThis[e])}mt.producerNode[e]!==t&&(mt.producerNode[e]=t,mt.producerIndexOfThis[e]=vo(mt)?em(t,mt,e):0),mt.producerLastReadVersion[e]=t.version}function Yx(){kc++}function Xp(t){if(!(vo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kc)){if(!t.producerMustRecompute(t)&&!Fl(t)){t.dirty=!1,t.lastCleanEpoch=kc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=kc}}function Zp(t){if(t.liveConsumerNode===void 0)return;let e=Pc;Pc=!0;try{for(let n of t.liveConsumerNode)n.dirty||Xx(n)}finally{Pc=e}}function Jp(){return mt?.consumerAllowSignalWrites!==!1}function Xx(t){t.dirty=!0,Zp(t),t.consumerMarkedDirty?.(t)}function Fc(t){return t&&(t.nextProducerIndex=0),_e(t)}function Ol(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Vc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fl(t){Uc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Xp(n),r!==n.version))return!0}return!1}function Vl(t){if(Uc(t),vo(t))for(let e=0;e<t.producerNode.length;e++)Vc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function em(t,e,n){if(tm(t),t.liveConsumerNode.length===0&&nm(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=em(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Vc(t,e){if(tm(t),t.liveConsumerNode.length===1&&nm(t))for(let r=0;r<t.producerNode.length;r++)Vc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uc(i),i.producerIndexOfThis[r]=e}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function tm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function nm(t){return t.producerNode!==void 0}function rm(t){let e=Object.create(Zx);e.computation=t;let n=()=>{if(Xp(e),kl(e),e.value===Oc)throw e.error;return e.value};return n[h1]=e,n}var Rl=Symbol("UNSET"),Pl=Symbol("COMPUTING"),Oc=Symbol("ERRORED"),Zx=ie(R({},_o),{value:Rl,dirty:!0,error:null,equal:Qp,producerMustRecompute(t){return t.value===Rl||t.value===Pl},producerRecomputeValue(t){if(t.value===Pl)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Pl;let n=Fc(t),r;try{r=t.computation()}catch(i){r=Oc,t.error=i}finally{Ol(t,n)}if(e!==Rl&&e!==Oc&&r!==Oc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Jx(){throw new Error}var im=Jx;function sm(){im()}function om(t){im=t}var eE=null;function cm(t){let e=Object.create(lm);e.value=t;let n=()=>(kl(e),e.value);return n[h1]=e,n}function Ul(t,e){Jp()||sm(),t.equal(t.value,e)||(t.value=e,tE(t))}function am(t,e){Jp()||sm(),Ul(t,e(t.value))}var lm=ie(R({},_o),{equal:Qp,value:void 0});function tE(t){t.version++,Yx(),Zp(t),eE?.()}function se(t){return typeof t=="function"}function fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bc=fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function sr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof Bc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{um(s)}catch(o){e=e??[],o instanceof Bc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)um(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&sr(n,e)}remove(e){let{_finalizers:n}=this;n&&sr(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Bl=Fe.EMPTY;function jc(t){return t instanceof Fe||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function um(t){se(t)?t():t.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(t,e,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hc(t){di.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(t);else throw t})}function Mo(){}var fm=jl("C",void 0,void 0);function dm(t){return jl("E",void 0,t)}function hm(t){return jl("N",t,void 0)}function jl(t,e,n){return{kind:t,value:e,error:n}}var or=null;function hi(t){if(bn.useDeprecatedSynchronousErrorHandling){let e=!or;if(e&&(or={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=or;if(or=null,n)throw r}}else t()}function pm(t){bn.useDeprecatedSynchronousErrorHandling&&or&&(or.errorThrown=!0,or.error=t)}var cr=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jc(e)&&e.add(this)):this.destination=iE}static create(e,n,r){return new pi(e,n,r)}next(e){this.isStopped?$l(hm(e),this):this._next(e)}error(e){this.isStopped?$l(dm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$l(fm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nE=Function.prototype.bind;function Hl(t,e){return nE.call(t,e)}var ql=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$c(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$c(r)}else $c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$c(n)}}},pi=class extends cr{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hl(e.next,s),error:e.error&&Hl(e.error,s),complete:e.complete&&Hl(e.complete,s)}):i=e}this.destination=new ql(i)}};function $c(t){bn.useDeprecatedSynchronousErrorHandling?pm(t):Hc(t)}function rE(t){throw t}function $l(t,e){let{onStoppedNotification:n}=bn;n&&di.setTimeout(()=>n(t,e))}var iE={closed:!0,next:Mo,error:rE,complete:Mo};var mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(t){return t}function qc(...t){return Gl(t)}function Gl(t){return t.length===0?tn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oE(n)?n:new pi(n,r,i);return hi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mm(r),new r((i,s)=>{let o=new pi({next:c=>{try{n(c)}catch(a){s(a),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[mi](){return this}pipe(...n){return Gl(n)(this)}toPromise(n){return n=mm(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function mm(t){var e;return(e=t??bn.Promise)!==null&&e!==void 0?e:Promise}function sE(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function oE(t){return t&&t instanceof cr||sE(t)&&jc(t)}function Wl(t){return se(t?.lift)}function Ae(t){return e=>{if(Wl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,r,i){return new Kl(t,e,n,r,i)}var Kl=class extends cr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(a){e.error(a)}}:super._next,this._error=i?function(c){try{i(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function gi(){return Ae((t,e)=>{let n=null;t._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var yi=class extends ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(Ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return gi()(this)}};var gm=fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gm}next(n){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Bl:(this.currentObservers=null,s.push(n),new Fe(()=>{this.currentObservers=null,sr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new Gc(e,n),t})(),Gc=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Bl}};var gt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ql={now(){return(Ql.delegate||Date).now()},delegate:void 0};var Wc=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var wo={setInterval(t,e,...n){let{delegate:r}=wo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=wo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ci=class extends Wc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return wo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&wo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,sr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};vi.now=Ql.now;var _i=class extends vi{constructor(e,n=vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Yl=new _i(Ci);var Kc=class extends Ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Qc=class extends _i{};var Xl=new Qc(Kc);var Ut=new ge(t=>t.complete());function ym(t){return t&&se(t.schedule)}function Zl(t){return t[t.length-1]}function Yc(t){return se(Zl(t))?t.pop():void 0}function Bn(t){return ym(Zl(t))?t.pop():void 0}function Cm(t,e){return typeof Zl(t)=="number"?t.pop():e}function Jl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _m(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(r.next(d))}catch(p){o(p)}}function a(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):i(d.value).then(c,a)}u((r=r.apply(t,e||[])).next())})}function vm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(t){return this instanceof ar?(this.v=t,this):new ar(t)}function Mm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(w){return Promise.resolve(w).then(y,p)}}function c(y,w){r[y]&&(i[y]=function(A){return new Promise(function(z,P){s.push([y,A,z,P])>1||a(y,A)})},w&&(i[y]=w(i[y])))}function a(y,w){try{u(r[y](w))}catch(A){m(s[0][3],A)}}function u(y){y.value instanceof ar?Promise.resolve(y.value.v).then(d,p):m(s[0][2],y)}function d(y){a("next",y)}function p(y){a("throw",y)}function m(y,w){y(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vm=="function"?vm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,a){o=t[s](o),i(c,a,o.done,o.value)})}}function i(s,o,c,a){Promise.resolve(a).then(function(u){s({value:u,done:c})},o)}}var Mi=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xc(t){return se(t?.then)}function Zc(t){return se(t[mi])}function Jc(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function e4(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var t4=cE();function n4(t){return se(t?.[t4])}function r4(t){return Mm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ar(n.read());if(i)return yield ar(void 0);yield yield ar(r)}}finally{n.releaseLock()}})}function i4(t){return se(t?.getReader)}function Ke(t){if(t instanceof ge)return t;if(t!=null){if(Zc(t))return aE(t);if(Mi(t))return lE(t);if(Xc(t))return uE(t);if(Jc(t))return Lm(t);if(n4(t))return fE(t);if(i4(t))return dE(t)}throw e4(t)}function aE(t){return new ge(e=>{let n=t[mi]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lE(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uE(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hc)})}function fE(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Lm(t){return new ge(e=>{hE(t,e).catch(n=>e.error(n))})}function dE(t){return Lm(r4(t))}function hE(t,e){var n,r,i,s;return _m(this,void 0,void 0,function*(){try{for(n=wm(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function p1(t,e=0){return Ae((n,r)=>{n.subscribe(Ie(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function m1(t,e=0){return Ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bm(t,e){return Ke(t).pipe(m1(e),p1(e))}function Im(t,e){return Ke(t).pipe(m1(e),p1(e))}function xm(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Em(t,e){return new ge(n=>{let r;return Wt(n,e,()=>{r=t[t4](),Wt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function s4(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zm(t,e){return s4(r4(t),e)}function Sm(t,e){if(t!=null){if(Zc(t))return bm(t,e);if(Mi(t))return xm(t,e);if(Xc(t))return Im(t,e);if(Jc(t))return s4(t,e);if(n4(t))return Em(t,e);if(i4(t))return zm(t,e)}throw e4(t)}function Se(t,e){return e?Sm(t,e):Ke(t)}function Z(...t){let e=Bn(t);return Se(t,e)}function jn(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new ge(e?i=>e.schedule(r,0,i):r)}function e8(t){return!!t&&(t instanceof ge||se(t.lift)&&se(t.subscribe))}var _2=fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(t,e){return Ae((n,r)=>{let i=0;n.subscribe(Ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pE}=Array;function mE(t,e){return pE(e)?t(...e):t(e)}function wi(t){return ae(e=>mE(t,e))}var{isArray:gE}=Array,{getPrototypeOf:yE,prototype:CE,keys:vE}=Object;function o4(t){if(t.length===1){let e=t[0];if(gE(e))return{args:e,keys:null};if(_E(e)){let n=vE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _E(t){return t&&typeof t=="object"&&yE(t)===CE}function c4(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function M2(...t){let e=Bn(t),n=Yc(t),{args:r,keys:i}=o4(t);if(r.length===0)return Se([],e);let s=new ge(ME(r,e,i?o=>c4(i,o):tn));return n?s.pipe(wi(n)):s}function ME(t,e,n=tn){return r=>{Am(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let a=0;a<i;a++)Am(e,()=>{let u=Se(t[a],e),d=!1;u.subscribe(Ie(r,p=>{s[a]=p,d||(d=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Am(t,e,n){t?Wt(n,t,e):e()}function Dm(t,e,n,r,i,s,o,c){let a=[],u=0,d=0,p=!1,m=()=>{p&&!a.length&&!u&&e.complete()},y=A=>u<r?w(A):a.push(A),w=A=>{s&&e.next(A),u++;let z=!1;Ke(n(A,d++)).subscribe(Ie(e,P=>{i?.(P),s?y(P):e.next(P)},()=>{z=!0},void 0,()=>{if(z)try{for(u--;a.length&&u<r;){let P=a.shift();o?Wt(e,o,()=>w(P)):w(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(Ie(e,y,()=>{p=!0,m()})),()=>{c?.()}}function ot(t,e,n=1/0){return se(e)?ot((r,i)=>ae((s,o)=>e(r,s,i,o))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),Ae((r,i)=>Dm(r,i,t,n)))}function Lo(t=1/0){return ot(tn,t)}function Tm(){return Lo(1)}function Li(...t){return Tm()(Se(t,Bn(t)))}function a4(t){return new ge(e=>{Ke(t()).subscribe(e)})}function t8(...t){let e=Yc(t),{args:n,keys:r}=o4(t),i=new ge(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),a=o,u=o;for(let d=0;d<o;d++){let p=!1;Ke(n[d]).subscribe(Ie(s,m=>{p||(p=!0,u--),c[d]=m},()=>a--,void 0,()=>{(!a||!p)&&(u||s.next(r?c4(r,c):c),s.complete())}))}});return e?i.pipe(wi(e)):i}var wE=["addListener","removeListener"],LE=["addEventListener","removeEventListener"],bE=["on","off"];function Hn(t,e,n,r){if(se(n)&&(r=n,n=void 0),r)return Hn(t,e,n).pipe(wi(r));let[i,s]=EE(t)?LE.map(o=>c=>t[o](e,c,n)):IE(t)?wE.map(Nm(t,e)):xE(t)?bE.map(Nm(t,e)):[];if(!i&&Mi(t))return ot(o=>Hn(o,e,n))(Ke(t));if(!i)throw new TypeError("Invalid event target");return new ge(o=>{let c=(...a)=>o.next(1<a.length?a:a[0]);return i(c),()=>s(c)})}function Nm(t,e){return n=>r=>t[n](e,r)}function IE(t){return se(t.addListener)&&se(t.removeListener)}function xE(t){return se(t.on)&&se(t.off)}function EE(t){return se(t.addEventListener)&&se(t.removeEventListener)}function l4(...t){let e=Bn(t),n=Cm(t,1/0),r=t;return r.length?r.length===1?Ke(r[0]):Lo(n)(Se(r,e)):Ut}function Kt(t,e){return Ae((n,r)=>{let i=0;n.subscribe(Ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ct(t){return Ae((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Ie(n,void 0,void 0,o=>{s=Ke(t(o,ct(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Rm(t,e,n,r,i){return(s,o)=>{let c=n,a=e,u=0;s.subscribe(Ie(o,d=>{let p=u++;a=c?t(a,d,p):(c=!0,d),r&&o.next(a)},i&&(()=>{c&&o.next(a),o.complete()})))}}function bi(t,e){return se(e)?ot(t,e,1):ot(t,1)}function g1(t){return Ae((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function In(t){return t<=0?()=>Ut:Ae((e,n)=>{let r=0;e.subscribe(Ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function n8(t){return ae(()=>t)}function u4(t=zE){return Ae((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zE(){return new _2}function bo(t){return Ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((i,s)=>t(i,s,r)):tn,In(1),n?g1(e):u4(()=>new _2))}function Ii(t){return t<=0?()=>Ut:Ae((e,n)=>{let r=[];e.subscribe(Ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function r8(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((i,s)=>t(i,s,r)):tn,Ii(1),n?g1(e):u4(()=>new _2))}function f4(t,e){return Ae(Rm(t,e,arguments.length>=2,!0))}function d4(...t){let e=Bn(t);return Ae((n,r)=>{(e?Li(t,n,e):Li(t,n)).subscribe(r)})}function qe(t,e){return Ae((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(Ie(r,a=>{i?.unsubscribe();let u=0,d=s++;Ke(t(a,d)).subscribe(i=Ie(r,p=>r.next(e?e(a,p,d,u++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function xi(t){return Ae((e,n)=>{Ke(t).subscribe(Ie(n,()=>n.complete(),Mo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ae((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Ie(s,a=>{var u;(u=r.next)===null||u===void 0||u.call(r,a),s.next(a)},()=>{var a;c=!1,(a=r.complete)===null||a===void 0||a.call(r),s.complete()},a=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,a),s.error(a)},()=>{var a,u;c&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):tn}var bg="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,n){super(wu(e,n)),this.code=e}};function wu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Oo(t){return{toString:t}.toString()}var h4="__parameters__";function SE(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function AE(t,e,n){return Oo(()=>{let r=SE(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(a,u,d){let p=a.hasOwnProperty(h4)?a[h4]:Object.defineProperty(a,h4,{value:[]})[h4];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),a}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var zo=globalThis;function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function DE(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Pm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var TE=je({__forward_ref__:je});function I1(t){return t.__forward_ref__=I1,t.toString=function(){return jt(this())},t}function Bt(t){return Ig(t)?t():t}function Ig(t){return typeof t=="function"&&t.hasOwnProperty(TE)&&t.__forward_ref__===I1}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Q4(t){return km(t,Eg)||km(t,zg)}function xg(t){return Q4(t)!==null}function km(t,e){return t.hasOwnProperty(e)?t[e]:null}function NE(t){let e=t&&(t[Eg]||t[zg]);return e||null}function Om(t){return t&&(t.hasOwnProperty(Fm)||t.hasOwnProperty(RE))?t[Fm]:null}var Eg=je({\u0275prov:je}),Fm=je({\u0275inj:je}),zg=je({ngInjectableDef:je}),RE=je({ngInjectorDef:je}),oe=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sg(t){return t&&!!t.\u0275providers}var PE=je({\u0275cmp:je}),kE=je({\u0275dir:je}),OE=je({\u0275pipe:je}),FE=je({\u0275mod:je}),x4=je({\u0275fac:je}),Eo=je({__NG_ELEMENT_ID__:je}),Vm=je({__NG_ENV_ID__:je});function Fo(t){return typeof t=="string"?t:t==null?"":String(t)}function VE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fo(t)}function UE(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Y(-200,t)}function Lu(t,e){throw new Y(-201,!1)}var Me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Me||{}),C8;function Ag(){return C8}function dn(t){let e=C8;return C8=t,e}function Dg(t,e,n){let r=Q4(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Me.Optional)return null;if(e!==void 0)return e;Lu(t,"Injector")}var BE={},So=BE,v8="__NG_DI_FLAG__",E4="ngTempTokenPath",jE="ngTokenPath",HE=/\n/gm,$E="\u0275",Um="__source",Ai;function qE(){return Ai}function y1(t){let e=Ai;return Ai=t,e}function GE(t,e=Me.Default){if(Ai===void 0)throw new Y(-203,!1);return Ai===null?Dg(t,void 0,e):Ai.get(t,e&Me.Optional?null:void 0,e)}function ue(t,e=Me.Default){return(Ag()||GE)(Bt(t),e)}function H(t,e=Me.Default){return ue(t,Y4(e))}function Y4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _8(t){let e=[];for(let n=0;n<t.length;n++){let r=Bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,s=Me.Default;for(let o=0;o<r.length;o++){let c=r[o],a=KE(c);typeof a=="number"?a===-1?i=c.token:s|=a:i=c}e.push(ue(i,s))}else e.push(ue(r))}return e}function WE(t,e){return t[v8]=e,t.prototype[v8]=e,t}function KE(t){return t[v8]}function QE(t,e,n,r){let i=t[E4];throw e[Um]&&i.unshift(e[Um]),t.message=YE(`
`+t.message,i,n,r),t[jE]=i,t[E4]=null,t}function YE(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$E?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):jt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(HE,`
  `)}`}var Yt=WE(AE("Optional"),8);function Ti(t,e){let n=t.hasOwnProperty(x4);return n?t[x4]:null}function XE(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function ZE(t){return t.flat(Number.POSITIVE_INFINITY)}function bu(t,e){t.forEach(n=>Array.isArray(n)?bu(n,e):e(n))}function Tg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function z4(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function JE(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function ez(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function tz(t,e,n){let r=Vo(t,e);return r>=0?t[r|1]=n:(r=~r,ez(t,r,e,n)),r}function i8(t,e){let n=Vo(t,e);if(n>=0)return t[n|1]}function Vo(t,e){return nz(t,e,1)}function nz(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ni={},hn=[],Ri=new oe(""),Ng=new oe("",-1),Rg=new oe(""),S4=class{get(e,n=So){if(n===So){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},Pg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pg||{}),Gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gn||{}),_1=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_1||{});function rz(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function M8(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];iz(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function kg(t){return t===3||t===4||t===6}function iz(t){return t.charCodeAt(0)===64}function Ao(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Bm(t,n,i,null,e[++r]):Bm(t,n,i,null,null))}}return t}function Bm(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Og="ng-template";function sz(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rz(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Iu(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Iu(t){return t.type===4&&t.value!==Og}function oz(t,e,n){let r=t.type===4&&!n?Og:t.value;return e===r}function cz(t,e,n){let r=4,i=t.attrs,s=i!==null?uz(i):0,o=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!o&&!xn(r)&&!xn(a))return!1;if(o&&xn(a))continue;o=!1,r=a|r&1;continue}if(!o)if(r&4){if(r=2|r&1,a!==""&&!oz(t,a,n)||a===""&&e.length===1){if(xn(r))return!1;o=!0}}else if(r&8){if(i===null||!sz(t,i,a,n)){if(xn(r))return!1;o=!0}}else{let u=e[++c],d=az(a,i,Iu(t),n);if(d===-1){if(xn(r))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(xn(r))return!1;o=!0}}}}return xn(r)||o}function xn(t){return(t&1)===0}function az(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return fz(e,t)}function Fg(t,e,n=!1){for(let r=0;r<e.length;r++)if(cz(t,e[r],n))return!0;return!1}function lz(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function uz(t){for(let e=0;e<t.length;e++){let n=t[e];if(kg(n))return e}return t.length}function fz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function dz(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function jm(t,e){return t?":not("+e.trim()+")":e}function hz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xn(o)&&(e+=jm(s,i),i=""),r=o,s=s||!xn(r);n++}return i!==""&&(e+=jm(s,i)),e}function pz(t){return t.map(hz).join(",")}function mz(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!xn(i))break;i=s}r++}return{attrs:e,classes:n}}function Te(t){return Oo(()=>{let e=Hg(t),n=ie(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gn.Emulated,styles:t.styles||hn,_:null,schemas:t.schemas||null,tView:null,id:""});$g(n);let r=t.dependencies;return n.directiveDefs=$m(r,!1),n.pipeDefs=$m(r,!0),n.id=Cz(n),n})}function gz(t){return ur(t)||Vg(t)}function yz(t){return t!==null}function Zn(t){return Oo(()=>({type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hm(t,e){if(t==null)return Ni;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=_1.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==_1.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Ze(t){return Oo(()=>{let e=Hg(t);return $g(e),e})}function ur(t){return t[PE]||null}function Vg(t){return t[kE]||null}function Ug(t){return t[OE]||null}function Bg(t){let e=ur(t)||Vg(t)||Ug(t);return e!==null?e.standalone:!1}function jg(t,e){let n=t[FE]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function Hg(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ni,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hm(t.inputs,e),outputs:Hm(t.outputs),debugInfo:null}}function $g(t){t.features?.forEach(e=>e(t))}function $m(t,e){if(!t)return null;let n=e?Ug:gz;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yz)}function Cz(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function x2(t){return{\u0275providers:t}}function vz(...t){return{\u0275providers:qg(!0,t),\u0275fromNgModule:!0}}function qg(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return bu(e,o=>{let c=o;w8(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Gg(i,s),n}function Gg(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xu(i,s=>{e(s,r)})}}function w8(t,e,n,r){if(t=Bt(t),!t)return!1;let i=null,s=Om(t),o=!s&&ur(t);if(!s&&!o){let a=t.ngModule;if(s=Om(a),s)i=a;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let a=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of a)w8(u,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let u;try{bu(s.imports,d=>{w8(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&Gg(u,e)}if(!c){let u=Ti(i)||(()=>new i);e({provide:i,useFactory:u,deps:hn},i),e({provide:Rg,useValue:i,multi:!0},i),e({provide:Ri,useValue:()=>ue(i),multi:!0},i)}let a=s.providers;if(a!=null&&!c){let u=t;xu(a,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function xu(t,e){for(let n of t)Sg(n)&&(n=n.\u0275providers),Array.isArray(n)?xu(n,e):e(n)}var _z=je({provide:String,useValue:je});function Wg(t){return t!==null&&typeof t=="object"&&_z in t}function Mz(t){return!!(t&&t.useExisting)}function wz(t){return!!(t&&t.useFactory)}function Pi(t){return typeof t=="function"}function Lz(t){return!!t.useClass}var X4=new oe(""),_4={},bz={},s8;function Eu(){return s8===void 0&&(s8=new S4),s8}var mn=class{},Do=class extends mn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,b8(e,o=>this.processProvider(o)),this.records.set(Ng,Ei(void 0,this)),i.has("environment")&&this.records.set(mn,Ei(void 0,this));let s=this.records.get(X4);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rg,hn,Me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=y1(this),r=dn(void 0),i;try{return e()}finally{y1(n),dn(r)}}get(e,n=So,r=Me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Vm))return e[Vm](this);r=Y4(r);let i,s=y1(this),o=dn(void 0);try{if(!(r&Me.SkipSelf)){let a=this.records.get(e);if(a===void 0){let u=Sz(e)&&Q4(e);u&&this.injectableDefInScope(u)?a=Ei(L8(e),_4):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=r&Me.Self?Eu():this.parent;return n=r&Me.Optional&&n===So?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[E4]=c[E4]||[]).unshift(jt(e)),s)throw c;return QE(c,e,"R3InjectorError",this.source)}else throw c}finally{dn(o),y1(s)}}resolveInjectorInitializers(){let e=_e(null),n=y1(this),r=dn(void 0),i;try{let s=this.get(Ri,hn,Me.Self);for(let o of s)o()}finally{y1(n),dn(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Bt(e);let n=Pi(e)?e:Bt(e&&e.provide),r=xz(e);if(!Pi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ei(void 0,_4,!0),i.factory=()=>_8(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===_4&&(n.value=bz,n.value=n.factory()),typeof n.value=="object"&&n.value&&zz(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function L8(t){let e=Q4(t),n=e!==null?e.factory:Ti(t);if(n!==null)return n;if(t instanceof oe)throw new Y(204,!1);if(t instanceof Function)return Iz(t);throw new Y(204,!1)}function Iz(t){if(t.length>0)throw new Y(204,!1);let n=NE(t);return n!==null?()=>n.factory(t):()=>new t}function xz(t){if(Wg(t))return Ei(void 0,t.useValue);{let e=Kg(t);return Ei(e,_4)}}function Kg(t,e,n){let r;if(Pi(t)){let i=Bt(t);return Ti(i)||L8(i)}else if(Wg(t))r=()=>Bt(t.useValue);else if(wz(t))r=()=>t.useFactory(..._8(t.deps||[]));else if(Mz(t))r=()=>ue(Bt(t.useExisting));else{let i=Bt(t&&(t.useClass||t.provide));if(Ez(t))r=()=>new i(..._8(t.deps));else return Ti(i)||L8(i)}return r}function Ei(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ez(t){return!!t.deps}function zz(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Sz(t){return typeof t=="function"||typeof t=="object"&&t instanceof oe}function b8(t,e){for(let n of t)Array.isArray(n)?b8(n,e):n&&Sg(n)?b8(n.\u0275providers,e):e(n)}function E2(t,e){t instanceof Do&&t.assertNotDestroyed();let n,r=y1(t),i=dn(void 0);try{return e()}finally{y1(r),dn(i)}}function Az(){return Ag()!==void 0||qE()!=null}function Dz(t){return typeof t=="function"}var z2=0,pe=1,he=2,Dt=3,En=4,Xt=5,ki=6,A4=7,St=8,Oi=9,Wn=10,at=11,To=12,qm=13,Gi=14,nn=15,fr=16,zi=17,w2=18,Z4=19,Qg=20,C1=21,o8=22,pn=23,Ht=25,Yg=1;var dr=7,D4=8,Fi=9,At=10,T4=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(T4||{});function v1(t){return Array.isArray(t)&&typeof t[Yg]=="object"}function S2(t){return Array.isArray(t)&&t[Yg]===!0}function zu(t){return(t.flags&4)!==0}function J4(t){return t.componentOffset>-1}function e3(t){return(t.flags&1)===1}function M1(t){return!!t.template}function I8(t){return(t[he]&512)!==0}var x8=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Xg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Tt(){return Zg}function Zg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nz),Tz}Tt.ngInherit=!0;function Tz(){let t=ey(this),e=t?.current;if(e){let n=t.previous;if(n===Ni)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nz(t,e,n,r,i){let s=this.declaredInputs[r],o=ey(t)||Rz(t,{previous:Ni,current:null}),c=o.current||(o.current={}),a=o.previous,u=a[s];c[s]=new x8(u&&u.currentValue,n,a===Ni),Xg(t,e,i,n)}var Jg="__ngSimpleChanges__";function ey(t){return t[Jg]||null}function Rz(t,e){return t[Jg]=e}var Gm=null;var $n=function(t,e,n){Gm?.(t,e,n)},Pz="svg",kz="math";function Kn(t){for(;Array.isArray(t);)t=t[z2];return t}function ty(t,e){return Kn(e[t])}function gn(t,e){return Kn(e[t.index])}function Su(t,e){return t.data[e]}function Oz(t,e){return t[e]}function x1(t,e){let n=e[t];return v1(n)?n:n[z2]}function Fz(t){return(t[he]&4)===4}function Au(t){return(t[he]&128)===128}function Vz(t){return S2(t[Dt])}function w1(t,e){return e==null?null:t[e]}function ny(t){t[zi]=0}function ry(t){t[he]&1024||(t[he]|=1024,Au(t)&&n3(t))}function Uz(t,e){for(;t>0;)e=e[Gi],t--;return e}function t3(t){return!!(t[he]&9216||t[pn]?.dirty)}function E8(t){t[Wn].changeDetectionScheduler?.notify(8),t[he]&64&&(t[he]|=1024),t3(t)&&n3(t)}function n3(t){t[Wn].changeDetectionScheduler?.notify(0);let e=hr(t);for(;e!==null&&!(e[he]&8192||(e[he]|=8192,!Au(e)));)e=hr(e)}function iy(t,e){if((t[he]&256)===256)throw new Y(911,!1);t[C1]===null&&(t[C1]=[]),t[C1].push(e)}function Bz(t,e){if(t[C1]===null)return;let n=t[C1].indexOf(e);n!==-1&&t[C1].splice(n,1)}function hr(t){let e=t[Dt];return S2(e)?e[Dt]:e}var we={lFrame:py(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sy=!1;function jz(){return we.lFrame.elementDepthCount}function Hz(){we.lFrame.elementDepthCount++}function $z(){we.lFrame.elementDepthCount--}function oy(){return we.bindingsEnabled}function cy(){return we.skipHydrationRootTNode!==null}function qz(t){return we.skipHydrationRootTNode===t}function Gz(){we.skipHydrationRootTNode=null}function be(){return we.lFrame.lView}function yt(){return we.lFrame.tView}function J(t){return we.lFrame.contextLView=t,t[St]}function ee(t){return we.lFrame.contextLView=null,t}function $t(){let t=ay();for(;t!==null&&t.type===64;)t=t.parent;return t}function ay(){return we.lFrame.currentTNode}function Wz(){let t=we.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vr(t,e){let n=we.lFrame;n.currentTNode=t,n.isParent=e}function Du(){return we.lFrame.isParent}function Tu(){we.lFrame.isParent=!1}function Kz(){return we.lFrame.contextLView}function ly(){return sy}function Wm(t){sy=t}function uy(){let t=we.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qz(t){return we.lFrame.bindingIndex=t}function Wi(){return we.lFrame.bindingIndex++}function Yz(t){let e=we.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xz(){return we.lFrame.inI18n}function Zz(t,e){let n=we.lFrame;n.bindingIndex=n.bindingRootIndex=t,z8(e)}function Jz(){return we.lFrame.currentDirectiveIndex}function z8(t){we.lFrame.currentDirectiveIndex=t}function eS(t){let e=we.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function fy(){return we.lFrame.currentQueryIndex}function Nu(t){we.lFrame.currentQueryIndex=t}function tS(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function dy(t,e,n){if(n&Me.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Me.Host);)if(i=tS(s),i===null||(s=s[Gi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=we.lFrame=hy();return r.currentTNode=e,r.lView=t,!0}function Ru(t){let e=hy(),n=t[pe];we.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hy(){let t=we.lFrame,e=t===null?null:t.child;return e===null?py(t):e}function py(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function my(){let t=we.lFrame;return we.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gy=my;function Pu(){let t=my();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nS(t){return(we.lFrame.contextLView=Uz(t,we.lFrame.contextLView))[St]}function _r(){return we.lFrame.selectedIndex}function pr(t){we.lFrame.selectedIndex=t}function r3(){let t=we.lFrame;return Su(t.tView,t.selectedIndex)}function rS(){return we.lFrame.currentNamespace}var yy=!0;function i3(){return yy}function s3(t){yy=t}function iS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Zg(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function o3(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),a&&(t.viewHooks??=[]).push(-n,a),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function M4(t,e,n){Cy(t,e,3,n)}function w4(t,e,n,r){(t[he]&3)===n&&Cy(t,e,n,r)}function c8(t,e){let n=t[he];(n&3)===e&&(n&=16383,n+=1,t[he]=n)}function Cy(t,e,n,r){let i=r!==void 0?t[zi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let a=i;a<o;a++)if(typeof e[a+1]=="number"){if(c=e[a],r!=null&&c>=r)break}else e[a]<0&&(t[zi]+=65536),(c<s||s==-1)&&(sS(t,n,e,a),t[zi]=(t[zi]&4294901760)+a+2),a++}function Km(t,e){$n(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),$n(5,t,e)}}function sS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[he]>>14<t[zi]>>16&&(t[he]&3)===e&&(t[he]+=16384,Km(c,s)):Km(c,s)}var Di=-1,mr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function oS(t){return t instanceof mr}function cS(t){return(t.flags&8)!==0}function aS(t){return(t.flags&16)!==0}var a8={},S8=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Y4(r);let i=this.injector.get(e,a8,r);return i!==a8||n===a8?i:this.parentInjector.get(e,n,r)}};function vy(t){return t!==Di}function N4(t){return t&32767}function lS(t){return t>>16}function R4(t,e){let n=lS(t),r=e;for(;n>0;)r=r[Gi],n--;return r}var A8=!0;function Qm(t){let e=A8;return A8=t,e}var uS=256,_y=uS-1,My=5,fS=0,qn={};function dS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Eo)&&(r=n[Eo]),r==null&&(r=n[Eo]=fS++);let i=r&_y,s=1<<i;e.data[t+(i>>My)]|=s}function P4(t,e){let n=wy(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,l8(r.data,t),l8(e,null),l8(r.blueprint,null));let i=ku(t,e),s=t.injectorIndex;if(vy(i)){let o=N4(i),c=R4(i,e),a=c[pe].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|a[o+u]}return e[s+8]=i,s}function l8(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wy(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ku(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ey(i),r===null)return Di;if(n++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Di}function D8(t,e,n){dS(t,e,n)}function hS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(kg(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Ly(t,e,n){if(n&Me.Optional||t!==void 0)return t;Lu(e,"NodeInjector")}function by(t,e,n,r){if(n&Me.Optional&&r===void 0&&(r=null),!(n&(Me.Self|Me.Host))){let i=t[Oi],s=dn(void 0);try{return i?i.get(e,r,n&Me.Optional):Dg(e,r,n&Me.Optional)}finally{dn(s)}}return Ly(r,e,n)}function Iy(t,e,n,r=Me.Default,i){if(t!==null){if(e[he]&2048&&!(r&Me.Self)){let o=yS(t,e,n,r,qn);if(o!==qn)return o}let s=xy(t,e,n,r,qn);if(s!==qn)return s}return by(e,n,r,i)}function xy(t,e,n,r,i){let s=mS(n);if(typeof s=="function"){if(!dy(e,t,r))return r&Me.Host?Ly(i,n,r):by(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Me.Optional))Lu(n);else return o}finally{gy()}}else if(typeof s=="number"){let o=null,c=wy(t,e),a=Di,u=r&Me.Host?e[nn][Xt]:null;for((c===-1||r&Me.SkipSelf)&&(a=c===-1?ku(t,e):e[c+8],a===Di||!Xm(r,!1)?c=-1:(o=e[pe],c=N4(a),e=R4(a,e)));c!==-1;){let d=e[pe];if(Ym(s,c,d.data)){let p=pS(c,e,n,o,r,u);if(p!==qn)return p}a=e[c+8],a!==Di&&Xm(r,e[pe].data[c+8]===u)&&Ym(s,c,e)?(o=d,c=N4(a),e=R4(a,e)):c=-1}}return i}function pS(t,e,n,r,i,s){let o=e[pe],c=o.data[t+8],a=r==null?J4(c)&&A8:r!=o&&(c.type&3)!==0,u=i&Me.Host&&s===c,d=L4(c,o,n,a,u);return d!==null?gr(e,o,d,c):qn}function L4(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,a=t.directiveStart,u=t.directiveEnd,d=s>>20,p=r?c:c+d,m=i?c+d:u;for(let y=p;y<m;y++){let w=o[y];if(y<a&&n===w||y>=a&&w.type===n)return y}if(i){let y=o[a];if(y&&M1(y)&&y.type===n)return a}return null}function gr(t,e,n,r){let i=t[n],s=e.data;if(oS(i)){let o=i;o.resolving&&UE(VE(s[n]));let c=Qm(o.canSeeViewProviders);o.resolving=!0;let a,u=o.injectImpl?dn(o.injectImpl):null,d=dy(t,r,Me.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&iS(n,s[n],e)}finally{u!==null&&dn(u),Qm(c),o.resolving=!1,gy()}}return i}function mS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Eo)?t[Eo]:void 0;return typeof e=="number"?e>=0?e&_y:gS:e}function Ym(t,e,n){let r=1<<t;return!!(n[e+(t>>My)]&r)}function Xm(t,e){return!(t&Me.Self)&&!(t&Me.Host&&e)}var lr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Iy(this._tNode,this._lView,e,Y4(r),n)}};function gS(){return new lr($t(),be())}function E1(t){return Oo(()=>{let e=t.prototype.constructor,n=e[x4]||T8(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[x4]||T8(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function T8(t){return Ig(t)?()=>{let e=T8(Bt(t));return e&&e()}:Ti(t)}function yS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[he]&2048&&!(o[he]&512);){let c=xy(s,o,n,r|Me.Self,qn);if(c!==qn)return c;let a=s.parent;if(!a){let u=o[Qg];if(u){let d=u.get(n,qn,r);if(d!==qn)return d}a=Ey(o),o=o[Gi]}s=a}return i}function Ey(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function Ou(t){return hS($t(),t)}function Zm(t,e=null,n=null,r){let i=zy(t,e,n,r);return i.resolveInjectorInitializers(),i}function zy(t,e=null,n=null,r,i=new Set){let s=[n||hn,vz(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Do(s,e||Eu(),r||null,i)}var Qt=class t{static{this.THROW_IF_NOT_FOUND=So}static{this.NULL=new S4}static create(e,n){if(Array.isArray(e))return Zm({name:""},n,e,"");{let r=e.name??"";return Zm({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=X({token:t,providedIn:"any",factory:()=>ue(Ng)})}static{this.__NG_ELEMENT_ID__=-1}};var CS=new oe("");CS.__NG_ELEMENT_ID__=t=>{let e=$t();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(t&Me.Optional)return null;throw new Y(204,!1)};var vS="ngOriginalError";function u8(t){return t[vS]}var Sy=!0,Fu=(()=>{class t{static{this.__NG_ELEMENT_ID__=_S}static{this.__NG_ENV_ID__=n=>n}}return t})(),N8=class extends Fu{constructor(e){super(),this._lView=e}onDestroy(e){return iy(this._lView,e),()=>Bz(this._lView,e)}};function _S(){return new N8(be())}var Ki=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}}return t})();var R8=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Az()&&(this.destroyRef=H(Fu,{optional:!0})??void 0,this.pendingTasks=H(Ki,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let a=e;i=a.next?.bind(a),s=a.error?.bind(a),o=a.complete?.bind(a)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Fe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=R8;function k4(...t){}function Ay(t){let e,n;function r(){t=k4;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Jm(t){return queueMicrotask(()=>t()),()=>{t=k4}}var Vu="isAngularZone",O4=Vu+"_ID",MS=0,Ue=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Sy}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,bS(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wS,k4,k4);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wS={};function Uu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ay(()=>{t.callbackScheduled=!1,P8(t),t.isCheckStableRunning=!0,Uu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),P8(t)}function bS(t){let e=()=>{LS(t)},n=MS++;t._inner=t._inner.fork({name:"angular",properties:{[Vu]:!0,[O4]:n,[O4+n]:!0},onInvokeTask:(r,i,s,o,c,a)=>{if(IS(a))return r.invokeTask(s,o,c,a);try{return eg(t),r.invokeTask(s,o,c,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),tg(t)}},onInvoke:(r,i,s,o,c,a,u)=>{try{return eg(t),r.invoke(s,o,c,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!xS(a)&&e(),tg(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,P8(t),Uu(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function P8(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function eg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tg(t){t._nesting--,Uu(t)}var k8=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function IS(t){return Dy(t,"__ignore_ng_zone__")}function xS(t){return Dy(t,"__scheduler_tick__")}function Dy(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Qn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&u8(e);for(;n&&u8(n);)n=u8(n);return n||null}},ES=new oe("",{providedIn:"root",factory:()=>{let t=H(Ue),e=H(Qn);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),O8=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=H(Qn,{optional:!0}),this.destroyRef=H(Fu),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Y(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Y(953,!1);if(this.listeners===null)return;let n=_e(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{_e(n)}}};function z1(t){return new O8}function zS(){return Qi($t(),be())}function Qi(t,e){return new Nt(gn(t,e))}var Nt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=zS}}return t})();function SS(t){return t instanceof Nt?t.nativeElement:t}function AS(){return this._results[Symbol.iterator]()}var F8=class t{get changes(){return this._changes??=new Ge}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=AS)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ZE(e);(this._changesDetected=!XE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Ty(t){return(t.flags&128)===128}var Ny=new Map,DS=0;function TS(){return DS++}function NS(t){Ny.set(t[Z4],t)}function V8(t){Ny.delete(t[Z4])}var ng="__ngContext__";function L1(t,e){v1(e)?(t[ng]=e[Z4],NS(e)):t[ng]=e}function Ry(t){return ky(t[To])}function Py(t){return ky(t[En])}function ky(t){for(;t!==null&&!S2(t);)t=t[En];return t}var U8;function Oy(t){U8=t}function Fy(){if(U8!==void 0)return U8;if(typeof document<"u")return document;throw new Y(210,!1)}var Bu=new oe("",{providedIn:"root",factory:()=>RS}),RS="ng",ju=new oe(""),S1=new oe("",{providedIn:"platform",factory:()=>"unknown"});var Hu=new oe("",{providedIn:"root",factory:()=>Fy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PS="h",kS="b";var OS=()=>null;function $u(t,e,n=!1){return OS(t,e,n)}var Vy=!1,FS=new oe("",{providedIn:"root",factory:()=>Vy});var p4;function VS(){if(p4===void 0&&(p4=null,zo.trustedTypes))try{p4=zo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return p4}function c3(t){return VS()?.createHTML(t)||t}var m4;function Uy(){if(m4===void 0&&(m4=null,zo.trustedTypes))try{m4=zo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return m4}function rg(t){return Uy()?.createHTML(t)||t}function ig(t){return Uy()?.createScriptURL(t)||t}var L2=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bg})`}},B8=class extends L2{getTypeName(){return"HTML"}},j8=class extends L2{getTypeName(){return"Style"}},H8=class extends L2{getTypeName(){return"Script"}},$8=class extends L2{getTypeName(){return"URL"}},q8=class extends L2{getTypeName(){return"ResourceURL"}};function zn(t){return t instanceof L2?t.changingThisBreaksApplicationSecurity:t}function A2(t,e){let n=US(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${bg})`)}return n===e}function US(t){return t instanceof L2&&t.getTypeName()||null}function By(t){return new B8(t)}function jy(t){return new j8(t)}function Hy(t){return new H8(t)}function $y(t){return new $8(t)}function qy(t){return new q8(t)}function BS(t){let e=new W8(t);return jS()?new G8(e):e}var G8=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(c3(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},W8=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=c3(e),n}};function jS(){try{return!!new window.DOMParser().parseFromString(c3(""),"text/html")}catch{return!1}}var HS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function a3(t){return t=String(t),t.match(HS)?t:"unsafe:"+t}function D2(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Uo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Gy=D2("area,br,col,hr,img,wbr"),Wy=D2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ky=D2("rp,rt"),$S=Uo(Ky,Wy),qS=Uo(Wy,D2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),GS=Uo(Ky,D2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sg=Uo(Gy,qS,GS,$S),Qy=D2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WS=D2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),KS=D2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),QS=Uo(Qy,WS,KS),YS=D2("script,style,template"),K8=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=JS(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=ZS(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=og(e).toLowerCase();if(!sg.hasOwnProperty(n))return this.sanitizedSomething=!0,!YS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,c=o.toLowerCase();if(!QS.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=s.value;Qy[c]&&(a=a3(a)),this.buf.push(" ",o,'="',cg(a),'"')}return this.buf.push(">"),!0}endElement(e){let n=og(e).toLowerCase();sg.hasOwnProperty(n)&&!Gy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cg(e))}};function XS(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ZS(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Yy(e);return e}function JS(t){let e=t.firstChild;if(e&&XS(t,e))throw Yy(e);return e}function og(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Yy(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var eA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tA=/([^\#-~ |!])/g;function cg(t){return t.replace(/&/g,"&amp;").replace(eA,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(tA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var g4;function qu(t,e){let n=null;try{g4=g4||BS(t);let r=e?String(e):"";n=g4.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=g4.getInertBodyElement(r)}while(r!==s);let c=new K8().sanitizeChildren(ag(n)||n);return c3(c)}finally{if(n){let r=ag(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function ag(t){return"content"in t&&nA(t)?t.content:null}function nA(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Sn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sn||{});function Xy(t){let e=Gu();return e?rg(e.sanitize(Sn.HTML,t)||""):A2(t,"HTML")?rg(zn(t)):qu(Fy(),Fo(t))}function yn(t){let e=Gu();return e?e.sanitize(Sn.URL,t)||"":A2(t,"URL")?zn(t):a3(Fo(t))}function rA(t){let e=Gu();if(e)return ig(e.sanitize(Sn.RESOURCE_URL,t)||"");if(A2(t,"ResourceURL"))return ig(zn(t));throw new Y(904,!1)}function iA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rA:yn}function Zy(t,e,n){return iA(e,n)(t)}function Gu(){let t=be();return t&&t[Wn].sanitizer}var sA=/^>|^->|<!--|-->|--!>|<!-$/g,oA=/(<|>)/g,cA="\u200B$1\u200B";function aA(t){return t.replace(sA,e=>e.replace(oA,cA))}function Jy(t){return t.ownerDocument.defaultView}function eC(t){return t instanceof Function?t():t}var b2=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(b2||{}),lA;function Wu(t,e){return lA(t,e)}function Si(t,e,n,r,i){if(r!=null){let s,o=!1;S2(r)?s=r:v1(r)&&(o=!0,r=r[z2]);let c=Kn(r);t===0&&n!==null?i==null?sC(e,n,c):F4(e,n,c,i||null,!0):t===1&&n!==null?F4(e,n,c,i||null,!0):t===2?LA(e,c,o):t===3&&e.destroyNode(c),s!=null&&IA(e,t,s,n,i)}}function uA(t,e){return t.createText(e)}function fA(t,e,n){t.setValue(e,n)}function dA(t,e){return t.createComment(aA(e))}function tC(t,e,n){return t.createElement(e,n)}function hA(t,e){nC(t,e),e[z2]=null,e[Xt]=null}function pA(t,e,n,r,i,s){r[z2]=i,r[Xt]=e,f3(t,r,n,1,i,s)}function nC(t,e){e[Wn].changeDetectionScheduler?.notify(9),f3(t,e,e[at],2,null,null)}function mA(t){let e=t[To];if(!e)return f8(t[pe],t);for(;e;){let n=null;if(v1(e))n=e[To];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[En]&&e!==t;)v1(e)&&f8(e[pe],e),e=e[Dt];e===null&&(e=t),v1(e)&&f8(e[pe],e),n=e&&e[En]}e=n}}function gA(t,e,n,r){let i=At+r,s=n.length;r>0&&(n[i-1][En]=e),r<s-At?(e[En]=n[i],Tg(n,At+r,e)):(n.push(e),e[En]=null),e[Dt]=n;let o=e[fr];o!==null&&n!==o&&rC(o,e);let c=e[w2];c!==null&&c.insertView(t),E8(e),e[he]|=128}function rC(t,e){let n=t[Fi],r=e[Dt];if(v1(r))t[he]|=T4.HasTransplantedViews;else{let i=r[Dt][nn];e[nn]!==i&&(t[he]|=T4.HasTransplantedViews)}n===null?t[Fi]=[e]:n.push(e)}function Ku(t,e){let n=t[Fi],r=n.indexOf(e);n.splice(r,1)}function No(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[fr];i!==null&&i!==t&&Ku(i,r),e>0&&(t[n-1][En]=r[En]);let s=z4(t,At+e);hA(r[pe],r);let o=s[w2];o!==null&&o.detachView(s[pe]),r[Dt]=null,r[En]=null,r[he]&=-129}return r}function l3(t,e){if(!(e[he]&256)){let n=e[at];n.destroyNode&&f3(t,e,n,3,null,null),mA(e)}}function f8(t,e){if(e[he]&256)return;let n=_e(null);try{e[he]&=-129,e[he]|=256,e[pn]&&Vl(e[pn]),CA(t,e),yA(t,e),e[pe].type===1&&e[at].destroy();let r=e[fr];if(r!==null&&S2(e[Dt])){r!==e[Dt]&&Ku(r,e);let i=e[w2];i!==null&&i.detachView(t)}V8(e)}finally{_e(n)}}function yA(t,e){let n=t.cleanup,r=e[A4];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[A4]=null);let i=e[C1];if(i!==null){e[C1]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function CA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],a=s[o+1];$n(4,c,a);try{a.call(c)}finally{$n(5,c,a)}}else{$n(4,i,s);try{s.call(i)}finally{$n(5,i,s)}}}}}function iC(t,e,n){return vA(t,e.parent,n)}function vA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[z2];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Gn.None||s===Gn.Emulated)return null}return gn(r,n)}}function F4(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sC(t,e,n){t.appendChild(e,n)}function lg(t,e,n,r,i){r!==null?F4(t,e,n,r,i):sC(t,e,n)}function oC(t,e){return t.parentNode(e)}function _A(t,e){return t.nextSibling(e)}function cC(t,e,n){return wA(t,e,n)}function MA(t,e,n){return t.type&40?gn(t,n):null}var wA=MA,ug;function u3(t,e,n,r){let i=iC(t,r,e),s=e[at],o=r.parent||e[Xt],c=cC(o,r,e);if(i!=null)if(Array.isArray(n))for(let a=0;a<n.length;a++)lg(s,i,n[a],c,!1);else lg(s,i,n,c,!1);ug!==void 0&&ug(s,r,e,n,i)}function Io(t,e){if(e!==null){let n=e.type;if(n&3)return gn(e,t);if(n&4)return Q8(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Io(t,r);{let i=t[e.index];return S2(i)?Q8(-1,i):Kn(i)}}else{if(n&128)return Io(t,e.next);if(n&32)return Wu(e,t)()||Kn(t[e.index]);{let r=aC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hr(t[nn]);return Io(i,r)}else return Io(t,e.next)}}}return null}function aC(t,e){if(e!==null){let r=t[nn][Xt],i=e.projection;return r.projection[i]}return null}function Q8(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[pe].firstChild;if(i!==null)return Io(r,i)}return e[dr]}function LA(t,e,n){t.removeChild(null,e,n)}function Qu(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],a=n.type;if(o&&e===0&&(c&&L1(Kn(c),r),n.flags|=2),(n.flags&32)!==32)if(a&8)Qu(t,e,n.child,r,i,s,!1),Si(e,t,i,c,s);else if(a&32){let u=Wu(n,r),d;for(;d=u();)Si(e,t,i,d,s);Si(e,t,i,c,s)}else a&16?lC(t,e,r,n,i,s):Si(e,t,i,c,s);n=o?n.projectionNext:n.next}}function f3(t,e,n,r,i,s){Qu(n,r,t.firstChild,e,i,s,!1)}function bA(t,e,n){let r=e[at],i=iC(t,n,e),s=n.parent||e[Xt],o=cC(s,n,e);lC(r,0,e,n,i,o)}function lC(t,e,n,r,i,s){let o=n[nn],a=o[Xt].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++){let d=a[u];Si(e,t,i,d,s)}else{let u=a,d=o[Dt];Ty(r)&&(u.flags|=128),Qu(t,e,u,d,i,s,!0)}}function IA(t,e,n,r,i){let s=n[dr],o=Kn(n);s!==o&&Si(e,t,r,s,i);for(let c=At;c<n.length;c++){let a=n[c];f3(a[pe],a,t,e,r,s)}}function xA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:b2.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=b2.Important),t.setStyle(n,r,i,s))}}function EA(t,e,n){t.setAttribute(e,"style",n)}function uC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&M8(t,e,r),i!==null&&uC(t,e,i),s!==null&&EA(t,e,s)}var T2={};function O(t=1){dC(yt(),be(),_r()+t,!1)}function dC(t,e,n,r){if(!r)if((e[he]&3)===3){let s=t.preOrderCheckHooks;s!==null&&M4(e,s,n)}else{let s=t.preOrderHooks;s!==null&&w4(e,s,0,n)}pr(n)}function q(t,e=Me.Default){let n=be();if(n===null)return ue(t,e);let r=$t();return Iy(r,n,Bt(t),e)}function hC(t,e,n,r,i,s){let o=_e(null);try{let c=null;i&_1.SignalBased&&(c=e[r][h1]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&_1.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Xg(e,c,r,s)}finally{_e(o)}}function zA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)pr(~i);else{let s=i,o=n[++r],c=n[++r];Zz(o,s);let a=e[s];c(2,a)}}}finally{pr(-1)}}function d3(t,e,n,r,i,s,o,c,a,u,d){let p=e.blueprint.slice();return p[z2]=i,p[he]=r|4|128|8|64,(u!==null||t&&t[he]&2048)&&(p[he]|=2048),ny(p),p[Dt]=p[Gi]=t,p[St]=n,p[Wn]=o||t&&t[Wn],p[at]=c||t&&t[at],p[Oi]=a||t&&t[Oi]||null,p[Xt]=s,p[Z4]=TS(),p[ki]=d,p[Qg]=u,p[nn]=e.type==2?t[nn]:p,p}function Yi(t,e,n,r,i){let s=t.data[e];if(s===null)s=SA(t,e,n,r,i),Xz()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Wz();s.injectorIndex=o===null?-1:o.injectorIndex}return vr(s,!0),s}function SA(t,e,n,r,i){let s=ay(),o=Du(),c=o?s:s&&s.parent,a=t.data[e]=PA(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=a),s!==null&&(o?s.child==null&&a.parent!==null&&(s.child=a):s.next===null&&(s.next=a,a.prev=s)),a}function pC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mC(t,e,n,r,i){let s=_r(),o=r&2;try{pr(-1),o&&e.length>Ht&&dC(t,e,Ht,!1),$n(o?2:0,i),n(r,i)}finally{pr(s),$n(o?3:1,i)}}function Yu(t,e,n){if(zu(e)){let r=_e(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let a=n[o];c.contentQueries(1,a,o)}}}finally{_e(r)}}}function Xu(t,e,n){oy()&&(BA(t,e,n,gn(n,e)),(n.flags&64)===64&&CC(t,e,n))}function Zu(t,e,n=gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function gC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ju(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ju(t,e,n,r,i,s,o,c,a,u,d){let p=Ht+r,m=p+i,y=AA(p,m),w=typeof u=="function"?u():u;return y[pe]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:a,consts:w,incompleteFirstPass:!1,ssrId:d}}function AA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:T2);return n}function DA(t,e,n,r){let s=r.get(FS,Vy)||n===Gn.ShadowDom,o=t.selectRootElement(e,s);return TA(o),o}function TA(t){NA(t)}var NA=()=>null;function RA(t,e,n,r){let i=MC(e);i.push(n),t.firstCreatePass&&wC(t).push(r,i.length-1)}function PA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return cy()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fg(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,a=_1.None;Array.isArray(o)?(c=o[0],a=o[1]):c=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?dg(r,n,u,c,a):dg(r,n,u,c)}return r}function dg(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function kA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],a=null,u=null;for(let d=r;d<i;d++){let p=s[d],m=n?n.get(p):null,y=m?m.inputs:null,w=m?m.outputs:null;a=fg(0,p.inputs,d,a,y),u=fg(1,p.outputs,d,u,w);let A=a!==null&&o!==null&&!Iu(e)?ZA(a,d,o):null;c.push(A)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=u}function OA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function e5(t,e,n,r,i,s,o,c){let a=gn(e,n),u=e.inputs,d;!c&&u!=null&&(d=u[r])?(n5(t,n,d,r,i),J4(e)&&FA(n,e.index)):e.type&3?(r=OA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(a,r,i)):e.type&12}function FA(t,e){let n=x1(e,t);n[he]&16||(n[he]|=64)}function t5(t,e,n,r){if(oy()){let i=r===null?null:{"":-1},s=HA(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&yC(t,e,n,o,i,c),i&&$A(n,r,i)}n.mergedAttrs=Ao(n.mergedAttrs,n.attrs)}function yC(t,e,n,r,i,s){for(let u=0;u<r.length;u++)D8(P4(n,e),t,r[u].type);GA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,c=!1,a=pC(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=Ao(n.mergedAttrs,d.hostAttrs),WA(t,n,e,a,d),qA(a,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let p=d.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),a++}kA(t,n,s)}function VA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;UA(o)!=c&&o.push(c),o.push(n,r,s)}}function UA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;J4(n)&&KA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||P4(n,e),L1(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let a=t.data[c],u=gr(e,t,c,n);if(L1(u,e),o!==null&&XA(e,c-i,u,a,n,o),M1(a)){let d=x1(n.index,e);d[St]=gr(e,t,c,n)}}}function CC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Jz();try{pr(s);for(let c=r;c<i;c++){let a=t.data[c],u=e[c];z8(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&jA(a,u)}}finally{pr(-1),z8(o)}}function jA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Fg(e,o.selectors,!1))if(r||(r=[]),M1(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let a=c.length;Y8(t,e,a)}else r.unshift(o),Y8(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Y8(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $A(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Y(-301,!1);r.push(e[i],s)}}}function qA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;M1(e)&&(n[""]=t)}}function GA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ti(i.type,!0)),o=new mr(s,M1(i),q);t.blueprint[r]=o,n[r]=o,VA(t,e,r,pC(t,n,i.hostVars,T2),i)}function KA(t,e,n){let r=gn(e,t),i=gC(n),s=t[Wn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=h3(t,d3(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function QA(t,e,n,r,i,s){let o=gn(t,e);YA(e[at],o,s,t.value,n,r,i)}function YA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Fo(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function XA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let a=o[c++],u=o[c++],d=o[c++],p=o[c++];hC(r,n,a,u,d,p)}}function ZA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function vC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function _C(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Nu(s),c.contentQueries(2,e[o],o)}}}finally{_e(r)}}}function h3(t,e){return t[To]?t[qm][En]=e:t[To]=e,t[qm]=e,e}function X8(t,e,n){Nu(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function MC(t){return t[A4]??=[]}function wC(t){return t.cleanup??=[]}function LC(t,e){let n=t[Oi],r=n?n.get(Qn,null):null;r&&r.handleError(e)}function n5(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],a=n[s++],u=e[o],d=t.data[o];hC(d,u,r,c,a,i)}}function JA(t,e,n){let r=ty(e,t);fA(t[at],r,n)}function eD(t,e){let n=x1(e,t),r=n[pe];tD(r,n);let i=n[z2];i!==null&&n[ki]===null&&(n[ki]=$u(i,n[Oi])),r5(r,n,n[St])}function tD(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function r5(t,e,n){Ru(e);try{let r=t.viewQuery;r!==null&&X8(1,r,n);let i=t.template;i!==null&&mC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[w2]?.finishViewCreation(t),t.staticContentQueries&&_C(t,e),t.staticViewQueries&&X8(2,t.viewQuery,n);let s=t.components;s!==null&&nD(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[he]&=-5,Pu()}}function nD(t,e){for(let n=0;n<e.length;n++)eD(t,e[n])}function Bo(t,e,n,r){let i=_e(null);try{let s=e.tView,c=t[he]&4096?4096:16,a=d3(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];a[fr]=u;let d=t[w2];return d!==null&&(a[w2]=d.createEmbeddedView(s)),r5(s,a,n),a}finally{_e(i)}}function bC(t,e){let n=At+e;if(n<t.length)return t[n]}function Vi(t,e){return!e||e.firstChild===null||Ty(t)}function jo(t,e,n,r=!0){let i=e[pe];if(gA(i,e,t,n),r){let o=Q8(n,t),c=e[at],a=oC(c,t[dr]);a!==null&&pA(i,t[Xt],c,e,a,o)}let s=e[ki];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function IC(t,e){let n=No(t,e);return n!==void 0&&l3(n[pe],n),n}function V4(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Kn(s)),S2(s)&&rD(s,r);let o=n.type;if(o&8)V4(t,e,n.child,r);else if(o&32){let c=Wu(n,e),a;for(;a=c();)r.push(a)}else if(o&16){let c=aC(e,n);if(Array.isArray(c))r.push(...c);else{let a=hr(e[nn]);V4(a[pe],a,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function rD(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[pe].firstChild;i!==null&&V4(r[pe],r,i,e)}t[dr]!==t[z2]&&e.push(t[dr])}var xC=[];function iD(t){return t[pn]??sD(t)}function sD(t){let e=xC.pop()??Object.create(cD);return e.lView=t,e}function oD(t){t.lView[pn]!==t&&(t.lView=null,xC.push(t))}var cD=ie(R({},_o),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{n3(t.lView)},consumerOnSignalRead(){this.lView[pn]=this}});function aD(t){let e=t[pn]??Object.create(lD);return e.lView=t,e}var lD=ie(R({},_o),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=hr(t.lView);for(;e&&!EC(e[pe]);)e=hr(e);e&&ry(e)},consumerOnSignalRead(){this.lView[pn]=this}});function EC(t){return t.type!==2}var uD=100;function zC(t,e=!0,n=0){let r=t[Wn],i=r.rendererFactory,s=!1;s||i.begin?.();try{fD(t,n)}catch(o){throw e&&LC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function fD(t,e){let n=ly();try{Wm(!0),Z8(t,e);let r=0;for(;t3(t);){if(r===uD)throw new Y(103,!1);r++,Z8(t,1)}}finally{Wm(n)}}function dD(t,e,n,r){let i=e[he];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Wn].inlineEffectRunner?.flush(),Ru(e);let c=!0,a=null,u=null;s||(EC(t)?(u=iD(e),a=Fc(u)):Yp()===null?(c=!1,u=aD(e),a=Fc(u)):e[pn]&&(Vl(e[pn]),e[pn]=null));try{ny(e),Qz(t.bindingStartIndex),n!==null&&mC(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let y=t.preOrderCheckHooks;y!==null&&M4(e,y,null)}else{let y=t.preOrderHooks;y!==null&&w4(e,y,0,null),c8(e,0)}if(o||hD(e),SC(e,0),t.contentQueries!==null&&_C(t,e),!s)if(d){let y=t.contentCheckHooks;y!==null&&M4(e,y)}else{let y=t.contentHooks;y!==null&&w4(e,y,1),c8(e,1)}zA(t,e);let p=t.components;p!==null&&DC(e,p,0);let m=t.viewQuery;if(m!==null&&X8(2,m,r),!s)if(d){let y=t.viewCheckHooks;y!==null&&M4(e,y)}else{let y=t.viewHooks;y!==null&&w4(e,y,2),c8(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[o8]){for(let y of e[o8])y();e[o8]=null}s||(e[he]&=-73)}catch(d){throw s||n3(e),d}finally{u!==null&&(Ol(u,a),c&&oD(u)),Pu()}}function SC(t,e){for(let n=Ry(t);n!==null;n=Py(n))for(let r=At;r<n.length;r++){let i=n[r];AC(i,e)}}function hD(t){for(let e=Ry(t);e!==null;e=Py(e)){if(!(e[he]&T4.HasTransplantedViews))continue;let n=e[Fi];for(let r=0;r<n.length;r++){let i=n[r];ry(i)}}}function pD(t,e,n){let r=x1(e,t);AC(r,n)}function AC(t,e){Au(t)&&Z8(t,e)}function Z8(t,e){let r=t[pe],i=t[he],s=t[pn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Fl(s)),o||=!1,s&&(s.dirty=!1),t[he]&=-9217,o)dD(r,t,r.template,t[St]);else if(i&8192){SC(t,1);let c=r.components;c!==null&&DC(t,c,1)}}function DC(t,e,n){for(let r=0;r<e.length;r++)pD(t,e[r],n)}function i5(t,e){let n=ly()?64:1088;for(t[Wn].changeDetectionScheduler?.notify(e);t;){t[he]|=n;let r=hr(t);if(I8(t)&&!r)return t;t=r}return null}var yr=class{get rootNodes(){let e=this._lView,n=e[pe];return V4(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[he]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Dt];if(S2(e)){let n=e[D4],r=n?n.indexOf(this):-1;r>-1&&(No(e,r),z4(n,r))}this._attachedToViewContainer=!1}l3(this._lView[pe],this._lView)}onDestroy(e){iy(this._lView,e)}markForCheck(){i5(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[he]&=-129}reattach(){E8(this._lView),this._lView[he]|=128}detectChanges(){this._lView[he]|=1024,zC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=I8(this._lView),n=this._lView[fr];n!==null&&!e&&Ku(n,this._lView),nC(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let n=I8(this._lView),r=this._lView[fr];r!==null&&!n&&rC(r,this._lView),E8(this._lView)}},Ui=(()=>{class t{static{this.__NG_ELEMENT_ID__=yD}}return t})(),mD=Ui,gD=class extends mD{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Bo(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new yr(i)}};function yD(){return s5($t(),be())}function s5(t,e){return t.type&4?new gD(e,t,Qi(t,e)):null}var fJ=new RegExp(`^(\\d+)*(${kS}|${PS})*(.*)`);var CD=()=>null;function Bi(t,e){return CD(t,e)}var ji=class{},o5=new oe("",{providedIn:"root",factory:()=>!1});var TC=new oe(""),NC=new oe(""),J8=class{},U4=class{};function vD(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[_D]=t,e}var _D="ngComponent";var eu=class{resolveComponentFactory(e){throw vD(e)}},Hi=class{static{this.NULL=new eu}},$i=class{},Cn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>MD()}}return t})();function MD(){let t=be(),e=$t(),n=x1(e.index,t);return(v1(n)?n:t)[at]}var wD=(()=>{class t{static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>null})}}return t})();function B4(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Pm(i,c);else if(s==2){let a=c,u=e[++o];r=Pm(r,a+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var j4=class extends Hi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ur(e);return new Ro(n,this.ngModule)}};function hg(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:_1.None;e?n.push({propName:o,templateName:r,isSignal:(c&_1.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function LD(t){let e=t.toLowerCase();return e==="svg"?Pz:e==="math"?kz:null}var Ro=class extends U4{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=hg(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hg(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=pz(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=_e(null);try{i=i||this.ngModule;let o=i instanceof mn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new S8(e,o):e,a=c.get($i,null);if(a===null)throw new Y(407,!1);let u=c.get(wD,null),d=c.get(ji,null),p={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=r?DA(m,r,this.componentDef.encapsulation,c):tC(m,y,LD(y)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let z=null;w!==null&&(z=$u(w,c,!0));let P=Ju(0,null,null,1,0,null,null,null,null,null,null),F=d3(null,P,null,A,null,null,p,m,c,null,z);Ru(F);let j,W,Le=null;try{let ne=this.componentDef,L,C=null;ne.findHostDirectiveDefs?(L=[],C=new Map,ne.findHostDirectiveDefs(ne,L,C),L.push(ne)):L=[ne];let M=bD(F,w);Le=ID(M,w,ne,L,F,p,m),W=Su(P,Ht),w&&zD(m,ne,w,r),n!==void 0&&SD(W,this.ngContentSelectors,n),j=ED(Le,ne,L,C,F,[AD]),r5(P,F,null)}catch(ne){throw Le!==null&&V8(Le),V8(F),ne}finally{Pu()}return new tu(this.componentType,j,Qi(W,F),F,W)}finally{_e(s)}}},tu=class extends J8{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new yr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;n5(s[pe],s,i,e,n),this.previousInputValues.set(e,n);let o=x1(this._tNode.index,s);i5(o,1)}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bD(t,e){let n=t[pe],r=Ht;return t[r]=e,Yi(n,r,2,"#host",null)}function ID(t,e,n,r,i,s,o){let c=i[pe];xD(r,t,e,o);let a=null;e!==null&&(a=$u(e,i[Oi]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let p=d3(i,gC(n),null,d,i[t.index],t,s,u,null,null,a);return c.firstCreatePass&&Y8(c,t,r.length-1),h3(i,p),i[t.index]=p}function xD(t,e,n,r){for(let i of t)e.mergedAttrs=Ao(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(B4(e,e.mergedAttrs,!0),n!==null&&fC(r,n,e))}function ED(t,e,n,r,i,s){let o=$t(),c=i[pe],a=gn(o,i);yC(c,i,o,n,null,r);for(let d=0;d<n.length;d++){let p=o.directiveStart+d,m=gr(i,c,p,o);L1(m,i)}CC(c,i,o),a&&L1(a,i);let u=gr(i,c,o.directiveStart+o.componentOffset,o);if(t[St]=i[St]=u,s!==null)for(let d of s)d(u,e);return Yu(c,o,i),u}function zD(t,e,n,r){if(r)M8(t,n,["ng-version","18.2.12"]);else{let{attrs:i,classes:s}=mz(e.selectors[0]);i&&M8(t,n,i),s&&s.length>0&&uC(t,n,s.join(" "))}}function SD(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function AD(){let t=$t();o3(be()[pe],t)}var Mr=(()=>{class t{static{this.__NG_ELEMENT_ID__=DD}}return t})();function DD(){let t=$t();return PC(t,be())}var TD=Mr,RC=class extends TD{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qi(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ku(this._hostTNode,this._hostLView);if(vy(e)){let n=R4(e,this._hostLView),r=N4(e),i=n[pe].data[r+8];return new lr(i,n)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=pg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Bi(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Vi(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!Dz(e),c;if(o)c=n;else{let w=n||{};c=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let a=o?e:new Ro(ur(e)),u=r||this.parentInjector;if(!s&&a.ngModule==null){let A=(o?u:this.parentInjector).get(mn,null);A&&(s=A)}let d=ur(a.componentType??{}),p=Bi(this._lContainer,d?.id??null),m=p?.firstChild??null,y=a.create(u,i,m,s);return this.insertImpl(y.hostView,c,Vi(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Vz(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=i[Dt],u=new RC(a,a[Xt],a[Dt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return jo(o,i,s,r),e.attachToViewContainerRef(),Tg(d8(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=pg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=No(this._lContainer,n);r&&(z4(d8(this._lContainer),n),l3(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=No(this._lContainer,n);return r&&z4(d8(this._lContainer),n)!=null?new yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pg(t){return t[D4]}function d8(t){return t[D4]||(t[D4]=[])}function PC(t,e){let n,r=e[t.index];return S2(r)?n=r:(n=vC(r,e,null,t),e[t.index]=n,h3(e,n)),RD(n,e,t,r),new RC(n,t,e)}function ND(t,e){let n=t[at],r=n.createComment(""),i=gn(e,t),s=oC(n,i);return F4(n,s,r,_A(n,i),!1),r}var RD=OD,PD=()=>!1;function kD(t,e,n){return PD(t,e,n)}function OD(t,e,n,r){if(t[dr])return;let i;n.type&8?i=Kn(r):i=ND(e,n),t[dr]=i}var nu=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ru=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)c5(e,n).matches!==null&&this.queries[n].setDirty()}},iu=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=qD(e):this.predicate=e}},su=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ou=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,FD(n,s)),this.matchTNodeWithReadOption(e,n,L4(n,e,s,!1,!1))}else r===Ui?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,L4(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nt||i===Mr||i===Ui&&n.type&4)this.addMatch(n.index,-2);else{let s=L4(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function FD(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function VD(t,e){return t.type&11?Qi(t,e):t.type&4?s5(t,e):null}function UD(t,e,n,r){return n===-1?VD(e,t):n===-2?BD(t,e,r):gr(t,t[pe],n,e)}function BD(t,e,n){if(n===Nt)return Qi(e,t);if(n===Ui)return s5(e,t);if(n===Mr)return PC(e,t)}function kC(t,e,n,r){let i=e[w2].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let a=0;o!==null&&a<o.length;a+=2){let u=o[a];if(u<0)c.push(null);else{let d=s[u];c.push(UD(e,d,o[a+1],n.metadata.read))}}i.matches=c}return i.matches}function cu(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=kC(t,e,i,n);for(let c=0;c<s.length;c+=2){let a=s[c];if(a>0)r.push(o[c/2]);else{let u=s[c+1],d=e[-a];for(let p=At;p<d.length;p++){let m=d[p];m[fr]===m[Dt]&&cu(m[pe],m,u,r)}if(d[Fi]!==null){let p=d[Fi];for(let m=0;m<p.length;m++){let y=p[m];cu(y[pe],y,u,r)}}}}}return r}function jD(t,e){return t[w2].queries[e].queryList}function HD(t,e,n){let r=new F8((n&4)===4);return RA(t,e,r,r.destroy),(e[w2]??=new ru).queries.push(new nu(r))-1}function $D(t,e,n){let r=yt();return r.firstCreatePass&&(GD(r,new iu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),HD(r,be(),e)}function qD(t){return t.split(",").map(e=>e.trim())}function GD(t,e,n){t.queries===null&&(t.queries=new su),t.queries.track(new ou(e,n))}function c5(t,e){return t.queries.getByIndex(e)}function WD(t,e){let n=t[pe],r=c5(n,e);return r.crossesNgTemplate?cu(n,t,e,[]):kC(n,t,r,e)}var mg=new Set;function Xi(t){mg.has(t)||(mg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function N2(t,e){Xi("NgSignals");let n=cm(t),r=n[h1];return e?.equal&&(r.equal=e.equal),n.set=i=>Ul(r,i),n.update=i=>am(r,i),n.asReadonly=KD.bind(n),n}function KD(){let t=this[h1];if(t.readonlyFn===void 0){let e=()=>this();e[h1]=t,t.readonlyFn=e}return t.readonlyFn}function QD(t){return Object.getPrototypeOf(t.prototype).constructor}function An(t){let e=QD(t.type),n=!0,r=[t];for(;e;){let i;if(M1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=y4(t.inputs),o.inputTransforms=y4(t.inputTransforms),o.declaredInputs=y4(t.declaredInputs),o.outputs=y4(t.outputs);let c=i.hostBindings;c&&eT(t,c);let a=i.viewQuery,u=i.contentQueries;if(a&&ZD(t,a),u&&JD(t,u),YD(t,i),DE(t.outputs,i.outputs),M1(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===An&&(n=!1)}}e=Object.getPrototypeOf(e)}XD(r)}function YD(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function XD(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ao(i.hostAttrs,n=Ao(n,i.hostAttrs))}}function y4(t){return t===Ni?{}:t===hn?[]:t}function ZD(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function JD(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function eT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function a5(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var b1=class{},Po=class{};var au=class extends b1{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new j4(this);let s=jg(e);this._bootstrapComponents=eC(s.bootstrap),this._r3Injector=zy(e,n,[{provide:b1,useValue:this},{provide:Hi,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lu=class extends Po{constructor(e){super(),this.moduleType=e}create(e){return new au(this.moduleType,e,[])}};var H4=class extends b1{constructor(e){super(),this.componentFactoryResolver=new j4(this),this.instance=null;let n=new Do([...e.providers,{provide:b1,useValue:this},{provide:Hi,useValue:this.componentFactoryResolver}],e.parent||Eu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function l5(t,e,n=null){return new H4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function OC(t,e,n){return t[e]=n}function Yn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tT(t,e,n,r){let i=Yn(t,e,n);return Yn(t,e+1,r)||i}function nT(t){return(t.flags&32)===32}function rT(t,e,n,r,i,s,o,c,a){let u=e.consts,d=Yi(e,t,4,o||null,c||null);t5(e,n,d,w1(u,a)),o3(e,d);let p=d.tView=Ju(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function $4(t,e,n,r,i,s,o,c,a,u){let d=n+Ht,p=e.firstCreatePass?rT(d,e,t,r,i,s,o,c,a):e.data[d];vr(p,!1);let m=iT(e,t,p,n);i3()&&u3(e,t,m,p),L1(m,t);let y=vC(m,t,m,p);return t[d]=y,h3(t,y),kD(y,p,t),e3(p)&&Xu(e,t,p),a!=null&&Zu(t,p,u),p}function ve(t,e,n,r,i,s,o,c){let a=be(),u=yt(),d=w1(u.consts,s);return $4(a,u,t,e,n,r,i,d,o,c),ve}var iT=sT;function sT(t,e,n,r){return s3(!0),e[at].createComment("")}var xo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(xo||{}),oT=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}}return t})(),gg=class t{constructor(){this.ngZone=H(Ue),this.scheduler=H(ji),this.errorHandler=H(Qn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[xo.EarlyRead,xo.Write,xo.MixedReadWrite,xo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}};function Jn(t,e,n,r){let i=be(),s=Wi();if(Yn(i,s,e)){let o=yt(),c=r3();QA(c,i,t,e,n,r)}return Jn}function FC(t,e,n,r){return Yn(t,Wi(),n)?e+Fo(n)+r:T2}function C4(t,e){return t<<17|e<<2}function Cr(t){return t>>17&32767}function cT(t){return(t&2)==2}function aT(t,e){return t&131071|e<<17}function uu(t){return t|2}function qi(t){return(t&131068)>>2}function h8(t,e){return t&-131069|e<<2}function lT(t){return(t&1)===1}function fu(t){return t|1}function uT(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Cr(o),a=qi(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||Vo(p,d)>0)&&(u=!0)}else d=n;if(i)if(a!==0){let m=Cr(t[c+1]);t[r+1]=C4(m,c),m!==0&&(t[m+1]=h8(t[m+1],r)),t[c+1]=aT(t[c+1],r)}else t[r+1]=C4(c,0),c!==0&&(t[c+1]=h8(t[c+1],r)),c=r;else t[r+1]=C4(a,0),c===0?c=r:t[a+1]=h8(t[a+1],r),a=r;u&&(t[r+1]=uu(t[r+1])),yg(t,d,r,!0),yg(t,d,r,!1),fT(e,d,t,r,s),o=C4(c,a),s?e.classBindings=o:e.styleBindings=o}function fT(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Vo(s,e)>=0&&(n[r+1]=fu(n[r+1]))}function yg(t,e,n,r){let i=t[n+1],s=e===null,o=r?Cr(i):qi(i),c=!1;for(;o!==0&&(c===!1||s);){let a=t[o],u=t[o+1];dT(a,e)&&(c=!0,t[o+1]=r?fu(u):uu(u)),o=r?Cr(u):qi(u)}c&&(t[n+1]=r?uu(i):fu(i))}function dT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Vo(t,e)>=0:!1}function le(t,e,n){let r=be(),i=Wi();if(Yn(r,i,e)){let s=yt(),o=r3();e5(s,o,r,t,e,r[at],n,!1)}return le}function Cg(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";n5(t,n,s[o],o,r)}function A1(t,e,n){return VC(t,e,n,!1),A1}function R2(t,e){return VC(t,e,null,!0),R2}function VC(t,e,n,r){let i=be(),s=yt(),o=Yz(2);if(s.firstUpdatePass&&pT(s,t,o,r),e!==T2&&Yn(i,o,e)){let c=s.data[_r()];vT(s,c,i,i[at],t,i[o+1]=_T(e,n),r,o)}}function hT(t,e){return e>=t.expandoStartIndex}function pT(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[_r()],o=hT(t,n);MT(s,r)&&e===null&&!o&&(e=!1),e=mT(i,s,e,r),uT(i,s,e,n,o,r)}}function mT(t,e,n,r){let i=eS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=p8(null,t,e,n,r),n=ko(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=p8(i,t,e,n,r),s===null){let a=gT(t,e,r);a!==void 0&&Array.isArray(a)&&(a=p8(null,t,e,a[1],r),a=ko(a,e.attrs,r),yT(t,e,r,a))}else s=CT(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function gT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qi(r)!==0)return t[Cr(r)]}function yT(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Cr(i)]=r}function CT(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ko(r,o,n)}return ko(r,e.attrs,n)}function p8(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=ko(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ko(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tz(t,o,n?!0:e[++s]))}return t===void 0?null:t}function vT(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let a=t.data,u=a[c+1],d=lT(u)?vg(a,e,n,i,qi(u),o):void 0;if(!q4(d)){q4(s)||cT(u)&&(s=vg(a,null,n,i,c,o));let p=ty(_r(),n);xA(r,o,p,i,s)}}function vg(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let a=t[i],u=Array.isArray(a),d=u?a[1]:a,p=d===null,m=n[i+1];m===T2&&(m=p?hn:void 0);let y=p?i8(m,r):d===r?m:void 0;if(u&&!q4(y)&&(y=i8(a,r)),q4(y)&&(c=y,o))return c;let w=t[i+1];i=o?Cr(w):qi(w)}if(e!==null){let a=s?e.residualClasses:e.residualStyles;a!=null&&(c=i8(a,r))}return c}function q4(t){return t!==void 0}function _T(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(zn(t)))),t}function MT(t,e){return(t.flags&(e?8:16))!==0}var du=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function m8(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function wT(t,e,n){let r,i,s=0,o=t.length-1,c=void 0;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let u=t.at(s),d=e[s],p=m8(s,u,s,d,n);if(p!==0){p<0&&t.updateValue(s,d),s++;continue}let m=t.at(o),y=e[a],w=m8(o,m,a,y,n);if(w!==0){w<0&&t.updateValue(o,y),o--,a--;continue}let A=n(s,u),z=n(o,m),P=n(s,d);if(Object.is(P,z)){let F=n(a,y);Object.is(F,A)?(t.swap(s,o),t.updateValue(o,y),a--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new G4,i??=Mg(t,s,o,n),hu(t,r,s,P))t.updateValue(s,d),s++,o++;else if(i.has(P))r.set(A,t.detach(s)),o--;else{let F=t.create(s,e[s]);t.attach(s,F),s++,o++}}for(;s<=a;)_g(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let d=t.at(s),p=u.value,m=m8(s,d,s,p,n);if(m!==0)m<0&&t.updateValue(s,p),s++,u=a.next();else{r??=new G4,i??=Mg(t,s,o,n);let y=n(s,p);if(hu(t,r,s,y))t.updateValue(s,p),s++,o++,u=a.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,u=a.next();else{let w=n(s,d);r.set(w,t.detach(s)),o--}}}for(;!u.done;)_g(t,r,n,t.length,u.value),u=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function hu(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function _g(t,e,n,r,i){if(hu(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Mg(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var G4=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function xe(t,e){Xi("NgControlFlow");let n=be(),r=Wi(),i=n[r]!==T2?n[r]:-1,s=i!==-1?W4(n,Ht+i):void 0,o=0;if(Yn(n,r,t)){let c=_e(null);try{if(s!==void 0&&IC(s,o),t!==-1){let a=Ht+t,u=W4(n,a),d=yu(n[pe],a),p=Bi(u,d.tView.ssrId),m=Bo(n,d,e,{dehydratedView:p});jo(u,m,o,Vi(d,p))}}finally{_e(c)}}else if(s!==void 0){let c=bC(s,o);c!==void 0&&(c[St]=e)}}var pu=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-At}};function UC(t){return t}var mu=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function wr(t,e,n,r,i,s,o,c,a,u,d,p,m){Xi("NgControlFlow");let y=be(),w=yt(),A=a!==void 0,z=be(),P=c?o.bind(z[nn][St]):o,F=new mu(A,P);z[Ht+t]=F,$4(y,w,t+1,e,n,r,i,w1(w.consts,s)),A&&$4(y,w,t+2,a,u,d,p,w1(w.consts,m))}var gu=class extends du{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-At}at(e){return this.getLView(e)[St].$implicit}attach(e,n){let r=n[ki];this.needsIndexUpdate||=e!==this.length,jo(this.lContainer,n,e,Vi(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,LT(this.lContainer,e)}create(e,n){let r=Bi(this.lContainer,this.templateTNode.tView.ssrId),i=Bo(this.hostLView,this.templateTNode,new pu(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){l3(e[pe],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[St].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[St].$index=e}getLView(e){return bT(this.lContainer,e)}};function Lr(t){let e=_e(null),n=_r();try{let r=be(),i=r[pe],s=r[n],o=n+1,c=W4(r,o);if(s.liveCollection===void 0){let u=yu(i,o);s.liveCollection=new gu(c,r,u)}else s.liveCollection.reset();let a=s.liveCollection;if(wT(a,t,s.trackByFn),a.updateIndexes(),s.hasEmptyBlock){let u=Wi(),d=a.length===0;if(Yn(r,u,d)){let p=n+2,m=W4(r,p);if(d){let y=yu(i,p),w=Bi(m,y.tView.ssrId),A=Bo(r,y,void 0,{dehydratedView:w});jo(m,A,0,Vi(y,w))}else IC(m,0)}}}finally{_e(e)}}function W4(t,e){return t[e]}function LT(t,e){return No(t,e)}function bT(t,e){return bC(t,e)}function yu(t,e){return Su(t,e)}function IT(t,e,n,r,i,s){let o=e.consts,c=w1(o,i),a=Yi(e,t,2,r,c);return t5(e,n,a,w1(o,s)),a.attrs!==null&&B4(a,a.attrs,!1),a.mergedAttrs!==null&&B4(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function D(t,e,n,r){let i=be(),s=yt(),o=Ht+t,c=i[at],a=s.firstCreatePass?IT(o,s,i,e,n,r):s.data[o],u=xT(s,i,a,c,e,t);i[o]=u;let d=e3(a);return vr(a,!0),fC(c,u,a),!nT(a)&&i3()&&u3(s,i,u,a),jz()===0&&L1(u,i),Hz(),d&&(Xu(s,i,a),Yu(s,a,i)),r!==null&&Zu(i,a),D}function T(){let t=$t();Du()?Tu():(t=t.parent,vr(t,!1));let e=t;qz(e)&&Gz(),$z();let n=yt();return n.firstCreatePass&&(o3(n,t),zu(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&cS(e)&&Cg(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aS(e)&&Cg(n,e,be(),e.stylesWithoutHost,!1),T}function te(t,e,n,r){return D(t,e,n,r),T(),te}var xT=(t,e,n,r,i,s)=>(s3(!0),tC(r,i,rS()));function ET(t,e,n,r,i){let s=e.consts,o=w1(s,r),c=Yi(e,t,8,"ng-container",o);o!==null&&B4(c,o,!0);let a=w1(s,i);return t5(e,n,c,a),e.queries!==null&&e.queries.elementStart(e,c),c}function u5(t,e,n){let r=be(),i=yt(),s=t+Ht,o=i.firstCreatePass?ET(s,i,r,e,n):i.data[s];vr(o,!0);let c=zT(i,r,o,t);return r[s]=c,i3()&&u3(i,r,c,o),L1(c,r),e3(o)&&(Xu(i,r,o),Yu(i,o,r)),n!=null&&Zu(r,o),u5}function f5(){let t=$t(),e=yt();return Du()?Tu():(t=t.parent,vr(t,!1)),e.firstCreatePass&&(o3(e,t),zu(t)&&e.queries.elementEnd(t)),f5}var zT=(t,e,n,r)=>(s3(!0),dA(e[at],""));function tt(){return be()}function d5(t,e,n){let r=be(),i=Wi();if(Yn(r,i,e)){let s=yt(),o=r3();e5(s,o,r,t,e,r[at],n,!0)}return d5}var K4="en-US";var ST=K4;function AT(t){typeof t=="string"&&(ST=t.toLowerCase().replace(/_/g,"-"))}var DT=(t,e,n)=>{};function ce(t,e,n,r){let i=be(),s=yt(),o=$t();return NT(s,i,i[at],o,t,e,r),ce}function TT(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[A4],a=i[s+2];return c.length>a?c[a]:null}typeof o=="string"&&(s+=2)}return null}function NT(t,e,n,r,i,s,o){let c=e3(r),u=t.firstCreatePass&&wC(t),d=e[St],p=MC(e),m=!0;if(r.type&3||o){let A=gn(r,e),z=o?o(A):A,P=p.length,F=o?W=>o(Kn(W[r.index])):r.index,j=null;if(!o&&c&&(j=TT(t,e,i,r.index)),j!==null){let W=j.__ngLastListenerFn__||j;W.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,m=!1}else{s=Lg(r,e,d,s),DT(A,i,s);let W=n.listen(z,i,s);p.push(s,W),u&&u.push(i,F,P,P+1)}}else s=Lg(r,e,d,s);let y=r.outputs,w;if(m&&y!==null&&(w=y[i])){let A=w.length;if(A)for(let z=0;z<A;z+=2){let P=w[z],F=w[z+1],Le=e[P][F].subscribe(s),ne=p.length;p.push(s,Le),u&&u.push(i,r.index,ne,-(ne+1))}}}function wg(t,e,n,r){let i=_e(null);try{return $n(6,e,n),n(r)!==!1}catch(s){return LC(t,s),!1}finally{$n(7,e,n),_e(i)}}function Lg(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?x1(t.index,e):e;i5(o,5);let c=wg(e,n,r,s),a=i.__ngNextListenerFn__;for(;a;)c=wg(e,n,a,s)&&c,a=a.__ngNextListenerFn__;return c}}function U(t=1){return nS(t)}function RT(t,e){let n=null,r=lz(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Fg(t,s,!0):dz(r,s))return i}return n}function BC(t){let e=be()[nn][Xt];if(!e.projection){let n=t?t.length:1,r=e.projection=JE(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?RT(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function jC(t,e=0,n,r,i,s){let o=be(),c=yt(),a=r?t+1:null;a!==null&&$4(o,c,a,r,i,s,null,n);let u=Yi(c,Ht+t,16,null,n||null);u.projection===null&&(u.projection=e),Tu();let p=!o[ki]||cy();o[nn][Xt].projection[u.projection]===null&&a!==null?PT(o,c,a):p&&(u.flags&32)!==32&&bA(c,o,u)}function PT(t,e,n){let r=Ht+n,i=e.data[r],s=t[r],o=Bi(s,i.tView.ssrId),c=Bo(t,i,void 0,{dehydratedView:o});jo(s,c,0,Vi(i,o))}function h5(t,e,n){return HC(t,"",e,"",n),h5}function HC(t,e,n,r,i){let s=be(),o=FC(s,e,n,r);if(o!==T2){let c=yt(),a=r3();e5(c,a,s,t,o,s[at],i,!1)}return HC}function p5(t,e,n){$D(t,e,n)}function p3(t){let e=be(),n=yt(),r=fy();Nu(r+1);let i=c5(n,r);if(t.dirty&&Fz(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=WD(e,r);t.reset(s,SS),t.notifyOnChanges()}return!0}return!1}function m3(){return jD(be(),fy())}function D1(t){let e=Kz();return Oz(e,Ht+t)}function $(t,e=""){let n=be(),r=yt(),i=t+Ht,s=r.firstCreatePass?Yi(r,i,1,e,null):r.data[i],o=kT(r,n,s,e,t);n[i]=o,i3()&&u3(r,n,o,s),vr(s,!1)}var kT=(t,e,n,r,i)=>(s3(!0),uA(e[at],r));function nt(t){return g3("",t,""),nt}function g3(t,e,n){let r=be(),i=FC(r,t,e,n);return i!==T2&&JA(r,_r(),i),g3}function OT(t,e,n){let r=yt();if(r.firstCreatePass){let i=M1(t);Cu(n,r.data,r.blueprint,i,!0),Cu(e,r.data,r.blueprint,i,!1)}}function Cu(t,e,n,r,i){if(t=Bt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Cu(t[s],e,n,r,i);else{let s=yt(),o=be(),c=$t(),a=Pi(t)?t:Bt(t.provide),u=Kg(t),d=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Pi(t)||!t.multi){let y=new mr(u,i,q),w=y8(a,e,i?d:d+m,p);w===-1?(D8(P4(c,o),s,a),g8(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),o.push(y)):(n[w]=y,o[w]=y)}else{let y=y8(a,e,d+m,p),w=y8(a,e,d,d+m),A=y>=0&&n[y],z=w>=0&&n[w];if(i&&!z||!i&&!A){D8(P4(c,o),s,a);let P=UT(i?VT:FT,n.length,i,r,u);!i&&z&&(n[w].providerFactory=P),g8(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=$C(n[i?w:y],u,!i&&r);g8(s,t,y>-1?y:w,P)}!i&&r&&z&&n[w].componentProviders++}}}function g8(t,e,n,r){let i=Pi(e),s=Lz(e);if(i||s){let a=(s?Bt(e.useClass):e).prototype.ngOnDestroy;if(a){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,a]):u[d+1].push(r,a)}else u.push(n,a)}}}function $C(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function y8(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function FT(t,e,n,r){return vu(this.multi,[])}function VT(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=gr(n,n[pe],this.providerFactory.index,r);s=c.slice(0,o),vu(i,s);for(let a=o;a<c.length;a++)s.push(c[a])}else s=[],vu(i,s);return s}function vu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function UT(t,e,n,r,i){let s=new mr(t,n,q);return s.multi=[],s.index=e,s.componentProviders=0,$C(s,i,r&&!n),s}function Zi(t,e=[]){return n=>{n.providersResolver=(r,i)=>OT(r,i?i(t):t,e)}}var BT=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=qg(!1,n.type),i=r.length>0?l5([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(ue(mn))})}}return t})();function Ne(t){Xi("NgStandalone"),t.getStandaloneInjector=e=>e.get(BT).getOrCreateStandaloneInjector(t)}function Ho(t,e,n,r){return jT(be(),uy(),t,e,n,r)}function $o(t,e,n,r,i){return HT(be(),uy(),t,e,n,r,i)}function qC(t,e){let n=t[e];return n===T2?void 0:n}function jT(t,e,n,r,i,s){let o=e+n;return Yn(t,o,i)?OC(t,o+1,s?r.call(s,i):r(i)):qC(t,o+1)}function HT(t,e,n,r,i,s,o){let c=e+n;return tT(t,c,i,s)?OC(t,c+2,o?r.call(o,i,s):r(i,s)):qC(t,c+2)}var I2=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GC=new I2("18.2.12");var y3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var WC=new oe("");function br(t){return!!t&&typeof t.then=="function"}function KC(t){return!!t&&typeof t.subscribe=="function"}var QC=new oe(""),YC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(QC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(br(s))n.push(s);else if(KC(s)){let o=new Promise((c,a)=>{s.subscribe({complete:c,error:a})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),m5=new oe("");function $T(){om(()=>{throw new Y(600,!1)})}function qT(t){return t.isBoundToModule}var GT=10;function WT(t,e,n){try{let r=n();return br(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ir=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(ES),this.afterRenderManager=H(oT),this.zonelessEnabled=H(o5),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=H(Ki).hasPendingTasks.pipe(ae(n=>!n)),this._injector=H(mn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof U4;if(!this._injector.get(YC).done){let m=!i&&Bg(n),y=!1;throw new Y(405,y)}let o;i?o=n:o=this._injector.get(Hi).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=qT(o)?void 0:this._injector.get(b1),a=r||o.selector,u=o.create(Qt.NULL,[],a,c),d=u.location.nativeElement,p=u.injector.get(WC,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),b4(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let n=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get($i,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<GT;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)KT(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>t3(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;b4(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(m5,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>b4(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function b4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function KT(t,e,n,r){if(!n&&!t3(t))return;zC(t,e,n&&!r?0:1)}var _u=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},g5=(()=>{class t{compileModuleSync(n){return new lu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=jg(n),s=eC(i.declarations).reduce((o,c)=>{let a=ur(c);return a&&o.push(new Ro(a)),o},[]);return new _u(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var QT=(()=>{class t{constructor(){this.zone=H(Ue),this.changeDetectionScheduler=H(ji),this.applicationRef=H(Ir)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function YT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ue(ie(R({},XT()),{scheduleInRootZone:n})),[{provide:Ue,useFactory:t},{provide:Ri,multi:!0,useFactory:()=>{let r=H(QT,{optional:!0});return()=>r.initialize()}},{provide:Ri,multi:!0,useFactory:()=>{let r=H(ZT);return()=>{r.initialize()}}},e===!0?{provide:TC,useValue:!0}:[],{provide:NC,useValue:n??Sy}]}function XT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ZT=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=H(Ue),this.pendingTasks=H(Ki)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var JT=(()=>{class t{constructor(){this.appRef=H(Ir),this.taskService=H(Ki),this.ngZone=H(Ue),this.zonelessEnabled=H(o5),this.disableScheduling=H(TC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(O4):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(NC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof k8||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jm:Ay;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(O4+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eN(){return typeof $localize<"u"&&$localize.locale||K4}var y5=new oe("",{providedIn:"root",factory:()=>H(y5,Me.Optional|Me.SkipSelf)||eN()});var Mu=new oe("");function v4(t){return!t.moduleRef}function tN(t){let e=v4(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ue);return n.run(()=>{v4(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Qn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),v4(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Mu);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Mu);o.add(s),t.moduleRef.onDestroy(()=>{b4(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return WT(r,n,()=>{let s=e.get(YC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(y5,K4);if(AT(o||K4),v4(t)){let c=e.get(Ir);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return nN(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function nN(t,e){let n=t.injector.get(Ir);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Y(-403,!1);e.push(t)}var I4=null;function rN(t=[],e){return Qt.create({name:e,providers:[{provide:X4,useValue:"platform"},{provide:Mu,useValue:new Set([()=>I4=null])},...t]})}function iN(t=[]){if(I4)return I4;let e=rN(t);return I4=e,$T(),sN(e),e}function sN(t){t.get(ju,null)?.forEach(n=>n())}var xr=(()=>{class t{static{this.__NG_ELEMENT_ID__=oN}}return t})();function oN(t){return cN($t(),be(),(t&16)===16)}function cN(t,e,n){if(J4(t)&&!n){let r=x1(t.index,e);return new yr(r,r)}else if(t.type&175){let r=e[nn];return new yr(r,e)}return null}function XC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=iN(r),s=[YT({}),{provide:ji,useExisting:JT},...n||[]],o=new H4({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return tN({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function P2(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qo(t,e){Xi("NgSignals");let n=rm(t);return e?.equal&&(n[h1].equal=e.equal),n}function k2(t){let e=_e(null);try{return t()}finally{_e(e)}}var nv=null;function O2(){return nv}function rv(t){nv??=t}var C3=class{};var Mt=new oe(""),iv=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>H(aN),providedIn:"platform"})}}return t})();var aN=(()=>{class t extends iv{constructor(){super(),this._doc=H(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O2().getBaseHref(this._doc)}onPopState(n){let r=O2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=O2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function sv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ZC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Er(t){return t&&t[0]!=="?"?"?"+t:t}var Ji=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>H(ov),providedIn:"root"})}}return t})(),lN=new oe(""),ov=(()=>{class t extends Ji{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Er(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Er(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ue(iv),ue(lN,8))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Go=(()=>{class t{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=dN(ZC(JC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Er(r))}normalize(n){return t.stripTrailingSlash(fN(this._basePath,JC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Er}static{this.joinWithSlash=sv}static{this.stripTrailingSlash=ZC}static{this.\u0275fac=function(r){return new(r||t)(ue(Ji))}}static{this.\u0275prov=X({token:t,factory:()=>uN(),providedIn:"root"})}}return t})();function uN(){return new Go(ue(Ji))}function fN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function JC(t){return t.replace(/\/index.html$/,"")}function dN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function cv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var C5=/\s+/,ev=[],_3=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=ev,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(C5):ev}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(C5):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(C5).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(q(Nt),q(Cn))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var av=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new v5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Mr),q(Ui))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),v5=class{constructor(){this.$implicit=null,this.ngIf=null}};function tv(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}var Wo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Xn({})}}return t})(),lv="browser",hN="server";function _5(t){return t===hN}var v3=class{};var L5=class extends C3{constructor(){super(...arguments),this.supportsDOMEvents=!0}},b5=class t extends L5{static makeCurrent(){rv(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mN();return n==null?null:gN(n)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cv(document.cookie,e)}},Ko=null;function mN(){return Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null}function gN(t){return new URL(t,document.baseURI).pathname}var yN=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),I5=new oe(""),hv=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ue(I5),ue(Ue))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),M3=class{constructor(e){this._doc=e}},M5="ng-app-id",pv=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_5(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${M5}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(M5),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(M5,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ue(Mt),ue(Bu),ue(Hu,8),ue(S1))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),w5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},E5=/%COMP%/g,mv="%COMP%",CN=`_nghost-${mv}`,vN=`_ngcontent-${mv}`,_N=!0,MN=new oe("",{providedIn:"root",factory:()=>_N});function wN(t){return vN.replace(E5,t)}function LN(t){return CN.replace(E5,t)}function gv(t,e){return e.map(n=>n.replace(E5,t))}var uv=(()=>{class t{constructor(n,r,i,s,o,c,a,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=_5(c),this.defaultRenderer=new Qo(n,o,a,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gn.ShadowDom&&(r=ie(R({},r),{encapsulation:Gn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof w3?i.applyToHost(n):i instanceof Yo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Gn.Emulated:s=new w3(a,u,r,this.appId,d,o,c,p);break;case Gn.ShadowDom:return new x5(a,u,n,r,o,c,this.nonce,p);default:s=new Yo(a,u,r,d,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ue(hv),ue(pv),ue(Bu),ue(MN),ue(Mt),ue(S1),ue(Ue),ue(Hu))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),Qo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(w5[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=w5[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=w5[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(b2.DashCase|b2.Important)?e.style.setProperty(n,r,i&b2.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&b2.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=O2().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var x5=class extends Qo{constructor(e,n,r,i,s,o,c,a){super(e,s,o,a),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=gv(i.id,i.styles);for(let d of u){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yo=class extends Qo{constructor(e,n,r,i,s,o,c,a){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=a?gv(a,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},w3=class extends Yo{constructor(e,n,r,i,s,o,c,a){let u=i+"-"+r.id;super(e,n,r,s,o,c,a,u),this.contentAttr=wN(u),this.hostAttr=LN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bN=(()=>{class t extends M3{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ue(Mt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),dv=["alt","control","meta","shift"],IN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},EN=(()=>{class t extends M3{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O2().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),dv.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let a={};return a.domEventName=i,a.fullKey=o,a}static matchEventFullKeyCode(n,r){let i=IN[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dv.forEach(o=>{if(o!==i){let c=xN[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ue(Mt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();function yv(t,e){return XC(R({rootComponent:t},zN(e)))}function zN(t){return{appProviders:[...NN,...t?.providers??[]],platformProviders:TN}}function SN(){b5.makeCurrent()}function AN(){return new Qn}function DN(){return Oy(document),document}var TN=[{provide:S1,useValue:lv},{provide:ju,useValue:SN,multi:!0},{provide:Mt,useFactory:DN,deps:[]}];var NN=[{provide:X4,useValue:"root"},{provide:Qn,useFactory:AN,deps:[]},{provide:I5,useClass:bN,multi:!0,deps:[Mt,Ue,S1]},{provide:I5,useClass:EN,multi:!0,deps:[Mt]},uv,pv,hv,{provide:$i,useExisting:uv},{provide:v3,useClass:yN,deps:[]},[]];var Cv=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ue(Mt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=ue(RN),i},providedIn:"root"})}}return t})(),RN=(()=>{class t extends Xo{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Sn.NONE:return r;case Sn.HTML:return A2(r,"HTML")?zn(r):qu(this._doc,String(r)).toString();case Sn.STYLE:return A2(r,"Style")?zn(r):r;case Sn.SCRIPT:if(A2(r,"Script"))return zn(r);throw new Y(5200,!1);case Sn.URL:return A2(r,"URL")?zn(r):a3(String(r));case Sn.RESOURCE_URL:if(A2(r,"ResourceURL"))return zn(r);throw new Y(5201,!1);default:throw new Y(5202,!1)}}bypassSecurityTrustHtml(n){return By(n)}bypassSecurityTrustStyle(n){return jy(n)}bypassSecurityTrustScript(n){return Hy(n)}bypassSecurityTrustUrl(n){return $y(n)}bypassSecurityTrustResourceUrl(n){return qy(n)}static{this.\u0275fac=function(r){return new(r||t)(ue(Mt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ce="primary",h0=Symbol("RouteTitle"),N5=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ss(t){return new N5(t)}function PN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!e2(t[n],e[n]))return!1;return!0}function e2(t,e){let n=t?R5(t):void 0,r=e?R5(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xv(t[i],e[i]))return!1;return!0}function R5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Ev(t){return t.length>0?t[t.length-1]:null}function N1(t){return e8(t)?t:br(t)?Se(Promise.resolve(t)):Z(t)}var ON={exact:Sv,subset:Av},zv={exact:FN,subset:VN,ignored:()=>!0};function vv(t,e,n){return ON[n.paths](t.root,e.root,n.matrixParams)&&zv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function FN(t,e){return e2(t,e)}function Sv(t,e,n){if(!Sr(t.segments,e.segments)||!I3(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Sv(t.children[r],e.children[r],n))return!1;return!0}function VN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xv(t[n],e[n]))}function Av(t,e,n){return Dv(t,e,e.segments,n)}function Dv(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Sr(i,n)||e.hasChildren()||!I3(i,n,r))}else if(t.segments.length===n.length){if(!Sr(t.segments,n)||!I3(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Av(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Sr(t.segments,i)||!I3(t.segments,i,r)||!t.children[Ce]?!1:Dv(t.children[Ce],e,s,r)}}function I3(t,e,n){return e.every((r,i)=>zv[n](t[i].parameters,r.parameters))}var V2=class{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ss(this.queryParams),this._queryParamMap}toString(){return jN.serialize(this)}},ke=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return x3(this)}},zr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ss(this.parameters),this._parameterMap}toString(){return Nv(this)}};function UN(t,e){return Sr(t,e)&&t.every((n,r)=>e2(n.parameters,e[r].parameters))}function Sr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function BN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ce&&(n=n.concat(e(i,r)))}),n}var o7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>new i0,providedIn:"root"})}}return t})(),i0=class{parse(e){let n=new k5(e);return new V2(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Zo(e.root,!0)}`,r=qN(e.queryParams),i=typeof e.fragment=="string"?`#${HN(e.fragment)}`:"";return`${n}${r}${i}`}},jN=new i0;function x3(t){return t.segments.map(e=>Nv(e)).join("/")}function Zo(t,e){if(!t.hasChildren())return x3(t);if(e){let n=t.children[Ce]?Zo(t.children[Ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ce&&r.push(`${i}:${Zo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=BN(t,(r,i)=>i===Ce?[Zo(t.children[Ce],!1)]:[`${i}:${Zo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ce]!=null?`${x3(t)}/${n[0]}`:`${x3(t)}/(${n.join("//")})`}}function Tv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function L3(t){return Tv(t).replace(/%3B/gi,";")}function HN(t){return encodeURI(t)}function P5(t){return Tv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function E3(t){return decodeURIComponent(t)}function _v(t){return E3(t.replace(/\+/g,"%20"))}function Nv(t){return`${P5(t.path)}${$N(t.parameters)}`}function $N(t){return Object.entries(t).map(([e,n])=>`;${P5(e)}=${P5(n)}`).join("")}function qN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${L3(n)}=${L3(i)}`).join("&"):`${L3(n)}=${L3(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var GN=/^[^\/()?;#]+/;function S5(t){let e=t.match(GN);return e?e[0]:""}var WN=/^[^\/()?;=#]+/;function KN(t){let e=t.match(WN);return e?e[0]:""}var QN=/^[^=?&#]+/;function YN(t){let e=t.match(QN);return e?e[0]:""}var XN=/^[^&#]+/;function ZN(t){let e=t.match(XN);return e?e[0]:""}var k5=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ce]=new ke(e,n)),r}parseSegment(){let e=S5(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new zr(E3(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=S5(this.remaining);i&&(r=i,this.capture(r))}e[E3(n)]=E3(r)}parseQueryParam(e){let n=YN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ZN(this.remaining);o&&(r=o,this.capture(r))}let i=_v(n),s=_v(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=S5(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Ce]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function Rv(t){return t.segments.length>0?new ke([],{[Ce]:t}):t}function Pv(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Pv(i);if(r===Ce&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ke(t.segments,e);return JN(n)}function JN(t){if(t.numberOfChildren===1&&t.children[Ce]){let e=t.children[Ce];return new ke(t.segments.concat(e.segments),e.children)}return t}function Ar(t){return t instanceof V2}function eR(t,e,n=null,r=null){let i=kv(t);return Ov(i,e,n,r)}function kv(t){let e;function n(s){let o={};for(let a of s.children){let u=n(a);o[a.outlet]=u}let c=new ke(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=Rv(r);return e??i}function Ov(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return A5(i,i,i,n,r);let s=tR(e);if(s.toRoot())return A5(i,i,new ke([],{}),n,r);let o=nR(s,i,t),c=o.processChildren?t0(o.segmentGroup,o.index,s.commands):Vv(o.segmentGroup,o.index,s.commands);return A5(i,o.segmentGroup,c,n,r)}function z3(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function s0(t){return typeof t=="object"&&t!=null&&t.outlets}function A5(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([a,u])=>{s[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=Fv(t,e,n);let c=Rv(Pv(o));return new V2(c,s,i)}function Fv(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Fv(s,e,n)}),new ke(t.segments,r)}var S3=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&z3(r[0]))throw new Y(4003,!1);let i=r.find(s0);if(i&&i!==Ev(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new S3(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new S3(n,e,r)}var ns=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nR(t,e,n){if(t.isAbsolute)return new ns(e,!0,0);if(!n)return new ns(e,!1,NaN);if(n.parent===null)return new ns(n,!0,0);let r=z3(t.commands[0])?0:1,i=n.segments.length-1+r;return rR(n,i,t.numberOfDoubleDots)}function rR(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new ns(r,!1,i-s)}function iR(t){return s0(t[0])?t[0].outlets:{[Ce]:t}}function Vv(t,e,n){if(t??=new ke([],{}),t.segments.length===0&&t.hasChildren())return t0(t,e,n);let r=sR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ke(t.segments.slice(0,r.pathIndex),{});return s.children[Ce]=new ke(t.segments.slice(r.pathIndex),t.children),t0(s,0,i)}else return r.match&&i.length===0?new ke(t.segments,{}):r.match&&!t.hasChildren()?O5(t,e,n):r.match?t0(t,0,i):O5(t,e,n)}function t0(t,e,n){if(n.length===0)return new ke(t.segments,{});{let r=iR(n),i={};if(Object.keys(r).some(s=>s!==Ce)&&t.children[Ce]&&t.numberOfChildren===1&&t.children[Ce].segments.length===0){let s=t0(t.children[Ce],e,n);return new ke(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Vv(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ke(t.segments,i)}}function sR(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(s0(c))break;let a=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!wv(a,u,o))return s;r+=2}else{if(!wv(a,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function O5(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(s0(s)){let a=oR(s.outlets);return new ke(r,a)}if(i===0&&z3(n[0])){let a=t.segments[e];r.push(new zr(a.path,Mv(n[0]))),i++;continue}let o=s0(s)?s.outlets[Ce]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&z3(c)?(r.push(new zr(o,Mv(c))),i+=2):(r.push(new zr(o,{})),i++)}return new ke(r,{})}function oR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=O5(new ke([],{}),0,r))}),e}function Mv(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wv(t,e,n){return t==n.path&&e2(e,n.parameters)}var n0="imperative",wt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(wt||{}),vn=class{constructor(e,n){this.id=e,this.url=n}},o0=class extends vn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},T1=class extends vn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(sn||{}),F5=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(F5||{}),F2=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wt.NavigationSkipped}},c0=class extends vn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},A3=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V5=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U5=class extends vn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},B5=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j5=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},H5=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$5=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},q5=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G5=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W5=class{constructor(e){this.snapshot=e,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K5=class{constructor(e){this.snapshot=e,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var a0=class{},os=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function cR(t,e){return t.providers&&!t._injector&&(t._injector=l5(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dn(t){return t.outlet||Ce}function aR(t,e){let n=t.filter(r=>Dn(r)===e);return n.push(...t.filter(r=>Dn(r)!==e)),n}function p0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Q5=class{get injector(){return p0(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new O3(this.rootInjector),this.attachRef=null}},O3=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Q5(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ue(mn))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),D3=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Y5(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Y5(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=X5(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return X5(e,this._root).map(n=>n.value)}};function Y5(t,e){if(t===e.value)return e;for(let n of e.children){let r=Y5(t,n);if(r)return r}return null}function X5(t,e){if(t===e.value)return[e];for(let n of e.children){let r=X5(t,n);if(r.length)return r.unshift(e),r}return[]}var rn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var T3=class extends D3{constructor(e,n){super(e),this.snapshot=n,c7(this,e)}toString(){return this.snapshot.toString()}};function Uv(t){let e=lR(t),n=new gt([new zr("",{})]),r=new gt({}),i=new gt({}),s=new gt({}),o=new gt(""),c=new Tr(n,r,s,o,i,Ce,t,e.root);return c.snapshot=e.root,new T3(new rn(c,[]),e)}function lR(t){let e={},n={},r={},i="",s=new rs([],e,r,i,n,Ce,t,null,{});return new R3("",new rn(s,[]))}var Tr=class{constructor(e,n,r,i,s,o,c,a){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(ae(u=>u[h0]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>ss(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>ss(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function N3(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&jv(i)&&(r.resolve[h0]=i.title),r}var rs=class{get title(){return this.data?.[h0]}constructor(e,n,r,i,s,o,c,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ss(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},R3=class extends D3{constructor(e,n){super(n),this.url=e,c7(this,n)}toString(){return Bv(this._root)}};function c7(t,e){e.value._routerState=t,e.children.forEach(n=>c7(t,n))}function Bv(t){let e=t.children.length>0?` { ${t.children.map(Bv).join(", ")} } `:"";return`${t.value}${e}`}function D5(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,e2(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),e2(e.params,n.params)||t.paramsSubject.next(n.params),kN(e.url,n.url)||t.urlSubject.next(n.url),e2(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Z5(t,e){let n=e2(t.params,e.params)&&UN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Z5(t.parent,e.parent))}function jv(t){return typeof t.title=="string"||t.title===null}var a7=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ce,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=H(O3),this.location=H(Mr),this.changeDetector=H(xr),this.inputBinder=H(l7,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new J5(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ze({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tt]})}}return t})(),J5=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Tr?this.route:e===O3?this.childContexts:this.parent.get(e,n)}},l7=new oe("");function uR(t,e,n){let r=l0(t,e._root,n?n._root:void 0);return new T3(r,e)}function l0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fR(t,e,n);return new rn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>l0(t,c)),o}}let r=dR(e.value),i=e.children.map(s=>l0(t,s));return new rn(r,i)}}function fR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return l0(t,r,i);return l0(t,r)})}function dR(t){return new Tr(new gt(t.url),new gt(t.params),new gt(t.queryParams),new gt(t.fragment),new gt(t.data),t.outlet,t.component,t)}var u0=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Hv="ngNavigationCancelingError";function P3(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ar(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$v(!1,sn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function $v(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Hv]=!0,n.cancellationCode=e,n}function hR(t){return qv(t)&&Ar(t.url)}function qv(t){return!!t&&t[Hv]}var pR=(t,e,n,r)=>ae(i=>(new e7(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),e7=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),D5(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new K5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new G5(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(D5(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),D5(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},k3=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},is=class{constructor(e,n){this.component=e,this.route=n}};function mR(t,e,n){let r=t._root,i=e?e._root:null;return Jo(r,i,n,[r.value])}function gR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function as(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xg(t)?t:e.get(t):r}function Jo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ts(e);return t.children.forEach(o=>{yR(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>r0(c,n.getContext(o),i)),i}function yR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=CR(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new k3(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Jo(t,e,c?c.children:null,r,i):Jo(t,e,n,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new is(c.outlet.component,o))}else o&&r0(e,c,i),i.canActivateChecks.push(new k3(r)),s.component?Jo(t,null,c?c.children:null,r,i):Jo(t,null,n,r,i);return i}function CR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Sr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sr(t.url,e.url)||!e2(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z5(t,e)||!e2(t.queryParams,e.queryParams);case"paramsChange":default:return!Z5(t,e)}}function r0(t,e,n){let r=ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?r0(o,e.children.getContext(s),n):r0(o,null,n):r0(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new is(e.outlet.component,i)):n.canDeactivateChecks.push(new is(null,i)):n.canDeactivateChecks.push(new is(null,i))}function m0(t){return typeof t=="function"}function vR(t){return typeof t=="boolean"}function _R(t){return t&&m0(t.canLoad)}function MR(t){return t&&m0(t.canActivate)}function wR(t){return t&&m0(t.canActivateChild)}function LR(t){return t&&m0(t.canDeactivate)}function bR(t){return t&&m0(t.canMatch)}function Gv(t){return t instanceof _2||t?.name==="EmptyError"}var b3=Symbol("INITIAL_VALUE");function cs(){return qe(t=>M2(t.map(e=>e.pipe(In(1),d4(b3)))).pipe(ae(e=>{for(let n of e)if(n!==!0){if(n===b3)return b3;if(n===!1||IR(n))return n}return!0}),Kt(e=>e!==b3),In(1)))}function IR(t){return Ar(t)||t instanceof u0}function xR(t,e){return ot(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(ie(R({},n),{guardsResult:!0})):ER(o,r,i,t).pipe(ot(c=>c&&vR(c)?zR(r,s,t,e):Z(c)),ae(c=>ie(R({},n),{guardsResult:c})))})}function ER(t,e,n,r){return Se(t).pipe(ot(i=>NR(i.component,i.route,n,e,r)),fn(i=>i!==!0,!0))}function zR(t,e,n,r){return Se(e).pipe(bi(i=>Li(AR(i.route.parent,r),SR(i.route,r),TR(t,i.path,n),DR(t,i.route,n))),fn(i=>i!==!0,!0))}function SR(t,e){return t!==null&&e&&e(new W5(t)),Z(!0)}function AR(t,e){return t!==null&&e&&e(new q5(t)),Z(!0)}function DR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>a4(()=>{let o=p0(e)??n,c=as(s,o),a=MR(c)?c.canActivate(e,t):E2(o,()=>c(e,t));return N1(a).pipe(fn())}));return Z(i).pipe(cs())}function TR(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gR(o)).filter(o=>o!==null).map(o=>a4(()=>{let c=o.guards.map(a=>{let u=p0(o.node)??n,d=as(a,u),p=wR(d)?d.canActivateChild(r,t):E2(u,()=>d(r,t));return N1(p).pipe(fn())});return Z(c).pipe(cs())}));return Z(s).pipe(cs())}function NR(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(c=>{let a=p0(e)??i,u=as(c,a),d=LR(u)?u.canDeactivate(t,e,n,r):E2(a,()=>u(t,e,n,r));return N1(d).pipe(fn())});return Z(o).pipe(cs())}function RR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let c=as(o,t),a=_R(c)?c.canLoad(e,n):E2(t,()=>c(e,n));return N1(a)});return Z(s).pipe(cs(),Wv(r))}function Wv(t){return qc(Ve(e=>{if(typeof e!="boolean")throw P3(t,e)}),ae(e=>e===!0))}function PR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let c=as(o,t),a=bR(c)?c.canMatch(e,n):E2(t,()=>c(e,n));return N1(a)});return Z(s).pipe(cs(),Wv(r))}var f0=class{constructor(e){this.segmentGroup=e||null}},d0=class extends Error{constructor(e){super(),this.urlTree=e}};function es(t){return jn(new f0(t))}function kR(t){return jn(new Y(4e3,!1))}function OR(t){return jn($v(!1,sn.GuardRejected))}var t7=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[Ce])return kR(`${e.redirectTo}`);i=i.children[Ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:a,fragment:u,routeConfig:d,url:p,outlet:m,params:y,data:w,title:A}=i,z=E2(s,()=>c({params:y,data:w,queryParams:a,fragment:u,routeConfig:d,url:p,outlet:m,title:A}));if(z instanceof V2)throw new d0(z);n=z}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new d0(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new V2(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new ke(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},n7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FR(t,e,n,r,i){let s=Kv(t,e,n);return s.matched?(r=cR(e,r),PR(r,e,n,i).pipe(ae(o=>o===!0?s:R({},n7)))):Z(s)}function Kv(t,e,n){if(e.path==="**")return VR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},n7):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PN)(n,t,e);if(!i)return R({},n7);let s={};Object.entries(i.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=i.consumed.length>0?R(R({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VR(t){return{matched:!0,parameters:t.length>0?Ev(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Lv(t,e,n,r){return n.length>0&&jR(t,n,r)?{segmentGroup:new ke(e,BR(r,new ke(n,t.children))),slicedSegments:[]}:n.length===0&&HR(t,n,r)?{segmentGroup:new ke(t.segments,UR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function UR(t,e,n,r){let i={};for(let s of n)if(F3(t,e,s)&&!r[Dn(s)]){let o=new ke([],{});i[Dn(s)]=o}return R(R({},r),i)}function BR(t,e){let n={};n[Ce]=e;for(let r of t)if(r.path===""&&Dn(r)!==Ce){let i=new ke([],{});n[Dn(r)]=i}return n}function jR(t,e,n){return n.some(r=>F3(t,e,r)&&Dn(r)!==Ce)}function HR(t,e,n){return n.some(r=>F3(t,e,r))}function F3(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $R(t,e,n){return e.length===0&&!t.children[n]}var r7=class{};function qR(t,e,n,r,i,s,o="emptyOnly"){return new i7(t,e,n,r,i,o,s).recognize()}var GR=31,i7=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new t7(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=Lv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(({children:n,rootSnapshot:r})=>{let i=new rn(r,n),s=new R3("",i),o=eR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new rs([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ce,n).pipe(ae(r=>({children:r,rootSnapshot:n})),ct(r=>{if(r instanceof d0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof f0?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ae(o=>o instanceof rn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(bi(o=>{let c=r.children[o],a=aR(n,o);return this.processSegmentGroup(e,a,c,o,i)}),f4((o,c)=>(o.push(...c),o)),g1(null),r8(),ot(o=>{if(o===null)return es(r);let c=Qv(o);return WR(c),Z(c)}))}processSegment(e,n,r,i,s,o,c){return Se(n).pipe(bi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o,c).pipe(ct(u=>{if(u instanceof f0)return Z(null);throw u}))),fn(a=>!!a),ct(a=>{if(Gv(a))return $R(r,i,s)?Z(new r7):es(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,a){return Dn(r)!==o&&(o===Ce||!F3(i,s,r))?es(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,a):es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=Kv(n,i,s);if(!a)return es(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GR&&(this.allowRedirects=!1));let y=new rs(s,u,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,bv(i),Dn(i),i.component??i._loadedComponent??null,i,Iv(i)),w=N3(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(ot(z=>this.processSegment(e,r,n,z.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=FR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(qe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qe(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=a,w=new rs(m,p,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,bv(r),Dn(r),r.component??r._loadedComponent??null,r,Iv(r)),A=N3(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:z,slicedSegments:P}=Lv(n,m,y,u);if(P.length===0&&z.hasChildren())return this.processChildren(d,u,z,w).pipe(ae(j=>new rn(w,j)));if(u.length===0&&P.length===0)return Z(new rn(w,[]));let F=Dn(r)===s;return this.processSegment(d,u,z,P,F?Ce:s,!0,w).pipe(ae(j=>new rn(w,j instanceof rn?[j]:[])))}))):es(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):RR(e,n,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):OR(n))):Z({routes:[],injector:e})}};function WR(t){t.sort((e,n)=>e.value.outlet===Ce?-1:n.value.outlet===Ce?1:e.value.outlet.localeCompare(n.value.outlet))}function KR(t){let e=t.value.routeConfig;return e&&e.path===""}function Qv(t){let e=[],n=new Set;for(let r of t){if(!KR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Qv(r.children);e.push(new rn(r.value,i))}return e.filter(r=>!n.has(r))}function bv(t){return t.data||{}}function Iv(t){return t.resolve||{}}function QR(t,e,n,r,i,s){return ot(o=>qR(t,e,n,r,o.extractedUrl,i,s).pipe(ae(({state:c,tree:a})=>ie(R({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function YR(t,e){return ot(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=new Set(i.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let u of Yv(a))o.add(u);let c=0;return Se(o).pipe(bi(a=>s.has(a)?XR(a,r,t,e):(a.data=N3(a,a.parent,t).resolve,Z(void 0))),Ve(()=>c++),Ii(1),ot(a=>c===o.size?Z(n):Ut))})}function Yv(t){let e=t.children.map(n=>Yv(n)).flat();return[t,...e]}function XR(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!jv(i)&&(s[h0]=i.title),ZR(s,t,e,r).pipe(ae(o=>(t._resolvedData=o,t.data=N3(t,t.parent,n).resolve,null)))}function ZR(t,e,n,r){let i=R5(t);if(i.length===0)return Z({});let s={};return Se(i).pipe(ot(o=>JR(t[o],e,n,r).pipe(fn(),Ve(c=>{if(c instanceof u0)throw P3(new i0,c);s[o]=c}))),Ii(1),n8(s),ct(o=>Gv(o)?Ut:jn(o)))}function JR(t,e,n,r){let i=p0(e)??r,s=as(t,i),o=s.resolve?s.resolve(e,n):E2(i,()=>s(e,n));return N1(o)}function T5(t){return qe(e=>{let n=t(e);return n?Se(n).pipe(ae(()=>e)):Z(e)})}var Xv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ce);return r}getResolvedTitleForRoute(n){return n.data[h0]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>H(eP),providedIn:"root"})}}return t})(),eP=(()=>{class t extends Xv{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ue(Cv))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),u7=new oe("",{providedIn:"root",factory:()=>({})}),tP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ne],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[a7],encapsulation:2})}}return t})();function f7(t){let e=t.children&&t.children.map(f7),n=e?ie(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ce&&(n.component=tP),n}var d7=new oe(""),nP=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(g5)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=N1(n.loadComponent()).pipe(ae(Zv),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),bo(()=>{this.componentLoaders.delete(n)})),i=new yi(r,()=>new ut).pipe(gi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=rP(r,this.compiler,n,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),o=new yi(s,()=>new ut).pipe(gi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rP(t,e,n,r){return N1(t.loadChildren()).pipe(ae(Zv),ot(i=>i instanceof Po||Array.isArray(i)?Z(i):Se(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(d7,[],{optional:!0,self:!0}).flat()),{routes:o.map(f7),injector:s}}))}function iP(t){return t&&typeof t=="object"&&"default"in t}function Zv(t){return iP(t)?t.default:t}var h7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>H(sP),providedIn:"root"})}}return t})(),sP=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oP=new oe("");var cP=new oe(""),aP=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=H(nP),this.environmentInjector=H(mn),this.urlSerializer=H(o7),this.rootContexts=H(O3),this.location=H(Go),this.inputBindingEnabled=H(l7,{optional:!0})!==null,this.titleStrategy=H(Xv),this.options=H(u7,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(h7),this.createViewTransition=H(oP,{optional:!0}),this.navigationErrorHandler=H(cP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new H5(i)),r=i=>this.events.next(new $5(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ie(R(R({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:n0,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(s=>s.id!==0),ae(s=>ie(R({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qe(s=>{let o=!1,c=!1;return Z(s).pipe(qe(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",sn.SupersededByNewNavigation),Ut;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ie(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let p="";return this.events.next(new Dr(a.id,this.urlSerializer.serialize(a.rawUrl),p,F5.IgnoredSameUrlNavigation)),a.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Z(a).pipe(qe(p=>{let m=this.transitions?.getValue();return this.events.next(new o0(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Ut:Promise.resolve(p)}),QR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ie(R({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new A3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:w,extras:A}=a,z=new o0(p,this.urlSerializer.serialize(m),y,w);this.events.next(z);let P=Uv(this.rootComponentType).snapshot;return this.currentTransition=s=ie(R({},a),{targetSnapshot:P,urlAfterRedirects:m,extras:ie(R({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Z(s)}else{let p="";return this.events.next(new Dr(a.id,this.urlSerializer.serialize(a.extractedUrl),p,F5.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Ut}}),Ve(a=>{let u=new V5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ae(a=>(this.currentTransition=s=ie(R({},a),{guards:mR(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),xR(this.environmentInjector,a=>this.events.next(a)),Ve(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw P3(this.urlSerializer,a.guardsResult);let u=new U5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Kt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",sn.GuardRejected),!1)),T5(a=>{if(a.guards.canActivateChecks.length)return Z(a).pipe(Ve(u=>{let d=new B5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),qe(u=>{let d=!1;return Z(u).pipe(YR(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",sn.NoDataFromResolver)}}))}),Ve(u=>{let d=new j5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),T5(a=>{let u=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ve(m=>{d.component=m}),ae(()=>{})));for(let m of d.children)p.push(...u(m));return p};return M2(u(a.targetSnapshot.root)).pipe(g1(null),In(1))}),T5(()=>this.afterPreactivation()),qe(()=>{let{currentSnapshot:a,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?Se(d).pipe(ae(()=>s)):Z(s)}),ae(a=>{let u=uR(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=ie(R({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ve(()=>{this.events.next(new a0)}),pR(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),In(1),Ve({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new T1(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),xi(this.transitionAbortSubject.pipe(Ve(a=>{throw a}))),bo(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",sn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ct(a=>{if(c=!0,qv(a))this.events.next(new F2(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),hR(a)?this.events.next(new os(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let u=new c0(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let d=E2(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof u0){let{message:p,cancellationCode:m}=P3(this.urlSerializer,d);this.events.next(new F2(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new os(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let p=n.errorHandler(a);s.resolve(!!p)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ut}))}))}cancelNavigationTransition(n,r,i){let s=new F2(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lP(t){return t!==n0}var uP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>H(fP),providedIn:"root"})}}return t})(),s7=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fP=(()=>{class t extends s7{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=E1(t)))(i||t)}})()}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>H(dP),providedIn:"root"})}}return t})(),dP=(()=>{class t extends Jv{constructor(){super(...arguments),this.location=H(Go),this.urlSerializer=H(o7),this.options=H(u7,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(h7),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new V2,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Uv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof o0)this.stateMemento=this.createStateMemento();else if(n instanceof Dr)this.rawUrlTree=r.initialUrl;else if(n instanceof A3){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof a0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof F2&&(n.code===sn.GuardRejected||n.code===sn.NoDataFromResolver)?this.restoreHistory(r):n instanceof c0?this.restoreHistory(r,!0):n instanceof T1&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof V2?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=R(R({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=R(R({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=E1(t)))(i||t)}})()}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(e0||{});function hP(t,e){t.events.pipe(Kt(n=>n instanceof T1||n instanceof F2||n instanceof c0||n instanceof Dr),ae(n=>n instanceof T1||n instanceof Dr?e0.COMPLETE:(n instanceof F2?n.code===sn.Redirect||n.code===sn.SupersededByNewNavigation:!1)?e0.REDIRECTING:e0.FAILED),Kt(n=>n!==e0.REDIRECTING),In(1)).subscribe(()=>{e()})}function pP(t){throw t}var mP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},U2=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(y3),this.stateManager=H(Jv),this.options=H(u7,{optional:!0})||{},this.pendingTasks=H(Ki),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(aP),this.urlSerializer=H(o7),this.location=H(Go),this.urlHandlingStrategy=H(h7),this._events=new ut,this.errorHandler=this.options.errorHandler||pP,this.navigated=!1,this.routeReuseStrategy=H(uP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(d7,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(l7,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof F2&&r.code!==sn.Redirect&&r.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof T1)this.navigated=!0;else if(r instanceof os){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=R({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lP(i.source)},o);this.scheduleNavigation(c,n0,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),n0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let a=R({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(f7),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=R(R({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=kv(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return Ov(p,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ar(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,n0,null,r)}navigate(n,r={skipLocationChange:!1}){return yP(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=R({},mP):r===!1?i=R({},gP):i=r,Ar(n))return vv(this.currentUrlTree,n,i);let s=this.parseUrl(n);return vv(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((p,m)=>{c=p,a=m});let d=this.pendingTasks.add();return hP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Y(4008,!1)}function CP(t){return!(t instanceof a0)&&!(t instanceof os)}var R1=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof T1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ar(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Zy(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Ar(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(q(U2),q(Tr),Ou("tabindex"),q(Cn),q(Nt),q(Ji))}}static{this.\u0275dir=Ze({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ce("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Jn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",P2],skipLocationChange:[2,"skipLocationChange","skipLocationChange",P2],replaceUrl:[2,"replaceUrl","replaceUrl",P2],routerLink:"routerLink"},standalone:!0,features:[a5,Tt]})}}return t})();var vP=new oe("");function e_(t,...e){return x2([{provide:d7,multi:!0,useValue:t},[],{provide:Tr,useFactory:_P,deps:[U2]},{provide:m5,multi:!0,useFactory:MP},e.map(n=>n.\u0275providers)])}function _P(t){return t.routerState.root}function MP(){let t=H(Qt);return e=>{let n=t.get(Ir);if(e!==n.components[0])return;let r=t.get(U2),i=t.get(wP);t.get(LP)===1&&r.initialNavigation(),t.get(bP,null,Me.Optional)?.setUpPreloading(),t.get(vP,null,Me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wP=new oe("",{factory:()=>new ut}),LP=new oe("",{providedIn:"root",factory:()=>1});var bP=new oe("");var n_=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,y=u&63;a||(y=64,o||(m=64)),r.push(n[d],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new g7;let m=s<<2|c>>4;if(r.push(m),u!==64){let y=c<<4&240|u>>2;if(r.push(y),p!==64){let w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},g7=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xP=function(t){let e=n_(t);return r_.encodeByteArray(e,!0)},g0=function(t){return xP(t).replace(/\./g,"")},C7=function(t){try{return r_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zP=()=>EP().__FIREBASE_DEFAULTS__,SP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&C7(t[1]);return e&&JSON.parse(e)},U3=()=>{try{return zP()||SP()||AP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v7=t=>{var e,n;return(n=(e=U3())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},B3=t=>{let e=v7(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_7=()=>{var t;return(t=U3())===null||t===void 0?void 0:t.config},M7=t=>{var e;return(e=U3())===null||e===void 0?void 0:e[`_${t}`]};var V3=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function j3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[g0(JSON.stringify(n)),g0(JSON.stringify(o)),""].join(".")}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function DP(){var t;let e=(t=U3())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o_(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a_(){let t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l_(){return!DP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w7(){try{return typeof indexedDB=="object"}catch{return!1}}function u_(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var TP="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B2.prototype.create)}},B2=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NP(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new qt(i,c,r)}};function NP(t,e){return t.replace(RP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var RP=/\{\$([^}]+)}/g;function f_(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j2(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(t_(s)&&t_(o)){if(!j2(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function t_(t){return t!==null&&typeof t=="object"}function y0(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ls(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function us(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d_(t,e){let n=new y7(t,e);return n.subscribe.bind(n)}var y7=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m7),i.error===void 0&&(i.error=m7),i.complete===void 0&&(i.complete=m7);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m7(){}var See=4*60*60*1e3;function He(t){return t&&t._delegate?t._delegate:t}var Zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Nr="[DEFAULT]";var L7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new V3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OP(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kP(t){return t===Nr?void 0:t}function OP(t){return t.instantiationMode==="EAGER"}var H3=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new L7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var FP=[],Ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ee||{}),VP={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},UP=Ee.INFO,BP={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},jP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=BP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},P1=class{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=jP,this._userLogHandler=null,FP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};var HP=(t,e)=>e.some(n=>t instanceof n),h_,p_;function $P(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qP(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var m_=new WeakMap,I7=new WeakMap,g_=new WeakMap,b7=new WeakMap,E7=new WeakMap;function GP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(t2(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m_.set(n,t)}).catch(()=>{}),E7.set(e,t),e}function WP(t){if(I7.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});I7.set(t,e)}var x7={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I7.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return t2(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y_(t){x7=t(x7)}function KP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call($3(this),e,...n);return g_.set(r,e.sort?e.sort():[e]),t2(r)}:qP().includes(t)?function(...e){return t.apply($3(this),e),t2(m_.get(this))}:function(...e){return t2(t.apply($3(this),e))}}function QP(t){return typeof t=="function"?KP(t):(t instanceof IDBTransaction&&WP(t),HP(t,$P())?new Proxy(t,x7):t)}function t2(t){if(t instanceof IDBRequest)return GP(t);if(b7.has(t))return b7.get(t);let e=QP(t);return e!==t&&(b7.set(t,e),E7.set(e,t)),e}var $3=t=>E7.get(t);function v_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=t2(o);return r&&o.addEventListener("upgradeneeded",a=>{r(t2(o.result),a.oldVersion,a.newVersion,t2(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var YP=["get","getKey","getAll","getAllKeys","count"],XP=["put","add","delete","clear"],z7=new Map;function C_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(z7.get(e))return z7.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=XP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YP.includes(n)))return;let s=function(o,...c){return v(this,null,function*(){let a=this.transaction(o,i?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&a.done]))[0]})};return z7.set(e,s),s}y_(t=>ie(R({},t),{get:(e,n,r)=>C_(e,n)||t.get(e,n,r),has:(e,n)=>!!C_(e,n)||t.has(e,n)}));var A7=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ZP(t){let e=t.getComponent();return e?.type==="VERSION"}var D7="@firebase/app",__="0.10.13";var H2=new P1("@firebase/app"),JP="@firebase/app-compat",ek="@firebase/analytics-compat",tk="@firebase/analytics",nk="@firebase/app-check-compat",rk="@firebase/app-check",ik="@firebase/auth",sk="@firebase/auth-compat",ok="@firebase/database",ck="@firebase/data-connect",ak="@firebase/database-compat",lk="@firebase/functions",uk="@firebase/functions-compat",fk="@firebase/installations",dk="@firebase/installations-compat",hk="@firebase/messaging",pk="@firebase/messaging-compat",mk="@firebase/performance",gk="@firebase/performance-compat",yk="@firebase/remote-config",Ck="@firebase/remote-config-compat",vk="@firebase/storage",_k="@firebase/storage-compat",Mk="@firebase/firestore",wk="@firebase/vertexai-preview",Lk="@firebase/firestore-compat",bk="firebase",Ik="10.14.1";var T7="[DEFAULT]",xk={[D7]:"fire-core",[JP]:"fire-core-compat",[tk]:"fire-analytics",[ek]:"fire-analytics-compat",[rk]:"fire-app-check",[nk]:"fire-app-check-compat",[ik]:"fire-auth",[sk]:"fire-auth-compat",[ok]:"fire-rtdb",[ck]:"fire-data-connect",[ak]:"fire-rtdb-compat",[lk]:"fire-fn",[uk]:"fire-fn-compat",[fk]:"fire-iid",[dk]:"fire-iid-compat",[hk]:"fire-fcm",[pk]:"fire-fcm-compat",[mk]:"fire-perf",[gk]:"fire-perf-compat",[yk]:"fire-rc",[Ck]:"fire-rc-compat",[vk]:"fire-gcs",[_k]:"fire-gcs-compat",[Mk]:"fire-fst",[Lk]:"fire-fst-compat",[wk]:"fire-vertex","fire-js":"fire-js",[bk]:"fire-js-all"};var C0=new Map,Ek=new Map,N7=new Map;function M_(t,e){try{t.container.addComponent(e)}catch(n){H2.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function n2(t){let e=t.name;if(N7.has(e))return H2.debug(`There were multiple attempts to register component ${e}.`),!1;N7.set(e,t);for(let n of C0.values())M_(n,t);for(let n of Ek.values())M_(n,t);return!0}function Rr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t.settings!==void 0}var zk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},k1=new B2("app","Firebase",zk);var R7=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw k1.create("app-deleted",{appName:this._name})}};var r2=Ik;function O7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:T7,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw k1.create("bad-app-name",{appName:String(i)});if(n||(n=_7()),!n)throw k1.create("no-options");let s=C0.get(i);if(s){if(j2(n,s.options)&&j2(r,s.config))return s;throw k1.create("duplicate-app",{appName:i})}let o=new H3(i);for(let a of N7.values())o.addComponent(a);let c=new R7(n,r,o);return C0.set(i,c),c}function O1(t=T7){let e=C0.get(t);if(!e&&t===T7&&_7())return O7();if(!e)throw k1.create("no-app",{appName:t});return e}function q3(){return Array.from(C0.values())}function rt(t,e,n){var r;let i=(r=xk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),H2.warn(c.join(" "));return}n2(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Sk="firebase-heartbeat-database",Ak=1,v0="firebase-heartbeat-store",S7=null;function I_(){return S7||(S7=v_(Sk,Ak,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(v0)}catch(n){console.warn(n)}}}}).catch(t=>{throw k1.create("idb-open",{originalErrorMessage:t.message})})),S7}function Dk(t){return v(this,null,function*(){try{let n=(yield I_()).transaction(v0),r=yield n.objectStore(v0).get(x_(t));return yield n.done,r}catch(e){if(e instanceof qt)H2.warn(e.message);else{let n=k1.create("idb-get",{originalErrorMessage:e?.message});H2.warn(n.message)}}})}function w_(t,e){return v(this,null,function*(){try{let r=(yield I_()).transaction(v0,"readwrite");yield r.objectStore(v0).put(e,x_(t)),yield r.done}catch(n){if(n instanceof qt)H2.warn(n.message);else{let r=k1.create("idb-set",{originalErrorMessage:n?.message});H2.warn(r.message)}}})}function x_(t){return`${t.name}!${t.options.appId}`}var Tk=1024,Nk=30*24*60*60*1e3,P7=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new k7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Nk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){H2.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=L_(),{heartbeatsToSend:r,unsentEntries:i}=Rk(this._heartbeatsCache.heartbeats),s=g0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return H2.warn(n),""}})}};function L_(){return new Date().toISOString().substring(0,10)}function Rk(t,e=Tk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var k7=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return w7()?u_().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Dk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function b_(t){return g0(JSON.stringify({version:2,heartbeats:t})).length}function Pk(t){n2(new Zt("platform-logger",e=>new A7(e),"PRIVATE")),n2(new Zt("heartbeat",e=>new P7(e),"PRIVATE")),rt(D7,__,t),rt(D7,__,"esm2017"),rt("fire-js","")}Pk("");var kk="firebase",Ok="10.14.1";rt(kk,Ok,"app");var kr=new I2("ANGULARFIRE2_VERSION");function W3(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var _0=(t,e)=>{let n=e?[e]:q3(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ds=class{constructor(){return _0(Fk)}},Fk="app-check";function fs(){}var G3=class{zone;delegate;constructor(e,n=Xl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},F7=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new G3(Zone.current)),this.insideAngular=n.run(()=>new G3(Zone.current,Yl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ue(Ue))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function K3(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Vk(t){return K3().ngZone.runOutsideAngular(()=>t())}function Pr(t){return K3().ngZone.run(()=>t())}function Uk(t){return Bk(K3())(t)}function Bk(t){return function(n){return n=n.lift(new F7(t.ngZone)),n.pipe(m1(t.outsideAngular),p1(t.insideAngular))}}var jk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Pr(()=>t.apply(void 0,r))},Ye=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Pr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs))),r[s]=jk(r[s],n));let i=Vk(()=>t.apply(this,r));if(!e)if(i instanceof ge){let s=K3();return i.pipe(m1(s.outsideAngular),p1(s.insideAngular))}else return Pr(()=>i);return i instanceof ge?i.pipe(Uk):i instanceof Promise?Pr(()=>new Promise((s,o)=>i.then(c=>Pr(()=>s(c)),c=>Pr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Pr(()=>i)};var $2=class{constructor(e){return e}},Or=class{constructor(){return q3()}};function Hk(t){return t&&t.length===1?t[0]:new $2(O1())}var V7=new oe("angularfire2._apps"),$k={provide:$2,useFactory:Hk,deps:[[new Yt,V7]]},qk={provide:Or,deps:[[new Yt,V7]]};function Gk(t){return(e,n)=>{let r=n.get(S1);rt("angularfire",kr.full,"core"),rt("angularfire",kr.full,"app"),rt("angular",GC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new $2(i)}}function E_(t,...e){return x2([$k,qk,{provide:V7,useFactory:Gk(t),multi:!0,deps:[Ue,Qt,hs,...e]}])}var z_=Ye(O7,!0);function q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var G_=q_,W_=new B2("auth","Firebase",q_());var ea=new P1("@firebase/auth");function Wk(t,...e){ea.logLevel<=Ee.WARN&&ea.warn(`Auth (${r2}): ${t}`,...e)}function Y3(t,...e){ea.logLevel<=Ee.ERROR&&ea.error(`Auth (${r2}): ${t}`,...e)}function s2(t,...e){throw lf(t,...e)}function Fr(t,...e){return lf(t,...e)}function K_(t,e,n){let r=Object.assign(Object.assign({},G_()),{[e]:n});return new B2("auth","Firebase",r).create(e,{appName:t.name})}function W2(t){return K_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W_.create(t,...e)}function fe(t,e,...n){if(!t)throw lf(e,...n)}function q2(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Y3(e),new Error(e)}function V1(t,e){t||q2(e)}function H7(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kk(){return S_()==="http:"||S_()==="https:"}function S_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Qk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kk()||o_()||"connection"in navigator)?navigator.onLine:!0}function Yk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,V1(n>e,"Short delay should be less than long delay!"),this.isMobile=i_()||c_()}get(){return Qk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uf(t,e){V1(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ta=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;q2("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;q2("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;q2("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Xk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Zk=new Vr(3e4,6e4);function U1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function K2(s,o,c,a){return v(this,arguments,function*(t,e,n,r,i={}){return Q_(t,i,()=>v(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=y0(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},u);return s_()||(y.referrerPolicy="no-referrer"),ta.fetch()(Y_(t,t.config.apiHost,n,p),y)}))})}function Q_(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Xk),e);try{let i=new $7(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Q3(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Q3(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Q3(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Q3(t,"user-disabled",o);let d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw K_(t,d,u);s2(t,d)}}catch(i){if(i instanceof qt)throw i;s2(t,"network-request-failed",{message:String(i)})}})}function E0(s,o,c,a){return v(this,arguments,function*(t,e,n,r,i={}){let u=yield K2(t,e,n,r,i);return"mfaPendingCredential"in u&&s2(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Y_(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?uf(t.config,i):`${t.config.apiScheme}://${i}`}function Jk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $7=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),Zk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Q3(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function A_(t){return t!==void 0&&t.enterprise!==void 0}var q7=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function eO(t,e){return v(this,null,function*(){return K2(t,"GET","/v2/recaptchaConfig",U1(t,e))})}function tO(t,e){return v(this,null,function*(){return K2(t,"POST","/v1/accounts:delete",e)})}function X_(t,e){return v(this,null,function*(){return K2(t,"POST","/v1/accounts:lookup",e)})}function M0(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ff(t,e=!1){return v(this,null,function*(){let n=He(t),r=yield n.getIdToken(e),i=df(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:M0(U7(i.auth_time)),issuedAtTime:M0(U7(i.iat)),expirationTime:M0(U7(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function U7(t){return Number(t)*1e3}function df(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Y3("JWT malformed, contained fewer than 3 sections"),null;try{let i=C7(n);return i?JSON.parse(i):(Y3("Failed to decode base64 JWT payload"),null)}catch(i){return Y3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function D_(t){let e=df(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ps(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&nO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function nO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var G7=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var L0=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=M0(this.lastLoginAt),this.creationTime=M0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function na(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ps(t,X_(n,{idToken:r}));fe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z_(s.providerUserInfo):[],c=rO(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,d=a?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new L0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function hf(t){return v(this,null,function*(){let e=He(t);yield na(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function rO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z_(t){return t.map(e=>{var{providerId:n}=e,r=Jl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iO(t,e){return v(this,null,function*(){let n=yield Q_(t,{},()=>v(this,null,function*(){let r=y0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Y_(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ta.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sO(t,e){return v(this,null,function*(){return K2(t,"POST","/v2/accounts:revokeToken",U1(t,e))})}var w0=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");let n=D_(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield iO(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return q2("not implemented")}};function F1(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ms=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new L0(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield ps(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ff(this,e)}reload(){return hf(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield na(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Tn(this.auth.app))return Promise.reject(W2(this.auth));let e=yield this.getIdToken();return yield ps(this,tO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,a,u,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,z=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,P=(u=n.createdAt)!==null&&u!==void 0?u:void 0,F=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:j,emailVerified:W,isAnonymous:Le,providerData:ne,stsTokenManager:L}=n;fe(j&&L,e,"internal-error");let C=w0.fromJSON(this.name,L);fe(typeof j=="string",e,"internal-error"),F1(p,e.name),F1(m,e.name),fe(typeof W=="boolean",e,"internal-error"),fe(typeof Le=="boolean",e,"internal-error"),F1(y,e.name),F1(w,e.name),F1(A,e.name),F1(z,e.name),F1(P,e.name),F1(F,e.name);let M=new t({uid:j,auth:e,email:m,emailVerified:W,displayName:p,isAnonymous:Le,photoURL:w,phoneNumber:y,tenantId:A,stsTokenManager:C,createdAt:P,lastLoginAt:F});return ne&&Array.isArray(ne)&&(M.providerData=ne.map(b=>Object.assign({},b))),z&&(M._redirectEventId=z),M}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new w0;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield na(s),s})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];fe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Z_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new w0;c.updateFromIdToken(r);let a=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new L0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var T_=new Map;function G2(t){V1(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(V1(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}var oO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),W7=oO;function X3(t,e,n){return`firebase:${t}:${e}:${n}`}var ra=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=X3(this.userKey,i.apiKey,s),this.fullPersistenceKey=X3("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(G2(W7),e,r);let i=(yield Promise.all(n.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||G2(W7),o=X3(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let d=yield u._get(o);if(d){let p=ms._fromJSON(e,d);u!==s&&(c=p),s=u;break}}catch{}let a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new t(s,e,r):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(u=>v(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function N_(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(sM(e))return"Webos";if(eM(e))return"Safari";if((e.includes("chrome/")||tM(e))&&!e.includes("edge/"))return"Chrome";if(rM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function J_(t=Ct()){return/firefox\//i.test(t)}function eM(t=Ct()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tM(t=Ct()){return/crios\//i.test(t)}function nM(t=Ct()){return/iemobile/i.test(t)}function rM(t=Ct()){return/android/i.test(t)}function iM(t=Ct()){return/blackberry/i.test(t)}function sM(t=Ct()){return/webos/i.test(t)}function pf(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cO(t=Ct()){var e;return pf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aO(){return a_()&&document.documentMode===10}function oM(t=Ct()){return pf(t)||rM(t)||sM(t)||iM(t)||/windows phone/i.test(t)||nM(t)}function cM(t,e=[]){let n;switch(t){case"Browser":n=N_(Ct());break;case"Worker":n=`${N_(Ct())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${r2}/${r}`}var K7=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let a=e(s);o(a)}catch(a){c(a)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function lO(n){return v(this,arguments,function*(t,e={}){return K2(t,"GET","/v2/passwordPolicy",U1(t,e))})}var uO=6,Q7=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:uO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Y7=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ia(this),this.idTokenSubscription=new ia(this),this.beforeStateQueue=new K7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=G2(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield X_(this,{idToken:e}),r=yield ms._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Tn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield na(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Yk()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Tn(this.app))return Promise.reject(W2(this));let n=e?He(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Tn(this.app)?Promise.reject(W2(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tn(this.app)?Promise.reject(W2(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(G2(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield lO(this),n=new Q7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new B2("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&G2(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=yield ra.create(this,[G2(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{let a=e.addObserver(n);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Wk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Br(t){return He(t)}var ia=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=d_(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fa={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fO(t){fa=t}function aM(t){return fa.loadJS(t)}function dO(){return fa.recaptchaEnterpriseScript}function hO(){return fa.gapiScript}function lM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var pO="recaptcha-enterprise",mO="NO_RECAPTCHA",X7=class{constructor(e){this.type=pO,this.auth=Br(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(s){return v(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>v(this,null,function*(){eO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let u=new q7(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{c(a)})}))})}function i(s,o,c){let a=window.grecaptcha;A_(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(mO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&A_(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=dO();a.length!==0&&(a+=c),aM(a).then(()=>{i(c,s,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})})}};function R_(t,e,n,r=!1){return v(this,null,function*(){let i=new X7(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Z7(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield R_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield R_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function mf(t,e){let n=Rr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(j2(s,e??{}))return i;s2(i,"already-initialized")}return n.initialize({options:e})}function gO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(G2);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gf(t,e,n){let r=Br(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=uM(e),{host:o,port:c}=yO(e),a=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||CO()}function uM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yO(t){let e=uM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:P_(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:P_(o)}}}function P_(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function CO(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var b0=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return q2("not implemented")}_getIdTokenResponse(e){return q2("not implemented")}_linkToIdToken(e,n){return q2("not implemented")}_getReauthenticationResolver(e){return q2("not implemented")}};function vO(t,e){return v(this,null,function*(){return K2(t,"POST","/v1/accounts:signUp",e)})}function _O(t,e){return v(this,null,function*(){return E0(t,"POST","/v1/accounts:signInWithPassword",U1(t,e))})}function MO(t,e){return v(this,null,function*(){return E0(t,"POST","/v1/accounts:signInWithEmailLink",U1(t,e))})}function wO(t,e){return v(this,null,function*(){return E0(t,"POST","/v1/accounts:signInWithEmailLink",U1(t,e))})}var I0=class t extends b0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z7(e,n,"signInWithPassword",_O);case"emailLink":return MO(e,{email:this._email,oobCode:this._password});default:s2(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z7(e,r,"signUpPassword",vO);case"emailLink":return wO(e,{idToken:n,email:this._email,oobCode:this._password});default:s2(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function B7(t,e){return v(this,null,function*(){return E0(t,"POST","/v1/accounts:signInWithIdp",U1(t,e))})}function LO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bO(t){let e=ls(us(t)).link,n=e?ls(us(e)).deep_link_id:null,r=ls(us(t)).deep_link_id;return(r?ls(us(r)).link:null)||r||n||e||t}var sa=class t{constructor(e){var n,r,i,s,o,c;let a=ls(us(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,d=(r=a.oobCode)!==null&&r!==void 0?r:null,p=LO((i=a.mode)!==null&&i!==void 0?i:null);fe(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=a.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=bO(e);try{return new t(n)}catch{return null}}};var fM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return I0._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=sa.parseLink(r);return fe(i,"argument-error"),I0._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),oa=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var J7=class extends oa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function IO(t,e){return v(this,null,function*(){return E0(t,"POST","/v1/accounts:signUp",U1(t,e))})}var gs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let s=yield ms._fromIdTokenResponse(e,r,i),o=k_(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=k_(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function k_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ef=class t extends qt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,s,e,r):s})}function xO(t,e,n=!1){return v(this,null,function*(){let r=yield ps(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return gs._forOperation(t,"link",r)})}function EO(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Tn(r.app))return Promise.reject(W2(r));let i="reauthenticate";try{let s=yield ps(t,dM(r,i,e,t),n);fe(s.idToken,r,"internal-error");let o=df(s.idToken);fe(o,r,"internal-error");let{sub:c}=o;return fe(t.uid===c,r,"user-mismatch"),gs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&s2(r,"user-mismatch"),s}})}function hM(t,e,n=!1){return v(this,null,function*(){if(Tn(t.app))return Promise.reject(W2(t));let r="signIn",i=yield dM(t,r,e),s=yield gs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function yf(t,e){return v(this,null,function*(){return hM(Br(t),e)})}function pM(t){return v(this,null,function*(){let e=Br(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Cf(t,e,n){return v(this,null,function*(){if(Tn(t.app))return Promise.reject(W2(t));let r=Br(t),o=yield Z7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IO).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&pM(t),a}),c=yield gs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function vf(t,e,n){return Tn(t.app)?Promise.reject(W2(t)):yf(He(t),fM.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&pM(t),r}))}function zO(t,e){return v(this,null,function*(){return K2(t,"POST","/v1/accounts:update",e)})}function _f(r,i){return v(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=He(t),c={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=yield ps(s,zO(s.auth,c));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;let u=s.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(a)})}function Mf(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function wf(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function Lf(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function bf(t){return He(t).signOut()}var ca="__sak";var aa=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ca,"1"),this.storage.removeItem(ca),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var SO=1e3,AO=10,DO=(()=>{class t extends aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);aO()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,AO):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield d1(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield d1(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield d1(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mM=DO;var TO=(()=>{class t extends aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),If=TO;function NO(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var RO=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let a=Array.from(c).map(d=>v(this,null,function*(){return d(r.origin,o)})),u=yield NO(a);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function gM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var tf=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=gM("",20);i.port1.start();let d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function i2(){return window}function PO(t){i2().location.href=t}function yM(){return typeof i2().WorkerGlobalScope<"u"&&typeof i2().importScripts=="function"}function kO(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function OO(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FO(){return yM()?self:null}var CM="firebaseLocalStorageDb",VO=1,la="firebaseLocalStorage",vM="fbase_key",Ur=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function da(t,e){return t.transaction([la],e?"readwrite":"readonly").objectStore(la)}function UO(){let t=indexedDB.deleteDatabase(CM);return new Ur(t).toPromise()}function nf(){let t=indexedDB.open(CM,VO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(la,{keyPath:vM})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(la)?e(r):(r.close(),yield UO(),e(yield nf()))}))})}function O_(t,e,n){return v(this,null,function*(){let r=da(t,!0).put({[vM]:e,value:n});return new Ur(r).toPromise()})}function BO(t,e){return v(this,null,function*(){let n=da(t,!1).get(e),r=yield new Ur(n).toPromise();return r===void 0?null:r.value})}function F_(t,e){let n=da(t,!0).delete(e);return new Ur(n).toPromise()}var jO=800,HO=3,$O=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield nf(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>HO)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return yM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=RO._getInstance(FO()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield kO(),!this.activeServiceWorker)return;this.sender=new tf(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||OO()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield nf();return yield O_(n,ca,"1"),yield F_(n,ca),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>O_(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>BO(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>F_(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(s=>{let o=da(s,!1).getAll();return new Ur(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),jO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_M=$O;var wte=lM("rcb"),Lte=new Vr(3e4,6e4);function qO(t,e){return e?G2(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var x0=class extends b0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return B7(e,this._buildIdpRequest())}_linkToIdToken(e,n){return B7(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return B7(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function GO(t){return hM(t.auth,new x0(t),t.bypassAuthState)}function WO(t){let{auth:e,user:n}=t;return fe(n,e,"internal-error"),EO(n,new x0(t),t.bypassAuthState)}function KO(t){return v(this,null,function*(){let{auth:e,user:n}=t;return fe(n,e,"internal-error"),xO(n,new x0(t),t.bypassAuthState)})}var rf=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return WO;default:s2(this.auth,"internal-error")}}resolve(e){V1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){V1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bte=new Vr(2e3,1e4);var QO="pendingRedirect",Z3=new Map,sf=class t extends rf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Z3.get(this.auth._key());if(!e){try{let r=(yield YO(this.resolver,this.auth))?yield d1(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Z3.set(this.auth._key(),e)}return this.bypassAuthState||Z3.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return d1(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,d1(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function YO(t,e){return v(this,null,function*(){let n=JO(e),r=ZO(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function XO(t,e){Z3.set(t._key(),e)}function ZO(t){return G2(t._redirectPersistence)}function JO(t){return X3(QO,t.config.apiKey,t.name)}function eF(t,e,n=!1){return v(this,null,function*(){if(Tn(t.app))return Promise.reject(W2(t));let r=Br(t),i=qO(r,e),o=yield new sf(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var tF=10*60*1e3,of=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tF&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(e))}saveEventToCache(e){this.cachedEventUids.add(V_(e)),this.lastProcessedEventTime=Date.now()}};function V_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MM(t);default:return!1}}function rF(n){return v(this,arguments,function*(t,e={}){return K2(t,"GET","/v1/projects",e)})}var iF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sF=/^https?/;function oF(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield rF(t);for(let n of e)try{if(cF(n))return}catch{}s2(t,"unauthorized-domain")})}function cF(t){let e=H7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sF.test(n))return!1;if(iF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var aF=new Vr(3e4,6e4);function U_(){let t=i2().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lF(t){return new Promise((e,n)=>{var r,i,s;function o(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(Fr(t,"network-request-failed"))},timeout:aF.get()})}if(!((i=(r=i2().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=i2().gapi)===null||s===void 0)&&s.load)o();else{let c=lM("iframefcb");return i2()[c]=()=>{gapi.load?o():n(Fr(t,"network-request-failed"))},aM(`${hO()}?onload=${c}`).catch(a=>n(a))}}).catch(e=>{throw J3=null,e})}var J3=null;function uF(t){return J3=J3||lF(t),J3}var fF=new Vr(5e3,15e3),dF="__/auth/iframe",hF="emulator/auth/iframe",pF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gF(t){let e=t.config;fe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?uf(e,hF):`https://${t.config.authDomain}/${dF}`,r={apiKey:e.apiKey,appName:t.name,v:r2},i=mF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${y0(r).slice(1)}`}function yF(t){return v(this,null,function*(){let e=yield uF(t),n=i2().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:gF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pF,dontclear:!0},r=>new Promise((i,s)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Fr(t,"network-request-failed"),c=i2().setTimeout(()=>{s(o)},fF.get());function a(){i2().clearTimeout(c),i(r)}r.ping(a).then(a,()=>{s(o)})})))})}var CF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vF=500,_F=600,MF="_blank",wF="http://localhost",ua=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function LF(t,e,n,r=vF,i=_F){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",a=Object.assign(Object.assign({},CF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ct().toLowerCase();n&&(c=tM(u)?MF:n),J_(u)&&(e=e||wF,a.scrollbars="yes");let d=Object.entries(a).reduce((m,[y,w])=>`${m}${y}=${w},`,"");if(cO(u)&&c!=="_self")return bF(e||"",c),new ua(null);let p=window.open(e||"",c,d);fe(p,t,"popup-blocked");try{p.focus()}catch{}return new ua(p)}function bF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var IF="__/auth/handler",xF="emulator/auth/handler",EF=encodeURIComponent("fac");function B_(t,e,n,r,i,s){return v(this,null,function*(){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:r2,eventId:i};if(e instanceof oa){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",f_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof J7){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let d of Object.keys(c))c[d]===void 0&&delete c[d];let a=yield t._getAppCheckToken(),u=a?`#${EF}=${encodeURIComponent(a)}`:"";return`${zF(t)}?${y0(c).slice(1)}${u}`})}function zF({config:t}){return t.emulator?uf(t,xF):`https://${t.authDomain}/${IF}`}var j7="webStorageSupport",cf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=If,this._completeRedirectFn=eF,this._overrideRedirectResult=XO}_openPopup(e,n,r,i){return v(this,null,function*(){var s;V1((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield B_(e,n,r,H7(),i);return LF(e,o,gM())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let s=yield B_(e,n,r,H7(),i);return PO(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(V1(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield yF(e),r=new of(e);return n.register("authEvent",i=>(fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(j7,{type:j7},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[j7];o!==void 0&&n(!!o),s2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oM()||eM()||pf()}},wM=cf;var j_="@firebase/auth",H_="1.7.9";var af=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AF(t){n2(new Zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cM(t)},u=new Y7(r,i,s,a);return gO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),n2(new Zt("auth-internal",e=>{let n=Br(e.getProvider("auth").getImmediate());return(r=>new af(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(j_,H_,SF(t)),rt(j_,H_,"esm2017")}var DF=5*60,TF=M7("authIdTokenMaxAge")||DF,$_=null,NF=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TF)return;let i=n?.token;$_!==i&&($_=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function xf(t=O1()){let e=Rr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=mf(t,{popupRedirectResolver:wM,persistence:[_M,mM,If]}),r=M7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=NF(s.toString());wf(n,o,()=>o(n.currentUser)),Mf(n,c=>o(c))}}let i=v7("auth");return i&&gf(n,`http://${i}`),n}function RF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AF("Browser");var LM="auth",jr=class{constructor(e){return e}},z0=class{constructor(){return _0(LM)}};var Ef=new oe("angularfire2.auth-instances");function wV(t,e){let n=W3(LM,t,e);return n&&new jr(n)}function LV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jr(r)}}var bV={provide:z0,deps:[[new Yt,Ef]]},IV={provide:jr,useFactory:wV,deps:[[new Yt,Ef],$2]};function bM(t,...e){return rt("angularfire",kr.full,"auth"),x2([IV,bV,{provide:Ef,useFactory:LV(t),multi:!0,deps:[Ue,Qt,hs,Or,[new Yt,ds],...e]}])}var IM=Ye(Cf,!0);var xM=Ye(xf,!0);var EM=Ye(Lf,!0);var zM=Ye(vf,!0);var SM=Ye(bf,!0);var AM=Ye(_f,!0);var DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TM={};var B1,zf;(function(){var t;function e(L,C){function M(){}M.prototype=C.prototype,L.D=C.prototype,L.prototype=new M,L.prototype.constructor=L,L.C=function(b,I,E){for(var _=Array(arguments.length-2),un=2;un<arguments.length;un++)_[un-2]=arguments[un];return C.prototype[I].apply(b,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,C,M){M||(M=0);var b=Array(16);if(typeof C=="string")for(var I=0;16>I;++I)b[I]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(I=0;16>I;++I)b[I]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=L.g[0],M=L.g[1],I=L.g[2];var E=L.g[3],_=C+(E^M&(I^E))+b[0]+3614090360&4294967295;C=M+(_<<7&4294967295|_>>>25),_=E+(I^C&(M^I))+b[1]+3905402710&4294967295,E=C+(_<<12&4294967295|_>>>20),_=I+(M^E&(C^M))+b[2]+606105819&4294967295,I=E+(_<<17&4294967295|_>>>15),_=M+(C^I&(E^C))+b[3]+3250441966&4294967295,M=I+(_<<22&4294967295|_>>>10),_=C+(E^M&(I^E))+b[4]+4118548399&4294967295,C=M+(_<<7&4294967295|_>>>25),_=E+(I^C&(M^I))+b[5]+1200080426&4294967295,E=C+(_<<12&4294967295|_>>>20),_=I+(M^E&(C^M))+b[6]+2821735955&4294967295,I=E+(_<<17&4294967295|_>>>15),_=M+(C^I&(E^C))+b[7]+4249261313&4294967295,M=I+(_<<22&4294967295|_>>>10),_=C+(E^M&(I^E))+b[8]+1770035416&4294967295,C=M+(_<<7&4294967295|_>>>25),_=E+(I^C&(M^I))+b[9]+2336552879&4294967295,E=C+(_<<12&4294967295|_>>>20),_=I+(M^E&(C^M))+b[10]+4294925233&4294967295,I=E+(_<<17&4294967295|_>>>15),_=M+(C^I&(E^C))+b[11]+2304563134&4294967295,M=I+(_<<22&4294967295|_>>>10),_=C+(E^M&(I^E))+b[12]+1804603682&4294967295,C=M+(_<<7&4294967295|_>>>25),_=E+(I^C&(M^I))+b[13]+4254626195&4294967295,E=C+(_<<12&4294967295|_>>>20),_=I+(M^E&(C^M))+b[14]+2792965006&4294967295,I=E+(_<<17&4294967295|_>>>15),_=M+(C^I&(E^C))+b[15]+1236535329&4294967295,M=I+(_<<22&4294967295|_>>>10),_=C+(I^E&(M^I))+b[1]+4129170786&4294967295,C=M+(_<<5&4294967295|_>>>27),_=E+(M^I&(C^M))+b[6]+3225465664&4294967295,E=C+(_<<9&4294967295|_>>>23),_=I+(C^M&(E^C))+b[11]+643717713&4294967295,I=E+(_<<14&4294967295|_>>>18),_=M+(E^C&(I^E))+b[0]+3921069994&4294967295,M=I+(_<<20&4294967295|_>>>12),_=C+(I^E&(M^I))+b[5]+3593408605&4294967295,C=M+(_<<5&4294967295|_>>>27),_=E+(M^I&(C^M))+b[10]+38016083&4294967295,E=C+(_<<9&4294967295|_>>>23),_=I+(C^M&(E^C))+b[15]+3634488961&4294967295,I=E+(_<<14&4294967295|_>>>18),_=M+(E^C&(I^E))+b[4]+3889429448&4294967295,M=I+(_<<20&4294967295|_>>>12),_=C+(I^E&(M^I))+b[9]+568446438&4294967295,C=M+(_<<5&4294967295|_>>>27),_=E+(M^I&(C^M))+b[14]+3275163606&4294967295,E=C+(_<<9&4294967295|_>>>23),_=I+(C^M&(E^C))+b[3]+4107603335&4294967295,I=E+(_<<14&4294967295|_>>>18),_=M+(E^C&(I^E))+b[8]+1163531501&4294967295,M=I+(_<<20&4294967295|_>>>12),_=C+(I^E&(M^I))+b[13]+2850285829&4294967295,C=M+(_<<5&4294967295|_>>>27),_=E+(M^I&(C^M))+b[2]+4243563512&4294967295,E=C+(_<<9&4294967295|_>>>23),_=I+(C^M&(E^C))+b[7]+1735328473&4294967295,I=E+(_<<14&4294967295|_>>>18),_=M+(E^C&(I^E))+b[12]+2368359562&4294967295,M=I+(_<<20&4294967295|_>>>12),_=C+(M^I^E)+b[5]+4294588738&4294967295,C=M+(_<<4&4294967295|_>>>28),_=E+(C^M^I)+b[8]+2272392833&4294967295,E=C+(_<<11&4294967295|_>>>21),_=I+(E^C^M)+b[11]+1839030562&4294967295,I=E+(_<<16&4294967295|_>>>16),_=M+(I^E^C)+b[14]+4259657740&4294967295,M=I+(_<<23&4294967295|_>>>9),_=C+(M^I^E)+b[1]+2763975236&4294967295,C=M+(_<<4&4294967295|_>>>28),_=E+(C^M^I)+b[4]+1272893353&4294967295,E=C+(_<<11&4294967295|_>>>21),_=I+(E^C^M)+b[7]+4139469664&4294967295,I=E+(_<<16&4294967295|_>>>16),_=M+(I^E^C)+b[10]+3200236656&4294967295,M=I+(_<<23&4294967295|_>>>9),_=C+(M^I^E)+b[13]+681279174&4294967295,C=M+(_<<4&4294967295|_>>>28),_=E+(C^M^I)+b[0]+3936430074&4294967295,E=C+(_<<11&4294967295|_>>>21),_=I+(E^C^M)+b[3]+3572445317&4294967295,I=E+(_<<16&4294967295|_>>>16),_=M+(I^E^C)+b[6]+76029189&4294967295,M=I+(_<<23&4294967295|_>>>9),_=C+(M^I^E)+b[9]+3654602809&4294967295,C=M+(_<<4&4294967295|_>>>28),_=E+(C^M^I)+b[12]+3873151461&4294967295,E=C+(_<<11&4294967295|_>>>21),_=I+(E^C^M)+b[15]+530742520&4294967295,I=E+(_<<16&4294967295|_>>>16),_=M+(I^E^C)+b[2]+3299628645&4294967295,M=I+(_<<23&4294967295|_>>>9),_=C+(I^(M|~E))+b[0]+4096336452&4294967295,C=M+(_<<6&4294967295|_>>>26),_=E+(M^(C|~I))+b[7]+1126891415&4294967295,E=C+(_<<10&4294967295|_>>>22),_=I+(C^(E|~M))+b[14]+2878612391&4294967295,I=E+(_<<15&4294967295|_>>>17),_=M+(E^(I|~C))+b[5]+4237533241&4294967295,M=I+(_<<21&4294967295|_>>>11),_=C+(I^(M|~E))+b[12]+1700485571&4294967295,C=M+(_<<6&4294967295|_>>>26),_=E+(M^(C|~I))+b[3]+2399980690&4294967295,E=C+(_<<10&4294967295|_>>>22),_=I+(C^(E|~M))+b[10]+4293915773&4294967295,I=E+(_<<15&4294967295|_>>>17),_=M+(E^(I|~C))+b[1]+2240044497&4294967295,M=I+(_<<21&4294967295|_>>>11),_=C+(I^(M|~E))+b[8]+1873313359&4294967295,C=M+(_<<6&4294967295|_>>>26),_=E+(M^(C|~I))+b[15]+4264355552&4294967295,E=C+(_<<10&4294967295|_>>>22),_=I+(C^(E|~M))+b[6]+2734768916&4294967295,I=E+(_<<15&4294967295|_>>>17),_=M+(E^(I|~C))+b[13]+1309151649&4294967295,M=I+(_<<21&4294967295|_>>>11),_=C+(I^(M|~E))+b[4]+4149444226&4294967295,C=M+(_<<6&4294967295|_>>>26),_=E+(M^(C|~I))+b[11]+3174756917&4294967295,E=C+(_<<10&4294967295|_>>>22),_=I+(C^(E|~M))+b[2]+718787259&4294967295,I=E+(_<<15&4294967295|_>>>17),_=M+(E^(I|~C))+b[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,L.g[2]=L.g[2]+I&4294967295,L.g[3]=L.g[3]+E&4294967295}r.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var M=C-this.blockSize,b=this.B,I=this.h,E=0;E<C;){if(I==0)for(;E<=M;)i(this,L,E),E+=this.blockSize;if(typeof L=="string"){for(;E<C;)if(b[I++]=L.charCodeAt(E++),I==this.blockSize){i(this,b),I=0;break}}else for(;E<C;)if(b[I++]=L[E++],I==this.blockSize){i(this,b),I=0;break}}this.h=I,this.o+=C},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var M=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=M&255,M/=256;for(this.u(L),L=Array(16),C=M=0;4>C;++C)for(var b=0;32>b;b+=8)L[M++]=this.g[C]>>>b&255;return L};function s(L,C){var M=c;return Object.prototype.hasOwnProperty.call(M,L)?M[L]:M[L]=C(L)}function o(L,C){this.h=C;for(var M=[],b=!0,I=L.length-1;0<=I;I--){var E=L[I]|0;b&&E==C||(M[I]=E,b=!1)}this.g=M}var c={};function a(L){return-128<=L&&128>L?s(L,function(C){return new o([C|0],0>C?-1:0)}):new o([L|0],0>L?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return z(u(-L));for(var C=[],M=1,b=0;L>=M;b++)C[b]=L/M|0,M*=4294967296;return new o(C,0)}function d(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return z(d(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(C,8)),b=p,I=0;I<L.length;I+=8){var E=Math.min(8,L.length-I),_=parseInt(L.substring(I,I+E),C);8>E?(E=u(Math.pow(C,E)),b=b.j(E).add(u(_))):(b=b.j(M),b=b.add(u(_)))}return b}var p=a(0),m=a(1),y=a(16777216);t=o.prototype,t.m=function(){if(A(this))return-z(this).m();for(var L=0,C=1,M=0;M<this.g.length;M++){var b=this.i(M);L+=(0<=b?b:4294967296+b)*C,C*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(w(this))return"0";if(A(this))return"-"+z(this).toString(L);for(var C=u(Math.pow(L,6)),M=this,b="";;){var I=W(M,C).g;M=P(M,I.j(C));var E=((0<M.g.length?M.g[0]:M.h)>>>0).toString(L);if(M=I,w(M))return E+b;for(;6>E.length;)E="0"+E;b=E+b}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function w(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function A(L){return L.h==-1}t.l=function(L){return L=P(this,L),A(L)?-1:w(L)?0:1};function z(L){for(var C=L.g.length,M=[],b=0;b<C;b++)M[b]=~L.g[b];return new o(M,~L.h).add(m)}t.abs=function(){return A(this)?z(this):this},t.add=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],b=0,I=0;I<=C;I++){var E=b+(this.i(I)&65535)+(L.i(I)&65535),_=(E>>>16)+(this.i(I)>>>16)+(L.i(I)>>>16);b=_>>>16,E&=65535,_&=65535,M[I]=_<<16|E}return new o(M,M[M.length-1]&-2147483648?-1:0)};function P(L,C){return L.add(z(C))}t.j=function(L){if(w(this)||w(L))return p;if(A(this))return A(L)?z(this).j(z(L)):z(z(this).j(L));if(A(L))return z(this.j(z(L)));if(0>this.l(y)&&0>L.l(y))return u(this.m()*L.m());for(var C=this.g.length+L.g.length,M=[],b=0;b<2*C;b++)M[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<L.g.length;I++){var E=this.i(b)>>>16,_=this.i(b)&65535,un=L.i(I)>>>16,er=L.i(I)&65535;M[2*b+2*I]+=_*er,F(M,2*b+2*I),M[2*b+2*I+1]+=E*er,F(M,2*b+2*I+1),M[2*b+2*I+1]+=_*un,F(M,2*b+2*I+1),M[2*b+2*I+2]+=E*un,F(M,2*b+2*I+2)}for(b=0;b<C;b++)M[b]=M[2*b+1]<<16|M[2*b];for(b=C;b<2*C;b++)M[b]=0;return new o(M,0)};function F(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function j(L,C){this.g=L,this.h=C}function W(L,C){if(w(C))throw Error("division by zero");if(w(L))return new j(p,p);if(A(L))return C=W(z(L),C),new j(z(C.g),z(C.h));if(A(C))return C=W(L,z(C)),new j(z(C.g),C.h);if(30<L.g.length){if(A(L)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var M=m,b=C;0>=b.l(L);)M=Le(M),b=Le(b);var I=ne(M,1),E=ne(b,1);for(b=ne(b,2),M=ne(M,2);!w(b);){var _=E.add(b);0>=_.l(L)&&(I=I.add(M),E=_),b=ne(b,1),M=ne(M,1)}return C=P(L,I.j(C)),new j(I,C)}for(I=p;0<=L.l(C);){for(M=Math.max(1,Math.floor(L.m()/C.m())),b=Math.ceil(Math.log(M)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),E=u(M),_=E.j(C);A(_)||0<_.l(L);)M-=b,E=u(M),_=E.j(C);w(E)&&(E=m),I=I.add(E),L=P(L,_)}return new j(I,L)}t.A=function(L){return W(this,L).h},t.and=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],b=0;b<C;b++)M[b]=this.i(b)&L.i(b);return new o(M,this.h&L.h)},t.or=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],b=0;b<C;b++)M[b]=this.i(b)|L.i(b);return new o(M,this.h|L.h)},t.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],b=0;b<C;b++)M[b]=this.i(b)^L.i(b);return new o(M,this.h^L.h)};function Le(L){for(var C=L.g.length+1,M=[],b=0;b<C;b++)M[b]=L.i(b)<<1|L.i(b-1)>>>31;return new o(M,L.h)}function ne(L,C){var M=C>>5;C%=32;for(var b=L.g.length-M,I=[],E=0;E<b;E++)I[E]=0<C?L.i(E+M)>>>C|L.i(E+M+1)<<32-C:L.i(E+M);return new o(I,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zf=TM.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,B1=TM.Integer=o}).apply(typeof DM<"u"?DM:typeof self<"u"?self:typeof window<"u"?window:{});var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q2={};var Sf,EV,ys,Af,S0,pa,Df,Tf,Nf;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,h){return l==Array.prototype||l==Object.prototype||(l[f]=h.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ha=="object"&&ha];for(var f=0;f<l.length;++f){var h=l[f];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var h=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var x=l[g];if(!(x in h))break e;h=h[x]}l=l[l.length-1],g=h[l],f=f(g),f!=g&&f!=null&&e(h,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var h=0,g=!1,x={next:function(){if(!g&&h<l.length){var S=h++;return{value:f(S,l[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,h){return h})}});var o=o||{},c=this||self;function a(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,h){return l.call.apply(l.bind,arguments)}function p(l,f,h){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),l.apply(f,x)}}return function(){return l.apply(f,arguments)}}function m(l,f,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function y(l,f){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function w(l,f){function h(){}h.prototype=f.prototype,l.aa=f.prototype,l.prototype=new h,l.prototype.constructor=l,l.Qb=function(g,x,S){for(var B=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)B[Be-2]=arguments[Be];return f.prototype[x].apply(g,B)}}function A(l){let f=l.length;if(0<f){let h=Array(f);for(let g=0;g<f;g++)h[g]=l[g];return h}return[]}function z(l,f){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(a(g)){let x=l.length||0,S=g.length||0;l.length=x+S;for(let B=0;B<S;B++)l[x+B]=g[B]}else l.push(g)}}class P{constructor(f,h){this.i=f,this.j=h,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(l){return/^[\s\xa0]*$/.test(l)}function j(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function W(l){return W[" "](l),l}W[" "]=function(){};var Le=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ne(l,f,h){for(let g in l)f.call(h,l[g],g,l)}function L(l,f){for(let h in l)f.call(void 0,l[h],h,l)}function C(l){let f={};for(let h in l)f[h]=l[h];return f}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,f){let h,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(h in g)l[h]=g[h];for(let S=0;S<M.length;S++)h=M[S],Object.prototype.hasOwnProperty.call(g,h)&&(l[h]=g[h])}}function I(l){var f=1;l=l.split(":");let h=[];for(;0<f&&l.length;)h.push(l.shift()),f--;return l.length&&h.push(l.join(":")),h}function E(l){c.setTimeout(()=>{throw l},0)}function _(){var l=Un;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class un{constructor(){this.h=this.g=null}add(f,h){let g=er.get();g.set(f,h),this.h?this.h.next=g:this.g=g,this.h=g}}var er=new P(()=>new ll,l=>l.reset());class ll{constructor(){this.next=this.g=this.h=null}set(f,h){this.h=f,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Vn,c1=!1,Un=new un,y2=()=>{let l=c.Promise.resolve(void 0);Vn=()=>{l.then(ux)}};var ux=()=>{for(var l;l=_();){try{l.h.call(l.g)}catch(h){E(h)}var f=er;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}c1=!1};function a1(){this.s=this.s,this.C=this.C}a1.prototype.s=!1,a1.prototype.ma=function(){this.s||(this.s=!0,this.N())},a1.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var fx=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let h=()=>{};c.addEventListener("test",h,f),c.removeEventListener("test",h,f)}catch{}return l}();function no(l,f){if(It.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var h=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Le){e:{try{W(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else h=="mouseover"?f=l.fromElement:h=="mouseout"&&(f=l.toElement);this.relatedTarget=f,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:dx[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&no.aa.h.call(this)}}w(no,It);var dx={2:"touch",3:"pen",4:"mouse"};no.prototype.h=function(){no.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ro="closure_listenable_"+(1e6*Math.random()|0),hx=0;function px(l,f,h,g,x){this.listener=l,this.proxy=null,this.src=f,this.type=h,this.capture=!!g,this.ha=x,this.key=++hx,this.da=this.fa=!1}function Cc(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function vc(l){this.src=l,this.g={},this.h=0}vc.prototype.add=function(l,f,h,g,x){var S=l.toString();l=this.g[S],l||(l=this.g[S]=[],this.h++);var B=fl(l,f,g,x);return-1<B?(f=l[B],h||(f.fa=!1)):(f=new px(f,this.src,S,!!g,x),f.fa=h,l.push(f)),f};function ul(l,f){var h=f.type;if(h in l.g){var g=l.g[h],x=Array.prototype.indexOf.call(g,f,void 0),S;(S=0<=x)&&Array.prototype.splice.call(g,x,1),S&&(Cc(f),l.g[h].length==0&&(delete l.g[h],l.h--))}}function fl(l,f,h,g){for(var x=0;x<l.length;++x){var S=l[x];if(!S.da&&S.listener==f&&S.capture==!!h&&S.ha==g)return x}return-1}var dl="closure_lm_"+(1e6*Math.random()|0),hl={};function Wh(l,f,h,g,x){if(g&&g.once)return Qh(l,f,h,g,x);if(Array.isArray(f)){for(var S=0;S<f.length;S++)Wh(l,f[S],h,g,x);return null}return h=yl(h),l&&l[ro]?l.K(f,h,u(g)?!!g.capture:!!g,x):Kh(l,f,h,!1,g,x)}function Kh(l,f,h,g,x,S){if(!f)throw Error("Invalid event type");var B=u(x)?!!x.capture:!!x,Be=ml(l);if(Be||(l[dl]=Be=new vc(l)),h=Be.add(f,h,g,B,S),h.proxy)return h;if(g=mx(),h.proxy=g,g.src=l,g.listener=h,l.addEventListener)fx||(x=B),x===void 0&&(x=!1),l.addEventListener(f.toString(),g,x);else if(l.attachEvent)l.attachEvent(Xh(f.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function mx(){function l(h){return f.call(l.src,l.listener,h)}let f=gx;return l}function Qh(l,f,h,g,x){if(Array.isArray(f)){for(var S=0;S<f.length;S++)Qh(l,f[S],h,g,x);return null}return h=yl(h),l&&l[ro]?l.L(f,h,u(g)?!!g.capture:!!g,x):Kh(l,f,h,!0,g,x)}function Yh(l,f,h,g,x){if(Array.isArray(f))for(var S=0;S<f.length;S++)Yh(l,f[S],h,g,x);else g=u(g)?!!g.capture:!!g,h=yl(h),l&&l[ro]?(l=l.i,f=String(f).toString(),f in l.g&&(S=l.g[f],h=fl(S,h,g,x),-1<h&&(Cc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete l.g[f],l.h--)))):l&&(l=ml(l))&&(f=l.g[f.toString()],l=-1,f&&(l=fl(f,h,g,x)),(h=-1<l?f[l]:null)&&pl(h))}function pl(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[ro])ul(f.i,l);else{var h=l.type,g=l.proxy;f.removeEventListener?f.removeEventListener(h,g,l.capture):f.detachEvent?f.detachEvent(Xh(h),g):f.addListener&&f.removeListener&&f.removeListener(g),(h=ml(f))?(ul(h,l),h.h==0&&(h.src=null,f[dl]=null)):Cc(l)}}}function Xh(l){return l in hl?hl[l]:hl[l]="on"+l}function gx(l,f){if(l.da)l=!0;else{f=new no(f,this);var h=l.listener,g=l.ha||l.src;l.fa&&pl(l),l=h.call(g,f)}return l}function ml(l){return l=l[dl],l instanceof vc?l:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function yl(l){return typeof l=="function"?l:(l[gl]||(l[gl]=function(f){return l.handleEvent(f)}),l[gl])}function xt(){a1.call(this),this.i=new vc(this),this.M=this,this.F=null}w(xt,a1),xt.prototype[ro]=!0,xt.prototype.removeEventListener=function(l,f,h,g){Yh(this,l,f,h,g)};function Ft(l,f){var h,g=l.F;if(g)for(h=[];g;g=g.F)h.push(g);if(l=l.M,g=f.type||f,typeof f=="string")f=new It(f,l);else if(f instanceof It)f.target=f.target||l;else{var x=f;f=new It(g,l),b(f,x)}if(x=!0,h)for(var S=h.length-1;0<=S;S--){var B=f.g=h[S];x=_c(B,g,!0,f)&&x}if(B=f.g=l,x=_c(B,g,!0,f)&&x,x=_c(B,g,!1,f)&&x,h)for(S=0;S<h.length;S++)B=f.g=h[S],x=_c(B,g,!1,f)&&x}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var h=l.g[f],g=0;g<h.length;g++)Cc(h[g]);delete l.g[f],l.h--}}this.F=null},xt.prototype.K=function(l,f,h,g){return this.i.add(String(l),f,!1,h,g)},xt.prototype.L=function(l,f,h,g){return this.i.add(String(l),f,!0,h,g)};function _c(l,f,h,g){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,S=0;S<f.length;++S){var B=f[S];if(B&&!B.da&&B.capture==h){var Be=B.listener,_t=B.ha||B.src;B.fa&&ul(l.i,B),x=Be.call(_t,g)!==!1&&x}}return x&&!g.defaultPrevented}function Zh(l,f,h){if(typeof l=="function")h&&(l=m(l,h));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(l,f||0)}function Jh(l){l.g=Zh(()=>{l.g=null,l.i&&(l.i=!1,Jh(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class yx extends a1{constructor(f,h){super(),this.m=f,this.l=h,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Jh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(l){a1.call(this),this.h=l,this.g={}}w(io,a1);var ep=[];function tp(l){ne(l.g,function(f,h){this.g.hasOwnProperty(h)&&pl(f)},l),l.g={}}io.prototype.N=function(){io.aa.N.call(this),tp(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cl=c.JSON.stringify,Cx=c.JSON.parse,vx=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function vl(){}vl.prototype.h=null;function np(l){return l.h||(l.h=l.i())}function rp(){}var so={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _l(){It.call(this,"d")}w(_l,It);function Ml(){It.call(this,"c")}w(Ml,It);var tr={},ip=null;function Mc(){return ip=ip||new xt}tr.La="serverreachability";function sp(l){It.call(this,tr.La,l)}w(sp,It);function oo(l){let f=Mc();Ft(f,new sp(f))}tr.STAT_EVENT="statevent";function op(l,f){It.call(this,tr.STAT_EVENT,l),this.stat=f}w(op,It);function Vt(l){let f=Mc();Ft(f,new op(f,l))}tr.Ma="timingevent";function cp(l,f){It.call(this,tr.Ma,l),this.size=f}w(cp,It);function co(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},f)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function _x(l,f,h,g,x,S){l.info(function(){if(l.g)if(S)for(var B="",Be=S.split("&"),_t=0;_t<Be.length;_t++){var Re=Be[_t].split("=");if(1<Re.length){var Et=Re[0];Re=Re[1];var zt=Et.split("_");B=2<=zt.length&&zt[1]=="type"?B+(Et+"="+Re+"&"):B+(Et+"=redacted&")}}else B=null;else B=S;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+f+`
`+h+`
`+B})}function Mx(l,f,h,g,x,S,B){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+f+`
`+h+`
`+S+" "+B})}function ci(l,f,h,g){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Lx(l,h)+(g?" "+g:"")})}function wx(l,f){l.info(function(){return"TIMEOUT: "+f})}ao.prototype.info=function(){};function Lx(l,f){if(!l.g)return f;if(!f)return null;try{var h=JSON.parse(f);if(h){for(l=0;l<h.length;l++)if(Array.isArray(h[l])){var g=h[l];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var S=x[0];if(S!="noop"&&S!="stop"&&S!="close")for(var B=1;B<x.length;B++)x[B]=""}}}}return Cl(h)}catch{return f}}var wc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ap={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wl;function Lc(){}w(Lc,vl),Lc.prototype.g=function(){return new XMLHttpRequest},Lc.prototype.i=function(){return{}},wl=new Lc;function l1(l,f,h,g){this.j=l,this.i=f,this.l=h,this.R=g||1,this.U=new io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lp}function lp(){this.i=null,this.g="",this.h=!1}var up={},Ll={};function bl(l,f,h){l.L=1,l.v=Ec(C2(f)),l.m=h,l.P=!0,fp(l,null)}function fp(l,f){l.F=Date.now(),bc(l),l.A=C2(l.v);var h=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),Ip(h.i,"t",g),l.C=0,h=l.j.J,l.h=new lp,l.g=Hp(l.j,h?f:null,!l.m),0<l.O&&(l.M=new yx(m(l.Y,l,l.g),l.O)),f=l.U,h=l.g,g=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(ep[0]=x.toString()),x=ep);for(var S=0;S<x.length;S++){var B=Wh(h,x[S],g||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),oo(),_x(l.i,l.u,l.A,l.l,l.R,l.m)}l1.prototype.ca=function(l){l=l.target;let f=this.M;f&&v2(l)==3?f.j():this.Y(l)},l1.prototype.Y=function(l){try{if(l==this.g)e:{let zt=v2(this.g);var f=this.g.Ba();let ui=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Tp(this.g)))){this.J||zt!=4||f==7||(f==8||0>=ui?oo(3):oo(2)),Il(this);var h=this.g.Z();this.X=h;t:if(dp(this)){var g=Tp(this.g);l="";var x=g.length,S=v2(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),lo(this);var B="";break t}this.h.i=new c.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,l+=this.h.i.decode(g[f],{stream:!(S&&f==x-1)});g.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=h==200,Mx(this.i,this.u,this.A,this.l,this.R,zt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,_t=this.g;if((Be=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Be)){var Re=Be;break t}}Re=null}if(h=Re)ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xl(this,h);else{this.o=!1,this.s=3,Vt(12),nr(this),lo(this);break e}}if(this.P){h=!0;let Ln;for(;!this.J&&this.C<B.length;)if(Ln=bx(this,B),Ln==Ll){zt==4&&(this.s=4,Vt(14),h=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==up){this.s=4,Vt(15),ci(this.i,this.l,B,"[Invalid Chunk]"),h=!1;break}else ci(this.i,this.l,Ln,null),xl(this,Ln);if(dp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||B.length!=0||this.h.h||(this.s=1,Vt(16),h=!1),this.o=this.o&&h,!h)ci(this.i,this.l,B,"[Invalid Chunked Response]"),nr(this),lo(this);else if(0<B.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Tl(Et),Et.M=!0,Vt(11))}}else ci(this.i,this.l,B,null),xl(this,B);zt==4&&nr(this),this.o&&!this.J&&(zt==4?Vp(this.j,this):(this.o=!1,bc(this)))}else Bx(this.g),h==400&&0<B.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),nr(this),lo(this)}}}catch{}finally{}};function dp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bx(l,f){var h=l.C,g=f.indexOf(`
`,h);return g==-1?Ll:(h=Number(f.substring(h,g)),isNaN(h)?up:(g+=1,g+h>f.length?Ll:(f=f.slice(g,g+h),l.C=g+h,f)))}l1.prototype.cancel=function(){this.J=!0,nr(this)};function bc(l){l.S=Date.now()+l.I,hp(l,l.I)}function hp(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=co(m(l.ba,l),f)}function Il(l){l.B&&(c.clearTimeout(l.B),l.B=null)}l1.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(wx(this.i,this.A),this.L!=2&&(oo(),Vt(17)),nr(this),this.s=2,lo(this)):hp(this,this.S-l)};function lo(l){l.j.G==0||l.J||Vp(l.j,l)}function nr(l){Il(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,tp(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function xl(l,f){try{var h=l.j;if(h.G!=0&&(h.g==l||El(h.h,l))){if(!l.K&&El(h.h,l)&&h.G==3){try{var g=h.Da.g.parse(f)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<l.F)Tc(h),Ac(h);else break e;Dl(h),Vt(18)}}else h.za=x[1],0<h.za-h.T&&37500>x[2]&&h.F&&h.v==0&&!h.C&&(h.C=co(m(h.Za,h),6e3));if(1>=gp(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else ir(h,11)}else if((l.K||h.g==l)&&Tc(h),!F(f))for(x=h.Da.g.parse(f),f=0;f<x.length;f++){let Re=x[f];if(h.T=Re[0],Re=Re[1],h.G==2)if(Re[0]=="c"){h.K=Re[1],h.ia=Re[2];let Et=Re[3];Et!=null&&(h.la=Et,h.j.info("VER="+h.la));let zt=Re[4];zt!=null&&(h.Aa=zt,h.j.info("SVER="+h.Aa));let ui=Re[5];ui!=null&&typeof ui=="number"&&0<ui&&(g=1.5*ui,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ln=l.g;if(Ln){let Rc=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var S=g.h;S.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(zl(S,S.h),S.h=null))}if(g.D){let Nl=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(g.ya=Nl,$e(g.I,g.D,Nl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-l.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var B=l;if(g.qa=jp(g,g.J?g.ia:null,g.W),B.K){yp(g.h,B);var Be=B,_t=g.L;_t&&(Be.I=_t),Be.B&&(Il(Be),bc(Be)),g.g=B}else Op(g);0<h.i.length&&Dc(h)}else Re[0]!="stop"&&Re[0]!="close"||ir(h,7);else h.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ir(h,7):Al(h):Re[0]!="noop"&&h.l&&h.l.ta(Re),h.v=0)}}oo(4)}catch{}}var Ix=class{constructor(l,f){this.g=l,this.map=f}};function pp(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gp(l){return l.h?1:l.g?l.g.size:0}function El(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function zl(l,f){l.g?l.g.add(f):l.h=f}function yp(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}pp.prototype.cancel=function(){if(this.i=Cp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Cp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let h of l.g.values())f=f.concat(h.D);return f}return A(l.i)}function xx(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(a(l)){for(var f=[],h=l.length,g=0;g<h;g++)f.push(l[g]);return f}f=[],h=0;for(g in l)f[h++]=l[g];return f}function Ex(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(a(l)||typeof l=="string"){var f=[];l=l.length;for(var h=0;h<l;h++)f.push(h);return f}f=[],h=0;for(let g in l)f[h++]=g;return f}}}function vp(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(a(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var h=Ex(l),g=xx(l),x=g.length,S=0;S<x;S++)f.call(void 0,g[S],h&&h[S],l)}var _p=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zx(l,f){if(l){l=l.split("&");for(var h=0;h<l.length;h++){var g=l[h].indexOf("="),x=null;if(0<=g){var S=l[h].substring(0,g);x=l[h].substring(g+1)}else S=l[h];f(S,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rr){this.h=l.h,Ic(this,l.j),this.o=l.o,this.g=l.g,xc(this,l.s),this.l=l.l;var f=l.i,h=new ho;h.i=f.i,f.g&&(h.g=new Map(f.g),h.h=f.h),Mp(this,h),this.m=l.m}else l&&(f=String(l).match(_p))?(this.h=!1,Ic(this,f[1]||"",!0),this.o=uo(f[2]||""),this.g=uo(f[3]||"",!0),xc(this,f[4]),this.l=uo(f[5]||"",!0),Mp(this,f[6]||"",!0),this.m=uo(f[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}rr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(fo(f,wp,!0),":");var h=this.g;return(h||f=="file")&&(l.push("//"),(f=this.o)&&l.push(fo(f,wp,!0),"@"),l.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&l.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&l.push("/"),l.push(fo(h,h.charAt(0)=="/"?Dx:Ax,!0))),(h=this.i.toString())&&l.push("?",h),(h=this.m)&&l.push("#",fo(h,Nx)),l.join("")};function C2(l){return new rr(l)}function Ic(l,f,h){l.j=h?uo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function xc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Mp(l,f,h){f instanceof ho?(l.i=f,Rx(l.i,l.h)):(h||(f=fo(f,Tx)),l.i=new ho(f,l.h))}function $e(l,f,h){l.i.set(f,h)}function Ec(l){return $e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function uo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fo(l,f,h){return typeof l=="string"?(l=encodeURI(l).replace(f,Sx),h&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Sx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var wp=/[#\/\?@]/g,Ax=/[#\?:]/g,Dx=/[#\?]/g,Tx=/[#\?@]/g,Nx=/#/g;function ho(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function u1(l){l.g||(l.g=new Map,l.h=0,l.i&&zx(l.i,function(f,h){l.add(decodeURIComponent(f.replace(/\+/g," ")),h)}))}t=ho.prototype,t.add=function(l,f){u1(this),this.i=null,l=ai(this,l);var h=this.g.get(l);return h||this.g.set(l,h=[]),h.push(f),this.h+=1,this};function Lp(l,f){u1(l),f=ai(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function bp(l,f){return u1(l),f=ai(l,f),l.g.has(f)}t.forEach=function(l,f){u1(this),this.g.forEach(function(h,g){h.forEach(function(x){l.call(f,x,g,this)},this)},this)},t.na=function(){u1(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),h=[];for(let g=0;g<f.length;g++){let x=l[g];for(let S=0;S<x.length;S++)h.push(f[g])}return h},t.V=function(l){u1(this);let f=[];if(typeof l=="string")bp(this,l)&&(f=f.concat(this.g.get(ai(this,l))));else{l=Array.from(this.g.values());for(let h=0;h<l.length;h++)f=f.concat(l[h])}return f},t.set=function(l,f){return u1(this),this.i=null,l=ai(this,l),bp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ip(l,f,h){Lp(l,f),0<h.length&&(l.i=null,l.g.set(ai(l,f),A(h)),l.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var h=0;h<f.length;h++){var g=f[h];let S=encodeURIComponent(String(g)),B=this.V(g);for(g=0;g<B.length;g++){var x=S;B[g]!==""&&(x+="="+encodeURIComponent(String(B[g]))),l.push(x)}}return this.i=l.join("&")};function ai(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Rx(l,f){f&&!l.j&&(u1(l),l.i=null,l.g.forEach(function(h,g){var x=g.toLowerCase();g!=x&&(Lp(this,g),Ip(this,x,h))},l)),l.j=f}function Px(l,f){let h=new ao;if(c.Image){let g=new Image;g.onload=y(f1,h,"TestLoadImage: loaded",!0,f,g),g.onerror=y(f1,h,"TestLoadImage: error",!1,f,g),g.onabort=y(f1,h,"TestLoadImage: abort",!1,f,g),g.ontimeout=y(f1,h,"TestLoadImage: timeout",!1,f,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else f(!1)}function kx(l,f){let h=new ao,g=new AbortController,x=setTimeout(()=>{g.abort(),f1(h,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:g.signal}).then(S=>{clearTimeout(x),S.ok?f1(h,"TestPingServer: ok",!0,f):f1(h,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),f1(h,"TestPingServer: error",!1,f)})}function f1(l,f,h,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(h)}catch{}}function Ox(){this.g=new vx}function Fx(l,f,h){let g=h||"";try{vp(l,function(x,S){let B=x;u(x)&&(B=Cl(x)),f.push(g+S+"="+encodeURIComponent(B))})}catch(x){throw f.push(g+"type="+encodeURIComponent("_badmap")),x}}function po(l){this.l=l.Ub||null,this.j=l.eb||!1}w(po,vl),po.prototype.g=function(){return new zc(this.l,this.j)},po.prototype.i=function(l){return function(){return l}}({});function zc(l,f){xt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(zc,xt),t=zc.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,go(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function xp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?mo(this):go(this),this.readyState==3&&xp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,mo(this))},t.Qa=function(l){this.g&&(this.response=l,mo(this))},t.ga=function(){this.g&&mo(this)};function mo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,go(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var h=f.next();!h.done;)h=h.value,l.push(h[0]+": "+h[1]),h=f.next();return l.join(`\r
`)};function go(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ep(l){let f="";return ne(l,function(h,g){f+=g,f+=":",f+=h,f+=`\r
`}),f}function Sl(l,f,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Ep(h),typeof l=="string"?h!=null&&encodeURIComponent(String(h)):$e(l,f,h))}function et(l){xt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(et,xt);var Vx=/^https?$/i,Ux=["POST","PUT"];t=et.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wl.g(),this.v=this.o?np(this.o):np(wl),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(S){zp(this,S);return}if(l=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)h.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),x=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ux,f,void 0))||g||x||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,B]of h)this.g.setRequestHeader(S,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dp(this),this.u=!0,this.g.send(l),this.u=!1}catch(S){zp(this,S)}};function zp(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Sp(l),Sc(l)}function Sp(l){l.A||(l.A=!0,Ft(l,"complete"),Ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ft(this,"complete"),Ft(this,"abort"),Sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sc(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ap(this):this.bb())},t.bb=function(){Ap(this)};function Ap(l){if(l.h&&typeof o<"u"&&(!l.v[1]||v2(l)!=4||l.Z()!=2)){if(l.u&&v2(l)==4)Zh(l.Ea,0,l);else if(Ft(l,"readystatechange"),v2(l)==4){l.h=!1;try{let B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var h;if(!(h=f)){var g;if(g=B===0){var x=String(l.D).match(_p)[1]||null;!x&&c.self&&c.self.location&&(x=c.self.location.protocol.slice(0,-1)),g=!Vx.test(x?x.toLowerCase():"")}h=g}if(h)Ft(l,"complete"),Ft(l,"success");else{l.m=6;try{var S=2<v2(l)?l.g.statusText:""}catch{S=""}l.l=S+" ["+l.Z()+"]",Sp(l)}}finally{Sc(l)}}}}function Sc(l,f){if(l.g){Dp(l);let h=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ft(l,"ready");try{h.onreadystatechange=g}catch{}}}function Dp(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function v2(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<v2(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Cx(f)}};function Tp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Bx(l){let f={};l=(l.g&&2<=v2(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(F(l[g]))continue;var h=I(l[g]);let x=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=f[x]||[];f[x]=S,S.push(h)}L(f,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(l,f,h){return h&&h.internalChannelParams&&h.internalChannelParams[l]||f}function Np(l){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yo("baseRetryDelayMs",5e3,l),this.cb=yo("retryDelaySeedMs",1e4,l),this.Wa=yo("forwardChannelMaxRetries",2,l),this.wa=yo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new pp(l&&l.concurrentRequestLimit),this.Da=new Ox,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Np.prototype,t.la=8,t.G=1,t.connect=function(l,f,h,g){Vt(0),this.W=l,this.H=f||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=jp(this,null,this.W),Dc(this)};function Al(l){if(Rp(l),l.G==3){var f=l.U++,h=C2(l.I);if($e(h,"SID",l.K),$e(h,"RID",f),$e(h,"TYPE","terminate"),Co(l,h),f=new l1(l,l.j,f),f.L=2,f.v=Ec(C2(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=f.v,h=!0),h||(f.g=Hp(f.j,null),f.g.ea(f.v)),f.F=Date.now(),bc(f)}Bp(l)}function Ac(l){l.g&&(Tl(l),l.g.cancel(),l.g=null)}function Rp(l){Ac(l),l.u&&(c.clearTimeout(l.u),l.u=null),Tc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function Dc(l){if(!mp(l.h)&&!l.s){l.s=!0;var f=l.Ga;Vn||y2(),c1||(Vn(),c1=!0),Un.add(f,l),l.B=0}}function jx(l,f){return gp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=co(m(l.Ga,l,f),Up(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new l1(this,this.j,l),S=this.o;if(this.S&&(S?(S=C(S),b(S,this.S)):S=this.S),this.m!==null||this.O||(x.H=S,S=null),this.P)e:{for(var f=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(f+=g,4096<f){f=h;break e}if(f===4096||h===this.i.length-1){f=h+1;break e}}f=1e3}else f=1e3;f=kp(this,x,f),h=C2(this.I),$e(h,"RID",l),$e(h,"CVER",22),this.D&&$e(h,"X-HTTP-Session-Id",this.D),Co(this,h),S&&(this.O?f="headers="+encodeURIComponent(String(Ep(S)))+"&"+f:this.m&&Sl(h,this.m,S)),zl(this.h,x),this.Ua&&$e(h,"TYPE","init"),this.P?($e(h,"$req",f),$e(h,"SID","null"),x.T=!0,bl(x,h,null)):bl(x,h,f),this.G=2}}else this.G==3&&(l?Pp(this,l):this.i.length==0||mp(this.h)||Pp(this))};function Pp(l,f){var h;f?h=f.l:h=l.U++;let g=C2(l.I);$e(g,"SID",l.K),$e(g,"RID",h),$e(g,"AID",l.T),Co(l,g),l.m&&l.o&&Sl(g,l.m,l.o),h=new l1(l,l.j,h,l.B+1),l.m===null&&(h.H=l.o),f&&(l.i=f.D.concat(l.i)),f=kp(l,h,1e3),h.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),zl(l.h,h),bl(h,g,f)}function Co(l,f){l.H&&ne(l.H,function(h,g){$e(f,g,h)}),l.l&&vp({},function(h,g){$e(f,g,h)})}function kp(l,f,h){h=Math.min(l.i.length,h);var g=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let S=-1;for(;;){let B=["count="+h];S==-1?0<h?(S=x[0].g,B.push("ofs="+S)):S=0:B.push("ofs="+S);let Be=!0;for(let _t=0;_t<h;_t++){let Re=x[_t].g,Et=x[_t].map;if(Re-=S,0>Re)S=Math.max(0,x[_t].g-100),Be=!1;else try{Fx(Et,B,"req"+Re+"_")}catch{g&&g(Et)}}if(Be){g=B.join("&");break e}}}return l=l.i.splice(0,h),f.D=l,g}function Op(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Vn||y2(),c1||(Vn(),c1=!0),Un.add(f,l),l.v=0}}function Dl(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=co(m(l.Fa,l),Up(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Fp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=co(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Ac(this),Fp(this))};function Tl(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Fp(l){l.g=new l1(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=C2(l.qa);$e(f,"RID","rpc"),$e(f,"SID",l.K),$e(f,"AID",l.T),$e(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&$e(f,"TO",l.ja),$e(f,"TYPE","xmlhttp"),Co(l,f),l.m&&l.o&&Sl(f,l.m,l.o),l.L&&(l.g.I=l.L);var h=l.g;l=l.ia,h.L=1,h.v=Ec(C2(f)),h.m=null,h.P=!0,fp(h,l)}t.Za=function(){this.C!=null&&(this.C=null,Ac(this),Dl(this),Vt(19))};function Tc(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Vp(l,f){var h=null;if(l.g==f){Tc(l),Tl(l),l.g=null;var g=2}else if(El(l.h,f))h=f.D,yp(l.h,f),g=1;else return;if(l.G!=0){if(f.o)if(g==1){h=f.m?f.m.length:0,f=Date.now()-f.F;var x=l.B;g=Mc(),Ft(g,new cp(g,h)),Dc(l)}else Op(l);else if(x=f.s,x==3||x==0&&0<f.X||!(g==1&&jx(l,f)||g==2&&Dl(l)))switch(h&&0<h.length&&(f=l.h,f.i=f.i.concat(h)),x){case 1:ir(l,5);break;case 4:ir(l,10);break;case 3:ir(l,6);break;default:ir(l,2)}}}function Up(l,f){let h=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(h*=2),h*f}function ir(l,f){if(l.j.info("Error code "+f),f==2){var h=m(l.fb,l),g=l.Xa;let x=!g;g=new rr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ic(g,"https"),Ec(g),x?Px(g.toString(),h):kx(g.toString(),h)}else Vt(2);l.G=0,l.l&&l.l.sa(f),Bp(l),Rp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Bp(l){if(l.G=0,l.ka=[],l.l){let f=Cp(l.h);(f.length!=0||l.i.length!=0)&&(z(l.ka,f),z(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function jp(l,f,h){var g=h instanceof rr?C2(h):new rr(h);if(g.g!="")f&&(g.g=f+"."+g.g),xc(g,g.s);else{var x=c.location;g=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var S=new rr(null);g&&Ic(S,g),f&&(S.g=f),x&&xc(S,x),h&&(S.l=h),g=S}return h=l.D,f=l.ya,h&&f&&$e(g,h,f),$e(g,"VER",l.la),Co(l,g),g}function Hp(l,f,h){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new et(new po({eb:h})):new et(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $p(){}t=$p.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nc(){}Nc.prototype.g=function(l,f){return new en(l,f)};function en(l,f){xt.call(this),this.g=new Np(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!F(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!F(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new li(this)}w(en,xt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Al(this.g)},en.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var h={};h.__data__=l,l=h}else this.u&&(h={},h.__data__=Cl(l),l=h);f.i.push(new Ix(f.Ya++,l)),f.G==3&&Dc(f)},en.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,en.aa.N.call(this)};function qp(l){_l.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let h in f){l=h;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}w(qp,_l);function Gp(){Ml.call(this),this.status=1}w(Gp,Ml);function li(l){this.g=l}w(li,$p),li.prototype.ua=function(){Ft(this.g,"a")},li.prototype.ta=function(l){Ft(this.g,new qp(l))},li.prototype.sa=function(l){Ft(this.g,new Gp)},li.prototype.ra=function(){Ft(this.g,"b")},Nc.prototype.createWebChannel=Nc.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Nf=Q2.createWebChannelTransport=function(){return new Nc},Tf=Q2.getStatEventTarget=function(){return Mc()},Df=Q2.Event=tr,pa=Q2.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wc.NO_ERROR=0,wc.TIMEOUT=8,wc.HTTP_ERROR=6,S0=Q2.ErrorCode=wc,ap.COMPLETE="complete",Af=Q2.EventType=ap,rp.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ys=Q2.WebChannel=rp,EV=Q2.FetchXmlHttpFactory=po,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,Sf=Q2.XhrIo=et}).apply(typeof ha<"u"?ha:typeof self<"u"?self:typeof window<"u"?window:{});var NM="@firebase/firestore";var vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");var ks="10.14.0";var Gr=new P1("@firebase/firestore");function A0(){return Gr.logLevel}function K(t,...e){if(Gr.logLevel<=Ee.DEBUG){let n=e.map(y9);Gr.debug(`Firestore (${ks}): ${t}`,...n)}}function X2(t,...e){if(Gr.logLevel<=Ee.ERROR){let n=e.map(y9);Gr.error(`Firestore (${ks}): ${t}`,...n)}}function bs(t,...e){if(Gr.logLevel<=Ee.WARN){let n=e.map(y9);Gr.warn(`Firestore (${ks}): ${t}`,...n)}}function y9(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function de(t="Unexpected state"){let e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+t;throw X2(e),new Error(e)}function Oe(t,e){t||de()}function me(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var c2=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var va=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ff=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}},Vf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Uf=class{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i,i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve(),s=new c2;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new c2,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let a=s;e.enqueueRetryable(()=>v(this,null,function*(){yield a.promise,yield i(this.currentUser)}))},c=a=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>c(a)),setTimeout(()=>{if(!this.auth){let a=this.t.getImmediate({optional:!0});a?c(a):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new c2)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new va(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new vt(e)}},Bf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Bf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Hf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$f=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);let r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new Hf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _a=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Pe(t,e){return t<e?-1:t>e?1:0}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Lt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ye=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Lt(0,0))}static max(){return new t(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ma=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Je=class t extends Ma{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},SV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cn=class t extends Ma{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return SV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new G(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new G(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new G(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Je.fromString(e))}static fromName(e){return new t(Je.fromString(e).popFirst(5))}static empty(){return new t(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Je(e.slice()))}};var qf=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};qf.UNKNOWN_ID=-1;function AV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Wr(i,re.empty(),e)}function DV(t){return new Wr(t.readTime,t.key,-1)}var Wr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ye.min(),re.empty(),-1)}static max(){return new t(ye.max(),re.empty(),-1)}};function TV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}var NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Q0(t){return v(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==NV)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let a=0;a<s;a++){let u=a;n(e[u]).next(d=>{o[u]=d,++c,c===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function RV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Y0(t){return t.name==="IndexedDbTransactionError"}var pw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function n6(t){return t==null}function k0(t){return t===0&&1/t==-1/0}function PV(t){return typeof t=="number"&&Number.isInteger(t)&&!k0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var kV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vne=[...kV,"documentOverlays"],OV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FV=OV,VV=[...FV,"indexConfiguration","indexState","indexEntries"];var _ne=[...VV,"globals"];function RM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mw(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var it=class t{constructor(e,n){this.comparator=e,this.root=n||a2.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,a2.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,a2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ms(this.root,e,this.comparator,!0)}},Ms=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},a2=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();let e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}};a2.EMPTY=null,a2.RED=!0,a2.BLACK=!1;a2.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,s){return this}insert(e,n,r){return new a2(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pt=class t{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wa(this.data.getIterator())}getIteratorFrom(e){return new wa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wa=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Pt(cn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var La=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new La("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kt.EMPTY_BYTE_STRING=new kt("");var UV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Z2(t){if(Oe(!!t),typeof t=="string"){let e=0,n=UV.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function H1(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}function C9(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v9(t){let e=t.mapValue.fields.__previous_value__;return C9(e)?v9(e):e}function O0(t){let e=Z2(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}var Wf=class{constructor(e,n,r,i,s,o,c,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=a,this.useFetchStreams=u}},ba=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C9(t)?4:yw(t)?9007199254740991:gw(t)?10:11:de()}function f2(t,e){if(t===e)return!0;let n=Kr(t);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return O0(t).isEqual(O0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Z2(i.timestampValue),c=Z2(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return H1(i.bytesValue).isEqual(H1(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Xe(i.doubleValue),c=Xe(s.doubleValue);return o===c?k0(o)===k0(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],f2);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(RM(o)!==RM(c))return!1;for(let a in o)if(o.hasOwnProperty(a)&&(c[a]===void 0||!f2(o[a],c[a])))return!1;return!0}(t,e);default:return de()}}function F0(t,e){return(t.values||[]).find(n=>f2(n,e))!==void 0}function xs(t,e){if(t===e)return 0;let n=Kr(t),r=Kr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Xe(s.integerValue||s.doubleValue),a=Xe(o.integerValue||o.doubleValue);return c<a?-1:c>a?1:c===a?0:isNaN(c)?isNaN(a)?0:-1:1}(t,e);case 3:return PM(t.timestampValue,e.timestampValue);case 4:return PM(O0(t),O0(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,o){let c=H1(s),a=H1(o);return c.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),a=o.split("/");for(let u=0;u<c.length&&u<a.length;u++){let d=Pe(c[u],a[u]);if(d!==0)return d}return Pe(c.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Pe(Xe(s.latitude),Xe(o.latitude));return c!==0?c:Pe(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kM(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,a,u,d;let p=s.fields||{},m=o.fields||{},y=(c=p.value)===null||c===void 0?void 0:c.arrayValue,w=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=Pe(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:kM(y,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ma.mapValue&&o===ma.mapValue)return 0;if(s===ma.mapValue)return 1;if(o===ma.mapValue)return-1;let c=s.fields||{},a=Object.keys(c),u=o.fields||{},d=Object.keys(u);a.sort(),d.sort();for(let p=0;p<a.length&&p<d.length;++p){let m=Pe(a[p],d[p]);if(m!==0)return m;let y=xs(c[a[p]],u[d[p]]);if(y!==0)return y}return Pe(a.length,d.length)}(t.mapValue,e.mapValue);default:throw de()}}function PM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);let n=Z2(t),r=Z2(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function kM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=xs(n[i],r[i]);if(s)return s}return Pe(n.length,r.length)}function Es(t){return Kf(t)}function Kf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Z2(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return H1(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Kf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Kf(n.fields[o])}`;return i+"}"}(t.mapValue):de()}function OM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qf(t){return!!t&&"integerValue"in t}function _9(t){return!!t&&"arrayValue"in t}function FM(t){return!!t&&"nullValue"in t}function VM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ya(t){return!!t&&"mapValue"in t}function gw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function T0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=T0(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=T0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yw(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var on=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ya(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=T0(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=T0(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());ya(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return f2(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ya(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(T0(this.value))}};function Cw(t){let e=[];return Zr(t.fields,(n,r)=>{let i=new cn([n]);if(ya(r)){let s=Cw(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}var Rn=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ye.min(),ye.min(),ye.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ye.min(),ye.min(),on.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ye.min(),ye.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zs=class{constructor(e,n){this.position=e,this.inclusive=n}};function UM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=xs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!f2(t.position[n],e.position[n]))return!1;return!0}var Qr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function BV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ia=class{},ht=class t extends Ia{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Xf(e,n,r):n==="array-contains"?new ed(e,r):n==="in"?new td(e,r):n==="not-in"?new nd(e,r):n==="array-contains-any"?new rd(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zf(e,r):new Jf(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xs(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class t extends Ia{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return vw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function vw(t){return t.op==="and"}function _w(t){return jV(t)&&vw(t)}function jV(t){for(let e of t.filters)if(e instanceof Pn)return!1;return!0}function Yf(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Es(t.value);if(_w(t))return t.filters.map(e=>Yf(e)).join(",");{let e=t.filters.map(n=>Yf(n)).join(",");return`${t.op}(${e})`}}function Mw(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&f2(r.value,i.value)}(t,e):t instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Mw(o,i.filters[c]),!0):!1}(t,e):void de()}function ww(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Es(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(ww).join(" ,")+"}"}(t):"Filter"}var Xf=class extends ht{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},Zf=class extends ht{constructor(e,n){super(e,"in",n),this.keys=Lw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jf=class extends ht{constructor(e,n){super(e,"not-in",n),this.keys=Lw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Lw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var ed=class extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return _9(n)&&F0(n.arrayValue,this.value)}},td=class extends ht{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&F0(this.value.arrayValue,n)}},nd=class extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(F0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!F0(this.value.arrayValue,n)}},rd=class extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!_9(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>F0(this.value.arrayValue,r))}};var id=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function jM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new id(t,e,n,r,i,s,o)}function M9(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),n6(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Es(r)).join(",")),e.ue=n}return e.ue}function w9(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BM(t.startAt,e.startAt)&&BM(t.endAt,e.endAt)}function sd(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var $1=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function HV(t,e,n,r,i,s,o,c){return new $1(t,e,n,r,i,s,o,c)}function L9(t){return new $1(t)}function HM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bw(t){return t.collectionGroup!==null}function N0(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Pt(cn.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qr(s,r))}),n.has(cn.keyField().canonicalString())||e.ce.push(new Qr(cn.keyField(),r))}return e.ce}function l2(t){let e=me(t);return e.le||(e.le=$V(e,N0(t))),e.le}function $V(t,e){if(t.limitType==="F")return jM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Qr(i.field,s)});let n=t.endAt?new zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zs(t.startAt.position,t.startAt.inclusive):null;return jM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function od(t,e){let n=t.filters.concat([e]);return new $1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xa(t,e,n){return new $1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function r6(t,e){return w9(l2(t),l2(e))&&t.limitType===e.limitType}function Iw(t){return`${M9(l2(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ww(i)).join(", ")}]`),n6(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Es(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Es(i)).join(",")),`Target(${r})`}(l2(t))}; limitType=${t.limitType})`}function i6(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of N0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,a){let u=UM(o,c,a);return o.inclusive?u<=0:u<0}(r.startAt,N0(r),i)||r.endAt&&!function(o,c,a){let u=UM(o,c,a);return o.inclusive?u>=0:u>0}(r.endAt,N0(r),i))}(t,e)}function qV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xw(t){return(e,n)=>{let r=!1;for(let i of N0(t)){let s=GV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GV(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,c){let a=o.data.field(s),u=c.data.field(s);return a!==null&&u!==null?xs(a,u):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}var q1=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return mw(this.inner)}size(){return this.innerSize}};var WV=new it(re.comparator);function J2(){return WV}var Ew=new it(re.comparator);function D0(...t){let e=Ew;for(let n of t)e=e.insert(n.key,n);return e}function zw(t){let e=Ew;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return R0()}function Sw(){return R0()}function R0(){return new q1(t=>t.toString(),(t,e)=>t.isEqual(e))}var KV=new it(re.comparator),QV=new Pt(re.comparator);function ze(...t){let e=QV;for(let n of t)e=e.add(n);return e}var YV=new Pt(Pe);function XV(){return YV}function b9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k0(e)?"-0":e}}function Aw(t){return{integerValue:""+t}}function ZV(t,e){return PV(e)?Aw(e):b9(t,e)}var Ss=class{constructor(){this._=void 0}};function JV(t,e,n){return t instanceof As?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&C9(s)&&(s=v9(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof G1?Tw(t,e):t instanceof W1?Nw(t,e):function(i,s){let o=Dw(i,s),c=$M(o)+$M(i.Pe);return Qf(o)&&Qf(i.Pe)?Aw(c):b9(i.serializer,c)}(t,e)}function eU(t,e,n){return t instanceof G1?Tw(t,e):t instanceof W1?Nw(t,e):n}function Dw(t,e){return t instanceof Ds?function(r){return Qf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var As=class extends Ss{},G1=class extends Ss{constructor(e){super(),this.elements=e}};function Tw(t,e){let n=Rw(e);for(let r of t.elements)n.some(i=>f2(i,r))||n.push(r);return{arrayValue:{values:n}}}var W1=class extends Ss{constructor(e){super(),this.elements=e}};function Nw(t,e){let n=Rw(e);for(let r of t.elements)n=n.filter(i=>!f2(i,r));return{arrayValue:{values:n}}}var Ds=class extends Ss{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function $M(t){return Xe(t.integerValue||t.doubleValue)}function Rw(t){return _9(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ea=class{constructor(e,n){this.field=e,this.transform=n}};function tU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof G1&&i instanceof G1||r instanceof W1&&i instanceof W1?Is(r.elements,i.elements,f2):r instanceof Ds&&i instanceof Ds?f2(r.Pe,i.Pe):r instanceof As&&i instanceof As}(t.transform,e.transform)}var cd=class{constructor(e,n){this.version=e,this.transformResults=n}},Y2=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ca(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ts=class{};function Pw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new za(t.key,Y2.none()):new Yr(t.key,t.data,Y2.none());{let n=t.data,r=on.empty(),i=new Pt(cn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new d2(t.key,r,new _n(i.toArray()),Y2.none())}}function nU(t,e,n){t instanceof Yr?function(i,s,o){let c=i.value.clone(),a=GM(i.fieldTransforms,s,o.transformResults);c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof d2?function(i,s,o){if(!Ca(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=GM(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(kw(i)),a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function P0(t,e,n,r){return t instanceof Yr?function(s,o,c,a){if(!Ca(s.precondition,o))return c;let u=s.value.clone(),d=WM(s.fieldTransforms,a,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof d2?function(s,o,c,a){if(!Ca(s.precondition,o))return c;let u=WM(s.fieldTransforms,a,o),d=o.data;return d.setAll(kw(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return Ca(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function rU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Dw(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function qM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Is(r,i,(s,o)=>tU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Yr=class extends Ts{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},d2=class extends Ts{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function kw(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function GM(t,e,n){let r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,eU(o,c,n[i]))}return r}function WM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,JV(s,o,e))}return r}var za=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ad=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ld=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&nU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=P0(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=P0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Sw();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let a=Pw(o,c);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>qM(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>qM(n,r))}},ud=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return KV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var fd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dd=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ft,De;function iU(t){switch(t){default:return de();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function Ow(t){if(t===void 0)return X2("GRPC error has no .code"),N.UNKNOWN;switch(t){case ft.OK:return N.OK;case ft.CANCELLED:return N.CANCELLED;case ft.UNKNOWN:return N.UNKNOWN;case ft.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ft.INTERNAL:return N.INTERNAL;case ft.UNAVAILABLE:return N.UNAVAILABLE;case ft.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ft.NOT_FOUND:return N.NOT_FOUND;case ft.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ft.ABORTED:return N.ABORTED;case ft.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ft.DATA_LOSS:return N.DATA_LOSS;default:return de()}}(De=ft||(ft={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var KM=null;function sU(){return new TextEncoder}var oU=new B1([4294967295,4294967295],0);function QM(t){let e=sU().encode(t),n=new zf;return n.update(e),new Uint8Array(n.digest())}function YM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new B1([n,r],0),new B1([i,s],0)]}var hd=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $r(`Invalid padding: ${n}`);if(r<0)throw new $r(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $r(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $r(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=B1.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(B1.fromNumber(r)));return i.compare(oU)===1&&(i=new B1([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=QM(e),[r,i]=YM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=QM(e),[r,i]=YM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},$r=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sa=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,V0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ye.min(),i,new it(Pe),J2(),ze())}},V0=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ze(),ze(),ze())}};var ws=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Aa=class{constructor(e,n){this.targetId=e,this.me=n}},Da=class{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ta=class{constructor(){this.fe=0,this.ge=ZM(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new V0(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ZM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},pd=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=J2(),this.qe=XM(),this.Qe=new it(Pe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(sd(s))if(r===0){let o=new re(s.path);this.Ue(n,o,Rn.newNoDocument(o,ye.min()))}else Oe(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),a=c?this.Xe(c,e,o):1;if(a!==0){this.je(n);let u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}KM?.et(function(d,p,m,y,w){var A,z,P,F,j,W;let Le={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ne=p.unchangedNames;return ne&&(Le.bloomFilter={applied:w===0,hashCount:(A=ne?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(F=(P=(z=ne?.bits)===null||z===void 0?void 0:z.bitmap)===null||P===void 0?void 0:P.length)!==null&&F!==void 0?F:0,padding:(W=(j=ne?.bits)===null||j===void 0?void 0:j.padding)!==null&&W!==void 0?W:0,mightContain:L=>{var C;return(C=y?.mightContain(L))!==null&&C!==void 0&&C}}),Le}(o,e.me,this.Le.tt(),c,a))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=H1(r).toUint8Array()}catch(a){if(a instanceof La)return bs("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{c=new hd(o,i,s)}catch(a){return bs(a instanceof $r?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&sd(c.target)){let a=new re(c.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,Rn.newNoDocument(a,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ze();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(a=>{let u=this.Je(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Sa(e,n,this.Qe,this.ke,r);return this.ke=J2(),this.qe=XM(),this.Qe=new it(Pe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ta,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ta),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function XM(){return new it(re.comparator)}function ZM(){return new it(re.comparator)}var cU={asc:"ASCENDING",desc:"DESCENDING"},aU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lU={and:"AND",or:"OR"},md=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function gd(t,e){return t.useProto3Json||n6(e)?e:{value:e}}function Na(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uU(t,e){return Na(t,e.toTimestamp())}function u2(t){return Oe(!!t),ye.fromTimestamp(function(n){let r=Z2(n);return new Lt(r.seconds,r.nanos)}(t))}function I9(t,e){return yd(t,e).canonicalString()}function yd(t,e){let n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vw(t){let e=Je.fromString(t);return Oe($w(e)),e}function Cd(t,e){return I9(t.databaseId,e.path)}function Rf(t,e){let n=Vw(e);if(n.get(1)!==t.databaseId.projectId)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(Bw(n))}function Uw(t,e){return I9(t.databaseId,e)}function fU(t){let e=Vw(t);return e.length===4?Je.emptyPath():Bw(e)}function vd(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bw(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JM(t,e,n){return{name:Cd(t,e),fields:n.value.mapValue.fields}}function dU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Oe(d===void 0||typeof d=="string"),kt.fromBase64String(d||"")):(Oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let d=u.code===void 0?N.UNKNOWN:Ow(u.code);return new G(d,u.message||"")}(o);n=new Da(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Rf(t,r.document.name),s=u2(r.document.updateTime),o=r.document.createTime?u2(r.document.createTime):ye.min(),c=new on({mapValue:{fields:r.document.fields}}),a=Rn.newFoundDocument(i,s,o,c),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ws(u,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Rf(t,r.document),s=r.readTime?u2(r.readTime):ye.min(),o=Rn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new ws([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Rf(t,r.document),s=r.removedTargetIds||[];n=new ws([],s,i,null)}else{if(!("filter"in e))return de();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new dd(i,s),c=r.targetId;n=new Aa(c,o)}}return n}function hU(t,e){let n;if(e instanceof Yr)n={update:JM(t,e.key,e.value)};else if(e instanceof za)n={delete:Cd(t,e.key)};else if(e instanceof d2)n={update:JM(t,e.key,e.data),updateMask:wU(e.fieldMask)};else{if(!(e instanceof ad))return de();n={verify:Cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof As)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof G1)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof W1)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ds)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(t,e.precondition)),n}function pU(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?u2(i.updateTime):u2(s);return o.isEqual(ye.min())&&(o=u2(s)),new cd(o,i.transformResults||[])}(n,e))):[]}function mU(t,e){return{documents:[Uw(t,e.path)]}}function gU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Uw(t,i);let s=function(u){if(u.length!==0)return Hw(Pn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:vs(m.field),direction:vU(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=gd(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function yU(t){let e=fU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oe(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){let m=jw(p);return m instanceof Pn&&_w(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(w){return new Qr(_s(w.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,n6(m)?null:m}(n.limit));let a=null;n.startAt&&(a=function(p){let m=!!p.before,y=p.values||[];return new zs(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let m=!p.before,y=p.values||[];return new zs(y,m)}(n.endAt)),HV(e,i,o,s,c,"F",a,u)}function CU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=_s(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_s(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=_s(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=_s(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(_s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>jw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function vU(t){return cU[t]}function _U(t){return aU[t]}function MU(t){return lU[t]}function vs(t){return{fieldPath:t.canonicalString()}}function _s(t){return cn.fromServerFormat(t.fieldPath)}function Hw(t){return t instanceof ht?function(n){if(n.op==="=="){if(VM(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NAN"}};if(FM(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VM(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NAN"}};if(FM(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(n.field),op:_U(n.op),value:n.value}}}(t):t instanceof Pn?function(n){let r=n.getFilters().map(i=>Hw(i));return r.length===1?r[0]:{compositeFilter:{op:MU(n.op),filters:r}}}(t):de()}function wU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $w(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var U0=class t{constructor(e,n,r,i,s=ye.min(),o=ye.min(),c=kt.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=a}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _d=class{constructor(e){this.ct=e}};function LU(t){let e=yU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xa(e,e.limit,"L"):e}var Ra=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Xe(e.integerValue));else if("doubleValue"in e){let r=Xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),k0(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Z2(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(H1(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?yw(e)?this.dt(n,Number.MAX_SAFE_INTEGER):gw(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):de()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Xe(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ra.vt=new Ra;var Md=class{constructor(){this.un=new wd}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Wr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},wd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Je.comparator)).toArray()}};var wne=new Uint8Array(0);var o2=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};o2.DEFAULT_COLLECTION_PERCENTILE=10,o2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,o2.DEFAULT=new o2(41943040,o2.DEFAULT_COLLECTION_PERCENTILE,o2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),o2.DISABLED=new o2(-1,0,0);var B0=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Ld=class{constructor(){this.changes=new q1(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var bd=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Id=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&P0(r.mutation,i,_n.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){let i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=D0();return s.forEach((c,a)=>{o=o.insert(c,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=J2(),o=R0(),c=function(){return R0()}();return n.forEach((a,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof d2)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),P0(d.mutation,u,d.mutation.getFieldMask(),Lt.now())):o.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return c.set(u,new bd(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=R0(),i=new it((o,c)=>o-c),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(a=>{let u=n.get(a);if(u===null)return;let d=r.get(a)||_n.empty();d=c.applyToLocalView(u,d),r.set(a,d);let p=(i.get(c.batchId)||ze()).add(a);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let a=c.getNext(),u=a.key,d=a.value,p=Sw();d.forEach(m=>{if(!s.has(m)){let y=Pw(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Hr()),c=-1,a=s;return o.next(u=>V.forEach(u,(d,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{a=a.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,a,u,ze())).next(d=>({batchId:c,changes:zw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=D0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=D0();return this.indexManager.getCollectionParents(e,s).next(c=>V.forEach(c,a=>{let u=function(p,m){return new $1(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rn.newInvalidDocument(d)))});let c=D0();return o.forEach((a,u)=>{let d=s.get(a);d!==void 0&&P0(d.mutation,u,_n.empty(),Lt.now()),i6(n,u)&&(c=c.insert(a,u))}),c})}};var xd=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:u2(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:LU(i.bundledQuery),readTime:u2(i.readTime)}}(n)),V.resolve()}};var Ed=class{constructor(){this.overlays=new it(re.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Hr();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=Hr(),s=n.length+1,o=new re(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let a=c.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new it((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Hr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let c=Hr(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=i)););return V.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fd(n,r));let s=this.Ir.get(n);s===void 0&&(s=ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var zd=class{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var j0=class{constructor(){this.Tr=new Pt(dt.Er),this.dr=new Pt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new re(new Je([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new re(new Je([])),r=new dt(n,e),i=new dt(n,e+1),s=ze();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Pe(e.wr,n.wr)}static Ar(e,n){return Pe(e.wr,n.wr)||re.comparator(e.key,n.key)}};var Sd=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pt(dt.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ld(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new dt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Pe);return n.forEach(i=>{let s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;re.isDocumentKey(s)||(s=s.child(""));let o=new dt(new re(s),0),c=new Pt(Pe);return this.br.forEachWhile(a=>{let u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(a.wr)),!0)},o),V.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{let s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new dt(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ad=class{constructor(e){this.Mr=e,this.docs=function(){return new it(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=J2();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=J2(),o=n.path,c=new re(o.child("")),a=this.docs.getIteratorFrom(c);for(;a.hasNext();){let{key:u,value:{document:d}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TV(DV(d),r)<=0||(i.has(d.key)||i6(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dd(this)}getSize(e){return V.resolve(this.size)}},Dd=class extends Ld{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Td=class{constructor(e){this.persistence=e,this.Nr=new q1(n=>M9(n),w9),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new j0,this.targetCount=0,this.kr=B0.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new B0(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var Nd=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pw(0),this.Kr=!1,this.Kr=!0,this.$r=new zd,this.referenceDelegate=e(this),this.Ur=new Td(this),this.indexManager=new Md,this.remoteDocumentCache=function(i){return new Ad(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _d(n),this.Gr=new xd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ed,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sd(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);let i=new Rd(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Rd=class extends Gf{constructor(e){super(),this.currentSequenceNumber=e}},Pd=class t{constructor(e){this.persistence=e,this.Jr=new j0,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var kd=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ze(),i=ze();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Od=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fd=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return l_()?8:RV(Ct())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Od;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(A0()<=Ee.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(A0()<=Ee.DEBUG&&K("QueryEngine","Query:",Cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(A0()<=Ee.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,l2(n))):V.resolve())}Yi(e,n){if(HM(n))return V.resolve(null);let r=l2(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xa(n,null,"F"),r=l2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ze(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(a=>{let u=this.ts(n,c);return this.ns(n,u,o,a.readTime)?this.Yi(e,xa(n,null,"F")):this.rs(e,u,n,a)}))})))}Zi(e,n,r,i){return HM(n)||i.isEqual(ye.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?V.resolve(null):(A0()<=Ee.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(n)),this.rs(e,o,n,AV(i,-1)).next(c=>c))})}ts(e,n){let r=new Pt(xw(e));return n.forEach((i,s)=>{i6(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return A0()<=Ee.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Wr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Vd=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new it(Pe),this._s=new q1(s=>M9(s),w9),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Id(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function bU(t,e,n,r){return new Vd(t,e,n,r)}function qw(t,e){return v(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],a=ze();for(let u of i){o.push(u.batchId);for(let d of u.mutations)a=a.add(d.key)}for(let u of s){c.push(u.batchId);for(let d of u.mutations)a=a.add(d.key)}return n.localDocuments.getDocuments(r,a).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:c}))})})})}function IU(t,e){let n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,a,u,d){let p=u.batch,m=p.keys(),y=V.resolve();return m.forEach(w=>{y=y.next(()=>d.getEntry(a,w)).next(A=>{let z=u.docVersions.get(w);Oe(z!==null),A.version.compareTo(z)<0&&(p.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),d.addEntry(A)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(a,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let a=ze();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(a=a.add(c.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gw(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function xU(t,e){let n=me(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((d,p)=>{let m=i.get(p);if(!m)return;c.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(kt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(p,y),function(A,z,P){return A.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,y,d)&&c.push(n.Ur.updateTargetData(s,y))});let a=J2(),u=ze();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(EU(s,o,e.documentUpdates).next(d=>{a=d.Ps,u=d.Is})),!r.isEqual(ye.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(d)}return V.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.os=i,s))}function EU(t,e,n){let r=ze(),i=ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=J2();return n.forEach((c,a)=>{let u=s.get(c);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),a.isNoDocument()&&a.version.isEqual(ye.min())?(e.removeEntry(c,a.readTime),o=o.insert(c,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(c,a)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",a.version)}),{Ps:o,Is:i}})}function zU(t,e){let n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SU(t,e){let n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new U0(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ud(t,e,n){return v(this,null,function*(){let r=me(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Y0(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ew(t,e,n){let r=me(t),i=ye.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,d){let p=me(a),m=p._s.get(d);return m!==void 0?V.resolve(p.os.get(m)):p.Ur.getTargetData(u,d)}(r,o,l2(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(a=>{s=a})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:ze())).next(c=>(AU(r,qV(e),c),{documents:c,Ts:s})))}function AU(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Pa=class{constructor(){this.activeTargetIds=XV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Bd=class{constructor(){this.so=new Pa,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pa,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var jd=class{_o(e){}shutdown(){}};var ka=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ga=null;function Pf(){return ga===null?ga=function(){return 268435456+Math.round(2147483648*Math.random())}():ga++,"0x"+ga.toString(16)}var DU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Hd=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Rt="WebChannelConnection",$d=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Pf(),a=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${c}:`,a,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,a,u,i).then(d=>(K("RestConnection",`Received RPC '${n}' ${c}: `,d),d),d=>{throw bs("RestConnection",`RPC '${n}' ${c} failed with error: `,d,"url: ",a,"request:",i),d})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=DU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Pf();return new Promise((o,c)=>{let a=new Sf;a.setWithCredentials(!0),a.listenOnce(Af.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case S0.NO_ERROR:let d=a.getResponseJson();K(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case S0.TIMEOUT:K(Rt,`RPC '${e}' ${s} timed out`),c(new G(N.DEADLINE_EXCEEDED,"Request time out"));break;case S0.HTTP_ERROR:let p=a.getStatus();if(K(Rt,`RPC '${e}' ${s} failed with status:`,p,"response text:",a.getResponseText()),p>0){let m=a.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let w=function(z){let P=z.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(P)>=0?P:N.UNKNOWN}(y.status);c(new G(w,y.message))}else c(new G(N.UNKNOWN,"Server responded with status "+a.getStatus()))}else c(new G(N.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{K(Rt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);K(Rt,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",u,r,15)})}Bo(e,n,r){let i=Pf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nf(),c=Tf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;let d=s.join("");K(Rt,`Creating RPC '${e}' stream ${i}: ${d}`,a);let p=o.createWebChannel(d,a),m=!1,y=!1,w=new Hd({Io:z=>{y?K(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,z):(m||(K(Rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),K(Rt,`RPC '${e}' stream ${i} sending:`,z),p.send(z))},To:()=>p.close()}),A=(z,P,F)=>{z.listen(P,j=>{try{F(j)}catch(W){setTimeout(()=>{throw W},0)}})};return A(p,ys.EventType.OPEN,()=>{y||(K(Rt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),A(p,ys.EventType.CLOSE,()=>{y||(y=!0,K(Rt,`RPC '${e}' stream ${i} transport closed`),w.So())}),A(p,ys.EventType.ERROR,z=>{y||(y=!0,bs(Rt,`RPC '${e}' stream ${i} transport errored:`,z),w.So(new G(N.UNAVAILABLE,"The operation could not be completed")))}),A(p,ys.EventType.MESSAGE,z=>{var P;if(!y){let F=z.data[0];Oe(!!F);let j=F,W=j.error||((P=j[0])===null||P===void 0?void 0:P.error);if(W){K(Rt,`RPC '${e}' stream ${i} received error:`,W);let Le=W.status,ne=function(M){let b=ft[M];if(b!==void 0)return Ow(b)}(Le),L=W.message;ne===void 0&&(ne=N.INTERNAL,L="Unknown error status: "+Le+" with message "+W.message),y=!0,w.So(new G(ne,L)),p.close()}else K(Rt,`RPC '${e}' stream ${i} received:`,F),w.bo(F)}}),A(c,Df.STAT_EVENT,z=>{z.stat===pa.PROXY?K(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):z.stat===pa.NOPROXY&&K(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function kf(){return typeof document<"u"?document:null}function s6(t){return new md(t,!0)}var Oa=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Fa=class{constructor(e,n,r,i,s,o,c,a){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Oa(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(X2(n.toString()),X2("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new G(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qd=class extends Fa{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=dU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?u2(o.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=vd(this.serializer),n.addTarget=function(s,o){let c,a=o.target;if(c=sd(a)?{documents:mU(s,a)}:{query:gU(s,a)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Fw(s,o.resumeToken);let u=gd(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){c.readTime=Na(s,o.snapshotVersion.toTimestamp());let u=gd(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let r=CU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=vd(this.serializer),n.removeTarget=e,this.a_(n)}},Gd=class extends Fa{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=pU(e.writeResults,e.commitTime),r=u2(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=vd(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>hU(this.serializer,r))};this.a_(n)}};var Wd=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,yd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,yd(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Kd=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(X2(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Qd=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>v(this,null,function*(){Jr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(a){return v(this,null,function*(){let u=me(a);u.L_.add(4),yield X0(u),u.q_.set("Unknown"),u.L_.delete(4),yield o6(u)})}(this))}))}),this.q_=new Kd(r,i)}};function o6(t){return v(this,null,function*(){if(Jr(t))for(let e of t.B_)yield e(!0)})}function X0(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Ww(t,e){let n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),S9(n)?z9(n):Os(n).r_()&&E9(n,e))}function x9(t,e){let n=me(t),r=Os(n);n.N_.delete(e),r.r_()&&Kw(n,e),n.N_.size===0&&(r.r_()?r.o_():Jr(n)&&n.q_.set("Unknown"))}function E9(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Os(t).A_(e)}function Kw(t,e){t.Q_.xe(e),Os(t).R_(e)}function z9(t){t.Q_=new pd({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Os(t).start(),t.q_.v_()}function S9(t){return Jr(t)&&!Os(t).n_()&&t.N_.size>0}function Jr(t){return me(t).L_.size===0}function Qw(t){t.Q_=void 0}function TU(t){return v(this,null,function*(){t.q_.set("Online")})}function NU(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{E9(t,e)})})}function RU(t,e){return v(this,null,function*(){Qw(t),S9(t)?(t.q_.M_(e),z9(t)):t.q_.set("Unknown")})}function PU(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof Da&&e.state===2&&e.cause)try{yield function(i,s){return v(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Va(t,r)}else if(e instanceof ws?t.Q_.Ke(e):e instanceof Aa?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{let r=yield Gw(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(a.resumeToken,o))}}),c.targetMismatches.forEach((a,u)=>{let d=s.N_.get(a);if(!d)return;s.N_.set(a,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),Kw(s,a);let p=new U0(d.target,a,u,d.sequenceNumber);E9(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield Va(t,r)}})}function Va(t,e,n){return v(this,null,function*(){if(!Y0(e))throw e;t.L_.add(1),yield X0(t),t.q_.set("Offline"),n||(n=()=>Gw(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield o6(t)}))})}function Yw(t,e){return e().catch(n=>Va(t,n,e))}function c6(t){return v(this,null,function*(){let e=me(t),n=K1(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;kU(e);)try{let i=yield zU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,OU(e,i)}catch(i){yield Va(e,i)}Xw(e)&&Zw(e)})}function kU(t){return Jr(t)&&t.O_.length<10}function OU(t,e){t.O_.push(e);let n=K1(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Xw(t){return Jr(t)&&!K1(t).n_()&&t.O_.length>0}function Zw(t){K1(t).start()}function FU(t){return v(this,null,function*(){K1(t).p_()})}function VU(t){return v(this,null,function*(){let e=K1(t);for(let n of t.O_)e.m_(n.mutations)})}function UU(t,e,n){return v(this,null,function*(){let r=t.O_.shift(),i=ud.from(r,e,n);yield Yw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield c6(t)})}function BU(t,e){return v(this,null,function*(){e&&K1(t).V_&&(yield function(r,i){return v(this,null,function*(){if(function(o){return iU(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();K1(r).s_(),yield Yw(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield c6(r)}})}(t,e)),Xw(t)&&Zw(t)})}function tw(t,e){return v(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Jr(n);n.L_.add(3),yield X0(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield o6(n)})}function jU(t,e){return v(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield o6(n)):e||(n.L_.add(2),yield X0(n),n.q_.set("Unknown"))})}function Os(t){return t.K_||(t.K_=function(n,r,i){let s=me(n);return s.w_(),new qd(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:TU.bind(null,t),Ro:NU.bind(null,t),mo:RU.bind(null,t),d_:PU.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),S9(t)?z9(t):t.q_.set("Unknown")):(yield t.K_.stop(),Qw(t))}))),t.K_}function K1(t){return t.U_||(t.U_=function(n,r,i){let s=me(n);return s.w_(),new Gd(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FU.bind(null,t),mo:BU.bind(null,t),f_:VU.bind(null,t),g_:UU.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield c6(t)):(yield t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Yd=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new c2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function A9(t,e){if(X2("AsyncQueue",`${e}: ${t}`),Y0(t))return new G(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Ua=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=D0(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ba=class{constructor(){this.W_=new it(re.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):de():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ns=class t{constructor(e,n,r,i,s,o,c,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,Ua.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&r6(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Xd=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Zd=class{constructor(){this.queries=nw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),s=i.queries;i.queries=nw(),s.forEach((o,c)=>{for(let a of c.j_)a.onError(r)})})(this,new G(N.ABORTED,"Firestore shutting down"))}};function nw(){return new q1(t=>Iw(t),r6)}function Jw(t,e){return v(this,null,function*(){let n=me(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Xd,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=A9(o,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&D9(n)})}function eL(t,e){return v(this,null,function*(){let n=me(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function HU(t,e){let n=me(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&D9(n)}function $U(t,e,n){let r=me(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function D9(t){t.Y_.forEach(e=>{e.next()})}var Jd,rw;(rw=Jd||(Jd={})).ea="default",rw.Cache="cache";var ja=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jd.Cache}};var Ha=class{constructor(e){this.key=e}},$a=class{constructor(e){this.key=e}},e9=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=xw(e),this.Ra=new Ua(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Ba,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let m=i.get(d),y=i6(this.query,p)?p:null,w=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),z=!1;m&&y?m.data.isEqual(y.data)?w!==A&&(r.track({type:3,doc:y}),z=!0):this.ga(m,y)||(r.track({type:2,doc:y}),z=!0,(a&&this.Aa(y,a)>0||u&&this.Aa(y,u)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),z=!0):m&&!y&&(r.track({type:1,doc:m}),z=!0,(a||u)&&(c=!0)),z&&(y?(o=o.add(y),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,p)=>function(y,w){let A=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return A(y)-A(w)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],a=this.da.size===0&&this.current&&!i?1:0,u=a!==this.Ea;return this.Ea=a,o.length!==0||u?{snapshot:new Ns(this.query,e.Ra,s,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ba,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new $a(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ha(r))}),n}ba(e){this.Ta=e.Ts,this.da=ze();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},t9=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},n9=class{constructor(e){this.key=e,this.va=!1}},r9=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new q1(c=>Iw(c),r6),this.Ma=new Map,this.xa=new Set,this.Oa=new it(re.comparator),this.Na=new Map,this.La=new j0,this.Ba={},this.ka=new Map,this.qa=B0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function qU(t,e,n=!0){return v(this,null,function*(){let r=oL(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield tL(r,e,n,!0),i})}function GU(t,e){return v(this,null,function*(){let n=oL(t);yield tL(n,e,!0,!1)})}function tL(t,e,n,r){return v(this,null,function*(){let i=yield SU(t.localStore,l2(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield WU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ww(t.remoteStore,i),c})}function WU(t,e,n,r,i){return v(this,null,function*(){t.Ka=(p,m,y)=>function(A,z,P,F){return v(this,null,function*(){let j=z.view.ma(P);j.ns&&(j=yield ew(A.localStore,z.query,!1).then(({documents:L})=>z.view.ma(L,j)));let W=F&&F.targetChanges.get(z.targetId),Le=F&&F.targetMismatches.get(z.targetId)!=null,ne=z.view.applyChanges(j,A.isPrimaryClient,W,Le);return sw(A,z.targetId,ne.wa),ne.snapshot})}(t,p,m,y);let s=yield ew(t.localStore,e,!0),o=new e9(e,s.Ts),c=o.ma(s.documents),a=V0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,a);sw(t,n,u.wa);let d=new t9(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function KU(t,e,n){return v(this,null,function*(){let r=me(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!r6(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ud(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x9(r.remoteStore,i.targetId),i9(r,i.targetId)}).catch(Q0))):(i9(r,i.targetId),yield Ud(r.localStore,i.targetId,!0))})}function QU(t,e){return v(this,null,function*(){let n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x9(n.remoteStore,r.targetId))})}function YU(t,e,n){return v(this,null,function*(){let r=rB(t);try{let i=yield function(o,c){let a=me(o),u=Lt.now(),d=c.reduce((y,w)=>y.add(w.key),ze()),p,m;return a.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=J2(),A=ze();return a.cs.getEntries(y,d).next(z=>{w=z,w.forEach((P,F)=>{F.isValidDocument()||(A=A.add(P))})}).next(()=>a.localDocuments.getOverlayedDocuments(y,w)).next(z=>{p=z;let P=[];for(let F of c){let j=rU(F,p.get(F.key).overlayedDocument);j!=null&&P.push(new d2(F.key,j,Cw(j.value.mapValue),Y2.exists(!0)))}return a.mutationQueue.addMutationBatch(y,u,P,c)}).next(z=>{m=z;let P=z.applyToLocalDocumentSet(p,A);return a.documentOverlayCache.saveOverlays(y,z.batchId,P)})}).then(()=>({batchId:m.batchId,changes:zw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,a){let u=o.Ba[o.currentUser.toKey()];u||(u=new it(Pe)),u=u.insert(c,a),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Z0(r,i.changes),yield c6(r.remoteStore)}catch(i){let s=A9(i,"Failed to persist write");n.reject(s)}})}function nL(t,e){return v(this,null,function*(){let n=me(t);try{let r=yield xU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Oe(o.va):i.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),yield Z0(n,r,e)}catch(r){yield Q0(r)}})}function iw(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let a=me(o);a.onlineState=c;let u=!1;a.queries.forEach((d,p)=>{for(let m of p.j_)m.Z_(c)&&(u=!0)}),u&&D9(a)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XU(t,e,n){return v(this,null,function*(){let r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new it(re.comparator);o=o.insert(s,Rn.newNoDocument(s,ye.min()));let c=ze().add(s),a=new Sa(ye.min(),new Map,new it(Pe),o,c);yield nL(r,a),r.Oa=r.Oa.remove(s),r.Na.delete(e),T9(r)}else yield Ud(r.localStore,e,!1).then(()=>i9(r,e,n)).catch(Q0)})}function ZU(t,e){return v(this,null,function*(){let n=me(t),r=e.batch.batchId;try{let i=yield IU(n.localStore,e);iL(n,r,null),rL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Z0(n,i)}catch(i){yield Q0(i)}})}function JU(t,e,n){return v(this,null,function*(){let r=me(t);try{let i=yield function(o,c){let a=me(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return a.mutationQueue.lookupMutationBatch(u,c).next(p=>(Oe(p!==null),d=p.keys(),a.mutationQueue.removeMutationBatch(u,p))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>a.localDocuments.getDocuments(u,d))})}(r.localStore,e);iL(r,e,n),rL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Z0(r,i)}catch(i){yield Q0(i)}})}function rL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function iL(t,e,n){let r=me(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i9(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sL(t,r)})}function sL(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(x9(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),T9(t))}function sw(t,e,n){for(let r of n)r instanceof Ha?(t.La.addReference(r.key,e),eB(t,r)):r instanceof $a?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sL(t,r.key)):de()}function eB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),T9(t))}function T9(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new re(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new n9(n)),t.Oa=t.Oa.insert(n,r),Ww(t.remoteStore,new U0(l2(L9(n.path)),r,"TargetPurposeLimboResolution",pw.oe))}}function Z0(t,e,n){return v(this,null,function*(){let r=me(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,a)=>{o.push(r.Ka(a,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=n?.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(a.targetId,p?"current":"not-current")}if(u){i.push(u);let p=kd.Wi(a.targetId,u);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(a,u){return v(this,null,function*(){let d=me(a);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(u,m=>V.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>V.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Y0(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let y=d.os.get(m),w=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(m,A)}}})}(r.localStore,s))})}function tB(t,e){return v(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield qw(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(a=>{a.reject(new G(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Z0(n,r.hs)}})}function nB(t,e){let n=me(t),r=n.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function oL(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XU.bind(null,e),e.Ca.d_=HU.bind(null,e.eventManager),e.Ca.$a=$U.bind(null,e.eventManager),e}function rB(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JU.bind(null,e),e}var ow=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=s6(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return bU(this.persistence,new Fd,n.initialUser,this.serializer)}Ga(n){return new Nd(Pd.Zr,this.serializer)}Wa(n){return new Bd}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var iB=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tB.bind(null,this.syncEngine),yield jU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Zd}()}createDatastore(n){let r=s6(n.databaseInfo.databaseId),i=function(o){return new $d(o)}(n.databaseInfo);return function(o,c,a,u){return new Wd(o,c,a,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,a){return new Qd(i,s,o,c,a)}(this.localStore,this.datastore,n.asyncQueue,r=>iw(this.syncEngine,r,0),function(){return ka.D()?new ka:new jd}())}createSyncEngine(n,r){return function(s,o,c,a,u,d,p){let m=new r9(s,o,c,a,u,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(s){return v(this,null,function*(){let o=me(s);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield X0(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var qa=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):X2("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var s9=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=_a.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>v(this,null,function*(){K("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new c2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=A9(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Of(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield qw(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function cw(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield sB(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tw(e.remoteStore,i)),t._onlineComponents=e})}function sB(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Of(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),yield Of(t,new ow)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield Of(t,new ow);return t._offlineComponents})}function cL(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield cw(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield cw(t,new iB))),t._onlineComponents})}function oB(t){return cL(t).then(e=>e.syncEngine)}function o9(t){return v(this,null,function*(){let e=yield cL(t),n=e.eventManager;return n.onListen=qU.bind(null,e.syncEngine),n.onUnlisten=KU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QU.bind(null,e.syncEngine),n})}function cB(t,e,n={}){let r=new c2;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,c,a,u){let d=new qa({next:m=>{d.Za(),o.enqueueAndForget(()=>eL(s,p)),m.fromCache&&a.source==="server"?u.reject(new G(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new ja(c,d,{includeMetadataChanges:!0,_a:!0});return Jw(s,p)}(yield o9(t),t.asyncQueue,e,n,r)})),r.promise}function aL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var aw=new Map;function lL(t,e,n){if(!n)throw new G(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aB(t,e,n,r){if(e===!0&&r===!0)throw new G(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lw(t){if(!re.isDocumentKey(t))throw new G(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uw(t){if(re.isDocumentKey(t))throw new G(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function a6(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=a6(t);throw new G(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lB(t,e){if(e<=0)throw new G(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Ga=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Rs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ga({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ga(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ff;switch(r.type){case"firstParty":return new jf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=aw.get(n);r&&(K("ComponentProvider","Removing Datastore"),aw.delete(n),r.terminate())}(this),Promise.resolve()}};function uL(t,e,n,r={}){var i;let s=(t=Nn(t,Rs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,a;if(typeof r.mockUserToken=="string")c=r.mockUserToken,a=vt.MOCK_USER;else{c=j3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new vt(u)}t._authCredentials=new Vf(new va(c,a))}}var e1=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new j1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},j1=class t extends e1{constructor(e,n,r){super(e,n,L9(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fL(t,e,...n){if(t=He(t),lL("collection","path",e),t instanceof Rs){let r=Je.fromString(e,...n);return uw(r),new j1(t,null,r)}{if(!(t instanceof Gt||t instanceof j1))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Je.fromString(e,...n));return uw(r),new j1(t.firestore,null,r)}}function N9(t,e,...n){if(t=He(t),arguments.length===1&&(e=_a.newId()),lL("doc","path",e),t instanceof Rs){let r=Je.fromString(e,...n);return lw(r),new Gt(t,null,new re(r))}{if(!(t instanceof Gt||t instanceof j1))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Je.fromString(e,...n));return lw(r),new Gt(t.firestore,t instanceof j1?t.converter:null,new re(r))}}var Wa=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Oa(this,"async_queue_retry"),this.Vu=()=>{let r=kf();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new c2;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Y0(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw X2("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Yd.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&de()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function fw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var t1=class extends Rs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wa,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Wa(e),this._firestoreClient=void 0,yield e}})}};function dL(t,e){let n=typeof t=="object"?t:O1(),r=typeof t=="string"?t:e||"(default)",i=Rr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=B3("firestore");s&&uL(i,...s)}return i}function R9(t){if(t._terminated)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uB(t),t._firestoreClient}function uB(t){var e,n,r;let i=t._freezeSettings(),s=function(c,a,u,d){return new Wf(c,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new s9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let a=c?._online.build();return{_offline:c?._offline.build(a),_online:a}}(t._componentsProvider))}var H0=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(kt.fromBase64String(e))}catch(n){throw new G(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ps=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xr=class{constructor(e){this._methodName=e}};var $0=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}};var q0=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var fB=/^__.*__$/,c9=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new d2(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yr(e,this.data,n,this.fieldTransforms)}},Ka=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new d2(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function hL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}var Qa=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xa(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hL(this.Cu)&&fB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},a9=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||s6(e)}Qu(e,n,r,i=!1){return new Qa({Cu:e,methodName:n,qu:r,path:cn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function l6(t){let e=t._freezeSettings(),n=s6(t._databaseId);return new a9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pL(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);P9("Data must be an object, but it was:",o,r);let c=gL(r,o),a,u;if(s.merge)a=new _n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let m=f9(e,p,n);if(!o.contains(m))throw new G(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CL(d,m)||d.push(m)}a=new _n(d),u=o.fieldTransforms.filter(p=>a.covers(p.field))}else a=null,u=o.fieldTransforms;return new c9(new on(c),a,u)}var Ya=class t extends Xr{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function mL(t,e,n){return new Qa({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var l9=class t extends Xr{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=mL(this,e,!0),r=this.Ku.map(s=>ei(s,n)),i=new G1(r);return new Ea(e.path,i)}isEqual(e){return e instanceof t&&j2(this.Ku,e.Ku)}},u9=class t extends Xr{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=mL(this,e,!0),r=this.Ku.map(s=>ei(s,n)),i=new W1(r);return new Ea(e.path,i)}isEqual(e){return e instanceof t&&j2(this.Ku,e.Ku)}};function dB(t,e,n,r){let i=t.Qu(1,e,n);P9("Data must be an object, but it was:",i,r);let s=[],o=on.empty();Zr(r,(a,u)=>{let d=k9(e,a,n);u=He(u);let p=i.Nu(d);if(u instanceof Ya)s.push(d);else{let m=ei(u,p);m!=null&&(s.push(d),o.set(d,m))}});let c=new _n(s);return new Ka(o,c,i.fieldTransforms)}function hB(t,e,n,r,i,s){let o=t.Qu(1,e,n),c=[f9(e,r,n)],a=[i];if(s.length%2!=0)throw new G(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(f9(e,s[m])),a.push(s[m+1]);let u=[],d=on.empty();for(let m=c.length-1;m>=0;--m)if(!CL(u,c[m])){let y=c[m],w=a[m];w=He(w);let A=o.Nu(y);if(w instanceof Ya)u.push(y);else{let z=ei(w,A);z!=null&&(u.push(y),d.set(y,z))}}let p=new _n(u);return new Ka(d,p,o.fieldTransforms)}function pB(t,e,n,r=!1){return ei(n,t.Qu(r?4:3,e))}function ei(t,e){if(yL(t=He(t)))return P9("Unsupported field value:",e,t),gL(t,e);if(t instanceof Xr)return function(r,i){if(!hL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let a=ei(c,i.Lu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Lt.fromDate(r);return{timestampValue:Na(i.serializer,s)}}if(r instanceof Lt){let s=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Na(i.serializer,s)}}if(r instanceof $0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof H0)return{bytesValue:Fw(i.serializer,r._byteString)};if(r instanceof Gt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:I9(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof q0)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw c.Bu("VectorValues must only contain numeric values.");return b9(c.serializer,a)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${a6(r)}`)}(t,e)}function gL(t,e){let n={};return mw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,i)=>{let s=ei(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof $0||t instanceof H0||t instanceof Gt||t instanceof Xr||t instanceof q0)}function P9(t,e,n){if(!yL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=a6(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function f9(t,e,n){if((e=He(e))instanceof Ps)return e._internalPath;if(typeof e=="string")return k9(t,e);throw Xa("Field path arguments must be of type string or ",t,!1,void 0,n)}var mB=new RegExp("[~\\*/\\[\\]]");function k9(t,e,n){if(e.search(mB)>=0)throw Xa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ps(...e.split("."))._internalPath}catch{throw Xa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xa(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new G(N.INVALID_ARGUMENT,c+t+a)}function CL(t,e){return t.some(n=>n.isEqual(e))}var Za=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new d9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(u6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},d9=class extends Za{data(){return super.data()}};function u6(t,e){return typeof e=="string"?k9(t,e):e instanceof Ps?e._internalPath:e._delegate._internalPath}function vL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var G0=class{},W0=class extends G0{};function _L(t,e,...n){let r=[];e instanceof G0&&r.push(e),r=r.concat(n),function(s){let o=s.filter(a=>a instanceof h9).length,c=s.filter(a=>a instanceof Ja).length;if(o>1||o>0&&c>0)throw new G(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ja=class t extends W0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return LL(e._query,n),new e1(e.firestore,e.converter,od(e._query,n))}_parse(e){let n=l6(e.firestore);return function(s,o,c,a,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){hw(p,d);let y=[];for(let w of p)y.push(dw(a,s,w));m={arrayValue:{values:y}}}else m=dw(a,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||hw(p,d),m=pB(c,o,p,d==="in"||d==="not-in");return ht.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ML(t,e,n){let r=e,i=u6("where",t);return Ja._create(i,r,n)}var h9=class t extends G0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let a of c)LL(o,a),o=od(o,a)}(e._query,n),new e1(e.firestore,e.converter,od(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var p9=class t extends W0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new G(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qr(s,o)}(e._query,this._field,this._direction);return new e1(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new $1(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function wL(t,e="asc"){let n=e,r=u6("orderBy",t);return p9._create(r,n)}var m9=class t extends W0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new e1(e.firestore,e.converter,xa(e._query,this._limit,this._limitType))}};function O9(t){return lB("limit",t),m9._create("limit",t,"F")}function dw(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new G(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bw(e)&&n.indexOf("/")!==-1)throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Je.fromString(n));if(!re.isDocumentKey(r))throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OM(t,new re(r))}if(n instanceof Gt)return OM(t,n._key);throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a6(n)}.`)}function hw(t,e){if(!Array.isArray(t)||t.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LL(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var g9=class{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(H1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new q0(s)}convertGeoPoint(e){return new $0(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=v9(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(O0(e));default:return null}}convertTimestamp(e){let n=Z2(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Je.fromString(e);Oe($w(r));let i=new ba(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||X2(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function bL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var qr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},e6=class extends Za{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(u6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ls=class extends e6{data(e={}){return super.data(e)}},t6=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new qr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let a=new Ls(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let a=new Ls(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:gB(c.type),doc:a,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function gB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}var K0=class extends g9{constructor(e){super(),this.firestore=e}convertBytes(e){return new H0(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}};function IL(t){t=Nn(t,e1);let e=Nn(t.firestore,t1),n=R9(e),r=new K0(e);return vL(t._query),cB(n,t._query).then(i=>new t6(e,r,t,i))}function xL(t,e,n){t=Nn(t,Gt);let r=Nn(t.firestore,t1),i=bL(t.converter,e,n);return V9(r,[pL(l6(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Y2.none())])}function J0(t,e,n,...r){t=Nn(t,Gt);let i=Nn(t.firestore,t1),s=l6(i),o;return o=typeof(e=He(e))=="string"||e instanceof Ps?hB(s,"updateDoc",t._key,e,n,r):dB(s,"updateDoc",t._key,e),V9(i,[o.toMutation(t._key,Y2.exists(!0))])}function EL(t,e){let n=Nn(t.firestore,t1),r=N9(t),i=bL(t.converter,e);return V9(n,[pL(l6(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Y2.exists(!1))]).then(()=>r)}function F9(t,...e){var n,r,i;t=He(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||fw(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fw(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let a,u,d;if(t instanceof Gt)u=Nn(t.firestore,t1),d=L9(t._key.path),a={next:p=>{e[o]&&e[o](yB(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Nn(t,e1);u=Nn(p.firestore,t1),d=p._query;let m=new K0(u);a={next:y=>{e[o]&&e[o](new t6(u,m,p,y))},error:e[o+1],complete:e[o+2]},vL(t._query)}return function(m,y,w,A){let z=new qa(A),P=new ja(y,z,w);return m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return Jw(yield o9(m),P)})),()=>{z.Za(),m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return eL(yield o9(m),P)}))}}(R9(u),d,c,a)}function V9(t,e){return function(r,i){let s=new c2;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return YU(yield oB(r),i,s)})),s.promise}(R9(t),e)}function yB(t,e,n){let r=n.docs.get(e._key),i=new K0(t);return new e6(t,i,e._key,r,new qr(n.hasPendingWrites,n.fromCache),e.converter)}function f6(...t){return new l9("arrayUnion",t)}function d6(...t){return new u9("arrayRemove",t)}(function(e,n=!0){(function(i){ks=i})(r2),n2(new Zt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new t1(new Uf(r.getProvider("auth-internal")),new $f(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),rt(NM,"4.7.3",e),rt(NM,"4.7.3","esm2017")})();var h6=function(){return h6=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h6.apply(this,arguments)};var _B={includeMetadataChanges:!1};function U9(t,e){return e===void 0&&(e=_B),new ge(function(n){var r=F9(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function zL(t){return U9(t,{includeMetadataChanges:!0})}function SL(t,e){return e===void 0&&(e={}),zL(t).pipe(ae(function(n){return B9(n,e)}))}function B9(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:h6(h6({},r),(n={},n[e.idField]=t.id,n))}function AL(t){return U9(t,{includeMetadataChanges:!0}).pipe(ae(function(e){return e.docs}))}function DL(t,e){return e===void 0&&(e={}),AL(t).pipe(ae(function(n){return n.map(function(r){return B9(r,e)})}))}var n1=class{constructor(e){return e}},TL="firestore",j9=class{constructor(){return _0(TL)}};var H9=new oe("angularfire2.firestore-instances");function MB(t,e){let n=W3(TL,t,e);return n&&new n1(n)}function wB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new n1(r)}}var LB={provide:j9,deps:[[new Yt,H9]]},bB={provide:n1,useFactory:MB,deps:[[new Yt,H9],$2]};function NL(t,...e){return rt("angularfire",kr.full,"fst"),x2([bB,LB,{provide:H9,useFactory:wB(t),multi:!0,deps:[Ue,Qt,hs,Or,[new Yt,z0],[new Yt,ds],...e]}])}var RL=Ye(DL,!0);var Fs=Ye(SL,!0);var PL=Ye(EL,!0);var kL=Ye(d6,!0),OL=Ye(f6,!0);var p6=Ye(fL,!0);var kn=Ye(N9,!0);var FL=Ye(IL,!0);var VL=Ye(dL,!0);var UL=Ye(wL,!0);var $9=Ye(_L,!0);var BL=Ye(xL,!0);var q9=Ye(J0,!0);var jL=Ye(ML,!0);var h2=class t{username="";userPfp="";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-user-badge"]],inputs:{username:"username",userPfp:"userPfp"},standalone:!0,features:[Ne],decls:4,vars:2,consts:[[1,"user"],["alt","user",3,"src"]],template:function(n,r){n&1&&(D(0,"div",0),te(1,"img",1),D(2,"span"),$(3),T()()),n&2&&(O(),h5("src",r.userPfp,yn),O(2),nt(r.username))},styles:[".user[_ngcontent-%COMP%]{display:flex;flex-direction:row;cursor:pointer;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}#user-info[_nghost-%COMP%]{display:flex;align-items:center;margin:20% 0;font-size:30px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}#user-info-profile[_nghost-%COMP%]{display:flex;align-items:center;font-size:30px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}"]})};function IB(t,e,n){return(e=EB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){IB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EB(t){var e=xB(t,"string");return typeof e=="symbol"?e:e+""}var qL=()=>{},ph={},yb={},Cb=null,vb={mark:qL,measure:qL};try{typeof window<"u"&&(ph=window),typeof document<"u"&&(yb=document),typeof MutationObserver<"u"&&(Cb=MutationObserver),typeof performance<"u"&&(vb=performance)}catch{}var{userAgent:GL=""}=ph.navigator||{},Y1=ph,We=yb,WL=Cb,m6=vb,W2e=!!Y1.document,s1=!!We.documentElement&&!!We.head&&typeof We.addEventListener=="function"&&typeof We.createElement=="function",_b=~GL.indexOf("MSIE")||~GL.indexOf("Trident/"),zB=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,SB=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Mb={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},AB={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},wb=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ot="classic",M6="duotone",DB="sharp",TB="sharp-duotone",Lb=[Ot,M6,DB,TB],NB={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},RB={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},PB=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),kB={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},OB=["fak","fa-kit","fakd","fa-kit-duotone"],KL={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},FB=["kit"],VB={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},UB=["fak","fakd"],BB={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},QL={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},g6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},jB=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],HB=["fak","fa-kit","fakd","fa-kit-duotone"],$B={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},qB={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},GB={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},X9={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},WB=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Z9=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...jB,...WB],KB=["solid","regular","light","thin","duotone","brands"],bb=[1,2,3,4,5,6,7,8,9,10],QB=bb.concat([11,12,13,14,15,16,17,18,19,20]),YB=[...Object.keys(GB),...KB,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",g6.GROUP,g6.SWAP_OPACITY,g6.PRIMARY,g6.SECONDARY].concat(bb.map(t=>"".concat(t,"x"))).concat(QB.map(t=>"w-".concat(t))),XB={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},r1="___FONT_AWESOME___",J9=16,Ib="fa",xb="svg-inline--fa",ni="data-fa-i2svg",eh="data-fa-pseudo-element",ZB="data-fa-pseudo-element-pending",mh="data-prefix",gh="data-icon",YL="fontawesome-i2svg",JB="async",ej=["HTML","HEAD","STYLE","SCRIPT"],Eb=(()=>{try{return!0}catch{return!1}})();function sc(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Ot]}})}var zb=k({},Mb);zb[Ot]=k(k(k(k({},{"fa-duotone":"duotone"}),Mb[Ot]),KL.kit),KL["kit-duotone"]);var tj=sc(zb),th=k({},kB);th[Ot]=k(k(k(k({},{duotone:"fad"}),th[Ot]),QL.kit),QL["kit-duotone"]);var XL=sc(th),nh=k({},X9);nh[Ot]=k(k({},nh[Ot]),BB.kit);var yh=sc(nh),rh=k({},qB);rh[Ot]=k(k({},rh[Ot]),VB.kit);var K2e=sc(rh),nj=zB,Sb="fa-layers-text",rj=SB,ij=k({},NB),Q2e=sc(ij),sj=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],G9=AB,oj=[...FB,...YB],tc=Y1.FontAwesomeConfig||{};function cj(t){var e=We.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function aj(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}We&&typeof We.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=aj(cj(n));i!=null&&(tc[r]=i)});var Ab={styleDefault:"solid",familyDefault:Ot,cssPrefix:Ib,replacementClass:xb,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};tc.familyPrefix&&(tc.cssPrefix=tc.familyPrefix);var Bs=k(k({},Ab),tc);Bs.autoReplaceSvg||(Bs.observeMutations=!1);var Q={};Object.keys(Ab).forEach(t=>{Object.defineProperty(Q,t,{enumerable:!0,set:function(e){Bs[t]=e,nc.forEach(n=>n(Q))},get:function(){return Bs[t]}})});Object.defineProperty(Q,"familyPrefix",{enumerable:!0,set:function(t){Bs.cssPrefix=t,nc.forEach(e=>e(Q))},get:function(){return Bs.cssPrefix}});Y1.FontAwesomeConfig=Q;var nc=[];function lj(t){return nc.push(t),()=>{nc.splice(nc.indexOf(t),1)}}var Q1=J9,p2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function uj(t){if(!t||!s1)return;let e=We.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=We.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return We.head.insertBefore(e,r),t}var fj="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function rc(){let t=12,e="";for(;t-- >0;)e+=fj[Math.random()*62|0];return e}function js(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Ch(t){return t.classList?js(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Db(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dj(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Db(t[n]),'" '),"").trim()}function w6(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function vh(t){return t.size!==p2.size||t.x!==p2.x||t.y!==p2.y||t.rotate!==p2.rotate||t.flipX||t.flipY}function hj(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(s," ").concat(o," ").concat(c)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:a,path:u}}function pj(t){let{transform:e,width:n=J9,height:r=J9,startCentered:i=!1}=t,s="";return i&&_b?s+="translate(".concat(e.x/Q1-n/2,"em, ").concat(e.y/Q1-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Q1,"em), calc(-50% + ").concat(e.y/Q1,"em)) "):s+="translate(".concat(e.x/Q1,"em, ").concat(e.y/Q1,"em) "),s+="scale(".concat(e.size/Q1*(e.flipX?-1:1),", ").concat(e.size/Q1*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var mj=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Tb(){let t=Ib,e=xb,n=Q.cssPrefix,r=Q.replacementClass,i=mj;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var ZL=!1;function W9(){Q.autoAddCss&&!ZL&&(uj(Tb()),ZL=!0)}var gj={mixout(){return{dom:{css:Tb,insertCss:W9}}},hooks(){return{beforeDOMElementCreation(){W9()},beforeI2svg(){W9()}}}},i1=Y1||{};i1[r1]||(i1[r1]={});i1[r1].styles||(i1[r1].styles={});i1[r1].hooks||(i1[r1].hooks={});i1[r1].shims||(i1[r1].shims=[]);var m2=i1[r1],Nb=[],Rb=function(){We.removeEventListener("DOMContentLoaded",Rb),v6=1,Nb.map(t=>t())},v6=!1;s1&&(v6=(We.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(We.readyState),v6||We.addEventListener("DOMContentLoaded",Rb));function yj(t){s1&&(v6?setTimeout(t,0):Nb.push(t))}function oc(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Db(t):"<".concat(e," ").concat(dj(n),">").concat(r.map(oc).join(""),"</").concat(e,">")}function JL(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Cj=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},K9=function(e,n,r,i){var s=Object.keys(e),o=s.length,c=i!==void 0?Cj(n,i):n,a,u,d;for(r===void 0?(a=1,d=e[s[0]]):(a=0,d=r);a<o;a++)u=s[a],d=c(d,e[u],u,e);return d};function vj(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function ih(t){let e=vj(t);return e.length===1?e[0].toString(16):null}function _j(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function eb(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function sh(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=eb(e);typeof m2.hooks.addPack=="function"&&!r?m2.hooks.addPack(t,eb(e)):m2.styles[t]=k(k({},m2.styles[t]||{}),i),t==="fas"&&sh("fa",e)}var{styles:ic,shims:Mj}=m2,Pb=Object.keys(yh),wj=Pb.reduce((t,e)=>(t[e]=Object.keys(yh[e]),t),{}),_h=null,kb={},Ob={},Fb={},Vb={},Ub={};function Lj(t){return~oj.indexOf(t)}function bj(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!Lj(i)?i:null}var Bb=()=>{let t=r=>K9(ic,(i,s,o)=>(i[o]=K9(s,r,{}),i),{});kb=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=s}),r)),Ob=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=s}),r)),Ub=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(c=>{r[c]=s}),r});let e="far"in ic||Q.autoFetchSvg,n=K9(Mj,(r,i)=>{let s=i[0],o=i[1],c=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:c}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});Fb=n.names,Vb=n.unicodes,_h=L6(Q.styleDefault,{family:Q.familyDefault})};lj(t=>{_h=L6(t.styleDefault,{family:Q.familyDefault})});Bb();function Mh(t,e){return(kb[t]||{})[e]}function Ij(t,e){return(Ob[t]||{})[e]}function ti(t,e){return(Ub[t]||{})[e]}function jb(t){return Fb[t]||{prefix:null,iconName:null}}function xj(t){let e=Vb[t],n=Mh("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function X1(){return _h}var Hb=()=>({prefix:null,iconName:null,rest:[]});function Ej(t){let e=Ot,n=Pb.reduce((r,i)=>(r[i]="".concat(Q.cssPrefix,"-").concat(i),r),{});return Lb.forEach(r=>{(t.includes(n[r])||t.some(i=>wj[r].includes(i)))&&(e=r)}),e}function L6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=Ot}=e,r=tj[n][t];if(n===M6&&!t)return"fad";let i=XL[n][t]||XL[n][r],s=t in m2.styles?t:null;return i||s||null}function zj(t){let e=[],n=null;return t.forEach(r=>{let i=bj(Q.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function tb(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function b6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r=null,i=Z9.concat(HB),s=tb(t.filter(p=>i.includes(p))),o=tb(t.filter(p=>!Z9.includes(p))),c=s.filter(p=>(r=p,!wb.includes(p))),[a=null]=c,u=Ej(s),d=k(k({},zj(o)),{},{prefix:L6(a,{family:u})});return k(k(k({},d),Tj({values:t,family:u,styles:ic,config:Q,canonical:d,givenPrefix:r})),Sj(n,r,d))}function Sj(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};let s=e==="fa"?jb(i):{},o=ti(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!ic.far&&ic.fas&&!Q.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}var Aj=Lb.filter(t=>t!==Ot||t!==M6),Dj=Object.keys(X9).filter(t=>t!==Ot).map(t=>Object.keys(X9[t])).flat();function Tj(t){let{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,c=n===M6,a=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(a||u||d)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Aj.includes(n)&&(Object.keys(s).find(m=>Dj.includes(m))||o.autoFetchSvg)){let m=PB.get(n).defaultShortPrefixId;r.prefix=m,r.iconName=ti(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=X1()||"fas"),r}var oh=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=k(k({},this.definitions[s]||{}),i[s]),sh(s,i[s]);let o=yh[Ot][s];o&&sh(o,i[s]),Bb()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:c}=r[i],a=c[2];e[s]||(e[s]={}),a.length>0&&a.forEach(u=>{typeof u=="string"&&(e[s][u]=c)}),e[s][o]=c}),e}},nb=[],Vs={},Us={},Nj=Object.keys(Us);function Rj(t,e){let{mixoutsTo:n}=e;return nb=t,Vs={},Object.keys(Us).forEach(r=>{Nj.indexOf(r)===-1&&delete Us[r]}),nb.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{Vs[o]||(Vs[o]=[]),Vs[o].push(s[o])})}r.provides&&r.provides(Us)}),n}function ch(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Vs[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function ri(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Vs[t]||[]).forEach(s=>{s.apply(null,n)})}function Z1(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Us[t]?Us[t].apply(null,e):void 0}function ah(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||X1();if(e)return e=ti(n,e)||e,JL($b.definitions,n,e)||JL(m2.styles,n,e)}var $b=new oh,Pj=()=>{Q.autoReplaceSvg=!1,Q.observeMutations=!1,ri("noAuto")},kj={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return s1?(ri("beforeI2svg",t),Z1("pseudoElements2svg",t),Z1("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;Q.autoReplaceSvg===!1&&(Q.autoReplaceSvg=!0),Q.observeMutations=!0,yj(()=>{Fj({autoReplaceSvgRoot:e}),ri("watch",t)})}},Oj={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ti(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=L6(t[0]);return{prefix:n,iconName:ti(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Q.cssPrefix,"-"))>-1||t.match(nj))){let e=b6(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||X1(),iconName:ti(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=X1();return{prefix:e,iconName:ti(e,t)||t}}}},an={noAuto:Pj,config:Q,dom:kj,parse:Oj,library:$b,findIconDefinition:ah,toHtml:oc},Fj=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=We}=t;(Object.keys(m2.styles).length>0||Q.autoFetchSvg)&&s1&&Q.autoReplaceSvg&&an.dom.i2svg({node:e})};function I6(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>oc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!s1)return;let n=We.createElement("div");return n.innerHTML=t.html,n.children}}),t}function Vj(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(vh(o)&&n.found&&!r.found){let{width:c,height:a}=n,u={x:c/a/2,y:.5};i.style=w6(k(k({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Uj(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(Q.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:k(k({},i),{},{id:o}),children:r}]}]}function wh(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:c,maskId:a,titleId:u,extra:d,watchable:p=!1}=t,{width:m,height:y}=n.found?n:e,w=UB.includes(r),A=[Q.replacementClass,i?"".concat(Q.cssPrefix,"-").concat(i):""].filter(Le=>d.classes.indexOf(Le)===-1).filter(Le=>Le!==""||!!Le).concat(d.classes).join(" "),z={children:[],attributes:k(k({},d.attributes),{},{"data-prefix":r,"data-icon":i,class:A,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},P=w&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(z.attributes[ni]=""),c&&(z.children.push({tag:"title",attributes:{id:z.attributes["aria-labelledby"]||"title-".concat(u||rc())},children:[c]}),delete z.attributes.title);let F=k(k({},z),{},{prefix:r,iconName:i,main:e,mask:n,maskId:a,transform:s,symbol:o,styles:k(k({},P),d.styles)}),{children:j,attributes:W}=n.found&&e.found?Z1("generateAbstractMask",F)||{children:[],attributes:{}}:Z1("generateAbstractIcon",F)||{children:[],attributes:{}};return F.children=j,F.attributes=W,o?Uj(F):Vj(F)}function rb(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:c=!1}=t,a=k(k(k({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(a[ni]="");let u=k({},o.styles);vh(i)&&(u.transform=pj({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);let d=w6(u);d.length>0&&(a.style=d);let p=[];return p.push({tag:"span",attributes:a,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function Bj(t){let{content:e,title:n,extra:r}=t,i=k(k(k({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=w6(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:Q9}=m2;function lh(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Q.cssPrefix,"-").concat(G9.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(G9.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(G9.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var jj={found:!1,width:512,height:512};function Hj(t,e){!Eb&&!Q.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function uh(t,e){let n=e;return e==="fa"&&Q.styleDefault!==null&&(e=X1()),new Promise((r,i)=>{if(n==="fa"){let s=jb(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Q9[e]&&Q9[e][t]){let s=Q9[e][t];return r(lh(s))}Hj(t,e),r(k(k({},jj),{},{icon:Q.showMissingIcons&&t?Z1("missingIconAbstract")||{}:{}}))})}var ib=()=>{},fh=Q.measurePerformance&&m6&&m6.mark&&m6.measure?m6:{mark:ib,measure:ib},ec='FA "6.7.1"',$j=t=>(fh.mark("".concat(ec," ").concat(t," begins")),()=>qb(t)),qb=t=>{fh.mark("".concat(ec," ").concat(t," ends")),fh.measure("".concat(ec," ").concat(t),"".concat(ec," ").concat(t," begins"),"".concat(ec," ").concat(t," ends"))},Lh={begin:$j,end:qb},y6=()=>{};function sb(t){return typeof(t.getAttribute?t.getAttribute(ni):null)=="string"}function qj(t){let e=t.getAttribute?t.getAttribute(mh):null,n=t.getAttribute?t.getAttribute(gh):null;return e&&n}function Gj(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Q.replacementClass)}function Wj(){return Q.autoReplaceSvg===!0?C6.replace:C6[Q.autoReplaceSvg]||C6.replace}function Kj(t){return We.createElementNS("http://www.w3.org/2000/svg",t)}function Qj(t){return We.createElement(t)}function Gb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?Kj:Qj}=e;if(typeof t=="string")return We.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(Gb(s,{ceFn:n}))}),r}function Yj(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var C6={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Gb(n),e)}),e.getAttribute(ni)===null&&Q.keepOriginalSource){let n=We.createComment(Yj(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~Ch(e).indexOf(Q.replacementClass))return C6.replace(t);let r=new RegExp("".concat(Q.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,c)=>(c===Q.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>oc(s)).join(`
`);e.setAttribute(ni,""),e.innerHTML=i}};function ob(t){t()}function Wb(t,e){let n=typeof e=="function"?e:y6;if(t.length===0)n();else{let r=ob;Q.mutateApproach===JB&&(r=Y1.requestAnimationFrame||ob),r(()=>{let i=Wj(),s=Lh.begin("mutate");t.map(i),s(),n()})}}var bh=!1;function Kb(){bh=!0}function dh(){bh=!1}var _6=null;function cb(t){if(!WL||!Q.observeMutations)return;let{treeCallback:e=y6,nodeCallback:n=y6,pseudoElementsCallback:r=y6,observeMutationsRoot:i=We}=t;_6=new WL(s=>{if(bh)return;let o=X1();js(s).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!sb(c.addedNodes[0])&&(Q.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&Q.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&sb(c.target)&&~sj.indexOf(c.attributeName))if(c.attributeName==="class"&&qj(c.target)){let{prefix:a,iconName:u}=b6(Ch(c.target));c.target.setAttribute(mh,a||o),u&&c.target.setAttribute(gh,u)}else Gj(c.target)&&n(c.target)})}),s1&&_6.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Xj(){_6&&_6.disconnect()}function Zj(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],c=s.slice(1);return o&&c.length>0&&(r[o]=c.join(":").trim()),r},{})),n}function Jj(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=b6(Ch(t));return i.prefix||(i.prefix=X1()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=Ij(i.prefix,t.innerText)||Mh(i.prefix,ih(t.innerText))),!i.iconName&&Q.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function eH(t){let e=js(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Q.autoA11y&&(n?e["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(r||rc()):(e["aria-hidden"]="true",e.focusable="false")),e}function tH(){return{iconName:null,title:null,titleId:null,prefix:null,transform:p2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function ab(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=Jj(t),s=eH(t),o=ch("parseNodeAttributes",{},t),c=e.styleParser?Zj(t):[];return k({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:p2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:s}},o)}var{styles:nH}=m2;function Qb(t){let e=Q.autoReplaceSvg==="nest"?ab(t,{styleParser:!1}):ab(t);return~e.extra.classes.indexOf(Sb)?Z1("generateLayersText",t,e):Z1("generateSvgReplacementMutation",t,e)}function rH(){return[...OB,...Z9]}function lb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!s1)return Promise.resolve();let n=We.documentElement.classList,r=d=>n.add("".concat(YL,"-").concat(d)),i=d=>n.remove("".concat(YL,"-").concat(d)),s=Q.autoFetchSvg?rH():wb.concat(Object.keys(nH));s.includes("fa")||s.push("fa");let o=[".".concat(Sb,":not([").concat(ni,"])")].concat(s.map(d=>".".concat(d,":not([").concat(ni,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=js(t.querySelectorAll(o))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();let a=Lh.begin("onTree"),u=c.reduce((d,p)=>{try{let m=Qb(p);m&&d.push(m)}catch(m){Eb||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,p)=>{Promise.all(u).then(m=>{Wb(m,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),a(),d()})}).catch(m=>{a(),p(m)})})}function iH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Qb(t).then(n=>{n&&Wb([n],e)})}function sH(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:ah(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:ah(i||{})),t(r,k(k({},n),{},{mask:i}))}}var oH=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=p2,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:c=null,classes:a=[],attributes:u={},styles:d={}}=e;if(!t)return;let{prefix:p,iconName:m,icon:y}=t;return I6(k({type:"icon"},t),()=>(ri("beforeDOMElementCreation",{iconDefinition:t,params:e}),Q.autoA11y&&(o?u["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(c||rc()):(u["aria-hidden"]="true",u.focusable="false")),wh({icons:{main:lh(y),mask:i?lh(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:m,transform:k(k({},p2),n),symbol:r,title:o,maskId:s,titleId:c,extra:{attributes:u,styles:d,classes:a}})))},cH={mixout(){return{icon:sH(oH)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=lb,t.nodeCallback=iH,t}}},provides(t){t.i2svg=function(e){let{node:n=We,callback:r=()=>{}}=e;return lb(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:c,symbol:a,mask:u,maskId:d,extra:p}=n;return new Promise((m,y)=>{Promise.all([uh(r,o),u.iconName?uh(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[A,z]=w;m([e,wh({icons:{main:A,mask:z},prefix:o,iconName:r,transform:c,symbol:a,maskId:d,title:i,titleId:s,extra:p,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,c=w6(o);c.length>0&&(r.style=c);let a;return vh(s)&&(a=Z1("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(a||i.icon),{children:n,attributes:r}}}},aH={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return I6({type:"layer"},()=>{ri("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Q.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},lH={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return I6({type:"counter",content:t},()=>(ri("beforeDOMElementCreation",{content:t,params:e}),Bj({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Q.cssPrefix,"-layers-counter"),...r]}})))}}}},uH={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=p2,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return I6({type:"text",content:t},()=>(ri("beforeDOMElementCreation",{content:t,params:e}),rb({content:t,transform:k(k({},p2),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(Q.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,c=null;if(_b){let a=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/a,c=u.height/a}return Q.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,rb({content:e.innerHTML,width:o,height:c,transform:i,title:r,extra:s,watchable:!0})])}}},fH=new RegExp('"',"ug"),ub=[1105920,1112319],fb=k(k(k(k({},{FontAwesome:{normal:"fas",400:"fas"}}),RB),XB),$B),hh=Object.keys(fb).reduce((t,e)=>(t[e.toLowerCase()]=fb[e],t),{}),dH=Object.keys(hh).reduce((t,e)=>{let n=hh[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function hH(t){let e=t.replace(fH,""),n=_j(e,0),r=n>=ub[0]&&n<=ub[1],i=e.length===2?e[0]===e[1]:!1;return{value:ih(i?e[0]:e),isSecondary:r||i}}function pH(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(hh[n]||{})[i]||dH[n]}function db(t,e){let n="".concat(ZB).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=js(t.children).filter(m=>m.getAttribute(eh)===e)[0],c=Y1.getComputedStyle(t,e),a=c.getPropertyValue("font-family"),u=a.match(rj),d=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){let m=c.getPropertyValue("content"),y=pH(a,d),{value:w,isSecondary:A}=hH(m),z=u[0].startsWith("FontAwesome"),P=Mh(y,w),F=P;if(z){let j=xj(w);j.iconName&&j.prefix&&(P=j.iconName,y=j.prefix)}if(P&&!A&&(!o||o.getAttribute(mh)!==y||o.getAttribute(gh)!==F)){t.setAttribute(n,F),o&&t.removeChild(o);let j=tH(),{extra:W}=j;W.attributes[eh]=e,uh(P,y).then(Le=>{let ne=wh(k(k({},j),{},{icons:{main:Le,mask:Hb()},prefix:y,iconName:F,extra:W,watchable:!0})),L=We.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(L,t.firstChild):t.appendChild(L),L.outerHTML=ne.map(C=>oc(C)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function mH(t){return Promise.all([db(t,"::before"),db(t,"::after")])}function gH(t){return t.parentNode!==document.head&&!~ej.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(eh)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function hb(t){if(s1)return new Promise((e,n)=>{let r=js(t.querySelectorAll("*")).filter(gH).map(mH),i=Lh.begin("searchPseudoElements");Kb(),Promise.all(r).then(()=>{i(),dh(),e()}).catch(()=>{i(),dh(),n()})})}var yH={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=hb,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=We}=e;Q.searchPseudoElements&&hb(n)}}},pb=!1,CH={mixout(){return{dom:{unwatch(){Kb(),pb=!0}}}},hooks(){return{bootstrap(){cb(ch("mutationObserverCallbacks",{}))},noAuto(){Xj()},watch(t){let{observeMutationsRoot:e}=t;pb?dh():cb(ch("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},mb=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},vH={mixout(){return{parse:{transform:t=>mb(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=mb(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),a="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(c," ").concat(a," ").concat(u)},p={transform:"translate(".concat(s/2*-1," -256)")},m={outer:o,inner:d,path:p};return{tag:"g",attributes:k({},m.outer),children:[{tag:"g",attributes:k({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:k(k({},n.icon.attributes),m.path)}]}]}}}},Y9={x:0,y:0,width:"100%",height:"100%"};function gb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function _H(t){return t.tag==="g"?t.children:[t]}var MH={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?b6(n.split(" ").map(i=>i.trim())):Hb();return r.prefix||(r.prefix=X1()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:c}=e,{width:a,icon:u}=i,{width:d,icon:p}=s,m=hj({transform:c,containerWidth:d,iconWidth:a}),y={tag:"rect",attributes:k(k({},Y9),{},{fill:"white"})},w=u.children?{children:u.children.map(gb)}:{},A={tag:"g",attributes:k({},m.inner),children:[gb(k({tag:u.tag,attributes:k(k({},u.attributes),m.path)},w))]},z={tag:"g",attributes:k({},m.outer),children:[A]},P="mask-".concat(o||rc()),F="clip-".concat(o||rc()),j={tag:"mask",attributes:k(k({},Y9),{},{id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,z]},W={tag:"defs",children:[{tag:"clipPath",attributes:{id:F},children:_H(p)},j]};return n.push(W,{tag:"rect",attributes:k({fill:"currentColor","clip-path":"url(#".concat(F,")"),mask:"url(#".concat(P,")")},Y9)}),{children:n,attributes:r}}}},wH={provides(t){let e=!1;Y1.matchMedia&&(e=Y1.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:k(k({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=k(k({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:k(k({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:k(k({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:k(k({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:k(k({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:k(k({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:k(k({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:k(k({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},LH={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},bH=[gj,cH,aH,lH,uH,yH,CH,vH,MH,wH,LH];Rj(bH,{mixoutsTo:an});var Y2e=an.noAuto,Yb=an.config,X2e=an.library,Xb=an.dom,Zb=an.parse,Z2e=an.findIconDefinition,J2e=an.toHtml,Jb=an.icon,e1e=an.layer,IH=an.text,xH=an.counter;var EH=["*"],zH=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},SH=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},AH=t=>{let e={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:t.rotate!==null,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)},Ih=new WeakSet,eI="fa-auto-css";function DH(t,e){if(!e.autoAddCss||Ih.has(t))return;if(t.getElementById(eI)!=null){e.autoAddCss=!1,Ih.add(t);return}let n=t.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",eI),n.innerHTML=Xb.css();let r=t.head.childNodes,i=null;for(let s=r.length-1;s>-1;s--){let o=r[s],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=o)}t.head.insertBefore(n,i),e.autoAddCss=!1,Ih.add(t)}var TH=t=>t.prefix!==void 0&&t.iconName!==void 0,NH=(t,e)=>TH(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:e,iconName:t},RH=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(n){Yb.autoAddCss=n,this._autoAddCss=n}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PH=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(let r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(let i of r.icon[2])typeof i=="string"&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...n){for(let r of n){let i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kH=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ze({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Tt]})}}return t})(),OH=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(n.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),n.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||t)(q(Cn),q(Nt))}}static{this.\u0275cmp=Te({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Tt,Ne],ngContentSelectors:EH,decls:1,vars:0,template:function(r,i){r&1&&(BC(),jC(0))},encapsulation:2})}}return t})(),wn=(()=>{class t{constructor(n,r,i,s,o){this.sanitizer=n,this.config=r,this.iconLibrary=i,this.stackItem=s,this.document=H(Mt),o!=null&&s==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(this.icon==null&&this.config.fallbackIcon==null){SH();return}if(n){let r=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(r!=null){let i=this.buildParams();DH(this.document,this.config);let s=Jb(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(n){let r=NH(n,this.config.defaultPrefix);if("icon"in r)return r;let i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return i??(zH(r),null)}buildParams(){let n={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},r=typeof this.transform=="string"?Zb.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:AH(n),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(r){return new(r||t)(q(Xo),q(RH),q(PH),q(kH,8),q(OH,8))}}static{this.\u0275cmp=Te({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){r&2&&(d5("innerHTML",i.renderedIconHTML,Xy),Jn("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Tt,Ne],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})();var Jt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Xn({})}}return t})();var x6={prefix:"far",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z"]};var FH={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},tI=FH,nI={prefix:"far",iconName:"image",icon:[512,512,[],"f03e","M448 80c8.8 0 16 7.2 16 16l0 319.8-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3L48 96c0-8.8 7.2-16 16-16l384 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]};var VH={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 151.2c-4.2-4.6-10.1-7.2-16.4-7.2C266 144 256 154 256 166.3l0 41.7-96 0c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l96 0 0 41.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.4-7.2l84-91c3.5-3.8 5.4-8.7 5.4-13.9s-1.9-10.1-5.4-13.9l-84-91z"]},rI=VH;var E6={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]};var z6={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"]};var S6={prefix:"far",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376l0 103.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"]};var UH={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};var iI=UH;var hI=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(q(Cn),q(Nt))}}static{this.\u0275dir=Ze({type:t})}}return t})(),BH=(()=>{class t extends hI{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=E1(t)))(i||t)}})()}static{this.\u0275dir=Ze({type:t,features:[An]})}}return t})(),pI=new oe("");var jH={provide:pI,useExisting:I1(()=>J1),multi:!0};function HH(){let t=O2()?O2().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $H=new oe(""),J1=(()=>{class t extends hI{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Cn),q(Nt),q($H,8))}}static{this.\u0275dir=Ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ce("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zi([jH]),An]})}}return t})();function mI(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var O6=new oe(""),gI=new oe(""),qH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function GH(t){return mI(t.value)?{required:!0}:null}function WH(t){return mI(t.value)||qH.test(t.value)?null:{email:!0}}function sI(t){return null}function yI(t){return t!=null}function CI(t){return br(t)?Se(t):t}function vI(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function _I(t,e){return e.map(n=>n(t))}function KH(t){return!t.validate}function MI(t){return t.map(e=>KH(e)?e:n=>e.validate(n))}function QH(t){if(!t)return null;let e=t.filter(yI);return e.length==0?null:function(n){return vI(_I(n,e))}}function Eh(t){return t!=null?QH(MI(t)):null}function YH(t){if(!t)return null;let e=t.filter(yI);return e.length==0?null:function(n){let r=_I(n,e).map(CI);return t8(r).pipe(ae(vI))}}function zh(t){return t!=null?YH(MI(t)):null}function oI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function XH(t){return t._rawValidators}function ZH(t){return t._rawAsyncValidators}function xh(t){return t?Array.isArray(t)?t:[t]:[]}function D6(t,e){return Array.isArray(t)?t.includes(e):t===e}function cI(t,e){let n=xh(e);return xh(t).forEach(i=>{D6(n,i)||n.push(i)}),n}function aI(t,e){return xh(e).filter(n=>!D6(t,n))}var T6=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Eh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gs=class extends T6{get formDirective(){return null}get path(){return null}},dc=class extends T6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},N6=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},z1e=ie(R({},JH),{"[class.ng-submitted]":"isSubmitted"}),Ks=(()=>{class t extends N6{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(dc,2))}}static{this.\u0275dir=Ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&R2("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[An]})}}return t})(),Qs=(()=>{class t extends N6{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Gs,10))}}static{this.\u0275dir=Ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&R2("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[An]})}}return t})();var cc="VALID",A6="INVALID",$s="PENDING",ac="DISABLED",Ws=class{},R6=class extends Ws{constructor(e,n){super(),this.value=e,this.source=n}},uc=class extends Ws{constructor(e,n){super(),this.pristine=e,this.source=n}},fc=class extends Ws{constructor(e,n){super(),this.touched=e,this.source=n}},qs=class extends Ws{constructor(e,n){super(),this.status=e,this.source=n}};function wI(t){return(F6(t)?t.validators:t)||null}function e$(t){return Array.isArray(t)?Eh(t):t||null}function LI(t,e){return(F6(e)?e.asyncValidators:t)||null}function t$(t){return Array.isArray(t)?zh(t):t||null}function F6(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function n$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[n])throw new Y(1001,"")}function r$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Y(1002,"")})}var P6=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qo(()=>this.statusReactive()),this.statusReactive=N2(void 0),this._pristine=qo(()=>this.pristineReactive()),this.pristineReactive=N2(!0),this._touched=qo(()=>this.touchedReactive()),this.touchedReactive=N2(!1),this._events=new ut,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return k2(this.statusReactive)}set status(e){k2(()=>this.statusReactive.set(e))}get valid(){return this.status===cc}get invalid(){return this.status===A6}get pending(){return this.status==$s}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get pristine(){return k2(this.pristineReactive)}set pristine(e){k2(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return k2(this.touchedReactive)}set touched(e){k2(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aI(e,this._rawAsyncValidators))}hasValidator(e){return D6(this._rawValidators,e)}hasAsyncValidator(e){return D6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(R({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new fc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(R({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new uc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new uc(!0,r))}markAsPending(e={}){this.status=$s;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(R({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(i=>{i.disable(ie(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new R6(this.value,r)),this._events.next(new qs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(R({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cc,this._forEachChild(r=>{r.enable(ie(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(R({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cc||this.status===$s)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new R6(this.value,n)),this._events.next(new qs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(R({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=$s,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=CI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?A6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($s)?$s:this._anyControlsHaveStatus(A6)?A6:cc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new uc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new fc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){F6(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=e$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=t$(this._rawAsyncValidators)}},k6=class extends P6{constructor(e,n,r){super(wI(n),LI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){r$(this,!0,e),Object.keys(e).forEach(r=>{n$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Sh=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>Ah}),Ah="always";function i$(t,e){return[...e.path,t]}function bI(t,e,n=Ah){II(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),o$(t,e),a$(t,e),c$(t,e),s$(t,e)}function lI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function s$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function II(t,e){let n=XH(t);e.validator!==null?t.setValidators(oI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ZH(t);e.asyncValidator!==null?t.setAsyncValidators(oI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();lI(e._rawValidators,i),lI(e._rawAsyncValidators,i)}function o$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xI(t,e)})}function c$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function a$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function l$(t,e){t==null,II(t,e)}function u$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function f$(t){return Object.getPrototypeOf(t.constructor)===BH}function d$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function h$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===J1?n=s:f$(s)?r=s:i=s}),i||r||n||null}var p$={provide:Gs,useExisting:I1(()=>ii)},lc=Promise.resolve(),ii=(()=>{class t extends Gs{get submitted(){return k2(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=qo(()=>this.submittedReactive()),this.submittedReactive=N2(!1),this._directives=new Set,this.ngSubmit=new Ge,this.form=new k6({},Eh(n),zh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){lc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),bI(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){lc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){lc.then(()=>{let r=this._findContainer(n.path),i=new k6({});l$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){lc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){lc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),d$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(q(O6,10),q(gI,10),q(Sh,8))}}static{this.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ce("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zi([p$]),An]})}}return t})();function uI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function fI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var m$=class extends P6{constructor(e=null,n,r){super(wI(n),LI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F6(n)&&(n.nonNullable||n.initialValueIsDefault)&&(fI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var g$={provide:dc,useExisting:I1(()=>si)},dI=Promise.resolve(),si=(()=>{class t extends dc{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new m$,this._registered=!1,this.name="",this.update=new Ge,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=h$(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),u$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){dI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&P2(r);dI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?i$(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(q(Gs,9),q(O6,10),q(gI,10),q(pI,10),q(xr,8),q(Sh,8))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zi([g$]),An,Tt]})}}return t})(),Ys=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var EI=(()=>{class t{constructor(){this._validator=sI}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sI,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ze({type:t,features:[Tt]})}}return t})();var y$={provide:O6,useExisting:I1(()=>oi),multi:!0};var oi=(()=>{class t extends EI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=P2,this.createValidator=n=>GH}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=E1(t)))(i||t)}})()}static{this.\u0275dir=Ze({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Jn("required",i._enabled?"":null)},inputs:{required:"required"},features:[Zi([y$]),An]})}}return t})();var C$={provide:O6,useExisting:I1(()=>Dh),multi:!0},Dh=(()=>{class t extends EI{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=P2,this.createValidator=n=>WH}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=E1(t)))(i||t)}})()}static{this.\u0275dir=Ze({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Zi([C$]),An]})}}return t})();var v$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Xn({})}}return t})();var Xs=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Sh,useValue:n.callSetDisabledState??Ah}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zn({type:t})}static{this.\u0275inj=Xn({imports:[v$]})}}return t})();var _$=["wrapper"],M$=["sourceImage"];function w$(t,e){if(t&1){let n=tt();D(0,"img",5,0),ce("load",function(){J(n);let i=U();return ee(i.imageLoadedInView())})("mousedown",function(i){J(n);let s=U();return ee(s.startMove(i,s.moveTypes.Drag))})("touchstart",function(i){J(n);let s=U();return ee(s.startMove(i,s.moveTypes.Drag))})("error",function(i){J(n);let s=U();return ee(s.loadImageError(i))}),T()}if(t&2){let n=e.ngIf,r=U();A1("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle()),R2("ngx-ic-draggable",!r.disabled&&r.allowMoveImage),le("src",n,yn),Jn("alt",r.imageAltText)}}function L$(t,e){if(t&1){let n=tt();u5(0),D(1,"span",9),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"topleft"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"topleft"))}),te(2,"span",10),T(),D(3,"span",11),te(4,"span",10),T(),D(5,"span",12),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"topright"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"topright"))}),te(6,"span",10),T(),D(7,"span",13),te(8,"span",10),T(),D(9,"span",14),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"bottomright"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"bottomright"))}),te(10,"span",10),T(),D(11,"span",15),te(12,"span",10),T(),D(13,"span",16),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"bottomleft"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"bottomleft"))}),te(14,"span",10),T(),D(15,"span",17),te(16,"span",10),T(),D(17,"span",18),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"top"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"top"))}),T(),D(18,"span",19),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"right"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"right"))}),T(),D(19,"span",20),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"bottom"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"bottom"))}),T(),D(20,"span",21),ce("mousedown",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"left"))})("touchstart",function(i){J(n);let s=U(2);return ee(s.startMove(i,s.moveTypes.Resize,"left"))}),T(),f5()}}function b$(t,e){if(t&1){let n=tt();D(0,"div",6),ce("keydown",function(i){J(n);let s=U();return ee(s.keyboardAccess(i))}),D(1,"div",7),ce("mousedown",function(i){J(n);let s=U();return ee(s.startMove(i,s.moveTypes.Move))})("touchstart",function(i){J(n);let s=U();return ee(s.startMove(i,s.moveTypes.Move))}),T(),ve(2,L$,21,0,"ng-container",8),T()}if(t&2){let n=U();A1("top",n.state.cropper().y1,"px")("left",n.state.cropper().x1,"px")("width",n.state.cropper().x2-n.state.cropper().x1,"px")("height",n.state.cropper().y2-n.state.cropper().y1,"px")("margin-left",n.state.options.alignImage==="center"?n.marginLeft:null)("visibility",n.imageVisible?"visible":"hidden"),R2("ngx-ic-round",n.state.options.roundCropper),Jn("aria-label",n.state.options.cropperFrameAriaLabel),O(2),le("ngIf",!n.state.options.hideResizeSquares&&!(n.state.options.cropperStaticWidth&&n.state.options.cropperStaticHeight))}}function hc(t,e,n){return t=I$(t,e),V6(t,e,n)}function I$(t,e){let n=t.x2-t.x1,r=t.y2-t.y1,i=t.x1+n/2,s=t.y1+r/2;e.options.cropperStaticHeight&&e.options.cropperStaticWidth?(n=e.maxSize.width>e.options.cropperStaticWidth?e.options.cropperStaticWidth:e.maxSize.width,r=e.maxSize.height>e.options.cropperStaticHeight?e.options.cropperStaticHeight:e.maxSize.height):(n=Math.max(e.cropperScaledMinWidth,Math.min(n,e.cropperScaledMaxWidth,e.maxSize.width)),r=Math.max(e.cropperScaledMinHeight,Math.min(r,e.cropperScaledMaxHeight,e.maxSize.height)),e.options.maintainAspectRatio&&(e.maxSize.width/e.options.aspectRatio<e.maxSize.height?r=n/e.options.aspectRatio:n=r*e.options.aspectRatio));let o=i-n/2,c=o+n,a=s-r/2,u=a+r;return{x1:o,x2:c,y1:a,y2:u}}function V6(t,e,n=!1){return t.x1<0&&(t=ie(R({},t),{x1:0,x2:t.x2-(n?t.x1:0)})),t.y1<0&&(t=ie(R({},t),{y2:t.y2-(n?t.y1:0),y1:0})),t.x2>e.maxSize.width&&(t=ie(R({},t),{x1:t.x1-(n?t.x2-e.maxSize.width:0),x2:e.maxSize.width})),t.y2>e.maxSize.height&&(t=ie(R({},t),{y1:t.y1-(n?t.y2-e.maxSize.height:0),y2:e.maxSize.height})),t}function x$(t,e){let n=U6(t)-e.clientX,r=B6(t)-e.clientY;return{x1:e.cropper.x1+n,y1:e.cropper.y1+r,x2:e.cropper.x2+n,y2:e.cropper.y2+r}}function zI(t,e,n){let r=R({},n.cropper()),i=U6(t)-e.clientX,s=B6(t)-e.clientY;switch(e.position){case"left":r.x1=Math.min(Math.max(e.cropper.x1+i,r.x2-n.cropperScaledMaxWidth),r.x2-n.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(e.cropper.x1+i,r.x2-n.cropperScaledMaxWidth),r.x2-n.cropperScaledMinWidth),r.y1=Math.min(Math.max(e.cropper.y1+s,r.y2-n.cropperScaledMaxHeight),r.y2-n.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(e.cropper.y1+s,r.y2-n.cropperScaledMaxHeight),r.y2-n.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(e.cropper.x2+i,r.x1+n.cropperScaledMaxWidth),r.x1+n.cropperScaledMinWidth),r.y1=Math.min(Math.max(e.cropper.y1+s,r.y2-n.cropperScaledMaxHeight),r.y2-n.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(e.cropper.x2+i,r.x1+n.cropperScaledMaxWidth),r.x1+n.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(e.cropper.x2+i,r.x1+n.cropperScaledMaxWidth),r.x1+n.cropperScaledMinWidth),r.y2=Math.max(Math.min(e.cropper.y2+s,r.y1+n.cropperScaledMaxHeight),r.y1+n.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(e.cropper.y2+s,r.y1+n.cropperScaledMaxHeight),r.y1+n.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(e.cropper.x1+i,r.x2-n.cropperScaledMaxWidth),r.x2-n.cropperScaledMinWidth),r.y2=Math.max(Math.min(e.cropper.y2+s,r.y1+n.cropperScaledMaxHeight),r.y1+n.cropperScaledMinHeight);break;case"center":let o="scale"in t?t.scale:1,c=Math.min(Math.max(n.cropperScaledMinWidth,Math.abs(e.cropper.x2-e.cropper.x1)*o),n.cropperScaledMaxWidth),a=Math.min(Math.max(n.cropperScaledMinHeight,Math.abs(e.cropper.y2-e.cropper.y1)*o),n.cropperScaledMaxHeight);r.x1=e.clientX-c/2,r.x2=e.clientX+c/2,r.y1=e.clientY-a/2,r.y2=e.clientY+a/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>n.maxSize.width&&(r.x1-=r.x2-n.maxSize.width,r.x2=n.maxSize.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>n.maxSize.height&&(r.y1-=r.y2-n.maxSize.height,r.y2=n.maxSize.height);break}return n.options.maintainAspectRatio?E$(e.position,r,n):r}function E$(t,e,n){e=R({},e);let r=0,i=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),i=Math.max(0-e.y1,0),(r>0||i>0)&&(e.x2-=i*n.options.aspectRatio>r?i*n.options.aspectRatio:r,e.y1+=i*n.options.aspectRatio>r?i:r/n.options.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),i=Math.max(e.y2-n.maxSize.height,0),(r>0||i>0)&&(e.x2-=i*n.options.aspectRatio>r?i*n.options.aspectRatio:r,e.y2-=i*n.options.aspectRatio>r?i:r/n.options.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(0-e.x1,0),i=Math.max(0-e.y1,0),(r>0||i>0)&&(e.x1+=i*n.options.aspectRatio>r?i*n.options.aspectRatio:r,e.y1+=i*n.options.aspectRatio>r?i:r/n.options.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),i=Math.max(0-e.y1,0),(r>0||i>0)&&(e.x2-=i*n.options.aspectRatio>r?i*n.options.aspectRatio:r,e.y1+=i*n.options.aspectRatio>r?i:r/n.options.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),i=Math.max(e.y2-n.maxSize.height,0),(r>0||i>0)&&(e.x2-=i*n.options.aspectRatio>r?i*n.options.aspectRatio:r,e.y2-=i*n.options.aspectRatio>r?i:r/n.options.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(0-e.x1,0),i=Math.max(e.y2-n.maxSize.height,0),(r>0||i>0)&&(e.x1+=i*n.options.aspectRatio>r?i*n.options.aspectRatio:r,e.y2-=i*n.options.aspectRatio>r?i:r/n.options.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*n.options.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/n.options.aspectRatio;let s=Math.max(0-e.x1,0),o=Math.max(e.x2-n.maxSize.width,0),c=Math.max(e.y2-n.maxSize.height,0),a=Math.max(0-e.y1,0);(s>0||o>0||c>0||a>0)&&(e.x1+=c*n.options.aspectRatio>s?c*n.options.aspectRatio:s,e.x2-=a*n.options.aspectRatio>o?a*n.options.aspectRatio:o,e.y1+=a*n.options.aspectRatio>o?a:o/n.options.aspectRatio,e.y2-=c*n.options.aspectRatio>s?c:s/n.options.aspectRatio);break}return e}function U6(t){return"touches"in t&&t.touches[0]?t.touches[0].clientX:"clientX"in t?t.clientX:0}function B6(t){return"touches"in t&&t.touches[0]?t.touches[0].clientY:"clientX"in t?t.clientY:0}var Nh=class{constructor(){this.cropper=N2({x1:0,x2:0,y1:0,y2:0}),this.transform={},this.options={format:"png",output:"blob",autoCrop:!0,maintainAspectRatio:!0,aspectRatio:1,resetCropOnAspectRatioChange:!0,resizeToWidth:0,resizeToHeight:0,cropperMinWidth:0,cropperMinHeight:0,cropperMaxHeight:0,cropperMaxWidth:0,cropperStaticWidth:0,cropperStaticHeight:0,canvasRotation:0,roundCropper:!1,onlyScaleDown:!1,imageQuality:92,backgroundColor:null,containWithinAspectRatio:!1,hideResizeSquares:!1,alignImage:"center",cropperFrameAriaLabel:void 0,checkImageType:!0},this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=3}setOptionsFromChanges(e){e.options?.currentValue&&this.setOptions(e.options.currentValue);let n=Object.entries(e).filter(([r])=>r in this.options).reduce((r,[i,s])=>ie(R({},r),{[i]:s.currentValue}),{});Object.keys(n).length>0&&this.setOptions(n)}setOptions(e){if(this.options=R(R({},this.options),e||{}),this.validateOptions(),!this.loadedImage?.transformed.image.complete||!this.maxSize)return;let n=!1;this.options.maintainAspectRatio&&e.aspectRatio||e.maintainAspectRatio?(this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.options.maintainAspectRatio&&(this.options.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(this.cropper.set(this.maxSizeCropperPosition()),n=!0)):((e.cropperMinWidth||e.cropperMinHeight)&&(this.setCropperScaledMinSize(),n=!0),(e.cropperMaxWidth||e.cropperMaxHeight)&&(this.setCropperScaledMaxSize(),n=!0),(e.cropperStaticWidth||e.cropperStaticHeight)&&(n=!0)),n&&this.cropper.update(r=>hc(r,this,!1))}validateOptions(){if(this.options.maintainAspectRatio&&!this.options.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}setMaxSize(e,n){this.maxSize={width:e,height:n},this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}setCropperScaledMinSize(){this.loadedImage?.transformed.size?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.options.cropperMinWidth>0?Math.max(20,this.options.cropperMinWidth/this.loadedImage.transformed.size.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.options.maintainAspectRatio?this.cropperScaledMinHeight=Math.max(20,this.cropperScaledMinWidth/this.options.aspectRatio):this.options.cropperMinHeight>0?this.cropperScaledMinHeight=Math.max(20,this.options.cropperMinHeight/this.loadedImage.transformed.size.height*this.maxSize.height):this.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed.size){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.cropperScaledMaxWidth=this.options.cropperMaxWidth>20?this.options.cropperMaxWidth/e:this.maxSize.width,this.cropperScaledMaxHeight=this.options.cropperMaxHeight>20?this.options.cropperMaxHeight/e:this.maxSize.height,this.options.maintainAspectRatio&&(this.cropperScaledMaxWidth>this.cropperScaledMaxHeight*this.options.aspectRatio?this.cropperScaledMaxWidth=this.cropperScaledMaxHeight*this.options.aspectRatio:this.cropperScaledMaxWidth<this.cropperScaledMaxHeight*this.options.aspectRatio&&(this.cropperScaledMaxHeight=this.cropperScaledMaxWidth/this.options.aspectRatio))}else this.cropperScaledMaxWidth=this.maxSize.width,this.cropperScaledMaxHeight=this.maxSize.height}equalsCropperPosition(e){let n=this.cropper();return n==null&&e==null||n!=null&&e!=null&&n.x1.toFixed(3)===e.x1.toFixed(3)&&n.y1.toFixed(3)===e.y1.toFixed(3)&&n.x2.toFixed(3)===e.x2.toFixed(3)&&n.y2.toFixed(3)===e.y2.toFixed(3)}equalsTransformTranslate(e){return(this.transform.translateH??0)===(e.translateH??0)&&(this.transform.translateV??0)===(e.translateV??0)}equalsTransform(e){return this.equalsTransformTranslate(e)&&(this.transform.scale??1)===(e.scale??1)&&(this.transform.rotate??0)===(e.rotate??0)&&(this.transform.flipH??!1)===(e.flipH??!1)&&(this.transform.flipV??!1)===(e.flipV??!1)}aspectRatioIsCorrect(){let e=this.cropper();return(e.x2-e.x1)/(e.y2-e.y1)===this.options.aspectRatio}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&this.cropper.update(n=>({x1:n.x1*this.maxSize.width/e.width,x2:n.x2*this.maxSize.width/e.width,y1:n.y1*this.maxSize.height/e.height,y2:n.y2*this.maxSize.height/e.height}))}maxSizeCropperPosition(){return{x1:0,y1:0,x2:this.maxSize.width,y2:this.maxSize.height}}},ln=function(t){return t.Drag="drag",t.Move="move",t.Resize="resize",t.Pinch="pinch",t}(ln||{});function z$(t,e,n){let r=t.width,i=t.height;e=Math.round(e),n=Math.round(n);let s=r/e,o=i/n,c=Math.ceil(s/2),a=Math.ceil(o/2),u=t.getContext("2d");if(u){let d=u.getImageData(0,0,r,i),p=u.createImageData(e,n),m=d.data,y=p.data;for(let w=0;w<n;w++)for(let A=0;A<e;A++){let z=(A+w*e)*4,P=w*o,F=0,j=0,W=0,Le=0,ne=0,L=0,C=0,M=Math.floor(A*s),b=Math.floor(w*o),I=Math.ceil((A+1)*s),E=Math.ceil((w+1)*o);I=Math.min(I,r),E=Math.min(E,i);for(let _=b;_<E;_++){let un=Math.abs(P-_)/a,er=A*s,ll=un*un;for(let Vn=M;Vn<I;Vn++){let c1=Math.abs(er-Vn)/c,Un=Math.sqrt(ll+c1*c1);if(Un>=1)continue;F=2*Un*Un*Un-3*Un*Un+1;let y2=4*(Vn+_*r);C+=F*m[y2+3],W+=F,m[y2+3]<255&&(F=F*m[y2+3]/250),Le+=F*m[y2],ne+=F*m[y2+1],L+=F*m[y2+2],j+=F}}y[z]=Le/j,y[z+1]=ne/j,y[z+2]=L/j,y[z+3]=C/W}t.width=e,t.height=n,u.putImageData(p,0,0)}}function SI(t,e){return t/100*e}var Rh=class{crop(e,n){let r=this.getImagePosition(e),i=r.x2-r.x1,s=r.y2-r.y1,o=document.createElement("canvas");o.width=i,o.height=s;let c=o.getContext("2d");if(!c)return null;e.options.backgroundColor!=null&&(c.fillStyle=e.options.backgroundColor,c.fillRect(0,0,i,s));let a=(e.transform.scale||1)*(e.transform.flipH?-1:1),u=(e.transform.scale||1)*(e.transform.flipV?-1:1),{translateH:d,translateV:p}=this.getCanvasTranslate(e),m=e.loadedImage.transformed;c.setTransform(a,0,0,u,m.size.width/2+d,m.size.height/2+p),c.translate(-r.x1/a,-r.y1/u),c.rotate((e.transform.rotate||0)*Math.PI/180),c.drawImage(m.image,-m.size.width/2,-m.size.height/2);let y={width:i,height:s,imagePosition:r,cropperPosition:R({},e.cropper())};e.options.containWithinAspectRatio&&(y.offsetImagePosition=this.getOffsetImagePosition(e));let w=this.getResizeRatio(i,s,e.options);return w!==1&&(y.width=Math.round(i*w),y.height=e.options.maintainAspectRatio?Math.round(y.width/e.options.aspectRatio):Math.round(s*w),z$(o,y.width,y.height)),n==="blob"?this.cropToBlob(y,o,e):(y.base64=o.toDataURL("image/"+e.options.format,this.getQuality(e.options)),y)}cropToBlob(e,n,r){return v(this,null,function*(){return e.blob=yield new Promise(i=>n.toBlob(i,"image/"+r.options.format,this.getQuality(r.options))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e){if(e.transform.translateUnit==="px"){let n=this.getRatio(e);return{translateH:(e.transform.translateH||0)*n,translateV:(e.transform.translateV||0)*n}}else return{translateH:e.transform.translateH?SI(e.transform.translateH,e.loadedImage.transformed.size.width):0,translateV:e.transform.translateV?SI(e.transform.translateV,e.loadedImage.transformed.size.height):0}}getRatio(e){return e.loadedImage.transformed.size.width/e.maxSize.width}getImagePosition(e){let n=this.getRatio(e),r=e.cropper(),i={x1:Math.round(r.x1*n),y1:Math.round(r.y1*n),x2:Math.round(r.x2*n),y2:Math.round(r.y2*n)};return e.options.containWithinAspectRatio||(i.x1=Math.max(i.x1,0),i.y1=Math.max(i.y1,0),i.x2=Math.min(i.x2,e.loadedImage.transformed.size.width),i.y2=Math.min(i.y2,e.loadedImage.transformed.size.height)),i}getOffsetImagePosition(e){let n=e.options.canvasRotation+e.loadedImage.exifTransform.rotate,r=this.getRatio(e),i,s;n%2?(i=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.height)/2,s=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.width)/2):(i=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.width)/2,s=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.height)/2);let o=e.cropper(),c={x1:Math.round(o.x1*r)-i,y1:Math.round(o.y1*r)-s,x2:Math.round(o.x2*r)-i,y2:Math.round(o.y2*r)-s};return e.options.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.loadedImage.transformed.size.width),c.y2=Math.min(c.y2,e.loadedImage.transformed.size.height)),c}getResizeRatio(e,n,r){let i=r.resizeToWidth/e,s=r.resizeToHeight/n,o=new Array;r.resizeToWidth>0&&o.push(i),r.resizeToHeight>0&&o.push(s);let c=o.length===0?1:Math.min(...o);return c>1&&!r.onlyScaleDown?c:Math.min(c,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}},S$="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function A$(){return new Promise(t=>{let e=new Image;e.onload=()=>{let n=e.width===1&&e.height===2;t(n)},e.src=S$})}function D$(t){switch(typeof t=="object"&&(t=T$(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function T$(t){let e=new DataView(t);if(e.getUint16(0,!1)!==65496)return-2;let n=e.byteLength,r=2;for(;r<n;){if(e.getUint16(r+2,!1)<=8)return-1;let i=e.getUint16(r,!1);if(r+=2,i==65505){if(e.getUint32(r+=2,!1)!==1165519206)return-1;let s=e.getUint16(r+=6,!1)==18761;r+=e.getUint32(r+4,s);let o=e.getUint16(r,s);r+=2;for(let c=0;c<o;c++)if(e.getUint16(r+c*12,s)==274)return e.getUint16(r+c*12+8,s)}else{if((i&65280)!==65280)break;r+=e.getUint16(r,!1)}}return-1}var Ph=class{constructor(){this.autoRotateSupported=A$()}loadImageFile(e,n){return v(this,null,function*(){let r=yield e.arrayBuffer();return n.options.checkImageType?yield this.checkImageTypeAndLoadImageFromArrayBuffer(r,e.type,n):yield this.loadImageFromArrayBuffer(r,n)})}checkImageTypeAndLoadImageFromArrayBuffer(e,n,r){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(e,r,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,n){return v(this,null,function*(){let i=yield(yield fetch(e)).blob(),s=yield i.arrayBuffer();return yield this.loadImageFromArrayBuffer(s,n,i.type)})}loadBase64Image(e,n){let r=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(r,n)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let n=atob(e),r=n.length,i=new Uint8Array(r);for(let s=0;s<r;s++)i[s]=n.charCodeAt(s);return i.buffer}loadImageFromArrayBuffer(e,n,r){return v(this,null,function*(){let i=yield new Promise((s,o)=>v(this,null,function*(){try{let c=new Blob([e],r?{type:r}:void 0),a=URL.createObjectURL(c),u=new Image,p=r==="image/svg+xml"?yield this.getSvgImageSize(c):void 0;u.onload=()=>s({originalImage:u,originalImageSize:p,originalObjectUrl:a,originalArrayBuffer:e}),u.onerror=o,u.src=a}catch(c){o(c)}}));return yield this.transformImageFromArrayBuffer(i,n,i.originalImageSize!=null)})}getSvgImageSize(e){return v(this,null,function*(){let i=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!i)throw Error("Failed to parse SVG image");let s=i.getAttribute("width"),o=i.getAttribute("height");if(s&&o)return null;let c=i.getAttribute("viewBox")||i.getAttribute("viewbox");if(c){let a=c.split(" ");return{width:+a[2],height:+a[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,n,r=!1){return v(this,null,function*(){let i=yield this.autoRotateSupported,s=D$(i?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let o={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:s};return this.transformLoadedImage(o,n,r)})}transformLoadedImage(e,n,r=!1){return v(this,null,function*(){let i=n.options.canvasRotation+e.exifTransform.rotate,s=e.original.size;if(!r&&i===0&&!e.exifTransform.flip&&!n.options.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:R({},s)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:R({},s)},exifTransform:e.exifTransform};let o=this.getTransformedSize(s,e.exifTransform,n),c=document.createElement("canvas");c.width=o.width,c.height=o.height;let a=c.getContext("2d");a?.setTransform(e.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),a?.rotate(Math.PI*(i/2)),a?.drawImage(e.original.image,-s.width/2,-s.height/2);let u=yield new Promise(m=>c.toBlob(m,n.options.format));if(!u)throw new Error("Failed to get Blob for transformed image.");let d=URL.createObjectURL(u),p=yield this.loadImageFromObjectUrl(d);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:R({},s)},transformed:{objectUrl:d,image:p,size:{width:p.width,height:p.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((n,r)=>{let i=new Image;i.onload=()=>n(i),i.onerror=r,i.src=e})}getTransformedSize(e,n,r){let i=r.options.canvasRotation+n.rotate;if(r.options.containWithinAspectRatio)if(i%2){let s=e.width*r.options.aspectRatio,o=e.height/r.options.aspectRatio;return{width:Math.max(e.height,s),height:Math.max(e.width,o)}}else{let s=e.height*r.options.aspectRatio,o=e.width/r.options.aspectRatio;return{width:Math.max(e.width,s),height:Math.max(e.height,o)}}return i%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};function N$(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function R$(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function P$(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:e*-1};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:e*-1,clientY:0}}}var AI=(()=>{class t{get alignImageStyle(){return this.state.options.alignImage}constructor(n){this.sanitizer=n,this.pinchStart$=new ut,this.cropService=new Rh,this.loadImageService=new Ph,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.moveTypes=ln,this.state=new Nh,this.safeImgDataUrl=N2(void 0),this.safeTransformStyle=N2(void 0),this.marginLeft="0px",this.imageVisible=!1,this.allowMoveImage=!1,this.checkImageType=!0,this.disabled=!1,this.hidden=!1,this.imageCropped=z1(),this.startCropImage=z1(),this.imageLoaded=z1(),this.cropperReady=z1(),this.loadImageFailed=z1(),this.transformChange=z1(),this.cropperChange=z1(),this.reset()}ngOnInit(){this.state.stepSize=this.initialStepSize||this.state.stepSize}ngOnChanges(n){let r=this.state.cropper(),i=this.state.transform,s=this.state.options.backgroundColor;if(this.state.setOptionsFromChanges(n),this.onChangesInputImage(n),n.transform&&this.transform&&(this.state.transform=this.transform,this.setCssTransform()),!this.state.loadedImage?.transformed.image.complete||!this.state.maxSize)return;if(this.containWithinAspectRatio&&n.aspectRatio||n.containWithinAspectRatio||n.canvasRotation){this.loadImageService.transformLoadedImage(this.state.loadedImage,this.state).then(c=>this.setLoadedImage(c)).catch(c=>this.loadImageError(c));return}n.cropper&&this.cropper&&this.state.cropper.set(hc(this.cropper,this.state,!0));let o=!this.state.equalsCropperPosition(r);o&&(!this.cropper||!this.state.equalsCropperPosition(this.cropper))&&this.cropperChange.emit(this.state.cropper()),(o||!this.state.equalsTransform(i)||this.state.options.backgroundColor!==s)&&this.doAutoCrop(),n.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesInputImage(n){(n.imageChangedEvent||n.imageURL||n.imageBase64||n.imageFile)&&this.reset(),n.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),n.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),n.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),n.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let n=this.imageChangedEvent?.target?.files;return n instanceof FileList&&n.length>0}reset(){this.safeImgDataUrl.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="),this.state.loadedImage=void 0,this.state.maxSize=void 0,this.imageVisible=!1}loadImageFile(n){this.loadImageService.loadImageFile(n,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadBase64Image(n){this.loadImageService.loadBase64Image(n,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadImageFromURL(n){this.loadImageService.loadImageFromURL(n,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}setLoadedImage(n){this.state.loadedImage=n,this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(n.transformed.objectUrl))}loadImageError(n){console.error(n),this.loadImageFailed.emit()}setCssTransform(){let n=this.state.transform?.translateUnit||"%";this.safeTransformStyle.set(this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH||0}${n}, ${this.state.transform.translateV||0}${n}) scaleX(`+(this.state.transform.scale||1)*(this.state.transform.flipH?-1:1)+") scaleY("+(this.state.transform.scale||1)*(this.state.transform.flipV?-1:1)+") rotate("+(this.state.transform.rotate||0)+"deg)"))}imageLoadedInView(){this.state.loadedImage!=null&&(this.imageLoaded.emit(this.state.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.cropper&&(!this.maintainAspectRatio||this.state.aspectRatioIsCorrect())?(this.state.cropper.set(hc(this.cropper,this.state,!0)),this.emitCropperPositionChange(this.cropper)):(this.state.cropper.set(hc(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())),this.imageVisible=!0,this.cropperReady.emit(R({},this.state.maxSize)),this.doAutoCrop()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>1}onResize(){if(this.state.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let n=R({},this.state.maxSize);this.setMaxSize(),this.state.resizeCropperPosition(n)}}keyboardAccess(n){this.changeKeyboardStepSize(n),this.keyboardMoveCropper(n)}changeKeyboardStepSize(n){let r=+n.key;r>=1&&r<=9&&(this.state.stepSize=r)}keyboardMoveCropper(n){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(n.key))return;let i=n.shiftKey?ln.Resize:ln.Move,s=n.altKey?R$(n.key):N$(n.key),o=P$(n.key,this.state.stepSize);n.preventDefault(),n.stopPropagation(),this.moveStart={type:i,position:s,clientX:0,clientY:0,transform:this.state.transform,cropper:this.state.cropper()},this.handleMouseMove(o),this.handleMouseUp()}startMove(n,r,i=null){this.disabled||this.moveStart&&this.moveStart.type===ln.Pinch||r===ln.Drag&&!this.allowMoveImage||("preventDefault"in n&&n.preventDefault(),this.moveStart={type:r,position:i,clientX:U6(n),clientY:B6(n),transform:this.state.transform,cropper:this.state.cropper()},this.initMouseMove())}initMouseMove(){l4(Hn(document,"mousemove"),Hn(document,"touchmove")).pipe(xi(l4(Hn(document,"mouseup"),Hn(document,"touchend"),this.pinchStart$).pipe(fn()))).subscribe({next:n=>this.handleMouseMove(n),complete:()=>this.handleMouseUp()})}handleMouseMove(n){if(this.moveStart){if("stopPropagation"in n&&n.stopPropagation(),"preventDefault"in n&&n.preventDefault(),this.moveStart.type===ln.Move)this.state.cropper.set(V6(x$(n,this.moveStart),this.state,!0));else if(this.moveStart.type===ln.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(V6(zI(n,this.moveStart,this.state),this.state,!1));else if(this.moveStart.type===ln.Drag){let r=U6(n)-this.moveStart.clientX,i=B6(n)-this.moveStart.clientY;this.state.transform=ie(R({},this.state.transform),{translateH:(this.moveStart.transform?.translateH||0)+r,translateV:(this.moveStart.transform?.translateV||0)+i}),this.setCssTransform()}}}handleMouseUp(){!this.moveStart||this.moveStart.type===ln.Pinch||((!this.state.equalsCropperPosition(this.moveStart.cropper)||this.moveStart.transform&&!this.state.equalsTransform(this.moveStart.transform))&&(this.moveStart.type===ln.Drag?this.transformChange.emit(this.state.transform):this.cropperChange.emit(this.state.cropper()),this.doAutoCrop()),this.moveStart=void 0)}startPinch(n){if(this.disabled||!this.sourceImageLoaded()||n.touches.length<2)return;"preventDefault"in n&&n.preventDefault();let r=this.state.cropper();this.moveStart={type:ln.Pinch,position:"center",clientX:r.x1+(r.x2-r.x1)/2,clientY:r.y1+(r.y2-r.y1)/2,cropper:r},this.initPinch()}initPinch(){this.pinchStart$.next(),Hn(document,"touchmove").pipe(xi(Hn(document,"touchend"))).subscribe({next:n=>this.handlePinchMove(n),complete:()=>this.handlePinchStop()})}handlePinchMove(n){this.moveStart&&(n.preventDefault&&n.preventDefault(),this.moveStart.type===ln.Pinch&&!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(V6(zI(n,this.moveStart,this.state),this.state,!1)))}handlePinchStop(){this.moveStart&&(this.state.equalsCropperPosition(this.moveStart.cropper)||(this.emitCropperPositionChange(this.moveStart.cropper),this.doAutoCrop()),this.moveStart=void 0)}setMaxSize(){if(this.sourceImage){let n=getComputedStyle(this.sourceImage.nativeElement);this.state.setMaxSize(parseFloat(n.width),parseFloat(n.height)),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.state.maxSize.width/2+"px)")}}emitCropperPositionChange(n){this.state.equalsCropperPosition(n)||this.cropperChange.emit(this.state.cropper())}doAutoCrop(){this.state.options.autoCrop&&this.crop()}crop(n=this.state.options.output){if(this.state.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),n==="blob")return this.cropToBlob();if(n==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((n,r)=>v(this,null,function*(){let i=yield this.cropService.crop(this.state,"blob");i?(this.imageCropped.emit(i),n(i)):r("Crop image failed")}))}cropToBase64(){let n=this.cropService.crop(this.state,"base64");return n?(this.imageCropped.emit(n),n):null}resetCropperPosition(){this.state.cropper.set(hc(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())}ngOnDestroy(){this.pinchStart$.complete()}static{this.\u0275fac=function(r){return new(r||t)(q(Xo))}}static{this.\u0275cmp=Te({type:t,selectors:[["image-cropper"]],viewQuery:function(r,i){if(r&1&&(p5(_$,7),p5(M$,5)),r&2){let s;p3(s=m3())&&(i.wrapper=s.first),p3(s=m3())&&(i.sourceImage=s.first)}},hostVars:6,hostBindings:function(r,i){r&1&&ce("resize",function(){return i.onResize()},!1,Jy),r&2&&(A1("text-align",i.alignImageStyle),R2("disabled",i.disabled)("ngx-ic-hidden",i.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",options:"options",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",autoCrop:"autoCrop",cropper:"cropper",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",checkImageType:"checkImageType",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange",cropperChange:"cropperChange"},standalone:!0,features:[Tt,Ne],decls:4,vars:10,consts:[["sourceImage",""],[3,"touchstart"],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(r,i){r&1&&(D(0,"div",1),ce("touchstart",function(o){return i.startPinch(o)}),ve(1,w$,2,8,"img",2),te(2,"div",3),ve(3,b$,3,16,"div",4),T()),r&2&&(A1("background",i.imageVisible&&i.state.options.backgroundColor),O(),le("ngIf",i.safeImgDataUrl()),O(),A1("width",(i.state.maxSize==null?null:i.state.maxSize.width)||0,"px")("height",(i.state.maxSize==null?null:i.state.maxSize.height)||0,"px")("margin-left",i.alignImage==="center"?i.marginLeft:null),O(),le("ngIf",i.imageVisible))},dependencies:[av],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0})}}return t})();function k$(t,e){if(t&1){let n=tt();D(0,"div",1)(1,"div",2)(2,"div",3)(3,"image-cropper",4),ce("imageCropped",function(i){J(n);let s=U();return ee(s.onImageCropped(i))}),T(),D(4,"div",5)(5,"button",6),ce("click",function(){J(n);let i=U();return ee(i.saveCroppedImage())}),$(6,"Save"),T(),D(7,"button",7),ce("click",function(){J(n);let i=U();return ee(i.cancelCropper())}),$(8,"Cancel"),T()()()()()}if(t&2){let n=U();O(3),le("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1/1)("resizeToWidth",256)}}var j6=class t{imageChangedEvent=null;imageCropped=new Ge;cropCancelled=new Ge;cropSaved=new Ge;croppedImage=void 0;format="png";maintainAspectRatio=!0;aspectRatio=1;resizeToWidth=256;roundCropper=!1;showCropperCross=!0;canvasRotation=0;onImageCropped(e){console.log("Cropping event received:",e),e.base64?(this.croppedImage=e.base64,console.log("Stored cropped image:",this.croppedImage)):e.blob?this.convertBlobToBase64(e.blob).then(n=>{this.croppedImage=n,console.log("Converted blob to base64:",this.croppedImage)}).catch(n=>{console.error("Failed to convert blob to base64:",n)}):console.warn("No base64 image available")}saveCroppedImage(){if(console.log("Attempting to save image:",this.croppedImage),!this.croppedImage){console.warn("No cropped image available");return}this.imageCropped.emit(this.croppedImage),this.cropSaved.emit(),console.log("Image saved and emitted")}cancelCropper(){this.cropCancelled.emit()}convertBlobToBase64(e){return new Promise((n,r)=>{let i=new FileReader;i.onloadend=()=>{n(i.result)},i.onerror=r,i.readAsDataURL(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-image-cropper"]],inputs:{imageChangedEvent:"imageChangedEvent"},outputs:{imageCropped:"imageCropped",cropCancelled:"cropCancelled",cropSaved:"cropSaved"},standalone:!0,features:[Ne],decls:2,vars:1,consts:[[1,"image-cropper-container"],[1,"popup-overlay"],[1,"popup-container"],[1,"cropper-section"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth"],[1,"actions"],[1,"btn-save",3,"click"],[1,"btn-cancel",3,"click"]],template:function(n,r){n&1&&(D(0,"div",0),ve(1,k$,9,4,"div",1),T()),n&2&&(O(),xe(r.imageChangedEvent?1:-1))},dependencies:[Wo,AI],styles:[".popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 0 10px #00000080;width:90%;max-width:500px}.file-input[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.file-upload-label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.file-upload-input[_ngcontent-%COMP%]{display:block;margin:0 auto}.actions[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.btn-save[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:5px;margin-right:10px;cursor:pointer}.btn-save[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-cancel[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}"]})};var pt=class t{constructor(e,n){this.auth=e;this.firestore=n}currentUserSubject=new gt(null);register(e){let{email:n,username:r,password:i,img:s}=e;return Se(IM(this.auth,n,i)).pipe(qe(o=>{let c=o.user;return AM(c,{displayName:r,photoURL:s}).then(()=>{let a=kn(this.firestore,`users/${c.uid}`),u={uid:c.uid,email:c.email,displayName:r,photoURL:s,createdAt:new Date().toISOString(),savedPosts:[]};return BL(a,u)})}),ct(o=>{throw console.error("Error during registration:",o),new Error("Registration failed")}))}login(e,n){return Se(zM(this.auth,e,n)).pipe(qe(r=>{let i=r.user;return Z({uid:i.uid,displayName:i.displayName||"No Name"})}),ct(r=>{throw console.error("Error during login:",r),new Error("Login failed")}))}logout(){return Se(SM(this.auth)).pipe(ct(e=>{throw console.error("Error during logout:",e),new Error("Logout failed")}))}getUser(){return new ge(e=>{EM(this.auth,n=>{n?this.getUserFromFirestore(n.uid).pipe(ct(r=>(console.error("Error fetching user from Firestore:",r),Z(null)))).subscribe(r=>{this.currentUserSubject.next(r),e.next(r)}):(this.currentUserSubject.next(null),e.next(null))})})}getUserFromFirestore(e){let n=kn(this.firestore,`users/${e}`);return Fs(n,{idField:"uid"}).pipe(ct(r=>(console.error("Error fetching user from Firestore:",r),Z(null))))}getUserByReference(e){return Fs(e,{idField:"uid"}).pipe(ct(n=>(console.error("Error fetching user by reference:",n),Z(null))))}savePost(e,n){let r=kn(this.firestore,`users/${e}`);return Se(q9(r,{savedPosts:OL(n)})).pipe(ct(i=>{throw console.error("Error saving post:",i),new Error("Failed to save post")}))}unsavePost(e,n){let r=kn(this.firestore,`users/${e}`);return Se(q9(r,{savedPosts:kL(n)})).pipe(ct(i=>{throw console.error("Error unsaving post:",i),new Error("Failed to unsave post")}))}static \u0275fac=function(n){return new(n||t)(ue(jr),ue(n1))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})};var OI="firebasestorage.googleapis.com",FI="storageBucket",O$=2*60*1e3,F$=10*60*1e3;var st=class t extends qt{constructor(e,n,r=0){super(kh(e),`Firebase Storage: ${n} (${kh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},lt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(lt||{});function kh(t){return"storage/"+t}function jh(){let t="An unknown error occurred, please check the error payload for server response.";return new st(lt.UNKNOWN,t)}function V$(t){return new st(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function U$(t){return new st(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B$(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(lt.UNAUTHENTICATED,t)}function j$(){return new st(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function H$(t){return new st(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $$(){return new st(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q$(){return new st(lt.CANCELED,"User canceled the upload/download.")}function G$(t){return new st(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function W$(t){return new st(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function K$(){return new st(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FI+"' property when initializing the app?")}function Q$(){return new st(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Y$(){return new st(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X$(t){return new st(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Oh(t){return new st(lt.INVALID_ARGUMENT,t)}function VI(){return new st(lt.APP_DELETED,"The Firebase app was deleted.")}function Z$(t){return new st(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mc(t,e){return new st(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pc(t){throw new st(lt.INTERNAL_ERROR,"Internal error: "+t)}var On=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw W$(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(W){W.path_=decodeURIComponent(W.path)}let d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${i}/o${m}`,"i"),w={bucket:1,path:3},A=n===OI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",P=new RegExp(`^https?://${A}/${i}/${z}`,"i"),j=[{regex:c,indices:a,postModify:s},{regex:y,indices:w,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let W=0;W<j.length;W++){let Le=j[W],ne=Le.regex.exec(e);if(ne){let L=ne[Le.indices.bucket],C=ne[Le.indices.path];C||(C=""),r=new t(L,C),Le.postModify(r);break}}if(r==null)throw G$(e);return r}},Fh=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function J$(t,e,n){let r=1,i=null,s=null,o=!1,c=0;function a(){return c===2}let u=!1;function d(...z){u||(u=!0,e.apply(null,z))}function p(z){i=setTimeout(()=>{i=null,t(y,a())},z)}function m(){s&&clearTimeout(s)}function y(z,...P){if(u){m();return}if(z){m(),d.call(null,z,...P);return}if(a()||o){m(),d.call(null,z,...P);return}r<64&&(r*=2);let j;c===1?(c=2,j=0):j=(r+Math.random())*1e3,p(j)}let w=!1;function A(z){w||(w=!0,m(),!u&&(i!==null?(z||(c=2),clearTimeout(i),p(0)):z||(c=1)))}return p(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function eq(t){t(!1)}function tq(t){return t!==void 0}function nq(t){return typeof t=="object"&&!Array.isArray(t)}function Hh(t){return typeof t=="string"||t instanceof String}function DI(t){return $h()&&t instanceof Blob}function $h(){return typeof Blob<"u"}function TI(t,e,n,r){if(r<e)throw Oh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Oh(`Invalid value for '${t}'. Expected ${n} or less.`)}function qh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function UI(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Js=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Js||{});function rq(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Vh=class{constructor(e,n,r,i,s,o,c,a,u,d,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Zs(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let a=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===Js.NO_ERROR,a=s.getStatus();if(!c||rq(a,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Js.ABORT;r(!1,new Zs(!1,null,d));return}let u=this.successCodes_.indexOf(a)!==-1;r(!0,new Zs(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());tq(a)?s(a):s()}catch(a){o(a)}else if(c!==null){let a=jh();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(i.canceled){let a=this.appDelete_?VI():q$();o(a)}else{let a=$$();o(a)}};this.canceled_?n(!1,new Zs(!1,null,!0)):this.backoffId_=J$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Zs=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function iq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aq(t,e,n,r,i,s,o=!0){let c=UI(t.urlParams),a=t.url+c,u=Object.assign({},t.headers);return oq(u,e),iq(u,n),sq(u,s),cq(u,r),new Vh(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function lq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uq(...t){let e=lq();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($h())return new Blob(t);throw new st(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function dq(t){if(typeof atob>"u")throw X$("base-64");return atob(t)}var Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},gc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function BI(t,e){switch(t){case Fn.RAW:return new gc(jI(e));case Fn.BASE64:case Fn.BASE64URL:return new gc(HI(t,e));case Fn.DATA_URL:return new gc(pq(e),mq(e))}throw jh()}function jI(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function hq(t){let e;try{e=decodeURIComponent(t)}catch{throw mc(Fn.DATA_URL,"Malformed data URL.")}return jI(e)}function HI(t,e){switch(t){case Fn.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dq(e)}catch(i){throw i.message.includes("polyfill")?i:mc(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var $6=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw mc(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=gq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function pq(t){let e=new $6(t);return e.base64?HI(Fn.BASE64,e.rest):hq(e.rest)}function mq(t){return new $6(t).contentType}function gq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var q6=class t{constructor(e,n){let r=0,i="";DI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(DI(this.data_)){let r=this.data_,i=fq(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if($h()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(uq.apply(null,n))}else{let n=e.map(o=>Hh(o)?BI(Fn.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new t(i,!0)}}uploadData(){return this.data_}};function $I(t){let e;try{e=JSON.parse(t)}catch{return null}return nq(e)?e:null}function yq(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Cq(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qI(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function vq(t,e){return e}var bt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||vq}},H6=null;function _q(t){return!Hh(t)||t.length<2?t:qI(t)}function GI(){if(H6)return H6;let t=[];t.push(new bt("bucket")),t.push(new bt("generation")),t.push(new bt("metageneration")),t.push(new bt("name","fullPath",!0));function e(s,o){return _q(o)}let n=new bt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new bt("size");return i.xform=r,t.push(i),t.push(new bt("timeCreated")),t.push(new bt("updated")),t.push(new bt("md5Hash",null,!0)),t.push(new bt("cacheControl",null,!0)),t.push(new bt("contentDisposition",null,!0)),t.push(new bt("contentEncoding",null,!0)),t.push(new bt("contentLanguage",null,!0)),t.push(new bt("contentType",null,!0)),t.push(new bt("metadata","customMetadata",!0)),H6=t,H6}function Mq(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new On(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function wq(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Mq(r,t),r}function WI(t,e,n){let r=$I(e);return r===null?null:wq(t,r,n)}function Lq(t,e,n,r){let i=$I(e);if(i===null||!Hh(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let d=t.bucket,p=t.fullPath,m="/b/"+o(d)+"/o/"+o(p),y=qh(m,n,r),w=UI({alt:"media",token:u});return y+w})[0]}function bq(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var G6=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function KI(t){if(!t)throw jh()}function Iq(t,e){function n(r,i){let s=WI(t,i,e);return KI(s!==null),s}return n}function xq(t,e){function n(r,i){let s=WI(t,i,e);return KI(s!==null),Lq(s,i,t.host,t._protocol)}return n}function QI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=j$():i=B$():n.getStatus()===402?i=U$(t.bucket):n.getStatus()===403?i=H$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Eq(t){let e=QI(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=V$(t.path)),s.serverResponse=i.serverResponse,s}return n}function zq(t,e,n){let r=e.fullServerUrl(),i=qh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new G6(i,s,xq(t,n),o);return c.errorHandler=Eq(e),c}function Sq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Aq(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Sq(null,e)),r}function Dq(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let j="";for(let W=0;W<2;W++)j=j+Math.random().toString().slice(2);return j}let a=c();o["Content-Type"]="multipart/related; boundary="+a;let u=Aq(e,r,i),d=bq(u,n),p="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+a+"--",y=q6.getBlob(p,r,m);if(y===null)throw Q$();let w={name:u.fullPath},A=qh(s,t.host,t._protocol),z="POST",P=t.maxUploadRetryTime,F=new G6(A,z,Iq(t,n),P);return F.urlParams=w,F.headers=o,F.body=y.uploadData(),F.errorHandler=QI(e),F}var lre=256*1024;var NI=null,Uh=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Bh=class extends Uh{initXhr(){this.xhr_.responseType="text"}};function YI(){return NI?NI():new Bh}var eo=class t{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qI(this._location.path)}get storage(){return this._service}get parent(){let e=yq(this._location.path);if(e===null)return null;let n=new On(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z$(e)}};function Tq(t,e,n){t._throwIfRoot("uploadBytes");let r=Dq(t.storage,t._location,GI(),new q6(e,!0),n);return t.storage.makeRequestWithTokens(r,YI).then(i=>({metadata:i,ref:t}))}function Nq(t,e,n=Fn.RAW,r){t._throwIfRoot("uploadString");let i=BI(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),Tq(t,i.data,s)}function Rq(t){t._throwIfRoot("getDownloadURL");let e=zq(t.storage,t._location,GI());return t.storage.makeRequestWithTokens(e,YI).then(n=>{if(n===null)throw Y$();return n})}function Pq(t,e){let n=Cq(t._location.path,e),r=new On(t._location.bucket,n);return new eo(t.storage,r)}function kq(t){return/^[A-Za-z]+:\/\//.test(t)}function Oq(t,e){return new eo(t,e)}function XI(t,e){if(t instanceof yc){let n=t;if(n._bucket==null)throw K$();let r=new eo(n,n._bucket);return e!=null?XI(r,e):r}else return e!==void 0?Pq(t,e):t}function Fq(t,e){if(e&&kq(e)){if(t instanceof yc)return Oq(t,e);throw Oh("To use ref(service, url), the first argument must be a Storage instance.")}else return XI(t,e)}function RI(t,e){let n=e?.[FI];return n==null?null:On.makeFromBucketSpec(n,t)}function Vq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:j3(i,t.app.options.projectId))}var yc=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=OI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O$,this._maxUploadRetryTime=F$,this._requests=new Set,i!=null?this._bucket=On.makeFromBucketSpec(i,this._host):this._bucket=RI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=RI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Fh(VI());{let o=aq(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},PI="@firebase/storage",kI="0.13.2";var ZI="storage";function JI(t,e,n,r){return t=He(t),Nq(t,e,n,r)}function ex(t){return t=He(t),Rq(t)}function tx(t,e){return t=He(t),Fq(t,e)}function nx(t=O1(),e){t=He(t);let r=Rr(t,ZI).getImmediate({identifier:e}),i=B3("storage");return i&&Uq(r,...i),r}function Uq(t,e,n,r={}){Vq(t,e,n,r)}function Bq(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yc(n,r,i,e,r2)}function jq(){n2(new Zt(ZI,Bq,"PUBLIC").setMultipleInstances(!0)),rt(PI,kI,""),rt(PI,kI,"esm2017")}jq();var g2=class t{constructor(e,n){this.firestore=e;this.userService=n}getPosts(){let e=p6(this.firestore,"post"),n=$9(e,UL("createdAt","desc"),O9(100));return RL(n,{idField:"_id"}).pipe(ae(r=>r))}uploadImageToFirebase(e){if(!e)return jn(()=>new Error("No image provided"));try{let n=nx(),r=`images/${Date.now()}.png`,i=tx(n,r);return Se(JI(i,e,"data_url")).pipe(qe(()=>ex(i)),ct(s=>(console.error("Upload failed:",s),jn(()=>new Error("Failed to upload image")))))}catch(n){return console.error("Image processing failed:",n),jn(()=>new Error("Failed to process image"))}}createPost(e,n,r){let i=p6(this.firestore,"post"),s=kn(this.firestore,`users/${n}`),o=this.formatDate(new Date),c={content:e,creator:s,date:o,likes:[],comments:[],createdAt:new Date,_id:""};return r&&(c.img=r),Se(PL(i,c)).pipe(Ve(a=>{console.log("Post created successfully with ID:",a.id)}),ae(a=>ie(R({},c),{_id:a.id})))}getPostsByUser(e){let n=p6(this.firestore,"post"),r=kn(this.firestore,`users/${e}`),i=$9(n,jL("creator","==",r));return new ge(s=>{FL(i).then(o=>{let c=o.docs.map(a=>{let u=a.data();return ie(R({},u),{_id:a.id})});s.next(c),s.complete()}).catch(o=>{console.error("Error fetching posts for user:",o),s.next([]),s.complete()})})}getPostById(e){let n=kn(this.firestore,`post/${e}`);return Fs(n).pipe(In(1),ct(r=>{throw console.error("Error fetching post:",r),r}))}likePost(e,n){return this.getPostById(e).pipe(qe(r=>{let i=kn(this.firestore,`post/${e}`);return(r?.likes||[]).includes(n)?Se(J0(i,{likes:d6(n)})):Se(J0(i,{likes:f6(n)}))}),ct(r=>{throw console.error("Error updating likes:",r),r}))}getSavedPosts(e){if(!e||e.length===0)return Z([]);let n=e.map(r=>{let i=kn(this.firestore,`post/${r}`);return Fs(i,{idField:"_id"}).pipe(qe(s=>s?this.userService.getUserByReference(s.creator).pipe(ae(o=>ie(R({},s),{creatorName:o?.displayName||"Unknown User",creatorPfp:o?.photoURL||"default-profile-pic-url"}))):Z(null)),Kt(s=>s!==null))});return M2(n)}formatDate(e){let n=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2),s=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${n}.${r}.${i} at ${s}:${o}`}static \u0275fac=function(n){return new(n||t)(ue(n1),ue(pt))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})};function Hq(t,e){if(t&1&&(D(0,"div",6),$(1),T()),t&2){let n=U();O(),nt(n.errorMessage)}}function $q(t,e){if(t&1){let n=tt();D(0,"div",19)(1,"app-image-cropper",20),ce("imageCropped",function(i){J(n);let s=U();return ee(s.onImageCropped(i))})("cropSaved",function(){J(n);let i=U();return ee(i.onCropSaved())})("cropCancelled",function(){J(n);let i=U();return ee(i.onCropCancelled())}),T()()}if(t&2){let n=U();O(),le("imageChangedEvent",n.selectedFileEvent)}}var K6=class t{constructor(e,n){this.userService=e;this.postService=n}faImage=nI;faArrow=rI;faPlus=tI;username="";userId="";userPfp="";errorMessage="";selectedImage=null;showCropper=!1;selectedFileEvent=null;ngOnInit(){this.userService.getUser().subscribe({next:e=>{this.username=e?.displayName||"",this.userId=e?.uid||"",this.userPfp=e?.photoURL||""},error:e=>{console.error("Failed to load user:",e),this.errorMessage="Failed to load user data"}})}onFileSelected(e){console.log("File selected event received"),this.selectedFileEvent=e,this.showCropper=!0}onImageCropped(e){console.log("Received cropped image"),this.selectedImage=e,console.log("Image processed and stored")}onCropSaved(){console.log("Crop saved, hiding cropper"),this.showCropper=!1}onCropCancelled(){console.log("Crop cancelled, resetting state"),this.selectedFileEvent=null,this.selectedImage=null,this.showCropper=!1}createPost(e){if(console.log("Creating post..."),!e.valid||!this.userId){this.errorMessage="Content is required!";return}let n=e.value.postContent;this.selectedImage?(console.log("Uploading image before creating post..."),this.postService.uploadImageToFirebase(this.selectedImage).subscribe({next:r=>{console.log("Image uploaded successfully:",r),this.submitPost(n,r)},error:r=>{console.error("Failed to upload image:",r),this.errorMessage="Failed to upload image: "+r.message}})):(console.log("Creating post without image"),this.submitPost(n)),e.resetForm(),this.selectedImage=null,this.selectedFileEvent=null}submitPost(e,n){console.log("Submitting post:",{content:e,imgUrl:n}),this.postService.createPost(e,this.userId,n).subscribe({next:r=>{console.log("Post created successfully:",r),this.errorMessage="",this.showCropper=!1,this.selectedImage=null,this.selectedFileEvent=null},error:r=>{console.error("Failed to create post:",r),this.errorMessage="Failed to create post: "+r.message}})}static \u0275fac=function(n){return new(n||t)(q(pt),q(g2))};static \u0275cmp=Te({type:t,selectors:[["app-create-post-aside"]],standalone:!0,features:[Ne],decls:24,vars:8,consts:[["form","ngForm"],["postContent","ngModel"],["fileInput",""],["id","create-post"],[1,"cp-header"],[3,"icon"],[1,"error-message"],[1,"cp-body"],["id","cp-user"],[3,"username","userPfp"],[1,"cp-form"],[3,"ngSubmit"],["name","postContent","ngModel","","id","postContent","cols","30","rows","10","required","","placeholder","Write here..."],[1,"cp-buttons"],["type","button",3,"click"],[1,"image-icon","icon-interactive",3,"icon"],["type","submit",3,"disabled"],[1,"arrow-icon","icon-interactive",3,"icon"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"cropper-modal"],[3,"imageCropped","cropSaved","cropCancelled","imageChangedEvent"]],template:function(n,r){if(n&1){let i=tt();D(0,"aside")(1,"section",3)(2,"div",4),te(3,"fa-icon",5),D(4,"h3"),$(5,"Create Post"),T()(),ve(6,Hq,2,1,"div",6),D(7,"div",7)(8,"div",8),te(9,"app-user-badge",9),T(),D(10,"div",10)(11,"form",11,0),ce("ngSubmit",function(){J(i);let o=D1(12);return ee(r.createPost(o))}),D(13,"textarea",12,1),$(15,"          "),T(),D(16,"div",13)(17,"button",14),ce("click",function(){J(i);let o=D1(22);return ee(o.click())}),te(18,"fa-icon",15),T(),D(19,"button",16),te(20,"fa-icon",17),T()()()()()(),D(21,"input",18,2),ce("change",function(o){return J(i),ee(r.onFileSelected(o))}),T(),ve(23,$q,2,1,"div",19),T()}if(n&2){let i=D1(12);O(3),le("icon",r.faPlus),O(3),xe(r.errorMessage?6:-1),O(3),le("username",r.username)("userPfp",r.userPfp),O(9),le("icon",r.faImage),O(),le("disabled",!i.valid),O(),le("icon",r.faArrow),O(3),xe(r.showCropper?23:-1)}},dependencies:[Wo,h2,Jt,wn,Xs,Ys,J1,Ks,Qs,oi,si,ii,j6],styles:["#create-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;position:fixed;top:30%;left:0;padding-left:50px;width:400px}.cp-header[_ngcontent-%COMP%]{display:flex;align-items:center}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;padding:10px}#cp-user[_ngcontent-%COMP%]{margin:20px 0}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:60px;padding:17px 20px;box-sizing:border-box;border:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;border-radius:25px;background-color:#e3e3e3;font-size:16px;resize:none}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none}.cp-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:10px 0}.cp-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent}"]})};var to={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]};var Q6={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]};var Y6={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]};function qq(t,e){t&1&&(D(0,"div",6),$(1,"Loading saved posts..."),T())}function Gq(t,e){t&1&&(D(0,"div",7),$(1,"No saved posts yet"),T())}function Wq(t,e){if(t&1&&te(0,"img",14),t&2){let n=U().$implicit;le("src",n.img,yn)}}function Kq(t,e){if(t&1){let n=tt();D(0,"div",8)(1,"div",9)(2,"div",10),te(3,"app-user-badge",11),T(),D(4,"fa-icon",12),ce("click",function(){let i=J(n).$implicit,s=U(2);return ee(s.unsavePost(i._id))}),T()(),D(5,"div",13),ve(6,Wq,1,1,"img",14),D(7,"div",15),$(8),T()(),D(9,"div",16)(10,"span"),$(11),T()()()}if(t&2){let n=e.$implicit,r=U(2);O(3),le("username",n.creatorName||"")("userPfp",n.creatorPfp||""),O(),le("icon",r.faXmark),O(2),xe(n.img?6:-1),O(2),g3(" ",n.content," "),O(3),nt(n.date)}}function Qq(t,e){if(t&1&&wr(0,Kq,12,6,"div",8,UC),t&2){let n=U();Lr(n.savedPosts)}}var X6=class t{constructor(e,n){this.userService=e;this.postService=n}faBookmark=to;faXmark=iI;savedPosts=[];isLoading=!0;currentUser=null;subscriptions=new Fe;ngOnInit(){let e=this.userService.getUser().pipe(qe(n=>n?(this.currentUser={uid:n.uid,username:n.displayName||"Unknown User",userPfp:n.photoURL||"",savedPosts:n.savedPosts||[],displayName:n.displayName||void 0,photoURL:n.photoURL||void 0,email:n.email||void 0,createdAt:n.createdAt},this.postService.getSavedPosts(this.currentUser.savedPosts)):Z([]))).subscribe({next:n=>{this.savedPosts=n,this.isLoading=!1},error:n=>{console.error("Error fetching saved posts:",n),this.isLoading=!1}});this.subscriptions.add(e)}unsavePost(e){if(!this.currentUser?.uid)return;let n=this.userService.unsavePost(this.currentUser.uid,e).subscribe({next:()=>{this.savedPosts=this.savedPosts.filter(r=>r._id!==e),this.currentUser&&(this.currentUser.savedPosts=this.currentUser.savedPosts.filter(r=>r!==e))},error:r=>console.error("Error unsaving post:",r)});this.subscriptions.add(n)}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(n){return new(n||t)(q(pt),q(g2))};static \u0275cmp=Te({type:t,selectors:[["app-saved-posts-aside"]],standalone:!0,features:[Ne],decls:12,vars:4,consts:[["id","saved-posts"],["id","user-info","routerLink","/profile",3,"username","userPfp"],[1,"sv-posts"],[1,"sv-header"],[3,"icon"],[1,"sv-body"],[1,"loading"],[1,"no-posts"],[1,"post","sv-post"],[1,"upper-header"],["id","sv-user"],[3,"username","userPfp"],[1,"icon-close","icon-interactive",3,"click","icon"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-text-content"],[1,"post-time"]],template:function(n,r){n&1&&(D(0,"aside")(1,"section",0),te(2,"app-user-badge",1),D(3,"div",2)(4,"div",3),te(5,"fa-icon",4),D(6,"h3"),$(7,"saved posts"),T()(),D(8,"div",5),ve(9,qq,2,0,"div",6)(10,Gq,2,0,"div",7)(11,Qq,2,0),T()()()()),n&2&&(O(2),le("username",(r.currentUser==null?null:r.currentUser.displayName)||"")("userPfp",(r.currentUser==null?null:r.currentUser.photoURL)||""),O(3),le("icon",r.faBookmark),O(4),xe(r.isLoading?9:r.savedPosts.length===0?10:11))},dependencies:[h2,Jt,wn,R1],styles:["#saved-posts[_ngcontent-%COMP%]{position:fixed;margin-left:50px;bottom:15%;right:0;width:450px;padding-right:10px}#user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20% 0;font-size:30px}#user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}.sv-header[_ngcontent-%COMP%]{display:flex;align-items:center}.sv-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;padding:10px}.sv-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px;overflow-y:scroll;scroll-behavior:smooth;height:400px}.sv-posts[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px}.sv-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:45px;padding:20px;cursor:pointer;transition:background-color .1s ease}.sv-post[_ngcontent-%COMP%]:hover{background-color:#e3e3e3;border-radius:15px}.post-time[_ngcontent-%COMP%]{font-size:15px;color:#363540;text-align:right}.upper-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.post-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;border-radius:15px;margin-top:15px}.post-text-content[_ngcontent-%COMP%]{width:80%;margin-left:20px}.loading[_ngcontent-%COMP%], .no-posts[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666}.icon-close[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease}.icon-close[_ngcontent-%COMP%]:hover{color:#f44}"]})};var Gh=class{constructor(e,n){this._document=n;let r=this._textarea=this._document.createElement("textarea"),i=r.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",r.setAttribute("aria-hidden","true"),r.value=e,r.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(r)}copy(){let e=this._textarea,n=!1;try{if(e){let r=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),n=this._document.execCommand("copy"),r&&r.focus()}}catch{}return n}destroy(){let e=this._textarea;e&&(e.remove(),this._textarea=void 0)}},Z6=(()=>{class t{constructor(n){this._document=n}copy(n){let r=this.beginCopy(n),i=r.copy();return r.destroy(),i}beginCopy(n){return new Gh(n,this._document)}static{this.\u0275fac=function(r){return new(r||t)(ue(Mt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Yq=(t,e)=>e._id,Xq=(t,e)=>({liked:t,changing:e}),Zq=t=>({saved:t});function Jq(t,e){t&1&&(D(0,"div",1)(1,"p"),$(2,"Please login to interact with posts"),T()())}function eG(t,e){if(t&1&&te(0,"img",8),t&2){let n=U().$implicit;le("src",n.img,yn)}}function tG(t,e){t&1&&(D(0,"span",11),$(1,"\u2665"),T())}function nG(t,e){t&1&&(D(0,"div",14),$(1,"Copied to clipboard!"),T())}function rG(t,e){if(t&1){let n=tt();D(0,"div",9)(1,"fa-icon",10),ce("click",function(){J(n);let i=U().$implicit,s=U();return ee(s.likePost(i._id))}),T(),ve(2,tG,2,0,"span",11),te(3,"fa-icon",12),D(4,"fa-icon",13),ce("click",function(){J(n);let i=U().$implicit,s=U();return ee(s.sharePost(i._id))}),T(),ve(5,nG,2,0,"div",14),D(6,"fa-icon",15),ce("click",function(){J(n);let i=U().$implicit,s=U();return ee(s.savePost(i._id))}),T()(),D(7,"p",16),$(8),T()}if(t&2){let n=U().$implicit,r=U();O(),le("icon",r.isLiked(n)?r.faHeartSolid:r.faHeart)("ngClass",$o(9,Xq,r.isLiked(n),r.isLiked(n)!==r.prevLikedState)),O(),xe(r.likeBubbles[n._id]?2:-1),O(),le("icon",r.faComment),O(),le("icon",r.faShare),O(),xe(r.showCopyPopup&&r.copiedPostId===n._id?5:-1),O(),le("icon",r.isSaved(n._id)?r.faBookmarkSolid:r.faBookmark)("ngClass",Ho(12,Zq,r.isSaved(n._id))),O(2),nt(n.likes.length)}}function iG(t,e){if(t&1&&(D(0,"div",2)(1,"div",3),te(2,"app-user-badge",4),D(3,"div",5)(4,"span"),$(5),T()()(),D(6,"div",6)(7,"div",7)(8,"p"),$(9),T(),ve(10,eG,1,1,"img",8),T(),ve(11,rG,9,14),T()()),t&2){let n=e.$implicit,r=U();O(2),le("username",n.username)("userPfp",n.userPfp),O(3),nt(n.date),O(4),nt(n.content),O(),xe(n.img?10:-1),O(),xe(r.isAuthenticated?11:-1)}}var J6=class t{constructor(e,n,r){this.postService=e;this.userService=n;this.clipboard=r}faShare=S6;faComment=z6;faHeart=E6;faHeartSolid=Y6;faBookmark=x6;faBookmarkSolid=to;likeBubbles={};posts=[];user=null;prevLikedState=!1;prevSavedState=!1;showCopyPopup=!1;copiedPostId=null;isAuthenticated=!1;ngOnInit(){let e=this.postService.getPosts().pipe(qe(r=>{let i=r.map(s=>this.userService.getUserByReference(s.creator).pipe(ae(o=>ie(R({},s),{uid:o?.uid||"unknown",username:o?.displayName||"Unknown User",userPfp:o?.photoURL||"default-profile-pic-url",savedPosts:o?.savedPosts||[]}))));return M2(i)})),n=this.userService.getUser().pipe(Ve(r=>{if(this.isAuthenticated=!!r,r){let i={uid:r.uid,username:r.displayName||"Unknown User",userPfp:r.photoURL||"",savedPosts:Array.isArray(r.savedPosts)?r.savedPosts:[],displayName:r.displayName||void 0,photoURL:r.photoURL||void 0,email:r.email||void 0};this.user=i}else this.user=null}));M2([e,n]).subscribe({next:([r,i])=>{this.posts=r},error:r=>{console.error("Error loading data:",r),this.posts=[]}})}likePost(e){if(!this.isAuthenticated||!this.user){console.log("Please login to like posts");return}let n=this.posts.find(r=>r._id===e);n&&(this.prevLikedState=this.isLiked(n),this.prevLikedState||(this.likeBubbles[e]=!0),this.postService.likePost(e,this.user.uid).subscribe({next:()=>{this.prevLikedState?n.likes=n.likes.filter(r=>r!==this.user.uid):(n.likes=n.likes||[],n.likes.push(this.user.uid),setTimeout(()=>{this.likeBubbles[e]=!1},800))},error:r=>console.error("Error liking post:",r)}))}savePost(e){if(!this.isAuthenticated||!this.user){console.log("Please login to save posts");return}let n=this.isSaved(e);this.prevSavedState=n,(n?this.userService.unsavePost(this.user.uid,e):this.userService.savePost(this.user.uid,e)).subscribe({next:()=>{this.user&&(n?this.user.savedPosts=this.user.savedPosts.filter(i=>i!==e):this.user.savedPosts=[...this.user.savedPosts||[],e],this.posts=[...this.posts])},error:i=>console.error("Error saving/unsaving post:",i)})}isLiked(e){return!this.isAuthenticated||!this.user?!1:e.likes?.includes(this.user.uid)??!1}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}sharePost(e){let n=`${window.location.origin}/post/${e}`;this.clipboard.copy(n),this.copiedPostId=e,this.showCopyPopup=!0,setTimeout(()=>{this.showCopyPopup=!1,this.copiedPostId=null},1e3)}static \u0275fac=function(n){return new(n||t)(q(g2),q(pt),q(Z6))};static \u0275cmp=Te({type:t,selectors:[["app-post-flow"]],standalone:!0,features:[Ne],decls:5,vars:1,consts:[["id","main-flow"],[1,"auth-prompt"],[1,"post"],[1,"upper-header"],[3,"username","userPfp"],[1,"post-time"],[1,"post-box"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-actions"],[1,"heart-icon","icon-interactive",3,"click","icon","ngClass"],[1,"like-bubble"],[1,"comment-icon","icon-interactive",3,"icon"],[1,"share-icon","icon-interactive",3,"click","icon"],[1,"copy-popup"],[1,"bookmark-icon","icon-interactive",3,"click","icon","ngClass"],["id","likes"]],template:function(n,r){n&1&&(D(0,"main")(1,"section",0),ve(2,Jq,3,0,"div",1),wr(3,iG,12,6,"div",2,Yq),T()()),n&2&&(O(2),xe(r.isAuthenticated?-1:2),O(),Lr(r.posts))},dependencies:[h2,Jt,wn,_3],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;height:100%}#main-flow[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:1%;padding-right:15%;width:600px}.post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:40px;padding:20px}.upper-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.post-content[_ngcontent-%COMP%]{margin:20px 0}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:15px;margin-top:15px}post-box[_ngcontent-%COMP%]{margin:20px 0;background-color:#e3e3e3;border-radius:15px;padding:0 20px 20px}.post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.auth-prompt[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:20px;background-color:#f8f9fa;border-radius:8px;color:#666}#likes[_ngcontent-%COMP%]{position:relative;left:30px;bottom:35px;font-family:monospace}.heart-icon[_ngcontent-%COMP%]{transition:transform .3s ease-in-out,color .3s ease-in-out}.liked[_ngcontent-%COMP%]{color:red;animation:_ngcontent-%COMP%_like-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_like-animation{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.like-bubble[_ngcontent-%COMP%]{position:absolute;color:red;font-size:20px;pointer-events:none;animation:_ngcontent-%COMP%_float-to-likes .8s ease-out forwards}@keyframes _ngcontent-%COMP%_float-to-likes{0%{opacity:1;transform:translate(0) scale(1)}50%{opacity:.8;transform:translate(15px,-15px) scale(.8)}to{opacity:0;transform:translate(30px,-35px) scale(.5)}}.likes-update[_ngcontent-%COMP%]{animation:likes-bump .3s ease}.changing[_ngcontent-%COMP%]{transition:none}.bookmark-icon[_ngcontent-%COMP%]{transition:color .2s ease;cursor:pointer;color:#262626}.bookmark-icon.saved[_ngcontent-%COMP%]{color:#f6d100;animation:_ngcontent-%COMP%_save-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_save-animation{0%{transform:scale(1) rotate(0)}25%{transform:scale(1.1) rotate(-10deg)}50%{transform:scale(1.2) rotate(10deg)}75%{transform:scale(1.1) rotate(-10deg)}to{transform:scale(1) rotate(0)}}.copy-popup[_ngcontent-%COMP%]{position:absolute;background:#333;color:#fff;padding:8px 12px;border-radius:4px;font-size:14px;bottom:100%;left:70%;transform:translate(-50%);animation:_ngcontent-%COMP%_fadeInOut 1s ease-in-out;white-space:nowrap}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translate(-50%) translateY(10px)}15%{opacity:1;transform:translate(-50%) translateY(0)}85%{opacity:1;transform:translate(-50%) translateY(0)}to{opacity:0;transform:translate(-50%) translateY(-10px)}}.post-actions[_ngcontent-%COMP%]{position:relative}"]})};function sG(t,e){t&1&&te(0,"app-create-post-aside")}function oG(t,e){t&1&&te(0,"app-saved-posts-aside")}var el=class t{constructor(e){this.userService=e}user=null;isAuthenticated=!1;subscription=new Fe;ngOnInit(){let e=this.userService.getUser().pipe(Ve(n=>{this.isAuthenticated=!!n,n?this.user={uid:n.uid,username:n.displayName||"Unknown User",userPfp:n.photoURL||"",savedPosts:Array.isArray(n.savedPosts)?n.savedPosts:[],displayName:n.displayName||void 0,photoURL:n.photoURL||void 0,email:n.email||void 0}:this.user=null})).subscribe();this.subscription.add(e)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(q(pt))};static \u0275cmp=Te({type:t,selectors:[["app-home"]],standalone:!0,features:[Ne],decls:4,vars:2,consts:[["id","home"]],template:function(n,r){n&1&&(D(0,"div",0),ve(1,sG,1,0,"app-create-post-aside"),te(2,"app-post-flow"),ve(3,oG,1,0,"app-saved-posts-aside"),T()),n&2&&(O(),xe(r.isAuthenticated?1:-1),O(2),xe(r.isAuthenticated?3:-1))},dependencies:[K6,X6,J6],styles:["#home[_ngcontent-%COMP%]{position:relative;top:8vh;display:flex;justify-content:space-around;min-height:90vh;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;width:100%}"]})};function cG(t,e){if(t&1&&(D(0,"div",7)(1,"p"),$(2),T()()),t&2){let n=U();O(2),nt(n.errorMessages)}}var tl=class t{constructor(e,n){this.userService=e;this.router=n}faUser=Q6;errorMessages="";regExp=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{1,}$");login(e){if(!e.valid){if(e.value.email===""){this.errorMessages="Email is required";return}if(!e.value.email.match(this.regExp)){this.errorMessages="Email is invalid";return}if(e.value.password===""){this.errorMessages="Password is required";return}return}let n={email:e.value.email,password:e.value.password};this.userService.login(n.email,n.password).subscribe({next:()=>{this.router.navigate(["/home"])},error:r=>{this.errorMessages=r.message||"Error occurred during login"}})}static \u0275fac=function(n){return new(n||t)(q(pt),q(U2))};static \u0275cmp=Te({type:t,selectors:[["app-login"]],standalone:!0,features:[Ne],decls:28,vars:2,consts:[["form","ngForm"],["email","ngModel"],["password","ngModel"],["id","login"],[1,"login-box"],[1,"login-header"],[3,"icon"],[1,"error-box"],[1,"login-form"],[3,"ngSubmit"],[1,"input-box"],["for","email"],["type","email","name","email","id","email","placeholder","Email","required","","ngModel",""],["for","password"],["type","password","name","password","id","password","placeholder","Password","required","","ngModel",""],["id","login-call"],["routerLink","/register"],["type","submit","id","login-button"]],template:function(n,r){if(n&1){let i=tt();D(0,"main")(1,"section",3)(2,"div",4)(3,"div",5),te(4,"fa-icon",6),D(5,"h1"),$(6,"Login"),T(),ve(7,cG,3,1,"div",7),T(),D(8,"div",8)(9,"form",9,0),ce("ngSubmit",function(){J(i);let o=D1(10);return ee(r.login(o))}),D(11,"div",10)(12,"label",11),$(13,"Email"),T(),te(14,"input",12,1),D(16,"label",13),$(17,"Password"),T(),te(18,"input",14,2),D(20,"p",15)(21,"i"),$(22,"Don't have an account yet?"),T(),D(23,"span")(24,"a",16),$(25,"Register now"),T()()(),D(26,"button",17),$(27," Login "),T()()()()()()()}n&2&&(O(4),le("icon",r.faUser),O(3),xe(r.errorMessages?7:-1))},dependencies:[R1,Xs,Ys,J1,Ks,Qs,oi,si,ii,Jt,wn],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh}.login-header[_ngcontent-%COMP%]{position:relative;bottom:60px;display:flex;flex-direction:column;align-items:center}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500;font-family:Offside,sans-serif;color:#363540}.login-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding:20px 25px;margin-bottom:30px;border-radius:50%;border:#363540 3px solid;font-size:50px;background-color:#fff;color:#363540}.login-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:#363540 3px solid;border-radius:15px;margin-top:15px;width:25%;transition:.2s ease-in-out}.login-box[_ngcontent-%COMP%]:focus-within{box-shadow:10px 10px 15px #656375f3}.input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:40px;width:100%}.input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:10px 0}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0 10px 10px;padding:10px;border-radius:5px;border:1px solid #363540;outline:none}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #363540}.input-box[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:25px}.login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;width:100%}#register-call[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;margin-bottom:20px}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;font-family:Offside,sans-serif;color:#363540;text-decoration:none;margin-left:10px;transition:.1s ease-in-out}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9a9a9a}#login-button[_ngcontent-%COMP%]{background-color:#363540;color:#fff;border:none;padding:10px 50px;border-radius:5px;font-size:20px;font-weight:500;font-family:Offside,sans-serif;cursor:pointer;transition:.2s ease-in-out}#login-button[_ngcontent-%COMP%]:hover{background-color:#b5b5b5;color:#363540}.error-message[_ngcontent-%COMP%]{color:red;font-size:15px;font-weight:500;font-family:Offside,sans-serif;margin-top:10px}"]})};var ix="https://cdn.pixabay.com/photo/2018/11/13/21/43/avatar-3814049_1280.png";function aG(t,e){if(t&1&&(D(0,"div",9)(1,"p"),$(2),T()()),t&2){let n=U();O(2),nt(n.errorMessages)}}var nl=class t{constructor(e,n){this.userService=e;this.router=n}faUser=Q6;regExp=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{1,}$");errorMessages="";register(e){if(!e.valid){if(e.value.username===""){this.errorMessages="Username is required";return}if(e.value.email===""){this.errorMessages="Email is required";return}if(!e.value.email.match(this.regExp)){this.errorMessages="Email is invalid";return}if(e.value.password===""){this.errorMessages="Password is required";return}if(e.value.password.length<6){this.errorMessages="Password must be at least 6 characters";return}e.value.rePassword===""&&(this.errorMessages="Confirm password is required");return}if(e.value.password!==e.value.rePassword){this.errorMessages="Passwords do not match";return}let n={username:e.value.username,email:e.value.email,password:e.value.password,img:ix,id:"",savedPosts:[]};console.log(n),this.userService.register(n).subscribe({next:()=>{this.router.navigate(["/home"])},error:r=>{this.errorMessages=r.message||"Error occurred during registration"}})}static \u0275fac=function(n){return new(n||t)(q(pt),q(U2))};static \u0275cmp=Te({type:t,selectors:[["app-register"]],standalone:!0,features:[Ne],decls:36,vars:2,consts:[["form","ngForm"],["username","ngModel"],["email","ngModel"],["password","ngModel"],["rePassword","ngModel"],["id","register"],[1,"register-box"],[1,"register-header"],[3,"icon"],[1,"error-box"],[1,"register-form"],[3,"ngSubmit"],[1,"input-box"],["for","username"],["type","text","name","username","id","username","placeholder","Username","required","","ngModel",""],["for","email"],["type","email","name","email","id","email","placeholder","Email","required","","email","","ngModel",""],["for","password"],["type","password","name","password","id","password","placeholder","Password","required","","ngModel",""],["for","rePassword"],["type","password","name","rePassword","id","rePassword","placeholder","Confirm Password","required","","ngModel",""],["id","register-call"],["routerLink","/login"],["type","submit","id","register-button"]],template:function(n,r){if(n&1){let i=tt();D(0,"main")(1,"section",5)(2,"div",6)(3,"div",7),te(4,"fa-icon",8),D(5,"h1"),$(6,"Register"),T(),ve(7,aG,3,1,"div",9),T(),D(8,"div",10)(9,"form",11,0),ce("ngSubmit",function(){J(i);let o=D1(10);return ee(r.register(o))}),D(11,"div",12)(12,"label",13),$(13,"Username"),T(),te(14,"input",14,1),D(16,"label",15),$(17,"Email"),T(),te(18,"input",16,2),D(20,"label",17),$(21,"Password"),T(),te(22,"input",18,3),D(24,"label",19),$(25,"Confirm Password"),T(),te(26,"input",20,4),D(28,"p",21)(29,"i"),$(30,"Already have an account?"),T(),D(31,"span")(32,"a",22),$(33,"Login now"),T()()(),D(34,"button",23),$(35,"Register"),T()()()()()()()}n&2&&(O(4),le("icon",r.faUser),O(3),xe(r.errorMessages?7:-1))},dependencies:[R1,Xs,Ys,J1,Ks,Qs,oi,Dh,si,ii,Jt,wn],styles:["#register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh}.register-header[_ngcontent-%COMP%]{position:relative;bottom:60px;display:flex;flex-direction:column;align-items:center}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500;font-family:Offside,sans-serif;color:#363540}.register-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding:20px 25px;margin-bottom:30px;border-radius:50%;border:#363540 3px solid;font-size:50px;background-color:#fff;color:#363540}.register-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:#363540 3px solid;border-radius:15px;margin-top:150px;width:25%;transition:.2s ease-in-out}.register-box[_ngcontent-%COMP%]:focus-within{box-shadow:10px 10px 15px #656375f3}.input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:40px;width:100%}.input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:10px 0}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0 10px 10px;padding:10px;border-radius:5px;border:1px solid #363540;outline:none}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #363540}.input-box[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:25px}.register-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;width:100%}#register-call[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;margin-bottom:20px}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;font-family:Offside,sans-serif;color:#363540;text-decoration:none;margin-left:10px;transition:.1s ease-in-out}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9a9a9a}#register-button[_ngcontent-%COMP%]{background-color:#363540;color:#fff;border:none;padding:10px 50px;margin-top:5px;border-radius:5px;font-size:20px;font-weight:500;font-family:Offside,sans-serif;cursor:pointer;transition:.2s ease-in-out}#register-button[_ngcontent-%COMP%]:hover{background-color:#b5b5b5;color:#363540}.error-message[_ngcontent-%COMP%]{color:red;font-size:15px;font-weight:500;font-family:Offside,sans-serif;margin-top:10px}"]})};var rl=class t{constructor(e,n){this.el=e;this.renderer=n}isActive=!1;ngOnInit(){this.updateStyles()}ngOnChanges(){this.updateStyles()}updateStyles(){this.isActive?this.renderer.setStyle(this.el.nativeElement,"background-color","#e3e3e3"):this.renderer.removeStyle(this.el.nativeElement,"background-color")}static \u0275fac=function(n){return new(n||t)(q(Nt),q(Cn))};static \u0275dir=Ze({type:t,selectors:[["","appFlowHighlight",""]],inputs:{isActive:[0,"appFlowHighlight","isActive"]},standalone:!0,features:[Tt]})};var sx=(t,e)=>e._id,ox=(t,e)=>({liked:t,changing:e}),cx=t=>({saved:t});function lG(t,e){t&1&&(D(0,"div",9),$(1,"Loading saved posts..."),T())}function uG(t,e){t&1&&(D(0,"div",10)(1,"p"),$(2,"No posts yet"),T()())}function fG(t,e){if(t&1&&te(0,"img",18),t&2){let n=U().$implicit;le("src",n.img,yn)}}function dG(t,e){t&1&&(D(0,"span",21),$(1,"\u2665"),T())}function hG(t,e){t&1&&(D(0,"div",24),$(1,"Copied to clipboard!"),T())}function pG(t,e){if(t&1){let n=tt();D(0,"div",19)(1,"fa-icon",20),ce("click",function(){J(n);let i=U().$implicit,s=U(3);return ee(s.likePost(i._id))}),T(),ve(2,dG,2,0,"span",21),te(3,"fa-icon",22),D(4,"fa-icon",23),ce("click",function(){J(n);let i=U().$implicit,s=U(3);return ee(s.sharePost(i._id))}),T(),ve(5,hG,2,0,"div",24),D(6,"fa-icon",25),ce("click",function(){J(n);let i=U().$implicit,s=U(3);return ee(s.savePost(i._id))}),T()(),D(7,"p",26),$(8),T()}if(t&2){let n=U().$implicit,r=U(3);O(),le("icon",r.isLiked(n)?r.faHeartSolid:r.faHeart)("ngClass",$o(9,ox,r.isLiked(n),r.isLiked(n)!==r.prevLikedState)),O(),xe(r.likeBubbles[n._id]?2:-1),O(),le("icon",r.faComment),O(),le("icon",r.faShare),O(),xe(r.showCopyPopup&&r.copiedPostId===n._id?5:-1),O(),le("icon",r.isSaved(n._id)?r.faBookmarkSolid:r.faBookmark)("ngClass",Ho(12,cx,r.isSaved(n._id))),O(2),nt(n.likes.length)}}function mG(t,e){if(t&1&&(D(0,"div",12)(1,"div",13),te(2,"app-user-badge",14),D(3,"div",15)(4,"span"),$(5),T()()(),D(6,"div",16)(7,"div",17)(8,"p"),$(9),T(),ve(10,fG,1,1,"img",18),T(),ve(11,pG,9,14),T()()),t&2){let n=e.$implicit,r=U(3);O(2),le("username",n.username)("userPfp",n.userPfp),O(3),nt(n.date),O(4),nt(n.content),O(),xe(n.img?10:-1),O(),xe(r.isAuthenticated?11:-1)}}function gG(t,e){if(t&1&&(D(0,"div",11),wr(1,mG,12,6,"div",12,sx),T()),t&2){let n=U(2);O(),Lr(n.posts)}}function yG(t,e){if(t&1&&ve(0,lG,2,0,"div",9)(1,uG,3,0,"div",10)(2,gG,3,0,"div",11),t&2){let n=U();xe(n.isLoading?0:n.posts.length===0?1:2)}}function CG(t,e){t&1&&(D(0,"div",9),$(1,"Loading saved posts..."),T())}function vG(t,e){t&1&&(D(0,"div",10)(1,"p"),$(2,"No saved posts yet"),T()())}function _G(t,e){if(t&1&&te(0,"img",18),t&2){let n=U().$implicit;le("src",n.img,yn)}}function MG(t,e){t&1&&(D(0,"span",21),$(1,"\u2665"),T())}function wG(t,e){t&1&&(D(0,"div",24),$(1,"Copied to clipboard!"),T())}function LG(t,e){t&1&&(D(0,"div",24),$(1,"Copied to clipboard!"),T())}function bG(t,e){if(t&1){let n=tt();D(0,"div",19)(1,"fa-icon",20),ce("click",function(){J(n);let i=U().$implicit,s=U(3);return ee(s.likePost(i._id))}),T(),ve(2,MG,2,0,"span",21),te(3,"fa-icon",22),D(4,"fa-icon",23),ce("click",function(){J(n);let i=U().$implicit,s=U(3);return ee(s.sharePost(i._id))}),T(),ve(5,wG,2,0,"div",24)(6,LG,2,0,"div",24),D(7,"fa-icon",25),ce("click",function(){J(n);let i=U().$implicit,s=U(3);return ee(s.savePost(i._id))}),T()(),D(8,"p",26),$(9),T()}if(t&2){let n=U().$implicit,r=U(3);O(),le("icon",r.isLiked(n)?r.faHeartSolid:r.faHeart)("ngClass",$o(10,ox,r.isLiked(n),r.isLiked(n)!==r.prevLikedState)),O(),xe(r.likeBubbles[n._id]?2:-1),O(),le("icon",r.faComment),O(),le("icon",r.faShare),O(),xe(r.showCopyPopup&&r.copiedPostId===n._id?5:-1),O(),xe(r.showCopyPopup&&r.copiedPostId===n._id?6:-1),O(),le("icon",r.isSaved(n._id)?r.faBookmarkSolid:r.faBookmark)("ngClass",Ho(13,cx,r.isSaved(n._id))),O(2),nt(n.likes.length)}}function IG(t,e){if(t&1&&(D(0,"div",12)(1,"div",13)(2,"div",27),te(3,"app-user-badge",14),T(),D(4,"div",15)(5,"span"),$(6),T()()(),D(7,"div",16)(8,"div",17)(9,"p"),$(10),T(),ve(11,_G,1,1,"img",18),T(),ve(12,bG,10,15),T()()),t&2){let n=e.$implicit,r=U(3);O(3),le("username",n.creatorName||n.username)("userPfp",n.creatorPfp||n.userPfp),O(3),nt(n.date),O(4),nt(n.content),O(),xe(n.img?11:-1),O(),xe(r.isAuthenticated?12:-1)}}function xG(t,e){if(t&1&&(D(0,"div",11),wr(1,IG,13,6,"div",12,sx),T()),t&2){let n=U(2);O(),Lr(n.posts)}}function EG(t,e){if(t&1&&(D(0,"div",8),ve(1,CG,2,0,"div",9)(2,vG,3,0,"div",10)(3,xG,3,0,"div",11),T()),t&2){let n=U();O(),xe(n.isLoading?1:n.posts.length===0?2:3)}}var il=class t{constructor(e,n,r){this.userService=e;this.postService=n;this.clipboard=r}faShare=S6;faComment=z6;faHeart=E6;faHeartSolid=Y6;faBookmark=x6;faBookmarkSolid=to;likeBubbles={};posts=[];user=null;userPfp="";username="";isAuthenticated=!1;prevLikedState=!1;prevSavedState=!1;flow="posts";isLoading=!0;isEmpty=!1;subscription=new Fe;showCopyPopup=!1;copiedPostId=null;ngOnInit(){let e=this.userService.getUser().pipe(Ve(n=>{this.isAuthenticated=!!n,n?(this.user={uid:n.uid,username:n.displayName||"Unknown User",userPfp:n.photoURL||"",savedPosts:Array.isArray(n.savedPosts)?n.savedPosts:[],displayName:n.displayName||void 0,photoURL:n.photoURL||void 0,email:n.email||void 0},this.username=this.user.username,this.userPfp=this.user.userPfp):(this.user=null,this.isEmpty=!0)}),qe(n=>n?(this.isLoading=!0,this.isEmpty=!1,this.flow==="posts"?this.postService.getPostsByUser(n.uid):this.postService.getSavedPosts(this.user?.savedPosts||[])):Z([])));this.subscription.add(e.subscribe({next:n=>{this.posts=n.map(r=>ie(R(R({},r),this.user),{createdAt:new Date(r.createdAt)})),this.isLoading=!1,this.isEmpty=n.length===0},error:n=>{console.error("Error loading data:",n),this.posts=[],this.isLoading=!1,this.isEmpty=!0}}))}postFlow(){this.flow="posts",this.ngOnInit()}postSaved(){this.flow="saved",this.ngOnInit()}likePost(e){if(!this.isAuthenticated||!this.user){console.log("Please login to like posts");return}let n=this.posts.find(r=>r._id===e);n&&(this.prevLikedState=this.isLiked(n),this.prevLikedState||(this.likeBubbles[e]=!0),this.postService.likePost(e,this.user.uid).subscribe({next:()=>{this.prevLikedState?n.likes=n.likes.filter(r=>r!==this.user.uid):(n.likes=n.likes||[],n.likes.push(this.user.uid),setTimeout(()=>{this.likeBubbles[e]=!1},800))},error:r=>console.error("Error liking post:",r)}))}savePost(e){if(!this.isAuthenticated||!this.user){console.log("Please login to save posts");return}let n=this.isSaved(e);this.prevSavedState=n,(n?this.userService.unsavePost(this.user.uid,e):this.userService.savePost(this.user.uid,e)).subscribe({next:()=>{this.user&&(n?this.user.savedPosts=this.user.savedPosts.filter(i=>i!==e):this.user.savedPosts=[...this.user.savedPosts||[],e],this.posts=[...this.posts])},error:i=>console.error("Error saving/unsaving post:",i)})}isLiked(e){return!this.isAuthenticated||!this.user?!1:e.likes?.includes(this.user.uid)??!1}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}sharePost(e){let n=`${window.location.origin}/post/${e}`;this.clipboard.copy(n),this.copiedPostId=e,this.showCopyPopup=!0,setTimeout(()=>{this.showCopyPopup=!1,this.copiedPostId=null},1e3)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(q(pt),q(g2),q(Z6))};static \u0275cmp=Te({type:t,selectors:[["app-profile"]],standalone:!0,features:[Ne],decls:15,vars:5,consts:[[1,"profile-page"],[1,"profile-container"],["id","user-info-profile",3,"username","userPfp"],[1,"edit-profile"],[1,"flow-options"],["id","view-posts",3,"click","appFlowHighlight"],["id","view-saved",3,"click","appFlowHighlight"],[1,"profile-flow"],[1,"saved"],[1,"loading"],[1,"no-posts"],[1,"flow"],[1,"post"],[1,"upper-header"],[3,"username","userPfp"],[1,"post-time"],[1,"post-box"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-actions"],[1,"heart-icon","icon-interactive",3,"click","icon","ngClass"],[1,"like-bubble"],[1,"comment-icon","icon-interactive",3,"icon"],[1,"share-icon","icon-interactive",3,"click","icon"],[1,"copy-popup"],[1,"bookmark-icon","icon-interactive",3,"click","icon","ngClass"],["id","likes"],["id","post-user"]],template:function(n,r){n&1&&(D(0,"main")(1,"div",0)(2,"div",1),te(3,"app-user-badge",2),D(4,"button",3),$(5,"edit"),T()(),D(6,"div",4)(7,"span",5),ce("click",function(){return r.postFlow()}),$(8," posts "),T(),D(9,"span",6),ce("click",function(){return r.postSaved()}),$(10," saved "),T()(),te(11,"hr"),D(12,"div",7),ve(13,yG,3,1)(14,EG,4,1,"div",8),T()()()),n&2&&(O(3),le("username",r.username)("userPfp",r.userPfp),O(4),le("appFlowHighlight",r.flow==="posts"),O(2),le("appFlowHighlight",r.flow==="saved"),O(4),xe(r.flow==="posts"?13:14))},dependencies:[h2,Jt,wn,rl,_3],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center;height:100%}.profile-page[_ngcontent-%COMP%]{margin-top:100px;width:600px;padding-top:50px;margin-bottom:0}.flow-options[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.flow-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;text-align:center;margin-bottom:0;cursor:pointer;transition:ease .1s;font-family:Offside,sans-serif;padding:15px 0}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:40px}.edit-profile[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1px 15px;height:35px;font-family:Roboto,sans-serif;font-size:14px;color:#fff;background-color:#007bff;border:1px solid;border-radius:5px;cursor:pointer;transition:all .3s}.edit-profile[_ngcontent-%COMP%]:hover{background-color:#0056b3}.profile-flow[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:20px}.post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px;background-color:#e3e3e3;border-radius:15px;margin-bottom:30px}.upper-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.post-content[_ngcontent-%COMP%]{margin:20px 0}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:15px;margin-top:15px}.post-box[_ngcontent-%COMP%]{margin:10px 0;border-radius:15px;padding:0 20px 20px}.post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#likes[_ngcontent-%COMP%]{position:relative;left:30px;bottom:35px;font-family:monospace}.heart-icon[_ngcontent-%COMP%]{transition:transform .3s ease-in-out,color .3s ease-in-out}.liked[_ngcontent-%COMP%]{color:red;animation:_ngcontent-%COMP%_like-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_like-animation{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.like-bubble[_ngcontent-%COMP%]{position:absolute;color:red;font-size:20px;pointer-events:none;animation:_ngcontent-%COMP%_float-to-likes .8s ease-out forwards}@keyframes _ngcontent-%COMP%_float-to-likes{0%{opacity:1;transform:translate(0) scale(1)}50%{opacity:.8;transform:translate(15px,-15px) scale(.8)}to{opacity:0;transform:translate(30px,-35px) scale(.5)}}.changing[_ngcontent-%COMP%]{transition:none}.bookmark-icon[_ngcontent-%COMP%]{transition:color .2s ease;cursor:pointer;color:#262626}.bookmark-icon.saved[_ngcontent-%COMP%]{color:#f6d100;animation:_ngcontent-%COMP%_save-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_save-animation{0%{transform:scale(1) rotate(0)}25%{transform:scale(1.1) rotate(-10deg)}50%{transform:scale(1.2) rotate(10deg)}75%{transform:scale(1.1) rotate(-10deg)}to{transform:scale(1) rotate(0)}}.copy-popup[_ngcontent-%COMP%]{position:absolute;background:#333;color:#fff;padding:8px 12px;border-radius:4px;font-size:14px;bottom:100%;left:70%;transform:translate(-50%);animation:_ngcontent-%COMP%_fadeInOut 1s ease-in-out;white-space:nowrap}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translate(-50%) translateY(10px)}15%{opacity:1;transform:translate(-50%) translateY(0)}85%{opacity:1;transform:translate(-50%) translateY(0)}to{opacity:0;transform:translate(-50%) translateY(-10px)}}.post-actions[_ngcontent-%COMP%]{position:relative}"]})};var sl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-error-page"]],standalone:!0,features:[Ne],decls:10,vars:0,consts:[[1,"error-page"],[1,"logo"],[1,"error-code"],[1,"message"],["routerLink","/home",1,"home-button"]],template:function(n,r){n&1&&(D(0,"main")(1,"div",0)(2,"h1",1),$(3," Conneqt "),D(4,"span",2),$(5,"404"),T()(),D(6,"p",3),$(7,"Sorry, the page you are looking for does not exist."),T(),D(8,"button",4),$(9,"Back Home"),T()()())},dependencies:[R1],styles:["main[_ngcontent-%COMP%]{height:90vh;align-items:center;display:flex;justify-content:center}.error-page[_ngcontent-%COMP%]{text-align:center;font-family:Pacifico;color:#363540;margin-top:50px}.logo[_ngcontent-%COMP%]{font-size:150px;position:relative;display:inline-block}.error-code[_ngcontent-%COMP%]{font-size:50px;color:#ff9e5e;position:absolute;top:-20px;right:-50px;rotate:20deg}.message[_ngcontent-%COMP%]{font-family:cursive;color:#363540;font-size:1.2rem;margin:10px 0 30px}.error-image[_ngcontent-%COMP%]{width:200px;height:200px;margin:20px 0;background-color:#ff9e5e;display:block;border-radius:50%}.home-button[_ngcontent-%COMP%]{background-color:#ff9e5e;color:#363540;border:none;border-radius:8px;padding:10px 20px;font-size:1rem;cursor:pointer;font-family:Arial,sans-serif}.home-button[_ngcontent-%COMP%]:hover{background-color:#e8924d}"]})};var ax=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:el},{path:"login",component:tl},{path:"register",component:nl},{path:"profile",component:il},{path:"**",component:sl}];var lx={providers:[e_(ax),E_(()=>z_({projectId:"conneqt-9ade2",appId:"1:984817012255:web:eb44e2b45cf499b5880f2a",storageBucket:"conneqt-9ade2.firebasestorage.app",apiKey:"AIzaSyCi7kvv3bpINYbrbtJPl4Jtml-_GRSURAg",authDomain:"conneqt-9ade2.firebaseapp.com",messagingSenderId:"984817012255",measurementId:"G-0S7CZ2MHCV"})),bM(()=>xM()),NL(()=>VL())]};function zG(t,e){if(t&1){let n=tt();D(0,"li",3)(1,"a",4),$(2,"My Profile"),T()(),D(3,"li",3)(4,"a",5),ce("click",function(){J(n);let i=U();return ee(i.onLogout())}),$(5,"Logout"),T()()}}function SG(t,e){t&1&&(D(0,"li",3)(1,"a",6),$(2,"Login"),T()(),D(3,"li",3)(4,"a",7),$(5,"Register"),T()())}var ol=class t{constructor(e,n){this.userService=e;this.router=n}user=null;ngOnInit(){this.userService.getUser().subscribe(e=>{this.user=e,console.log(this.user)})}onLogout(){this.userService.logout().subscribe({next:()=>{this.user=null,this.router.navigate(["/login"])},error:e=>{console.error("Error logging out:",e)}})}static \u0275fac=function(n){return new(n||t)(q(pt),q(U2))};static \u0275cmp=Te({type:t,selectors:[["app-header"]],standalone:!0,features:[Ne],decls:11,vars:1,consts:[["id","logo"],["href","home"],["id","nav-links"],[1,"nav-link"],["href","profile"],["href","#",3,"click"],["href","login"],["href","register"]],template:function(n,r){n&1&&(D(0,"header")(1,"nav")(2,"span",0)(3,"a",1),$(4,"Conneqt"),T()(),D(5,"ul",2)(6,"li",3)(7,"a",1),$(8,"Home"),T()(),ve(9,zG,6,0)(10,SG,6,0),T()()()),n&2&&(O(9),xe(r.user?9:10))},styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;min-height:8vh;background-color:#363540;color:#fff;padding:0 30px;position:fixed;width:100%;z-index:1000;top:0}#logo[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-weight:400;font-style:normal;font-size:40px;cursor:pointer;transition:.3s ease-in-out,transform .3s ease-in-out}#logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#logo[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#nav-links[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:35%}.nav-link[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:0 10px;list-style:none;cursor:pointer;border-radius:20px;position:relative}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;position:relative;font-size:20px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-position:left}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-5px;width:0;height:2px;background-color:#fff;transition:width .3s ease}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}']})};var cl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-footer"]],standalone:!0,features:[Ne],decls:4,vars:0,consts:[[1,"footer-link"],["href","#home"]],template:function(n,r){n&1&&(D(0,"footer")(1,"div",0)(2,"a",1),$(3,"Back to Top"),T()()())},styles:['footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;min-height:8vh;background-color:#363540;color:#fff;width:100%;position:relative;margin-top:100px;bottom:0;top:100%}.footer-link[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:0 10px;list-style:none;cursor:pointer;border-radius:20px;position:relative}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;position:relative}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-5px;width:0;height:2px;background-color:#fff;transition:width .3s ease}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}']})};var al=class t{title="conneqt";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-root"]],standalone:!0,features:[Ne],decls:3,vars:0,template:function(n,r){n&1&&te(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[a7,Jt,ol,cl]})};yv(al,lx).catch(t=>console.error(t));
