var Ox=Object.defineProperty,Fx=Object.defineProperties;var Vx=Object.getOwnPropertyDescriptors;var Up=Object.getOwnPropertySymbols,Ux=Object.getPrototypeOf,Bx=Object.prototype.hasOwnProperty,jx=Object.prototype.propertyIsEnumerable,Hx=Reflect.get;var Bp=(t,e,n)=>e in t?Ox(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})Bx.call(e,n)&&Bp(t,n,e[n]);if(Up)for(var n of Up(e))jx.call(e,n)&&Bp(t,n,e[n]);return t},se=(t,e)=>Fx(t,Vx(e));var d1=(t,e,n)=>Hx(Ux(t),n,e);var C=(t,e,n)=>new Promise((r,s)=>{var i=a=>{try{c(n.next(a))}catch(u){s(u)}},o=a=>{try{c(n.throw(a))}catch(u){s(u)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(i,o);c((n=n.apply(t,e)).next())});function jp(t,e){return Object.is(t,e)}var ht=null,Nc=!1,Rc=1,h1=Symbol("SIGNAL");function Ce(t){let e=ht;return ht=t,e}function Hp(){return ht}var Co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dl(t){if(Nc)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(t);let e=ht.nextProducerIndex++;if(Fc(ht),e<ht.producerNode.length&&ht.producerNode[e]!==t&&vo(ht)){let n=ht.producerNode[e];Oc(n,ht.producerIndexOfThis[e])}ht.producerNode[e]!==t&&(ht.producerNode[e]=t,ht.producerIndexOfThis[e]=vo(ht)?Wp(t,ht,e):0),ht.producerLastReadVersion[e]=t.version}function $x(){Rc++}function $p(t){if(!(vo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rc)){if(!t.producerMustRecompute(t)&&!Nl(t)){t.dirty=!1,t.lastCleanEpoch=Rc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rc}}function qp(t){if(t.liveConsumerNode===void 0)return;let e=Nc;Nc=!0;try{for(let n of t.liveConsumerNode)n.dirty||qx(n)}finally{Nc=e}}function Gp(){return ht?.consumerAllowSignalWrites!==!1}function qx(t){t.dirty=!0,qp(t),t.consumerMarkedDirty?.(t)}function kc(t){return t&&(t.nextProducerIndex=0),Ce(t)}function Tl(t,e){if(Ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Oc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nl(t){Fc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($p(n),r!==n.version))return!0}return!1}function Rl(t){if(Fc(t),vo(t))for(let e=0;e<t.producerNode.length;e++)Oc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wp(t,e,n){if(Kp(t),t.liveConsumerNode.length===0&&Qp(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Wp(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Oc(t,e){if(Kp(t),t.liveConsumerNode.length===1&&Qp(t))for(let r=0;r<t.producerNode.length;r++)Oc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],s=t.liveConsumerNode[e];Fc(s),s.producerIndexOfThis[r]=e}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Kp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Qp(t){return t.producerNode!==void 0}function Yp(t){let e=Object.create(Gx);e.computation=t;let n=()=>{if($p(e),Dl(e),e.value===Pc)throw e.error;return e.value};return n[h1]=e,n}var Sl=Symbol("UNSET"),Al=Symbol("COMPUTING"),Pc=Symbol("ERRORED"),Gx=se(R({},Co),{value:Sl,dirty:!0,error:null,equal:jp,producerMustRecompute(t){return t.value===Sl||t.value===Al},producerRecomputeValue(t){if(t.value===Al)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Al;let n=kc(t),r;try{r=t.computation()}catch(s){r=Pc,t.error=s}finally{Tl(t,n)}if(e!==Sl&&e!==Pc&&r!==Pc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Wx(){throw new Error}var Xp=Wx;function Zp(){Xp()}function Jp(t){Xp=t}var Kx=null;function em(t){let e=Object.create(nm);e.value=t;let n=()=>(Dl(e),e.value);return n[h1]=e,n}function Pl(t,e){Gp()||Zp(),t.equal(t.value,e)||(t.value=e,Qx(t))}function tm(t,e){Gp()||Zp(),Pl(t,e(t.value))}var nm=se(R({},Co),{equal:jp,value:void 0});function Qx(t){t.version++,$x(),qp(t),Kx?.()}function ne(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vc=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,s)=>`${s+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function sr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(i){e=i instanceof Vc?i.errors:[i]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let i of s)try{rm(i)}catch(o){e=e??[],o instanceof Vc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&sr(n,e)}remove(e){let{_finalizers:n}=this;n&&sr(n,e),e instanceof t&&e._removeParent(this)}};Be.EMPTY=(()=>{let t=new Be;return t.closed=!0,t})();var kl=Be.EMPTY;function Uc(t){return t instanceof Be||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function rm(t){ne(t)?t():t.unsubscribe()}var _2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ls={setTimeout(t,e,...n){let{delegate:r}=ls;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ls;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bc(t){ls.setTimeout(()=>{let{onUnhandledError:e}=_2;if(e)e(t);else throw t})}function Mo(){}var sm=Ol("C",void 0,void 0);function im(t){return Ol("E",void 0,t)}function om(t){return Ol("N",t,void 0)}function Ol(t,e,n){return{kind:t,value:e,error:n}}var ir=null;function us(t){if(_2.useDeprecatedSynchronousErrorHandling){let e=!ir;if(e&&(ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ir;if(ir=null,n)throw r}}else t()}function cm(t){_2.useDeprecatedSynchronousErrorHandling&&ir&&(ir.errorThrown=!0,ir.error=t)}var or=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uc(e)&&e.add(this)):this.destination=Zx}static create(e,n,r){return new fs(e,n,r)}next(e){this.isStopped?Vl(om(e),this):this._next(e)}error(e){this.isStopped?Vl(im(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vl(sm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Yx=Function.prototype.bind;function Fl(t,e){return Yx.call(t,e)}var Ul=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jc(r)}else jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jc(n)}}},fs=class extends or{constructor(e,n,r){super();let s;if(ne(e)||!e)s={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&_2.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&Fl(e.next,i),error:e.error&&Fl(e.error,i),complete:e.complete&&Fl(e.complete,i)}):s=e}this.destination=new Ul(s)}};function jc(t){_2.useDeprecatedSynchronousErrorHandling?cm(t):Bc(t)}function Xx(t){throw t}function Vl(t,e){let{onStoppedNotification:n}=_2;n&&ls.setTimeout(()=>n(t,e))}var Zx={closed:!0,next:Mo,error:Xx,complete:Mo};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function t2(t){return t}function Hc(...t){return Bl(t)}function Bl(t){return t.length===0?t2:t.length===1?t[0]:function(n){return t.reduce((r,s)=>s(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,s){let i=eE(n)?n:new fs(n,r,s);return us(()=>{let{operator:o,source:c}=this;i.add(o?o.call(i,c):c?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=am(r),new r((s,i)=>{let o=new fs({next:c=>{try{n(c)}catch(a){i(a),o.unsubscribe()}},error:i,complete:s});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return Bl(n)(this)}toPromise(n){return n=am(n),new n((r,s)=>{let i;this.subscribe(o=>i=o,o=>s(o),()=>r(i))})}}return t.create=e=>new t(e),t})();function am(t){var e;return(e=t??_2.Promise)!==null&&e!==void 0?e:Promise}function Jx(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function eE(t){return t&&t instanceof or||Jx(t)&&Uc(t)}function jl(t){return ne(t?.lift)}function ze(t){return e=>{if(jl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(t,e,n,r,s){return new Hl(t,e,n,r,s)}var Hl=class extends or{constructor(e,n,r,s,i,o){super(e),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(a){e.error(a)}}:super._next,this._error=s?function(c){try{s(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return ze((t,e)=>{let n=null;t._refCount++;let r=be(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let s=t._connection,i=n;n=null,s&&(!i||s===i)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ps=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let n=this.getSubject();e.add(this.source.subscribe(be(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return hs()(this)}};var lm=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $c(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lm}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:s,observers:i}=this;return r||s?kl:(this.currentObservers=null,i.push(n),new Be(()=>{this.currentObservers=null,sr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:s,isStopped:i}=this;r?n.error(s):i&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new $c(e,n),t})(),$c=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:kl}};var pt=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $l={now(){return($l.delegate||Date).now()},delegate:void 0};var qc=class extends Be{constructor(e,n){super()}schedule(e,n=0){return this}};var _o={setInterval(t,e,...n){let{delegate:r}=_o;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=_o;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ms=class extends qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let s=this.id,i=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(i,s,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return _o.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_o.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,s;try{this.work(e)}catch(i){r=!0,s=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,sr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};gs.now=$l.now;var ys=class extends gs{constructor(e,n=gs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ql=new ys(ms);var Gc=class extends ms{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Wc=class extends ys{};var Gl=new Wc(Gc);var Vt=new me(t=>t.complete());function um(t){return t&&ne(t.schedule)}function Wl(t){return t[t.length-1]}function Kc(t){return ne(Wl(t))?t.pop():void 0}function U2(t){return um(Wl(t))?t.pop():void 0}function fm(t,e){return typeof Wl(t)=="number"?t.pop():e}function Kl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hm(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(p){o(p)}}function a(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(c,a)}u((r=r.apply(t,e||[])).next())})}function dm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(t){return this instanceof cr?(this.v=t,this):new cr(t)}function pm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(y){return function(w){return Promise.resolve(w).then(y,p)}}function c(y,w){r[y]&&(s[y]=function(A){return new Promise(function(z,P){i.push([y,A,z,P])>1||a(y,A)})},w&&(s[y]=w(s[y])))}function a(y,w){try{u(r[y](w))}catch(A){m(i[0][3],A)}}function u(y){y.value instanceof cr?Promise.resolve(y.value.v).then(d,p):m(i[0][2],y)}function d(y){a("next",y)}function p(y){a("throw",y)}function m(y,w){y(w),i.shift(),i.length&&a(i[0][0],i[0][1])}}function mm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dm=="function"?dm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(c,a){o=t[i](o),s(c,a,o.done,o.value)})}}function s(i,o,c,a){Promise.resolve(a).then(function(u){i({value:u,done:c})},o)}}var vs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qc(t){return ne(t?.then)}function Yc(t){return ne(t[ds])}function Xc(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jc=tE();function e4(t){return ne(t?.[Jc])}function t4(t){return pm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:s}=yield cr(n.read());if(s)return yield cr(void 0);yield yield cr(r)}}finally{n.releaseLock()}})}function n4(t){return ne(t?.getReader)}function We(t){if(t instanceof me)return t;if(t!=null){if(Yc(t))return nE(t);if(vs(t))return rE(t);if(Qc(t))return sE(t);if(Xc(t))return gm(t);if(e4(t))return iE(t);if(n4(t))return oE(t)}throw Zc(t)}function nE(t){return new me(e=>{let n=t[ds]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rE(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function sE(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bc)})}function iE(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gm(t){return new me(e=>{cE(t,e).catch(n=>e.error(n))})}function oE(t){return gm(t4(t))}function cE(t,e){var n,r,s,i;return hm(this,void 0,void 0,function*(){try{for(n=mm(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(s)throw s.error}}e.complete()})}function Wt(t,e,n,r=0,s=!1){let i=e.schedule(function(){n(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!s)return i}function p1(t,e=0){return ze((n,r)=>{n.subscribe(be(r,s=>Wt(r,t,()=>r.next(s),e),()=>Wt(r,t,()=>r.complete(),e),s=>Wt(r,t,()=>r.error(s),e)))})}function m1(t,e=0){return ze((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ym(t,e){return We(t).pipe(m1(e),p1(e))}function vm(t,e){return We(t).pipe(m1(e),p1(e))}function Cm(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Mm(t,e){return new me(n=>{let r;return Wt(n,e,()=>{r=t[Jc](),Wt(n,e,()=>{let s,i;try{({value:s,done:i}=r.next())}catch(o){n.error(o);return}i?n.complete():n.next(s)},0,!0)}),()=>ne(r?.return)&&r.return()})}function r4(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function _m(t,e){return r4(t4(t),e)}function wm(t,e){if(t!=null){if(Yc(t))return ym(t,e);if(vs(t))return Cm(t,e);if(Qc(t))return vm(t,e);if(Xc(t))return r4(t,e);if(e4(t))return Mm(t,e);if(n4(t))return _m(t,e)}throw Zc(t)}function Ee(t,e){return e?wm(t,e):We(t)}function J(...t){let e=U2(t);return Ee(t,e)}function B2(t,e){let n=ne(t)?t:()=>t,r=s=>s.error(n());return new me(e?s=>e.schedule(r,0,s):r)}function Ql(t){return!!t&&(t instanceof me||ne(t.lift)&&ne(t.subscribe))}var vn=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return ze((n,r)=>{let s=0;n.subscribe(be(r,i=>{r.next(t.call(e,i,s++))}))})}var{isArray:aE}=Array;function lE(t,e){return aE(e)?t(...e):t(e)}function Cs(t){return ie(e=>lE(t,e))}var{isArray:uE}=Array,{getPrototypeOf:fE,prototype:dE,keys:hE}=Object;function s4(t){if(t.length===1){let e=t[0];if(uE(e))return{args:e,keys:null};if(pE(e)){let n=hE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function pE(t){return t&&typeof t=="object"&&fE(t)===dE}function i4(t,e){return t.reduce((n,r,s)=>(n[r]=e[s],n),{})}function Cn(...t){let e=U2(t),n=Kc(t),{args:r,keys:s}=s4(t);if(r.length===0)return Ee([],e);let i=new me(mE(r,e,s?o=>i4(s,o):t2));return n?i.pipe(Cs(n)):i}function mE(t,e,n=t2){return r=>{Lm(e,()=>{let{length:s}=t,i=new Array(s),o=s,c=s;for(let a=0;a<s;a++)Lm(e,()=>{let u=Ee(t[a],e),d=!1;u.subscribe(be(r,p=>{i[a]=p,d||(d=!0,c--),c||r.next(n(i.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Lm(t,e,n){t?Wt(n,t,e):e()}function bm(t,e,n,r,s,i,o,c){let a=[],u=0,d=0,p=!1,m=()=>{p&&!a.length&&!u&&e.complete()},y=A=>u<r?w(A):a.push(A),w=A=>{i&&e.next(A),u++;let z=!1;We(n(A,d++)).subscribe(be(e,P=>{s?.(P),i?y(P):e.next(P)},()=>{z=!0},void 0,()=>{if(z)try{for(u--;a.length&&u<r;){let P=a.shift();o?Wt(e,o,()=>w(P)):w(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(be(e,y,()=>{p=!0,m()})),()=>{c?.()}}function st(t,e,n=1/0){return ne(e)?st((r,s)=>ie((i,o)=>e(r,i,s,o))(We(t(r,s))),n):(typeof e=="number"&&(n=e),ze((r,s)=>bm(r,s,t,n)))}function wo(t=1/0){return st(t2,t)}function Im(){return wo(1)}function Ms(...t){return Im()(Ee(t,U2(t)))}function o4(t){return new me(e=>{We(t()).subscribe(e)})}function Yl(...t){let e=Kc(t),{args:n,keys:r}=s4(t),s=new me(i=>{let{length:o}=n;if(!o){i.complete();return}let c=new Array(o),a=o,u=o;for(let d=0;d<o;d++){let p=!1;We(n[d]).subscribe(be(i,m=>{p||(p=!0,u--),c[d]=m},()=>a--,void 0,()=>{(!a||!p)&&(u||i.next(r?i4(r,c):c),i.complete())}))}});return e?s.pipe(Cs(e)):s}var gE=["addListener","removeListener"],yE=["addEventListener","removeEventListener"],vE=["on","off"];function j2(t,e,n,r){if(ne(n)&&(r=n,n=void 0),r)return j2(t,e,n).pipe(Cs(r));let[s,i]=_E(t)?yE.map(o=>c=>t[o](e,c,n)):CE(t)?gE.map(xm(t,e)):ME(t)?vE.map(xm(t,e)):[];if(!s&&vs(t))return st(o=>j2(o,e,n))(We(t));if(!s)throw new TypeError("Invalid event target");return new me(o=>{let c=(...a)=>o.next(1<a.length?a:a[0]);return s(c),()=>i(c)})}function xm(t,e){return n=>r=>t[n](e,r)}function CE(t){return ne(t.addListener)&&ne(t.removeListener)}function ME(t){return ne(t.on)&&ne(t.off)}function _E(t){return ne(t.addEventListener)&&ne(t.removeEventListener)}function c4(...t){let e=U2(t),n=fm(t,1/0),r=t;return r.length?r.length===1?We(r[0]):wo(n)(Ee(r,e)):Vt}function Kt(t,e){return ze((n,r)=>{let s=0;n.subscribe(be(r,i=>t.call(e,i,s++)&&r.next(i)))})}function it(t){return ze((e,n)=>{let r=null,s=!1,i;r=e.subscribe(be(n,void 0,void 0,o=>{i=We(t(o,it(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Em(t,e,n,r,s){return(i,o)=>{let c=n,a=e,u=0;i.subscribe(be(o,d=>{let p=u++;a=c?t(a,d,p):(c=!0,d),r&&o.next(a)},s&&(()=>{c&&o.next(a),o.complete()})))}}function _s(t,e){return ne(e)?st(t,e,1):st(t,1)}function g1(t){return ze((e,n)=>{let r=!1;e.subscribe(be(n,s=>{r=!0,n.next(s)},()=>{r||n.next(t),n.complete()}))})}function w2(t){return t<=0?()=>Vt:ze((e,n)=>{let r=0;e.subscribe(be(n,s=>{++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function Xl(t){return ie(()=>t)}function a4(t=wE){return ze((e,n)=>{let r=!1;e.subscribe(be(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(t())))})}function wE(){return new vn}function Lo(t){return ze((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function u2(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((s,i)=>t(s,i,r)):t2,w2(1),n?g1(e):a4(()=>new vn))}function ws(t){return t<=0?()=>Vt:ze((e,n)=>{let r=[];e.subscribe(be(n,s=>{r.push(s),t<r.length&&r.shift()},()=>{for(let s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function Zl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((s,i)=>t(s,i,r)):t2,ws(1),n?g1(e):a4(()=>new vn))}function l4(t,e){return ze(Em(t,e,arguments.length>=2,!0))}function u4(...t){let e=U2(t);return ze((n,r)=>{(e?Ms(t,n,e):Ms(t,n)).subscribe(r)})}function Ye(t,e){return ze((n,r)=>{let s=null,i=0,o=!1,c=()=>o&&!s&&r.complete();n.subscribe(be(r,a=>{s?.unsubscribe();let u=0,d=i++;We(t(a,d)).subscribe(s=be(r,p=>r.next(e?e(a,p,d,u++):p),()=>{s=null,c()}))},()=>{o=!0,c()}))})}function Ls(t){return ze((e,n)=>{We(t).subscribe(be(n,()=>n.complete(),Mo)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ze((s,i)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;s.subscribe(be(i,a=>{var u;(u=r.next)===null||u===void 0||u.call(r,a),i.next(a)},()=>{var a;c=!1,(a=r.complete)===null||a===void 0||a.call(r),i.complete()},a=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,a),i.error(a)},()=>{var a,u;c&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):t2}var yg="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(y5(e,n)),this.code=e}};function y5(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ko(t){return{toString:t}.toString()}var f4="__parameters__";function LE(t){return function(...n){if(t){let r=t(...n);for(let s in r)this[s]=r[s]}}}function bE(t,e,n){return ko(()=>{let r=LE(e);function s(...i){if(this instanceof s)return r.apply(this,i),this;let o=new s(...i);return c.annotation=o,c;function c(a,u,d){let p=a.hasOwnProperty(f4)?a[f4]:Object.defineProperty(a,f4,{value:[]})[f4];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),a}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}var Eo=globalThis;function Ve(t){for(let e in t)if(t[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function IE(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Bt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function zm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xE=Ve({__forward_ref__:Ve});function I1(t){return t.__forward_ref__=I1,t.toString=function(){return Bt(this())},t}function Ut(t){return vg(t)?t():t}function vg(t){return typeof t=="function"&&t.hasOwnProperty(xE)&&t.__forward_ref__===I1}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function W4(t){return Sm(t,Mg)||Sm(t,_g)}function Cg(t){return W4(t)!==null}function Sm(t,e){return t.hasOwnProperty(e)?t[e]:null}function EE(t){let e=t&&(t[Mg]||t[_g]);return e||null}function Am(t){return t&&(t.hasOwnProperty(Dm)||t.hasOwnProperty(zE))?t[Dm]:null}var Mg=Ve({\u0275prov:Ve}),Dm=Ve({\u0275inj:Ve}),_g=Ve({ngInjectableDef:Ve}),zE=Ve({ngInjectorDef:Ve}),re=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wg(t){return t&&!!t.\u0275providers}var SE=Ve({\u0275cmp:Ve}),AE=Ve({\u0275dir:Ve}),DE=Ve({\u0275pipe:Ve}),TE=Ve({\u0275mod:Ve}),b4=Ve({\u0275fac:Ve}),xo=Ve({__NG_ELEMENT_ID__:Ve}),Tm=Ve({__NG_ENV_ID__:Ve});function Oo(t){return typeof t=="string"?t:t==null?"":String(t)}function NE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Oo(t)}function RE(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function v5(t,e){throw new Q(-201,!1)}var Me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Me||{}),h8;function Lg(){return h8}function f2(t){let e=h8;return h8=t,e}function bg(t,e,n){let r=W4(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Me.Optional)return null;if(e!==void 0)return e;v5(t,"Injector")}var PE={},zo=PE,p8="__NG_DI_FLAG__",I4="ngTempTokenPath",kE="ngTokenPath",OE=/\n/gm,FE="\u0275",Nm="__source",Es;function VE(){return Es}function y1(t){let e=Es;return Es=t,e}function UE(t,e=Me.Default){if(Es===void 0)throw new Q(-203,!1);return Es===null?bg(t,void 0,e):Es.get(t,e&Me.Optional?null:void 0,e)}function fe(t,e=Me.Default){return(Lg()||UE)(Ut(t),e)}function B(t,e=Me.Default){return fe(t,K4(e))}function K4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function m8(t){let e=[];for(let n=0;n<t.length;n++){let r=Ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let s,i=Me.Default;for(let o=0;o<r.length;o++){let c=r[o],a=jE(c);typeof a=="number"?a===-1?s=c.token:i|=a:s=c}e.push(fe(s,i))}else e.push(fe(r))}return e}function BE(t,e){return t[p8]=e,t.prototype[p8]=e,t}function jE(t){return t[p8]}function HE(t,e,n,r){let s=t[I4];throw e[Nm]&&s.unshift(e[Nm]),t.message=$E(`
`+t.message,s,n,r),t[kE]=s,t[I4]=null,t}function $E(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==FE?t.slice(2):t;let s=Bt(e);if(Array.isArray(e))s=e.map(Bt).join(" -> ");else if(typeof e=="object"){let i=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];i.push(o+":"+(typeof c=="string"?JSON.stringify(c):Bt(c)))}s=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${t.replace(OE,`
  `)}`}var Yt=BE(bE("Optional"),8);function Ss(t,e){let n=t.hasOwnProperty(b4);return n?t[b4]:null}function qE(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let s=t[r],i=e[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}function GE(t){return t.flat(Number.POSITIVE_INFINITY)}function C5(t,e){t.forEach(n=>Array.isArray(n)?C5(n,e):e(n))}function Ig(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function x4(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function WE(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function KE(t,e,n,r){let s=t.length;if(s==e)t.push(n,r);else if(s===1)t.push(r,t[0]),t[0]=n;else{for(s--,t.push(t[s-1],t[s]);s>e;){let i=s-2;t[s]=t[i],s--}t[e]=n,t[e+1]=r}}function QE(t,e,n){let r=Fo(t,e);return r>=0?t[r|1]=n:(r=~r,KE(t,r,e,n)),r}function Jl(t,e){let n=Fo(t,e);if(n>=0)return t[n|1]}function Fo(t,e){return YE(t,e,1)}function YE(t,e,n){let r=0,s=t.length>>n;for(;s!==r;){let i=r+(s-r>>1),o=t[i<<n];if(e===o)return i<<n;o>e?s=i:r=i+1}return~(s<<n)}var As={},d2=[],Ds=new re(""),xg=new re("",-1),Eg=new re(""),E4=class{get(e,n=zo){if(n===zo){let r=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw r.name="NullInjectorError",r}return n}},zg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zg||{}),q2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(q2||{}),M1=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(M1||{});function XE(t,e,n){let r=t.length;for(;;){let s=t.indexOf(e,n);if(s===-1)return s;if(s===0||t.charCodeAt(s-1)<=32){let i=e.length;if(s+i===r||t.charCodeAt(s+i)<=32)return s}n=s+1}}function g8(t,e,n){let r=0;for(;r<n.length;){let s=n[r];if(typeof s=="number"){if(s!==0)break;r++;let i=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,i)}else{let i=s,o=n[++r];ZE(i)?t.setProperty(e,i,o):t.setAttribute(e,i,o),r++}}return r}function Sg(t){return t===3||t===4||t===6}function ZE(t){return t.charCodeAt(0)===64}function So(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let s=e[r];typeof s=="number"?n=s:n===0||(n===-1||n===2?Rm(t,n,s,null,e[++r]):Rm(t,n,s,null,null))}}return t}function Rm(t,e,n,r,s){let i=0,o=t.length;if(e===-1)o=-1;else for(;i<t.length;){let c=t[i++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=i-1;break}}}for(;i<t.length;){let c=t[i];if(typeof c=="number")break;if(c===n){if(r===null){s!==null&&(t[i+1]=s);return}else if(r===t[i+1]){t[i+2]=s;return}}i++,r!==null&&i++,s!==null&&i++}o!==-1&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),s!==null&&t.splice(i++,0,s)}var Ag="ng-template";function JE(t,e,n,r){let s=0;if(r){for(;s<e.length&&typeof e[s]=="string";s+=2)if(e[s]==="class"&&XE(e[s+1].toLowerCase(),n,0)!==-1)return!0}else if(M5(t))return!1;if(s=e.indexOf(1,s),s>-1){let i;for(;++s<e.length&&typeof(i=e[s])=="string";)if(i.toLowerCase()===n)return!0}return!1}function M5(t){return t.type===4&&t.value!==Ag}function ez(t,e,n){let r=t.type===4&&!n?Ag:t.value;return e===r}function tz(t,e,n){let r=4,s=t.attrs,i=s!==null?sz(s):0,o=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!o&&!L2(r)&&!L2(a))return!1;if(o&&L2(a))continue;o=!1,r=a|r&1;continue}if(!o)if(r&4){if(r=2|r&1,a!==""&&!ez(t,a,n)||a===""&&e.length===1){if(L2(r))return!1;o=!0}}else if(r&8){if(s===null||!JE(t,s,a,n)){if(L2(r))return!1;o=!0}}else{let u=e[++c],d=nz(a,s,M5(t),n);if(d===-1){if(L2(r))return!1;o=!0;continue}if(u!==""){let p;if(d>i?p="":p=s[d+1].toLowerCase(),r&2&&u!==p){if(L2(r))return!1;o=!0}}}}return L2(r)||o}function L2(t){return(t&1)===0}function nz(t,e,n,r){if(e===null)return-1;let s=0;if(r||!n){let i=!1;for(;s<e.length;){let o=e[s];if(o===t)return s;if(o===3||o===6)i=!0;else if(o===1||o===2){let c=e[++s];for(;typeof c=="string";)c=e[++s];continue}else{if(o===4)break;if(o===0){s+=4;continue}}s+=i?1:2}return-1}else return iz(e,t)}function Dg(t,e,n=!1){for(let r=0;r<e.length;r++)if(tz(t,e[r],n))return!0;return!1}function rz(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function sz(t){for(let e=0;e<t.length;e++){let n=t[e];if(Sg(n))return e}return t.length}function iz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function oz(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let s=0;s<t.length;s++)if(t[s]!==r[s])continue e;return!0}}return!1}function Pm(t,e){return t?":not("+e.trim()+")":e}function cz(t){let e=t[0],n=1,r=2,s="",i=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];s+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?s+="."+o:r&4&&(s+=" "+o);else s!==""&&!L2(o)&&(e+=Pm(i,s),s=""),r=o,i=i||!L2(r);n++}return s!==""&&(e+=Pm(i,s)),e}function az(t){return t.map(cz).join(",")}function lz(t){let e=[],n=[],r=1,s=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")s===2?i!==""&&e.push(i,t[++r]):s===8&&n.push(i);else{if(!L2(s))break;s=i}r++}return{attrs:e,classes:n}}function Te(t){return ko(()=>{let e=kg(t),n=se(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||q2.Emulated,styles:t.styles||d2,_:null,schemas:t.schemas||null,tView:null,id:""});Og(n);let r=t.dependencies;return n.directiveDefs=Om(r,!1),n.pipeDefs=Om(r,!0),n.id=dz(n),n})}function uz(t){return lr(t)||Tg(t)}function fz(t){return t!==null}function In(t){return ko(()=>({type:t.type,bootstrap:t.bootstrap||d2,declarations:t.declarations||d2,imports:t.imports||d2,exports:t.exports||d2,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function km(t,e){if(t==null)return As;let n={};for(let r in t)if(t.hasOwnProperty(r)){let s=t[r],i,o,c=M1.None;Array.isArray(s)?(c=s[0],i=s[1],o=s[2]??i):(i=s,o=s),e?(n[i]=c!==M1.None?[r,c]:r,e[i]=o):n[i]=r}return n}function Je(t){return ko(()=>{let e=kg(t);return Og(e),e})}function lr(t){return t[SE]||null}function Tg(t){return t[AE]||null}function Ng(t){return t[DE]||null}function Rg(t){let e=lr(t)||Tg(t)||Ng(t);return e!==null?e.standalone:!1}function Pg(t,e){let n=t[TE]||null;if(!n&&e===!0)throw new Error(`Type ${Bt(t)} does not have '\u0275mod' property.`);return n}function kg(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||As,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||d2,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:km(t.inputs,e),outputs:km(t.outputs),debugInfo:null}}function Og(t){t.features?.forEach(e=>e(t))}function Om(t,e){if(!t)return null;let n=e?Ng:uz;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(fz)}function dz(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let s of n)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xn(t){return{\u0275providers:t}}function hz(...t){return{\u0275providers:Fg(!0,t),\u0275fromNgModule:!0}}function Fg(t,...e){let n=[],r=new Set,s,i=o=>{n.push(o)};return C5(e,o=>{let c=o;y8(c,i,[],r)&&(s||=[],s.push(c))}),s!==void 0&&Vg(s,i),n}function Vg(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:s}=t[n];_5(s,i=>{e(i,r)})}}function y8(t,e,n,r){if(t=Ut(t),!t)return!1;let s=null,i=Am(t),o=!i&&lr(t);if(!i&&!o){let a=t.ngModule;if(i=Am(a),i)s=a;else return!1}else{if(o&&!o.standalone)return!1;s=t}let c=r.has(s);if(o){if(c)return!1;if(r.add(s),o.dependencies){let a=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of a)y8(u,e,n,r)}}else if(i){if(i.imports!=null&&!c){r.add(s);let u;try{C5(i.imports,d=>{y8(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&Vg(u,e)}if(!c){let u=Ss(s)||(()=>new s);e({provide:s,useFactory:u,deps:d2},s),e({provide:Eg,useValue:s,multi:!0},s),e({provide:Ds,useValue:()=>fe(s),multi:!0},s)}let a=i.providers;if(a!=null&&!c){let u=t;_5(a,d=>{e(d,u)})}}else return!1;return s!==t&&t.providers!==void 0}function _5(t,e){for(let n of t)wg(n)&&(n=n.\u0275providers),Array.isArray(n)?_5(n,e):e(n)}var pz=Ve({provide:String,useValue:Ve});function Ug(t){return t!==null&&typeof t=="object"&&pz in t}function mz(t){return!!(t&&t.useExisting)}function gz(t){return!!(t&&t.useFactory)}function Ts(t){return typeof t=="function"}function yz(t){return!!t.useClass}var Q4=new re(""),v4={},vz={},e8;function w5(){return e8===void 0&&(e8=new E4),e8}var p2=class{},Ao=class extends p2{get destroyed(){return this._destroyed}constructor(e,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C8(e,o=>this.processProvider(o)),this.records.set(xg,bs(void 0,this)),s.has("environment")&&this.records.set(p2,bs(void 0,this));let i=this.records.get(Q4);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Eg,d2,Me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=y1(this),r=f2(void 0),s;try{return e()}finally{y1(n),f2(r)}}get(e,n=zo,r=Me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Tm))return e[Tm](this);r=K4(r);let s,i=y1(this),o=f2(void 0);try{if(!(r&Me.SkipSelf)){let a=this.records.get(e);if(a===void 0){let u=Lz(e)&&W4(e);u&&this.injectableDefInScope(u)?a=bs(v8(e),v4):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=r&Me.Self?w5():this.parent;return n=r&Me.Optional&&n===zo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[I4]=c[I4]||[]).unshift(Bt(e)),i)throw c;return HE(c,e,"R3InjectorError",this.source)}else throw c}finally{f2(o),y1(i)}}resolveInjectorInitializers(){let e=Ce(null),n=y1(this),r=f2(void 0),s;try{let i=this.get(Ds,d2,Me.Self);for(let o of i)o()}finally{y1(n),f2(r),Ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Ut(e);let n=Ts(e)?e:Ut(e&&e.provide),r=Mz(e);if(!Ts(e)&&e.multi===!0){let s=this.records.get(n);s||(s=bs(void 0,v4,!0),s.factory=()=>m8(s.multi),this.records.set(n,s)),n=e,s.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ce(null);try{return n.value===v4&&(n.value=vz,n.value=n.factory()),typeof n.value=="object"&&n.value&&wz(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function v8(t){let e=W4(t),n=e!==null?e.factory:Ss(t);if(n!==null)return n;if(t instanceof re)throw new Q(204,!1);if(t instanceof Function)return Cz(t);throw new Q(204,!1)}function Cz(t){if(t.length>0)throw new Q(204,!1);let n=EE(t);return n!==null?()=>n.factory(t):()=>new t}function Mz(t){if(Ug(t))return bs(void 0,t.useValue);{let e=Bg(t);return bs(e,v4)}}function Bg(t,e,n){let r;if(Ts(t)){let s=Ut(t);return Ss(s)||v8(s)}else if(Ug(t))r=()=>Ut(t.useValue);else if(gz(t))r=()=>t.useFactory(...m8(t.deps||[]));else if(mz(t))r=()=>fe(Ut(t.useExisting));else{let s=Ut(t&&(t.useClass||t.provide));if(_z(t))r=()=>new s(...m8(t.deps));else return Ss(s)||v8(s)}return r}function bs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _z(t){return!!t.deps}function wz(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Lz(t){return typeof t=="function"||typeof t=="object"&&t instanceof re}function C8(t,e){for(let n of t)Array.isArray(n)?C8(n,e):n&&wg(n)?C8(n.\u0275providers,e):e(n)}function En(t,e){t instanceof Ao&&t.assertNotDestroyed();let n,r=y1(t),s=f2(void 0);try{return e()}finally{y1(r),f2(s)}}function bz(){return Lg()!==void 0||VE()!=null}function Iz(t){return typeof t=="function"}var zn=0,de=1,ae=2,At=3,b2=4,Xt=5,Ns=6,z4=7,zt=8,Rs=9,G2=10,ot=11,Do=12,Fm=13,Hs=14,n2=15,ur=16,Is=17,Mn=18,Y4=19,jg=20,v1=21,t8=22,h2=23,jt=25,Hg=1;var fr=7,S4=8,Ps=9,St=10,A4=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(A4||{});function C1(t){return Array.isArray(t)&&typeof t[Hg]=="object"}function Sn(t){return Array.isArray(t)&&t[Hg]===!0}function L5(t){return(t.flags&4)!==0}function X4(t){return t.componentOffset>-1}function Z4(t){return(t.flags&1)===1}function _1(t){return!!t.template}function M8(t){return(t[ae]&512)!==0}var _8=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function $g(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Dt(){return qg}function qg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ez),xz}Dt.ngInherit=!0;function xz(){let t=Wg(this),e=t?.current;if(e){let n=t.previous;if(n===As)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ez(t,e,n,r,s){let i=this.declaredInputs[r],o=Wg(t)||zz(t,{previous:As,current:null}),c=o.current||(o.current={}),a=o.previous,u=a[i];c[i]=new _8(u&&u.currentValue,n,a===As),$g(t,e,s,n)}var Gg="__ngSimpleChanges__";function Wg(t){return t[Gg]||null}function zz(t,e){return t[Gg]=e}var Vm=null;var H2=function(t,e,n){Vm?.(t,e,n)},Sz="svg",Az="math";function W2(t){for(;Array.isArray(t);)t=t[zn];return t}function Kg(t,e){return W2(e[t])}function m2(t,e){return W2(e[t.index])}function b5(t,e){return t.data[e]}function Dz(t,e){return t[e]}function x1(t,e){let n=e[t];return C1(n)?n:n[zn]}function Tz(t){return(t[ae]&4)===4}function I5(t){return(t[ae]&128)===128}function Nz(t){return Sn(t[At])}function w1(t,e){return e==null?null:t[e]}function Qg(t){t[Is]=0}function Yg(t){t[ae]&1024||(t[ae]|=1024,I5(t)&&e3(t))}function Rz(t,e){for(;t>0;)e=e[Hs],t--;return e}function J4(t){return!!(t[ae]&9216||t[h2]?.dirty)}function w8(t){t[G2].changeDetectionScheduler?.notify(8),t[ae]&64&&(t[ae]|=1024),J4(t)&&e3(t)}function e3(t){t[G2].changeDetectionScheduler?.notify(0);let e=dr(t);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!I5(e)));)e=dr(e)}function Xg(t,e){if((t[ae]&256)===256)throw new Q(911,!1);t[v1]===null&&(t[v1]=[]),t[v1].push(e)}function Pz(t,e){if(t[v1]===null)return;let n=t[v1].indexOf(e);n!==-1&&t[v1].splice(n,1)}function dr(t){let e=t[At];return Sn(e)?e[At]:e}var _e={lFrame:cy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zg=!1;function kz(){return _e.lFrame.elementDepthCount}function Oz(){_e.lFrame.elementDepthCount++}function Fz(){_e.lFrame.elementDepthCount--}function Jg(){return _e.bindingsEnabled}function ey(){return _e.skipHydrationRootTNode!==null}function Vz(t){return _e.skipHydrationRootTNode===t}function Uz(){_e.skipHydrationRootTNode=null}function Le(){return _e.lFrame.lView}function mt(){return _e.lFrame.tView}function le(t){return _e.lFrame.contextLView=t,t[zt]}function ue(t){return _e.lFrame.contextLView=null,t}function Ht(){let t=ty();for(;t!==null&&t.type===64;)t=t.parent;return t}function ty(){return _e.lFrame.currentTNode}function Bz(){let t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vr(t,e){let n=_e.lFrame;n.currentTNode=t,n.isParent=e}function x5(){return _e.lFrame.isParent}function E5(){_e.lFrame.isParent=!1}function jz(){return _e.lFrame.contextLView}function ny(){return Zg}function Um(t){Zg=t}function ry(){let t=_e.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Hz(t){return _e.lFrame.bindingIndex=t}function $s(){return _e.lFrame.bindingIndex++}function $z(t){let e=_e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qz(){return _e.lFrame.inI18n}function Gz(t,e){let n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,L8(e)}function Wz(){return _e.lFrame.currentDirectiveIndex}function L8(t){_e.lFrame.currentDirectiveIndex=t}function Kz(t){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sy(){return _e.lFrame.currentQueryIndex}function z5(t){_e.lFrame.currentQueryIndex=t}function Qz(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function iy(t,e,n){if(n&Me.SkipSelf){let s=e,i=t;for(;s=s.parent,s===null&&!(n&Me.Host);)if(s=Qz(i),s===null||(i=i[Hs],s.type&10))break;if(s===null)return!1;e=s,t=i}let r=_e.lFrame=oy();return r.currentTNode=e,r.lView=t,!0}function S5(t){let e=oy(),n=t[de];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oy(){let t=_e.lFrame,e=t===null?null:t.child;return e===null?cy(t):e}function cy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ay(){let t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ly=ay;function A5(){let t=ay();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yz(t){return(_e.lFrame.contextLView=Rz(t,_e.lFrame.contextLView))[zt]}function Cr(){return _e.lFrame.selectedIndex}function hr(t){_e.lFrame.selectedIndex=t}function t3(){let t=_e.lFrame;return b5(t.tView,t.selectedIndex)}function Xz(){return _e.lFrame.currentNamespace}var uy=!0;function n3(){return uy}function r3(t){uy=t}function Zz(t,e,n){let{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=e.type.prototype;if(r){let o=qg(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}s&&(n.preOrderHooks??=[]).push(0-t,s),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function s3(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:d}=i;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),a&&(t.viewHooks??=[]).push(-n,a),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function C4(t,e,n){fy(t,e,3,n)}function M4(t,e,n,r){(t[ae]&3)===n&&fy(t,e,n,r)}function n8(t,e){let n=t[ae];(n&3)===e&&(n&=16383,n+=1,t[ae]=n)}function fy(t,e,n,r){let s=r!==void 0?t[Is]&65535:0,i=r??-1,o=e.length-1,c=0;for(let a=s;a<o;a++)if(typeof e[a+1]=="number"){if(c=e[a],r!=null&&c>=r)break}else e[a]<0&&(t[Is]+=65536),(c<i||i==-1)&&(Jz(t,n,e,a),t[Is]=(t[Is]&4294901760)+a+2),a++}function Bm(t,e){H2(4,t,e);let n=Ce(null);try{e.call(t)}finally{Ce(n),H2(5,t,e)}}function Jz(t,e,n,r){let s=n[r]<0,i=n[r+1],o=s?-n[r]:n[r],c=t[o];s?t[ae]>>14<t[Is]>>16&&(t[ae]&3)===e&&(t[ae]+=16384,Bm(c,i)):Bm(c,i)}var zs=-1,pr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function eS(t){return t instanceof pr}function tS(t){return(t.flags&8)!==0}function nS(t){return(t.flags&16)!==0}var r8={},b8=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=K4(r);let s=this.injector.get(e,r8,r);return s!==r8||n===r8?s:this.parentInjector.get(e,n,r)}};function dy(t){return t!==zs}function D4(t){return t&32767}function rS(t){return t>>16}function T4(t,e){let n=rS(t),r=e;for(;n>0;)r=r[Hs],n--;return r}var I8=!0;function jm(t){let e=I8;return I8=t,e}var sS=256,hy=sS-1,py=5,iS=0,$2={};function oS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xo)&&(r=n[xo]),r==null&&(r=n[xo]=iS++);let s=r&hy,i=1<<s;e.data[t+(s>>py)]|=i}function N4(t,e){let n=my(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,s8(r.data,t),s8(e,null),s8(r.blueprint,null));let s=D5(t,e),i=t.injectorIndex;if(dy(s)){let o=D4(s),c=T4(s,e),a=c[de].data;for(let u=0;u<8;u++)e[i+u]=c[o+u]|a[o+u]}return e[i+8]=s,i}function s8(t,e){t.push(0,0,0,0,0,0,0,0,e)}function my(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function D5(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,s=e;for(;s!==null;){if(r=My(s),r===null)return zs;if(n++,s=s[Hs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zs}function x8(t,e,n){oS(t,e,n)}function cS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,s=0;for(;s<r;){let i=n[s];if(Sg(i))break;if(i===0)s=s+2;else if(typeof i=="number")for(s++;s<r&&typeof n[s]=="string";)s++;else{if(i===e)return n[s+1];s=s+2}}}return null}function gy(t,e,n){if(n&Me.Optional||t!==void 0)return t;v5(e,"NodeInjector")}function yy(t,e,n,r){if(n&Me.Optional&&r===void 0&&(r=null),!(n&(Me.Self|Me.Host))){let s=t[Rs],i=f2(void 0);try{return s?s.get(e,r,n&Me.Optional):bg(e,r,n&Me.Optional)}finally{f2(i)}}return gy(r,e,n)}function vy(t,e,n,r=Me.Default,s){if(t!==null){if(e[ae]&2048&&!(r&Me.Self)){let o=fS(t,e,n,r,$2);if(o!==$2)return o}let i=Cy(t,e,n,r,$2);if(i!==$2)return i}return yy(e,n,r,s)}function Cy(t,e,n,r,s){let i=lS(n);if(typeof i=="function"){if(!iy(e,t,r))return r&Me.Host?gy(s,n,r):yy(e,n,r,s);try{let o;if(o=i(r),o==null&&!(r&Me.Optional))v5(n);else return o}finally{ly()}}else if(typeof i=="number"){let o=null,c=my(t,e),a=zs,u=r&Me.Host?e[n2][Xt]:null;for((c===-1||r&Me.SkipSelf)&&(a=c===-1?D5(t,e):e[c+8],a===zs||!$m(r,!1)?c=-1:(o=e[de],c=D4(a),e=T4(a,e)));c!==-1;){let d=e[de];if(Hm(i,c,d.data)){let p=aS(c,e,n,o,r,u);if(p!==$2)return p}a=e[c+8],a!==zs&&$m(r,e[de].data[c+8]===u)&&Hm(i,c,e)?(o=d,c=D4(a),e=T4(a,e)):c=-1}}return s}function aS(t,e,n,r,s,i){let o=e[de],c=o.data[t+8],a=r==null?X4(c)&&I8:r!=o&&(c.type&3)!==0,u=s&Me.Host&&i===c,d=_4(c,o,n,a,u);return d!==null?mr(e,o,d,c):$2}function _4(t,e,n,r,s){let i=t.providerIndexes,o=e.data,c=i&1048575,a=t.directiveStart,u=t.directiveEnd,d=i>>20,p=r?c:c+d,m=s?c+d:u;for(let y=p;y<m;y++){let w=o[y];if(y<a&&n===w||y>=a&&w.type===n)return y}if(s){let y=o[a];if(y&&_1(y)&&y.type===n)return a}return null}function mr(t,e,n,r){let s=t[n],i=e.data;if(eS(s)){let o=s;o.resolving&&RE(NE(i[n]));let c=jm(o.canSeeViewProviders);o.resolving=!0;let a,u=o.injectImpl?f2(o.injectImpl):null,d=iy(t,r,Me.Default);try{s=t[n]=o.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&Zz(n,i[n],e)}finally{u!==null&&f2(u),jm(c),o.resolving=!1,ly()}}return s}function lS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xo)?t[xo]:void 0;return typeof e=="number"?e>=0?e&hy:uS:e}function Hm(t,e,n){let r=1<<t;return!!(n[e+(t>>py)]&r)}function $m(t,e){return!(t&Me.Self)&&!(t&Me.Host&&e)}var ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vy(this._tNode,this._lView,e,K4(r),n)}};function uS(){return new ar(Ht(),Le())}function E1(t){return ko(()=>{let e=t.prototype.constructor,n=e[b4]||E8(e),r=Object.prototype,s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==r;){let i=s[b4]||E8(s);if(i&&i!==n)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function E8(t){return vg(t)?()=>{let e=E8(Ut(t));return e&&e()}:Ss(t)}function fS(t,e,n,r,s){let i=t,o=e;for(;i!==null&&o!==null&&o[ae]&2048&&!(o[ae]&512);){let c=Cy(i,o,n,r|Me.Self,$2);if(c!==$2)return c;let a=i.parent;if(!a){let u=o[jg];if(u){let d=u.get(n,$2,r);if(d!==$2)return d}a=My(o),o=o[Hs]}i=a}return s}function My(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function T5(t){return cS(Ht(),t)}function qm(t,e=null,n=null,r){let s=_y(t,e,n,r);return s.resolveInjectorInitializers(),s}function _y(t,e=null,n=null,r,s=new Set){let i=[n||d2,hz(t)];return r=r||(typeof t=="object"?void 0:Bt(t)),new Ao(i,e||w5(),r||null,s)}var Qt=class t{static{this.THROW_IF_NOT_FOUND=zo}static{this.NULL=new E4}static create(e,n){if(Array.isArray(e))return qm({name:""},n,e,"");{let r=e.name??"";return qm({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Y({token:t,providedIn:"any",factory:()=>fe(xg)})}static{this.__NG_ELEMENT_ID__=-1}};var dS=new re("");dS.__NG_ELEMENT_ID__=t=>{let e=Ht();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&Me.Optional)return null;throw new Q(204,!1)};var hS="ngOriginalError";function i8(t){return t[hS]}var wy=!0,N5=(()=>{class t{static{this.__NG_ELEMENT_ID__=pS}static{this.__NG_ENV_ID__=n=>n}}return t})(),z8=class extends N5{constructor(e){super(),this._lView=e}onDestroy(e){return Xg(this._lView,e),()=>Pz(this._lView,e)}};function pS(){return new z8(Le())}var qs=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}}return t})();var S8=class extends at{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,bz()&&(this.destroyRef=B(N5,{optional:!0})??void 0,this.pendingTasks=B(qs,{optional:!0})??void 0)}emit(e){let n=Ce(null);try{super.next(e)}finally{Ce(n)}}subscribe(e,n,r){let s=e,i=n||(()=>null),o=r;if(e&&typeof e=="object"){let a=e;s=a.next?.bind(a),i=a.error?.bind(a),o=a.complete?.bind(a)}this.__isAsync&&(i=this.wrapInTimeout(i),s&&(s=this.wrapInTimeout(s)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:s,error:i,complete:o});return e instanceof Be&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},$e=S8;function R4(...t){}function Ly(t){let e,n;function r(){t=R4;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Gm(t){return queueMicrotask(()=>t()),()=>{t=R4}}var R5="isAngularZone",P4=R5+"_ID",mS=0,Fe=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:i=wy}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&r,o.shouldCoalesceRunChangeDetection=s,o.callbackScheduled=!1,o.scheduleInRootZone=i,vS(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(R5)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,s){let i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+s,e,gS,R4,R4);try{return i.runTask(o,n,r)}finally{i.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gS={};function P5(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ly(()=>{t.callbackScheduled=!1,A8(t),t.isCheckStableRunning=!0,P5(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),A8(t)}function vS(t){let e=()=>{yS(t)},n=mS++;t._inner=t._inner.fork({name:"angular",properties:{[R5]:!0,[P4]:n,[P4+n]:!0},onInvokeTask:(r,s,i,o,c,a)=>{if(CS(a))return r.invokeTask(i,o,c,a);try{return Wm(t),r.invokeTask(i,o,c,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Km(t)}},onInvoke:(r,s,i,o,c,a,u)=>{try{return Wm(t),r.invoke(i,o,c,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!MS(a)&&e(),Km(t)}},onHasTask:(r,s,i,o)=>{r.hasTask(i,o),s===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,A8(t),P5(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,s,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function A8(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Wm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Km(t){t._nesting--,P5(t)}var D8=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,s){return e.apply(n,r)}};function CS(t){return by(t,"__ignore_ng_zone__")}function MS(t){return by(t,"__scheduler_tick__")}function by(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var K2=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&i8(e);for(;n&&i8(n);)n=i8(n);return n||null}},_S=new re("",{providedIn:"root",factory:()=>{let t=B(Fe),e=B(K2);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),T8=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=B(K2,{optional:!0}),this.destroyRef=B(N5),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Q(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Q(953,!1);if(this.listeners===null)return;let n=Ce(null);try{for(let r of this.listeners)try{r(e)}catch(s){this.errorHandler?.handleError(s)}}finally{Ce(n)}}};function z1(t){return new T8}function wS(){return Gs(Ht(),Le())}function Gs(t,e){return new Tt(m2(t,e))}var Tt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=wS}}return t})();function LS(t){return t instanceof Tt?t.nativeElement:t}function bS(){return this._results[Symbol.iterator]()}var N8=class t{get changes(){return this._changes??=new $e}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=bS)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=GE(e);(this._changesDetected=!qE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Iy(t){return(t.flags&128)===128}var xy=new Map,IS=0;function xS(){return IS++}function ES(t){xy.set(t[Y4],t)}function R8(t){xy.delete(t[Y4])}var Qm="__ngContext__";function L1(t,e){C1(e)?(t[Qm]=e[Y4],ES(e)):t[Qm]=e}function Ey(t){return Sy(t[Do])}function zy(t){return Sy(t[b2])}function Sy(t){for(;t!==null&&!Sn(t);)t=t[b2];return t}var P8;function Ay(t){P8=t}function Dy(){if(P8!==void 0)return P8;if(typeof document<"u")return document;throw new Q(210,!1)}var k5=new re("",{providedIn:"root",factory:()=>zS}),zS="ng",O5=new re(""),S1=new re("",{providedIn:"platform",factory:()=>"unknown"});var F5=new re("",{providedIn:"root",factory:()=>Dy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SS="h",AS="b";var DS=()=>null;function V5(t,e,n=!1){return DS(t,e,n)}var Ty=!1,TS=new re("",{providedIn:"root",factory:()=>Ty});var d4;function NS(){if(d4===void 0&&(d4=null,Eo.trustedTypes))try{d4=Eo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return d4}function i3(t){return NS()?.createHTML(t)||t}var h4;function Ny(){if(h4===void 0&&(h4=null,Eo.trustedTypes))try{h4=Eo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return h4}function Ym(t){return Ny()?.createHTML(t)||t}function Xm(t){return Ny()?.createScriptURL(t)||t}var _n=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yg})`}},k8=class extends _n{getTypeName(){return"HTML"}},O8=class extends _n{getTypeName(){return"Style"}},F8=class extends _n{getTypeName(){return"Script"}},V8=class extends _n{getTypeName(){return"URL"}},U8=class extends _n{getTypeName(){return"ResourceURL"}};function I2(t){return t instanceof _n?t.changingThisBreaksApplicationSecurity:t}function An(t,e){let n=RS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${yg})`)}return n===e}function RS(t){return t instanceof _n&&t.getTypeName()||null}function Ry(t){return new k8(t)}function Py(t){return new O8(t)}function ky(t){return new F8(t)}function Oy(t){return new V8(t)}function Fy(t){return new U8(t)}function PS(t){let e=new j8(t);return kS()?new B8(e):e}var B8=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(i3(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},j8=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=i3(e),n}};function kS(){try{return!!new window.DOMParser().parseFromString(i3(""),"text/html")}catch{return!1}}var OS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function o3(t){return t=String(t),t.match(OS)?t:"unsafe:"+t}function Dn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Vo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Vy=Dn("area,br,col,hr,img,wbr"),Uy=Dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),By=Dn("rp,rt"),FS=Vo(By,Uy),VS=Vo(Uy,Dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),US=Vo(By,Dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zm=Vo(Vy,VS,US,FS),jy=Dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BS=Dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jS=Dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),HS=Vo(jy,BS,jS),$S=Dn("script,style,template"),H8=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,s=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){s.push(n),n=WS(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=GS(n);if(i){n=i;break}n=s.pop()}}return this.buf.join("")}startElement(e){let n=Jm(e).toLowerCase();if(!Zm.hasOwnProperty(n))return this.sanitizedSomething=!0,!$S.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let s=0;s<r.length;s++){let i=r.item(s),o=i.name,c=o.toLowerCase();if(!HS.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=i.value;jy[c]&&(a=o3(a)),this.buf.push(" ",o,'="',eg(a),'"')}return this.buf.push(">"),!0}endElement(e){let n=Jm(e).toLowerCase();Zm.hasOwnProperty(n)&&!Vy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(eg(e))}};function qS(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function GS(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Hy(e);return e}function WS(t){let e=t.firstChild;if(e&&qS(t,e))throw Hy(e);return e}function Jm(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Hy(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var KS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QS=/([^\#-~ |!])/g;function eg(t){return t.replace(/&/g,"&amp;").replace(KS,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(QS,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var p4;function U5(t,e){let n=null;try{p4=p4||PS(t);let r=e?String(e):"";n=p4.getInertBodyElement(r);let s=5,i=r;do{if(s===0)throw new Error("Failed to sanitize html because the input is unstable");s--,r=i,i=n.innerHTML,n=p4.getInertBodyElement(r)}while(r!==i);let c=new H8().sanitizeChildren(tg(n)||n);return i3(c)}finally{if(n){let r=tg(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function tg(t){return"content"in t&&YS(t)?t.content:null}function YS(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var x2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(x2||{});function $y(t){let e=B5();return e?Ym(e.sanitize(x2.HTML,t)||""):An(t,"HTML")?Ym(I2(t)):U5(Dy(),Oo(t))}function E2(t){let e=B5();return e?e.sanitize(x2.URL,t)||"":An(t,"URL")?I2(t):o3(Oo(t))}function XS(t){let e=B5();if(e)return Xm(e.sanitize(x2.RESOURCE_URL,t)||"");if(An(t,"ResourceURL"))return Xm(I2(t));throw new Q(904,!1)}function ZS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?XS:E2}function qy(t,e,n){return ZS(e,n)(t)}function B5(){let t=Le();return t&&t[G2].sanitizer}var JS=/^>|^->|<!--|-->|--!>|<!-$/g,eA=/(<|>)/g,tA="\u200B$1\u200B";function nA(t){return t.replace(JS,e=>e.replace(eA,tA))}function Gy(t){return t.ownerDocument.defaultView}function Wy(t){return t instanceof Function?t():t}var wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wn||{}),rA;function j5(t,e){return rA(t,e)}function xs(t,e,n,r,s){if(r!=null){let i,o=!1;Sn(r)?i=r:C1(r)&&(o=!0,r=r[zn]);let c=W2(r);t===0&&n!==null?s==null?Zy(e,n,c):k4(e,n,c,s||null,!0):t===1&&n!==null?k4(e,n,c,s||null,!0):t===2?yA(e,c,o):t===3&&e.destroyNode(c),i!=null&&CA(e,t,i,n,s)}}function sA(t,e){return t.createText(e)}function iA(t,e,n){t.setValue(e,n)}function oA(t,e){return t.createComment(nA(e))}function Ky(t,e,n){return t.createElement(e,n)}function cA(t,e){Qy(t,e),e[zn]=null,e[Xt]=null}function aA(t,e,n,r,s,i){r[zn]=s,r[Xt]=e,l3(t,r,n,1,s,i)}function Qy(t,e){e[G2].changeDetectionScheduler?.notify(9),l3(t,e,e[ot],2,null,null)}function lA(t){let e=t[Do];if(!e)return o8(t[de],t);for(;e;){let n=null;if(C1(e))n=e[Do];else{let r=e[St];r&&(n=r)}if(!n){for(;e&&!e[b2]&&e!==t;)C1(e)&&o8(e[de],e),e=e[At];e===null&&(e=t),C1(e)&&o8(e[de],e),n=e&&e[b2]}e=n}}function uA(t,e,n,r){let s=St+r,i=n.length;r>0&&(n[s-1][b2]=e),r<i-St?(e[b2]=n[s],Ig(n,St+r,e)):(n.push(e),e[b2]=null),e[At]=n;let o=e[ur];o!==null&&n!==o&&Yy(o,e);let c=e[Mn];c!==null&&c.insertView(t),w8(e),e[ae]|=128}function Yy(t,e){let n=t[Ps],r=e[At];if(C1(r))t[ae]|=A4.HasTransplantedViews;else{let s=r[At][n2];e[n2]!==s&&(t[ae]|=A4.HasTransplantedViews)}n===null?t[Ps]=[e]:n.push(e)}function H5(t,e){let n=t[Ps],r=n.indexOf(e);n.splice(r,1)}function To(t,e){if(t.length<=St)return;let n=St+e,r=t[n];if(r){let s=r[ur];s!==null&&s!==t&&H5(s,r),e>0&&(t[n-1][b2]=r[b2]);let i=x4(t,St+e);cA(r[de],r);let o=i[Mn];o!==null&&o.detachView(i[de]),r[At]=null,r[b2]=null,r[ae]&=-129}return r}function c3(t,e){if(!(e[ae]&256)){let n=e[ot];n.destroyNode&&l3(t,e,n,3,null,null),lA(e)}}function o8(t,e){if(e[ae]&256)return;let n=Ce(null);try{e[ae]&=-129,e[ae]|=256,e[h2]&&Rl(e[h2]),dA(t,e),fA(t,e),e[de].type===1&&e[ot].destroy();let r=e[ur];if(r!==null&&Sn(e[At])){r!==e[At]&&H5(r,e);let s=e[Mn];s!==null&&s.detachView(t)}R8(e)}finally{Ce(n)}}function fA(t,e){let n=t.cleanup,r=e[z4];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let o=n[i+3];o>=0?r[o]():r[-o].unsubscribe(),i+=2}else{let o=r[n[i+1]];n[i].call(o)}r!==null&&(e[z4]=null);let s=e[v1];if(s!==null){e[v1]=null;for(let i=0;i<s.length;i++){let o=s[i];o()}}}function dA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let s=e[n[r]];if(!(s instanceof pr)){let i=n[r+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){let c=s[i[o]],a=i[o+1];H2(4,c,a);try{a.call(c)}finally{H2(5,c,a)}}else{H2(4,s,i);try{i.call(s)}finally{H2(5,s,i)}}}}}function Xy(t,e,n){return hA(t,e.parent,n)}function hA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zn];{let{componentOffset:s}=r;if(s>-1){let{encapsulation:i}=t.data[r.directiveStart+s];if(i===q2.None||i===q2.Emulated)return null}return m2(r,n)}}function k4(t,e,n,r,s){t.insertBefore(e,n,r,s)}function Zy(t,e,n){t.appendChild(e,n)}function ng(t,e,n,r,s){r!==null?k4(t,e,n,r,s):Zy(t,e,n)}function Jy(t,e){return t.parentNode(e)}function pA(t,e){return t.nextSibling(e)}function ev(t,e,n){return gA(t,e,n)}function mA(t,e,n){return t.type&40?m2(t,n):null}var gA=mA,rg;function a3(t,e,n,r){let s=Xy(t,r,e),i=e[ot],o=r.parent||e[Xt],c=ev(o,r,e);if(s!=null)if(Array.isArray(n))for(let a=0;a<n.length;a++)ng(i,s,n[a],c,!1);else ng(i,s,n,c,!1);rg!==void 0&&rg(i,r,e,n,s)}function bo(t,e){if(e!==null){let n=e.type;if(n&3)return m2(e,t);if(n&4)return $8(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bo(t,r);{let s=t[e.index];return Sn(s)?$8(-1,s):W2(s)}}else{if(n&128)return bo(t,e.next);if(n&32)return j5(e,t)()||W2(t[e.index]);{let r=tv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let s=dr(t[n2]);return bo(s,r)}else return bo(t,e.next)}}}return null}function tv(t,e){if(e!==null){let r=t[n2][Xt],s=e.projection;return r.projection[s]}return null}function $8(t,e){let n=St+t+1;if(n<e.length){let r=e[n],s=r[de].firstChild;if(s!==null)return bo(r,s)}return e[fr]}function yA(t,e,n){t.removeChild(null,e,n)}function $5(t,e,n,r,s,i,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],a=n.type;if(o&&e===0&&(c&&L1(W2(c),r),n.flags|=2),(n.flags&32)!==32)if(a&8)$5(t,e,n.child,r,s,i,!1),xs(e,t,s,c,i);else if(a&32){let u=j5(n,r),d;for(;d=u();)xs(e,t,s,d,i);xs(e,t,s,c,i)}else a&16?nv(t,e,r,n,s,i):xs(e,t,s,c,i);n=o?n.projectionNext:n.next}}function l3(t,e,n,r,s,i){$5(n,r,t.firstChild,e,s,i,!1)}function vA(t,e,n){let r=e[ot],s=Xy(t,n,e),i=n.parent||e[Xt],o=ev(i,n,e);nv(r,0,e,n,s,o)}function nv(t,e,n,r,s,i){let o=n[n2],a=o[Xt].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++){let d=a[u];xs(e,t,s,d,i)}else{let u=a,d=o[At];Iy(r)&&(u.flags|=128),$5(t,e,u,d,s,i,!0)}}function CA(t,e,n,r,s){let i=n[fr],o=W2(n);i!==o&&xs(e,t,r,i,s);for(let c=St;c<n.length;c++){let a=n[c];l3(a[de],a,t,e,r,i)}}function MA(t,e,n,r,s){if(e)s?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:wn.DashCase;s==null?t.removeStyle(n,r,i):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=wn.Important),t.setStyle(n,r,s,i))}}function _A(t,e,n){t.setAttribute(e,"style",n)}function rv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sv(t,e,n){let{mergedAttrs:r,classes:s,styles:i}=n;r!==null&&g8(t,e,r),s!==null&&rv(t,e,s),i!==null&&_A(t,e,i)}var Tn={};function j(t=1){iv(mt(),Le(),Cr()+t,!1)}function iv(t,e,n,r){if(!r)if((e[ae]&3)===3){let i=t.preOrderCheckHooks;i!==null&&C4(e,i,n)}else{let i=t.preOrderHooks;i!==null&&M4(e,i,0,n)}hr(n)}function $(t,e=Me.Default){let n=Le();if(n===null)return fe(t,e);let r=Ht();return vy(r,n,Ut(t),e)}function ov(t,e,n,r,s,i){let o=Ce(null);try{let c=null;s&M1.SignalBased&&(c=e[r][h1]),c!==null&&c.transformFn!==void 0&&(i=c.transformFn(i)),s&M1.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),t.setInput!==null?t.setInput(e,c,i,n,r):$g(e,c,r,i)}finally{Ce(o)}}function wA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let s=n[r];if(s<0)hr(~s);else{let i=s,o=n[++r],c=n[++r];Gz(o,i);let a=e[i];c(2,a)}}}finally{hr(-1)}}function u3(t,e,n,r,s,i,o,c,a,u,d){let p=e.blueprint.slice();return p[zn]=s,p[ae]=r|4|128|8|64,(u!==null||t&&t[ae]&2048)&&(p[ae]|=2048),Qg(p),p[At]=p[Hs]=t,p[zt]=n,p[G2]=o||t&&t[G2],p[ot]=c||t&&t[ot],p[Rs]=a||t&&t[Rs]||null,p[Xt]=i,p[Y4]=xS(),p[Ns]=d,p[jg]=u,p[n2]=e.type==2?t[n2]:p,p}function Ws(t,e,n,r,s){let i=t.data[e];if(i===null)i=LA(t,e,n,r,s),qz()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=s;let o=Bz();i.injectorIndex=o===null?-1:o.injectorIndex}return vr(i,!0),i}function LA(t,e,n,r,s){let i=ty(),o=x5(),c=o?i:i&&i.parent,a=t.data[e]=SA(t,c,n,e,r,s);return t.firstChild===null&&(t.firstChild=a),i!==null&&(o?i.child==null&&a.parent!==null&&(i.child=a):i.next===null&&(i.next=a,a.prev=i)),a}function cv(t,e,n,r){if(n===0)return-1;let s=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return s}function av(t,e,n,r,s){let i=Cr(),o=r&2;try{hr(-1),o&&e.length>jt&&iv(t,e,jt,!1),H2(o?2:0,s),n(r,s)}finally{hr(i),H2(o?3:1,s)}}function q5(t,e,n){if(L5(e)){let r=Ce(null);try{let s=e.directiveStart,i=e.directiveEnd;for(let o=s;o<i;o++){let c=t.data[o];if(c.contentQueries){let a=n[o];c.contentQueries(1,a,o)}}}finally{Ce(r)}}}function G5(t,e,n){Jg()&&(PA(t,e,n,m2(n,e)),(n.flags&64)===64&&fv(t,e,n))}function W5(t,e,n=m2){let r=e.localNames;if(r!==null){let s=e.index+1;for(let i=0;i<r.length;i+=2){let o=r[i+1],c=o===-1?n(e,t):t[o];t[s++]=c}}}function lv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=K5(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function K5(t,e,n,r,s,i,o,c,a,u,d){let p=jt+r,m=p+s,y=bA(p,m),w=typeof u=="function"?u():u;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:a,consts:w,incompleteFirstPass:!1,ssrId:d}}function bA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tn);return n}function IA(t,e,n,r){let i=r.get(TS,Ty)||n===q2.ShadowDom,o=t.selectRootElement(e,i);return xA(o),o}function xA(t){EA(t)}var EA=()=>null;function zA(t,e,n,r){let s=pv(e);s.push(n),t.firstCreatePass&&mv(t).push(r,s.length-1)}function SA(t,e,n,r,s,i){let o=e?e.injectorIndex:-1,c=0;return ey()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sg(t,e,n,r,s){for(let i in e){if(!e.hasOwnProperty(i))continue;let o=e[i];if(o===void 0)continue;r??={};let c,a=M1.None;Array.isArray(o)?(c=o[0],a=o[1]):c=o;let u=i;if(s!==null){if(!s.hasOwnProperty(i))continue;u=s[i]}t===0?ig(r,n,u,c,a):ig(r,n,u,c)}return r}function ig(t,e,n,r,s){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],s!==void 0&&i.push(s)}function AA(t,e,n){let r=e.directiveStart,s=e.directiveEnd,i=t.data,o=e.attrs,c=[],a=null,u=null;for(let d=r;d<s;d++){let p=i[d],m=n?n.get(p):null,y=m?m.inputs:null,w=m?m.outputs:null;a=sg(0,p.inputs,d,a,y),u=sg(1,p.outputs,d,u,w);let A=a!==null&&o!==null&&!M5(e)?GA(a,d,o):null;c.push(A)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=u}function DA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Q5(t,e,n,r,s,i,o,c){let a=m2(e,n),u=e.inputs,d;!c&&u!=null&&(d=u[r])?(X5(t,n,d,r,s),X4(e)&&TA(n,e.index)):e.type&3?(r=DA(r),s=o!=null?o(s,e.value||"",r):s,i.setProperty(a,r,s)):e.type&12}function TA(t,e){let n=x1(e,t);n[ae]&16||(n[ae]|=64)}function Y5(t,e,n,r){if(Jg()){let s=r===null?null:{"":-1},i=OA(t,n),o,c;i===null?o=c=null:[o,c]=i,o!==null&&uv(t,e,n,o,s,c),s&&FA(n,r,s)}n.mergedAttrs=So(n.mergedAttrs,n.attrs)}function uv(t,e,n,r,s,i){for(let u=0;u<r.length;u++)x8(N4(n,e),t,r[u].type);UA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,c=!1,a=cv(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=So(n.mergedAttrs,d.hostAttrs),BA(t,n,e,a,d),VA(a,d,s),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let p=d.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),a++}AA(t,n,i)}function NA(t,e,n,r,s){let i=s.hostBindings;if(i){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;RA(o)!=c&&o.push(c),o.push(n,r,i)}}function RA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PA(t,e,n,r){let s=n.directiveStart,i=n.directiveEnd;X4(n)&&jA(e,n,t.data[s+n.componentOffset]),t.firstCreatePass||N4(n,e),L1(r,e);let o=n.initialInputs;for(let c=s;c<i;c++){let a=t.data[c],u=mr(e,t,c,n);if(L1(u,e),o!==null&&qA(e,c-s,u,a,n,o),_1(a)){let d=x1(n.index,e);d[zt]=mr(e,t,c,n)}}}function fv(t,e,n){let r=n.directiveStart,s=n.directiveEnd,i=n.index,o=Wz();try{hr(i);for(let c=r;c<s;c++){let a=t.data[c],u=e[c];L8(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&kA(a,u)}}finally{hr(-1),L8(o)}}function kA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OA(t,e){let n=t.directiveRegistry,r=null,s=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];if(Dg(e,o.selectors,!1))if(r||(r=[]),_1(o))if(o.findHostDirectiveDefs!==null){let c=[];s=s||new Map,o.findHostDirectiveDefs(o,c,s),r.unshift(...c,o);let a=c.length;q8(t,e,a)}else r.unshift(o),q8(t,e,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,r,s),r.push(o)}return r===null?null:[r,s]}function q8(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FA(t,e,n){if(e){let r=t.localNames=[];for(let s=0;s<e.length;s+=2){let i=n[e[s+1]];if(i==null)throw new Q(-301,!1);r.push(e[s],i)}}}function VA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_1(e)&&(n[""]=t)}}function UA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function BA(t,e,n,r,s){t.data[r]=s;let i=s.factory||(s.factory=Ss(s.type,!0)),o=new pr(i,_1(s),$);t.blueprint[r]=o,n[r]=o,NA(t,e,r,cv(t,n,s.hostVars,Tn),s)}function jA(t,e,n){let r=m2(e,t),s=lv(n),i=t[G2].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=f3(t,u3(t,s,null,o,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=c}function HA(t,e,n,r,s,i){let o=m2(t,e);$A(e[ot],o,i,t.value,n,r,s)}function $A(t,e,n,r,s,i,o){if(i==null)t.removeAttribute(e,s,n);else{let c=o==null?Oo(i):o(i,r||"",s);t.setAttribute(e,s,c,n)}}function qA(t,e,n,r,s,i){let o=i[e];if(o!==null)for(let c=0;c<o.length;){let a=o[c++],u=o[c++],d=o[c++],p=o[c++];ov(r,n,a,u,d,p)}}function GA(t,e,n){let r=null,s=0;for(;s<n.length;){let i=n[s];if(i===0){s+=4;continue}else if(i===5){s+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let o=t[i];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(i,o[c+1],o[c+2],n[s+1]);break}}s+=2}return r}function dv(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hv(t,e){let n=t.contentQueries;if(n!==null){let r=Ce(null);try{for(let s=0;s<n.length;s+=2){let i=n[s],o=n[s+1];if(o!==-1){let c=t.data[o];z5(i),c.contentQueries(2,e[o],o)}}}finally{Ce(r)}}}function f3(t,e){return t[Do]?t[Fm][b2]=e:t[Do]=e,t[Fm]=e,e}function G8(t,e,n){z5(0);let r=Ce(null);try{e(t,n)}finally{Ce(r)}}function pv(t){return t[z4]??=[]}function mv(t){return t.cleanup??=[]}function gv(t,e){let n=t[Rs],r=n?n.get(K2,null):null;r&&r.handleError(e)}function X5(t,e,n,r,s){for(let i=0;i<n.length;){let o=n[i++],c=n[i++],a=n[i++],u=e[o],d=t.data[o];ov(d,u,r,c,a,s)}}function WA(t,e,n){let r=Kg(e,t);iA(t[ot],r,n)}function KA(t,e){let n=x1(e,t),r=n[de];QA(r,n);let s=n[zn];s!==null&&n[Ns]===null&&(n[Ns]=V5(s,n[Rs])),Z5(r,n,n[zt])}function QA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Z5(t,e,n){S5(e);try{let r=t.viewQuery;r!==null&&G8(1,r,n);let s=t.template;s!==null&&av(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mn]?.finishViewCreation(t),t.staticContentQueries&&hv(t,e),t.staticViewQueries&&G8(2,t.viewQuery,n);let i=t.components;i!==null&&YA(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ae]&=-5,A5()}}function YA(t,e){for(let n=0;n<e.length;n++)KA(t,e[n])}function Uo(t,e,n,r){let s=Ce(null);try{let i=e.tView,c=t[ae]&4096?4096:16,a=u3(t,i,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];a[ur]=u;let d=t[Mn];return d!==null&&(a[Mn]=d.createEmbeddedView(i)),Z5(i,a,n),a}finally{Ce(s)}}function yv(t,e){let n=St+e;if(n<t.length)return t[n]}function ks(t,e){return!e||e.firstChild===null||Iy(t)}function Bo(t,e,n,r=!0){let s=e[de];if(uA(s,e,t,n),r){let o=$8(n,t),c=e[ot],a=Jy(c,t[fr]);a!==null&&aA(s,t[Xt],c,e,a,o)}let i=e[Ns];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function vv(t,e){let n=To(t,e);return n!==void 0&&c3(n[de],n),n}function O4(t,e,n,r,s=!1){for(;n!==null;){if(n.type===128){n=s?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(W2(i)),Sn(i)&&XA(i,r);let o=n.type;if(o&8)O4(t,e,n.child,r);else if(o&32){let c=j5(n,e),a;for(;a=c();)r.push(a)}else if(o&16){let c=tv(e,n);if(Array.isArray(c))r.push(...c);else{let a=dr(e[n2]);O4(a[de],a,c,r,!0)}}n=s?n.projectionNext:n.next}return r}function XA(t,e){for(let n=St;n<t.length;n++){let r=t[n],s=r[de].firstChild;s!==null&&O4(r[de],r,s,e)}t[fr]!==t[zn]&&e.push(t[fr])}var Cv=[];function ZA(t){return t[h2]??JA(t)}function JA(t){let e=Cv.pop()??Object.create(tD);return e.lView=t,e}function eD(t){t.lView[h2]!==t&&(t.lView=null,Cv.push(t))}var tD=se(R({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{e3(t.lView)},consumerOnSignalRead(){this.lView[h2]=this}});function nD(t){let e=t[h2]??Object.create(rD);return e.lView=t,e}var rD=se(R({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=dr(t.lView);for(;e&&!Mv(e[de]);)e=dr(e);e&&Yg(e)},consumerOnSignalRead(){this.lView[h2]=this}});function Mv(t){return t.type!==2}var sD=100;function _v(t,e=!0,n=0){let r=t[G2],s=r.rendererFactory,i=!1;i||s.begin?.();try{iD(t,n)}catch(o){throw e&&gv(t,o),o}finally{i||(s.end?.(),r.inlineEffectRunner?.flush())}}function iD(t,e){let n=ny();try{Um(!0),W8(t,e);let r=0;for(;J4(t);){if(r===sD)throw new Q(103,!1);r++,W8(t,1)}}finally{Um(n)}}function oD(t,e,n,r){let s=e[ae];if((s&256)===256)return;let i=!1,o=!1;!i&&e[G2].inlineEffectRunner?.flush(),S5(e);let c=!0,a=null,u=null;i||(Mv(t)?(u=ZA(e),a=kc(u)):Hp()===null?(c=!1,u=nD(e),a=kc(u)):e[h2]&&(Rl(e[h2]),e[h2]=null));try{Qg(e),Hz(t.bindingStartIndex),n!==null&&av(t,e,n,2,r);let d=(s&3)===3;if(!i)if(d){let y=t.preOrderCheckHooks;y!==null&&C4(e,y,null)}else{let y=t.preOrderHooks;y!==null&&M4(e,y,0,null),n8(e,0)}if(o||cD(e),wv(e,0),t.contentQueries!==null&&hv(t,e),!i)if(d){let y=t.contentCheckHooks;y!==null&&C4(e,y)}else{let y=t.contentHooks;y!==null&&M4(e,y,1),n8(e,1)}wA(t,e);let p=t.components;p!==null&&bv(e,p,0);let m=t.viewQuery;if(m!==null&&G8(2,m,r),!i)if(d){let y=t.viewCheckHooks;y!==null&&C4(e,y)}else{let y=t.viewHooks;y!==null&&M4(e,y,2),n8(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[t8]){for(let y of e[t8])y();e[t8]=null}i||(e[ae]&=-73)}catch(d){throw i||e3(e),d}finally{u!==null&&(Tl(u,a),c&&eD(u)),A5()}}function wv(t,e){for(let n=Ey(t);n!==null;n=zy(n))for(let r=St;r<n.length;r++){let s=n[r];Lv(s,e)}}function cD(t){for(let e=Ey(t);e!==null;e=zy(e)){if(!(e[ae]&A4.HasTransplantedViews))continue;let n=e[Ps];for(let r=0;r<n.length;r++){let s=n[r];Yg(s)}}}function aD(t,e,n){let r=x1(e,t);Lv(r,n)}function Lv(t,e){I5(t)&&W8(t,e)}function W8(t,e){let r=t[de],s=t[ae],i=t[h2],o=!!(e===0&&s&16);if(o||=!!(s&64&&e===0),o||=!!(s&1024),o||=!!(i?.dirty&&Nl(i)),o||=!1,i&&(i.dirty=!1),t[ae]&=-9217,o)oD(r,t,r.template,t[zt]);else if(s&8192){wv(t,1);let c=r.components;c!==null&&bv(t,c,1)}}function bv(t,e,n){for(let r=0;r<e.length;r++)aD(t,e[r],n)}function J5(t,e){let n=ny()?64:1088;for(t[G2].changeDetectionScheduler?.notify(e);t;){t[ae]|=n;let r=dr(t);if(M8(t)&&!r)return t;t=r}return null}var gr=class{get rootNodes(){let e=this._lView,n=e[de];return O4(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zt]}set context(e){this._lView[zt]=e}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(Sn(e)){let n=e[S4],r=n?n.indexOf(this):-1;r>-1&&(To(e,r),x4(n,r))}this._attachedToViewContainer=!1}c3(this._lView[de],this._lView)}onDestroy(e){Xg(this._lView,e)}markForCheck(){J5(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){w8(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,_v(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=M8(this._lView),n=this._lView[ur];n!==null&&!e&&H5(n,this._lView),Qy(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=M8(this._lView),r=this._lView[ur];r!==null&&!n&&Yy(r,this._lView),w8(this._lView)}},Os=(()=>{class t{static{this.__NG_ELEMENT_ID__=fD}}return t})(),lD=Os,uD=class extends lD{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let s=Uo(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gr(s)}};function fD(){return eu(Ht(),Le())}function eu(t,e){return t.type&4?new uD(e,t,Gs(t,e)):null}var $Z=new RegExp(`^(\\d+)*(${AS}|${SS})*(.*)`);var dD=()=>null;function Fs(t,e){return dD(t,e)}var Vs=class{},tu=new re("",{providedIn:"root",factory:()=>!1});var Iv=new re(""),xv=new re(""),K8=class{},F4=class{};function hD(t){let e=Error(`No component factory found for ${Bt(t)}.`);return e[pD]=t,e}var pD="ngComponent";var Q8=class{resolveComponentFactory(e){throw hD(e)}},Us=class{static{this.NULL=new Q8}},Bs=class{},g2=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mD()}}return t})();function mD(){let t=Le(),e=Ht(),n=x1(e.index,t);return(C1(n)?n:t)[ot]}var gD=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null})}}return t})();function V4(t,e,n){let r=n?t.styles:null,s=n?t.classes:null,i=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")i=c;else if(i==1)s=zm(s,c);else if(i==2){let a=c,u=e[++o];r=zm(r,a+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=s:t.classesWithoutHost=s}var U4=class extends Us{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=lr(e);return new No(n,this.ngModule)}};function og(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let s=t[r];if(s===void 0)continue;let i=Array.isArray(s),o=i?s[0]:s,c=i?s[1]:M1.None;e?n.push({propName:o,templateName:r,isSignal:(c&M1.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function yD(t){let e=t.toLowerCase();return e==="svg"?Sz:e==="math"?Az:null}var No=class extends F4{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=og(e.inputs,!0);if(n!==null)for(let s of r)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return r}get outputs(){return og(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=az(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,s){let i=Ce(null);try{s=s||this.ngModule;let o=s instanceof p2?s:s?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new b8(e,o):e,a=c.get(Bs,null);if(a===null)throw new Q(407,!1);let u=c.get(gD,null),d=c.get(Vs,null),p={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=r?IA(m,r,this.componentDef.encapsulation,c):Ky(m,y,yD(y)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let z=null;w!==null&&(z=V5(w,c,!0));let P=K5(0,null,null,1,0,null,null,null,null,null,null),O=u3(null,P,null,A,null,null,p,m,c,null,z);S5(O);let U,q,we=null;try{let Z=this.componentDef,L,v=null;Z.findHostDirectiveDefs?(L=[],v=new Map,Z.findHostDirectiveDefs(Z,L,v),L.push(Z)):L=[Z];let _=vD(O,w);we=CD(_,w,Z,L,O,p,m),q=b5(P,jt),w&&wD(m,Z,w,r),n!==void 0&&LD(q,this.ngContentSelectors,n),U=_D(we,Z,L,v,O,[bD]),Z5(P,O,null)}catch(Z){throw we!==null&&R8(we),R8(O),Z}finally{A5()}return new Y8(this.componentType,U,Gs(q,O),O,q)}finally{Ce(i)}}},Y8=class extends K8{constructor(e,n,r,s,i){super(),this.location=r,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gr(s,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,s;if(r!==null&&(s=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;X5(i[de],i,s,e,n),this.previousInputValues.set(e,n);let o=x1(this._tNode.index,i);J5(o,1)}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vD(t,e){let n=t[de],r=jt;return t[r]=e,Ws(n,r,2,"#host",null)}function CD(t,e,n,r,s,i,o){let c=s[de];MD(r,t,e,o);let a=null;e!==null&&(a=V5(e,s[Rs]));let u=i.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let p=u3(s,lv(n),null,d,s[t.index],t,i,u,null,null,a);return c.firstCreatePass&&q8(c,t,r.length-1),f3(s,p),s[t.index]=p}function MD(t,e,n,r){for(let s of t)e.mergedAttrs=So(e.mergedAttrs,s.hostAttrs);e.mergedAttrs!==null&&(V4(e,e.mergedAttrs,!0),n!==null&&sv(r,n,e))}function _D(t,e,n,r,s,i){let o=Ht(),c=s[de],a=m2(o,s);uv(c,s,o,n,null,r);for(let d=0;d<n.length;d++){let p=o.directiveStart+d,m=mr(s,c,p,o);L1(m,s)}fv(c,s,o),a&&L1(a,s);let u=mr(s,c,o.directiveStart+o.componentOffset,o);if(t[zt]=s[zt]=u,i!==null)for(let d of i)d(u,e);return q5(c,o,s),u}function wD(t,e,n,r){if(r)g8(t,n,["ng-version","18.2.12"]);else{let{attrs:s,classes:i}=lz(e.selectors[0]);s&&g8(t,n,s),i&&i.length>0&&rv(t,n,i.join(" "))}}function LD(t,e,n){let r=t.projection=[];for(let s=0;s<e.length;s++){let i=n[s];r.push(i!=null?Array.from(i):null)}}function bD(){let t=Ht();s3(Le()[de],t)}var Mr=(()=>{class t{static{this.__NG_ELEMENT_ID__=ID}}return t})();function ID(){let t=Ht();return zv(t,Le())}var xD=Mr,Ev=class extends xD{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=D5(this._hostTNode,this._hostLView);if(dy(e)){let n=T4(e,this._hostLView),r=D4(e),s=n[de].data[r+8];return new ar(s,n)}else return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=cg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-St}createEmbeddedView(e,n,r){let s,i;typeof r=="number"?s=r:r!=null&&(s=r.index,i=r.injector);let o=Fs(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},i,o);return this.insertImpl(c,s,ks(this._hostTNode,o)),c}createComponent(e,n,r,s,i){let o=e&&!Iz(e),c;if(o)c=n;else{let w=n||{};c=w.index,r=w.injector,s=w.projectableNodes,i=w.environmentInjector||w.ngModuleRef}let a=o?e:new No(lr(e)),u=r||this.parentInjector;if(!i&&a.ngModule==null){let A=(o?u:this.parentInjector).get(p2,null);A&&(i=A)}let d=lr(a.componentType??{}),p=Fs(this._lContainer,d?.id??null),m=p?.firstChild??null,y=a.create(u,s,m,i);return this.insertImpl(y.hostView,c,ks(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let s=e._lView;if(Nz(s)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=s[At],u=new Ev(a,a[Xt],a[At]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),o=this._lContainer;return Bo(o,s,i,r),e.attachToViewContainerRef(),Ig(c8(o),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=cg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=To(this._lContainer,n);r&&(x4(c8(this._lContainer),n),c3(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=To(this._lContainer,n);return r&&x4(c8(this._lContainer),n)!=null?new gr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function cg(t){return t[S4]}function c8(t){return t[S4]||(t[S4]=[])}function zv(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=dv(r,e,null,t),e[t.index]=n,f3(e,n)),zD(n,e,t,r),new Ev(n,t,e)}function ED(t,e){let n=t[ot],r=n.createComment(""),s=m2(e,t),i=Jy(n,s);return k4(n,i,r,pA(n,s),!1),r}var zD=DD,SD=()=>!1;function AD(t,e,n){return SD(t,e,n)}function DD(t,e,n,r){if(t[fr])return;let s;n.type&8?s=W2(r):s=ED(e,n),t[fr]=s}var X8=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Z8=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,s=[];for(let i=0;i<r;i++){let o=n.getByIndex(i),c=this.queries[o.indexInDeclarationView];s.push(c.clone())}return new t(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)nu(e,n).matches!==null&&this.queries[n].setDirty()}},J8=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=VD(e):this.predicate=e}},e5=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let s=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,s);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},t5=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){let i=r[s];this.matchTNodeWithReadOption(e,n,TD(n,i)),this.matchTNodeWithReadOption(e,n,_4(n,e,i,!1,!1))}else r===Os?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,_4(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let s=this.metadata.read;if(s!==null)if(s===Tt||s===Mr||s===Os&&n.type&4)this.addMatch(n.index,-2);else{let i=_4(n,e,s,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function TD(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ND(t,e){return t.type&11?Gs(t,e):t.type&4?eu(t,e):null}function RD(t,e,n,r){return n===-1?ND(e,t):n===-2?PD(t,e,r):mr(t,t[de],n,e)}function PD(t,e,n){if(n===Tt)return Gs(e,t);if(n===Os)return eu(e,t);if(n===Mr)return zv(e,t)}function Sv(t,e,n,r){let s=e[Mn].queries[r];if(s.matches===null){let i=t.data,o=n.matches,c=[];for(let a=0;o!==null&&a<o.length;a+=2){let u=o[a];if(u<0)c.push(null);else{let d=i[u];c.push(RD(e,d,o[a+1],n.metadata.read))}}s.matches=c}return s.matches}function n5(t,e,n,r){let s=t.queries.getByIndex(n),i=s.matches;if(i!==null){let o=Sv(t,e,s,n);for(let c=0;c<i.length;c+=2){let a=i[c];if(a>0)r.push(o[c/2]);else{let u=i[c+1],d=e[-a];for(let p=St;p<d.length;p++){let m=d[p];m[ur]===m[At]&&n5(m[de],m,u,r)}if(d[Ps]!==null){let p=d[Ps];for(let m=0;m<p.length;m++){let y=p[m];n5(y[de],y,u,r)}}}}}return r}function kD(t,e){return t[Mn].queries[e].queryList}function OD(t,e,n){let r=new N8((n&4)===4);return zA(t,e,r,r.destroy),(e[Mn]??=new Z8).queries.push(new X8(r))-1}function FD(t,e,n){let r=mt();return r.firstCreatePass&&(UD(r,new J8(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),OD(r,Le(),e)}function VD(t){return t.split(",").map(e=>e.trim())}function UD(t,e,n){t.queries===null&&(t.queries=new e5),t.queries.track(new t5(e,n))}function nu(t,e){return t.queries.getByIndex(e)}function BD(t,e){let n=t[de],r=nu(n,e);return r.crossesNgTemplate?n5(n,t,e,[]):Sv(n,t,r,e)}var ag=new Set;function Ks(t){ag.has(t)||(ag.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Nn(t,e){Ks("NgSignals");let n=em(t),r=n[h1];return e?.equal&&(r.equal=e.equal),n.set=s=>Pl(r,s),n.update=s=>tm(r,s),n.asReadonly=jD.bind(n),n}function jD(){let t=this[h1];if(t.readonlyFn===void 0){let e=()=>this();e[h1]=t,t.readonlyFn=e}return t.readonlyFn}function HD(t){return Object.getPrototypeOf(t.prototype).constructor}function z2(t){let e=HD(t.type),n=!0,r=[t];for(;e;){let s;if(_1(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);s=e.\u0275dir}if(s){if(n){r.push(s);let o=t;o.inputs=m4(t.inputs),o.inputTransforms=m4(t.inputTransforms),o.declaredInputs=m4(t.declaredInputs),o.outputs=m4(t.outputs);let c=s.hostBindings;c&&KD(t,c);let a=s.viewQuery,u=s.contentQueries;if(a&&GD(t,a),u&&WD(t,u),$D(t,s),IE(t.outputs,s.outputs),_1(s)&&s.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(s.data.animation)}}let i=s.features;if(i)for(let o=0;o<i.length;o++){let c=i[o];c&&c.ngInherit&&c(t),c===z2&&(n=!1)}}e=Object.getPrototypeOf(e)}qD(r)}function $D(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let s=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(s))continue;t.inputTransforms??={},t.inputTransforms[s]=e.inputTransforms[s]}}}function qD(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let s=t[r];s.hostVars=e+=s.hostVars,s.hostAttrs=So(s.hostAttrs,n=So(n,s.hostAttrs))}}function m4(t){return t===As?{}:t===d2?[]:t}function GD(t,e){let n=t.viewQuery;n?t.viewQuery=(r,s)=>{e(r,s),n(r,s)}:t.viewQuery=e}function WD(t,e){let n=t.contentQueries;n?t.contentQueries=(r,s,i)=>{e(r,s,i),n(r,s,i)}:t.contentQueries=e}function KD(t,e){let n=t.hostBindings;n?t.hostBindings=(r,s)=>{e(r,s),n(r,s)}:t.hostBindings=e}function ru(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)&&s[3]&&(n[r]=s[3])}t.inputTransforms=n}var b1=class{},Ro=class{};var r5=class extends b1{constructor(e,n,r,s=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new U4(this);let i=Pg(e);this._bootstrapComponents=Wy(i.bootstrap),this._r3Injector=_y(e,n,[{provide:b1,useValue:this},{provide:Us,useValue:this.componentFactoryResolver},...r],Bt(e),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},s5=class extends Ro{constructor(e){super(),this.moduleType=e}create(e){return new r5(this.moduleType,e,[])}};var B4=class extends b1{constructor(e){super(),this.componentFactoryResolver=new U4(this),this.instance=null;let n=new Ao([...e.providers,{provide:b1,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],e.parent||w5(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function su(t,e,n=null){return new B4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Av(t,e,n){return t[e]=n}function Q2(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QD(t,e,n,r){let s=Q2(t,e,n);return Q2(t,e+1,r)||s}function YD(t){return(t.flags&32)===32}function XD(t,e,n,r,s,i,o,c,a){let u=e.consts,d=Ws(e,t,4,o||null,c||null);Y5(e,n,d,w1(u,a)),s3(e,d);let p=d.tView=K5(2,d,r,s,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function j4(t,e,n,r,s,i,o,c,a,u){let d=n+jt,p=e.firstCreatePass?XD(d,e,t,r,s,i,o,c,a):e.data[d];vr(p,!1);let m=ZD(e,t,p,n);n3()&&a3(e,t,m,p),L1(m,t);let y=dv(m,t,m,p);return t[d]=y,f3(t,y),AD(y,p,t),Z4(p)&&G5(e,t,p),a!=null&&W5(t,p,u),p}function Re(t,e,n,r,s,i,o,c){let a=Le(),u=mt(),d=w1(u.consts,i);return j4(a,u,t,e,n,r,s,d,o,c),Re}var ZD=JD;function JD(t,e,n,r){return r3(!0),e[ot].createComment("")}var Io=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Io||{}),eT=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}}return t})(),lg=class t{constructor(){this.ngZone=B(Fe),this.scheduler=B(Vs),this.errorHandler=B(K2,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Io.EarlyRead,Io.Write,Io.MixedReadWrite,Io.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}};function Y2(t,e,n,r){let s=Le(),i=$s();if(Q2(s,i,e)){let o=mt(),c=t3();HA(c,s,t,e,n,r)}return Y2}function Dv(t,e,n,r){return Q2(t,$s(),n)?e+Oo(n)+r:Tn}function g4(t,e){return t<<17|e<<2}function yr(t){return t>>17&32767}function tT(t){return(t&2)==2}function nT(t,e){return t&131071|e<<17}function i5(t){return t|2}function js(t){return(t&131068)>>2}function a8(t,e){return t&-131069|e<<2}function rT(t){return(t&1)===1}function o5(t){return t|1}function sT(t,e,n,r,s,i){let o=i?e.classBindings:e.styleBindings,c=yr(o),a=js(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||Fo(p,d)>0)&&(u=!0)}else d=n;if(s)if(a!==0){let m=yr(t[c+1]);t[r+1]=g4(m,c),m!==0&&(t[m+1]=a8(t[m+1],r)),t[c+1]=nT(t[c+1],r)}else t[r+1]=g4(c,0),c!==0&&(t[c+1]=a8(t[c+1],r)),c=r;else t[r+1]=g4(a,0),c===0?c=r:t[a+1]=a8(t[a+1],r),a=r;u&&(t[r+1]=i5(t[r+1])),ug(t,d,r,!0),ug(t,d,r,!1),iT(e,d,t,r,i),o=g4(c,a),i?e.classBindings=o:e.styleBindings=o}function iT(t,e,n,r,s){let i=s?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Fo(i,e)>=0&&(n[r+1]=o5(n[r+1]))}function ug(t,e,n,r){let s=t[n+1],i=e===null,o=r?yr(s):js(s),c=!1;for(;o!==0&&(c===!1||i);){let a=t[o],u=t[o+1];oT(a,e)&&(c=!0,t[o+1]=r?o5(u):i5(u)),o=r?yr(u):js(u)}c&&(t[n+1]=r?i5(s):o5(s))}function oT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fo(t,e)>=0:!1}function ye(t,e,n){let r=Le(),s=$s();if(Q2(r,s,e)){let i=mt(),o=t3();Q5(i,o,r,t,e,r[ot],n,!1)}return ye}function fg(t,e,n,r,s){let i=e.inputs,o=s?"class":"style";X5(t,n,i[o],o,r)}function A1(t,e,n){return Tv(t,e,n,!1),A1}function Rn(t,e){return Tv(t,e,null,!0),Rn}function Tv(t,e,n,r){let s=Le(),i=mt(),o=$z(2);if(i.firstUpdatePass&&aT(i,t,o,r),e!==Tn&&Q2(s,o,e)){let c=i.data[Cr()];hT(i,c,s,s[ot],t,s[o+1]=pT(e,n),r,o)}}function cT(t,e){return e>=t.expandoStartIndex}function aT(t,e,n,r){let s=t.data;if(s[n+1]===null){let i=s[Cr()],o=cT(t,n);mT(i,r)&&e===null&&!o&&(e=!1),e=lT(s,i,e,r),sT(s,i,e,n,o,r)}}function lT(t,e,n,r){let s=Kz(t),i=r?e.residualClasses:e.residualStyles;if(s===null)(r?e.classBindings:e.styleBindings)===0&&(n=l8(null,t,e,n,r),n=Po(n,e.attrs,r),i=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==s)if(n=l8(s,t,e,n,r),i===null){let a=uT(t,e,r);a!==void 0&&Array.isArray(a)&&(a=l8(null,t,e,a[1],r),a=Po(a,e.attrs,r),fT(t,e,r,a))}else i=dT(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function uT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(js(r)!==0)return t[yr(r)]}function fT(t,e,n,r){let s=n?e.classBindings:e.styleBindings;t[yr(s)]=r}function dT(t,e,n){let r,s=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<s;i++){let o=t[i].hostAttrs;r=Po(r,o,n)}return Po(r,e.attrs,n)}function l8(t,e,n,r,s){let i=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(i=e[c],r=Po(r,i.hostAttrs,s),i!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Po(t,e,n){let r=n?1:2,s=-1;if(e!==null)for(let i=0;i<e.length;i++){let o=e[i];typeof o=="number"?s=o:s===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),QE(t,o,n?!0:e[++i]))}return t===void 0?null:t}function hT(t,e,n,r,s,i,o,c){if(!(e.type&3))return;let a=t.data,u=a[c+1],d=rT(u)?dg(a,e,n,s,js(u),o):void 0;if(!H4(d)){H4(i)||tT(u)&&(i=dg(a,null,n,s,c,o));let p=Kg(Cr(),n);MA(r,o,p,s,i)}}function dg(t,e,n,r,s,i){let o=e===null,c;for(;s>0;){let a=t[s],u=Array.isArray(a),d=u?a[1]:a,p=d===null,m=n[s+1];m===Tn&&(m=p?d2:void 0);let y=p?Jl(m,r):d===r?m:void 0;if(u&&!H4(y)&&(y=Jl(a,r)),H4(y)&&(c=y,o))return c;let w=t[s+1];s=o?yr(w):js(w)}if(e!==null){let a=i?e.residualClasses:e.residualStyles;a!=null&&(c=Jl(a,r))}return c}function H4(t){return t!==void 0}function pT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Bt(I2(t)))),t}function mT(t,e){return(t.flags&(e?8:16))!==0}var c5=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),s=Math.max(e,n),i=this.detach(s);if(s-r>1){let o=this.detach(r);this.attach(r,i),this.attach(s,o)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}};function u8(t,e,n,r,s){return t===n&&Object.is(e,r)?1:Object.is(s(t,e),s(n,r))?-1:0}function gT(t,e,n){let r,s,i=0,o=t.length-1,c=void 0;if(Array.isArray(e)){let a=e.length-1;for(;i<=o&&i<=a;){let u=t.at(i),d=e[i],p=u8(i,u,i,d,n);if(p!==0){p<0&&t.updateValue(i,d),i++;continue}let m=t.at(o),y=e[a],w=u8(o,m,a,y,n);if(w!==0){w<0&&t.updateValue(o,y),o--,a--;continue}let A=n(i,u),z=n(o,m),P=n(i,d);if(Object.is(P,z)){let O=n(a,y);Object.is(O,A)?(t.swap(i,o),t.updateValue(o,y),a--,o--):t.move(o,i),t.updateValue(i,d),i++;continue}if(r??=new $4,s??=pg(t,i,o,n),a5(t,r,i,P))t.updateValue(i,d),i++,o++;else if(s.has(P))r.set(A,t.detach(i)),o--;else{let O=t.create(i,e[i]);t.attach(i,O),i++,o++}}for(;i<=a;)hg(t,r,n,i,e[i]),i++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&i<=o;){let d=t.at(i),p=u.value,m=u8(i,d,i,p,n);if(m!==0)m<0&&t.updateValue(i,p),i++,u=a.next();else{r??=new $4,s??=pg(t,i,o,n);let y=n(i,p);if(a5(t,r,i,y))t.updateValue(i,p),i++,o++,u=a.next();else if(!s.has(y))t.attach(i,t.create(i,p)),i++,o++,u=a.next();else{let w=n(i,d);r.set(w,t.detach(i)),o--}}}for(;!u.done;)hg(t,r,n,t.length,u.value),u=a.next()}for(;i<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function a5(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function hg(t,e,n,r,s){if(a5(t,e,r,n(r,s)))t.updateValue(r,s);else{let i=t.create(r,s);t.attach(r,i)}}function pg(t,e,n,r){let s=new Set;for(let i=e;i<=n;i++)s.add(r(i,t.at(i)));return s}var $4=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let s=this._vMap;for(;s.has(r);)r=s.get(r);s.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let s=this._vMap;for(;s.has(r);)r=s.get(r),e(r,n)}}};function qe(t,e){Ks("NgControlFlow");let n=Le(),r=$s(),s=n[r]!==Tn?n[r]:-1,i=s!==-1?q4(n,jt+s):void 0,o=0;if(Q2(n,r,t)){let c=Ce(null);try{if(i!==void 0&&vv(i,o),t!==-1){let a=jt+t,u=q4(n,a),d=d5(n[de],a),p=Fs(u,d.tView.ssrId),m=Uo(n,d,e,{dehydratedView:p});Bo(u,m,o,ks(d,p))}}finally{Ce(c)}}else if(i!==void 0){let c=yv(i,o);c!==void 0&&(c[zt]=e)}}var l5=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-St}};function d3(t){return t}var u5=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Qs(t,e,n,r,s,i,o,c,a,u,d,p,m){Ks("NgControlFlow");let y=Le(),w=mt(),A=a!==void 0,z=Le(),P=c?o.bind(z[n2][zt]):o,O=new u5(A,P);z[jt+t]=O,j4(y,w,t+1,e,n,r,s,w1(w.consts,i)),A&&j4(y,w,t+2,a,u,d,p,w1(w.consts,m))}var f5=class extends c5{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-St}at(e){return this.getLView(e)[zt].$implicit}attach(e,n){let r=n[Ns];this.needsIndexUpdate||=e!==this.length,Bo(this.lContainer,n,e,ks(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,yT(this.lContainer,e)}create(e,n){let r=Fs(this.lContainer,this.templateTNode.tView.ssrId),s=Uo(this.hostLView,this.templateTNode,new l5(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),s}destroy(e){c3(e[de],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[zt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[zt].$index=e}getLView(e){return vT(this.lContainer,e)}};function Ys(t){let e=Ce(null),n=Cr();try{let r=Le(),s=r[de],i=r[n],o=n+1,c=q4(r,o);if(i.liveCollection===void 0){let u=d5(s,o);i.liveCollection=new f5(c,r,u)}else i.liveCollection.reset();let a=i.liveCollection;if(gT(a,t,i.trackByFn),a.updateIndexes(),i.hasEmptyBlock){let u=$s(),d=a.length===0;if(Q2(r,u,d)){let p=n+2,m=q4(r,p);if(d){let y=d5(s,p),w=Fs(m,y.tView.ssrId),A=Uo(r,y,void 0,{dehydratedView:w});Bo(m,A,0,ks(y,w))}else vv(m,0)}}}finally{Ce(e)}}function q4(t,e){return t[e]}function yT(t,e){return To(t,e)}function vT(t,e){return yv(t,e)}function d5(t,e){return b5(t,e)}function CT(t,e,n,r,s,i){let o=e.consts,c=w1(o,s),a=Ws(e,t,2,r,c);return Y5(e,n,a,w1(o,i)),a.attrs!==null&&V4(a,a.attrs,!1),a.mergedAttrs!==null&&V4(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function T(t,e,n,r){let s=Le(),i=mt(),o=jt+t,c=s[ot],a=i.firstCreatePass?CT(o,i,s,e,n,r):i.data[o],u=MT(i,s,a,c,e,t);s[o]=u;let d=Z4(a);return vr(a,!0),sv(c,u,a),!YD(a)&&n3()&&a3(i,s,u,a),kz()===0&&L1(u,s),Oz(),d&&(G5(i,s,a),q5(i,a,s)),r!==null&&W5(s,a),T}function N(){let t=Ht();x5()?E5():(t=t.parent,vr(t,!1));let e=t;Vz(e)&&Uz(),Fz();let n=mt();return n.firstCreatePass&&(s3(n,t),L5(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tS(e)&&fg(n,e,Le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nS(e)&&fg(n,e,Le(),e.stylesWithoutHost,!1),N}function ee(t,e,n,r){return T(t,e,n,r),N(),ee}var MT=(t,e,n,r,s,i)=>(r3(!0),Ky(r,s,Xz()));function _T(t,e,n,r,s){let i=e.consts,o=w1(i,r),c=Ws(e,t,8,"ng-container",o);o!==null&&V4(c,o,!0);let a=w1(i,s);return Y5(e,n,c,a),e.queries!==null&&e.queries.elementStart(e,c),c}function iu(t,e,n){let r=Le(),s=mt(),i=t+jt,o=s.firstCreatePass?_T(i,s,r,e,n):s.data[i];vr(o,!0);let c=wT(s,r,o,t);return r[i]=c,n3()&&a3(s,r,c,o),L1(c,r),Z4(o)&&(G5(s,r,o),q5(s,o,r)),n!=null&&W5(r,o),iu}function ou(){let t=Ht(),e=mt();return x5()?E5():(t=t.parent,vr(t,!1)),e.firstCreatePass&&(s3(e,t),L5(t)&&e.queries.elementEnd(t)),ou}var wT=(t,e,n,r)=>(r3(!0),oA(e[ot],""));function gt(){return Le()}function cu(t,e,n){let r=Le(),s=$s();if(Q2(r,s,e)){let i=mt(),o=t3();Q5(i,o,r,t,e,r[ot],n,!0)}return cu}var G4="en-US";var LT=G4;function bT(t){typeof t=="string"&&(LT=t.toLowerCase().replace(/_/g,"-"))}var IT=(t,e,n)=>{};function pe(t,e,n,r){let s=Le(),i=mt(),o=Ht();return ET(i,s,s[ot],o,t,e,r),pe}function xT(t,e,n,r){let s=t.cleanup;if(s!=null)for(let i=0;i<s.length-1;i+=2){let o=s[i];if(o===n&&s[i+1]===r){let c=e[z4],a=s[i+2];return c.length>a?c[a]:null}typeof o=="string"&&(i+=2)}return null}function ET(t,e,n,r,s,i,o){let c=Z4(r),u=t.firstCreatePass&&mv(t),d=e[zt],p=pv(e),m=!0;if(r.type&3||o){let A=m2(r,e),z=o?o(A):A,P=p.length,O=o?q=>o(W2(q[r.index])):r.index,U=null;if(!o&&c&&(U=xT(t,e,s,r.index)),U!==null){let q=U.__ngLastListenerFn__||U;q.__ngNextListenerFn__=i,U.__ngLastListenerFn__=i,m=!1}else{i=gg(r,e,d,i),IT(A,s,i);let q=n.listen(z,s,i);p.push(i,q),u&&u.push(s,O,P,P+1)}}else i=gg(r,e,d,i);let y=r.outputs,w;if(m&&y!==null&&(w=y[s])){let A=w.length;if(A)for(let z=0;z<A;z+=2){let P=w[z],O=w[z+1],we=e[P][O].subscribe(i),Z=p.length;p.push(i,we),u&&u.push(s,r.index,Z,-(Z+1))}}}function mg(t,e,n,r){let s=Ce(null);try{return H2(6,e,n),n(r)!==!1}catch(i){return gv(t,i),!1}finally{H2(7,e,n),Ce(s)}}function gg(t,e,n,r){return function s(i){if(i===Function)return r;let o=t.componentOffset>-1?x1(t.index,e):e;J5(o,5);let c=mg(e,n,r,i),a=s.__ngNextListenerFn__;for(;a;)c=mg(e,n,a,i)&&c,a=a.__ngNextListenerFn__;return c}}function G(t=1){return Yz(t)}function zT(t,e){let n=null,r=rz(t);for(let s=0;s<e.length;s++){let i=e[s];if(i==="*"){n=s;continue}if(r===null?Dg(t,i,!0):oz(r,i))return s}return n}function Nv(t){let e=Le()[n2][Xt];if(!e.projection){let n=t?t.length:1,r=e.projection=WE(n,null),s=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let o=t?zT(i,t):0;o!==null&&(s[o]?s[o].projectionNext=i:r[o]=i,s[o]=i)}i=i.next}}}function Rv(t,e=0,n,r,s,i){let o=Le(),c=mt(),a=r?t+1:null;a!==null&&j4(o,c,a,r,s,i,null,n);let u=Ws(c,jt+t,16,null,n||null);u.projection===null&&(u.projection=e),E5();let p=!o[Ns]||ey();o[n2][Xt].projection[u.projection]===null&&a!==null?ST(o,c,a):p&&(u.flags&32)!==32&&vA(c,o,u)}function ST(t,e,n){let r=jt+n,s=e.data[r],i=t[r],o=Fs(i,s.tView.ssrId),c=Uo(t,s,void 0,{dehydratedView:o});Bo(i,c,0,ks(s,o))}function jo(t,e,n){return Pv(t,"",e,"",n),jo}function Pv(t,e,n,r,s){let i=Le(),o=Dv(i,e,n,r);if(o!==Tn){let c=mt(),a=t3();Q5(c,a,i,t,o,i[ot],s,!1)}return Pv}function au(t,e,n){FD(t,e,n)}function h3(t){let e=Le(),n=mt(),r=sy();z5(r+1);let s=nu(n,r);if(t.dirty&&Tz(e)===((s.metadata.flags&2)===2)){if(s.matches===null)t.reset([]);else{let i=BD(e,r);t.reset(i,LS),t.notifyOnChanges()}return!0}return!1}function p3(){return kD(Le(),sy())}function D1(t){let e=jz();return Dz(e,jt+t)}function X(t,e=""){let n=Le(),r=mt(),s=t+jt,i=r.firstCreatePass?Ws(r,s,1,e,null):r.data[s],o=AT(r,n,i,e,t);n[s]=o,n3()&&a3(r,n,o,i),vr(i,!1)}var AT=(t,e,n,r,s)=>(r3(!0),sA(e[ot],r));function Mt(t){return m3("",t,""),Mt}function m3(t,e,n){let r=Le(),s=Dv(r,t,e,n);return s!==Tn&&WA(r,Cr(),s),m3}function DT(t,e,n){let r=mt();if(r.firstCreatePass){let s=_1(t);h5(n,r.data,r.blueprint,s,!0),h5(e,r.data,r.blueprint,s,!1)}}function h5(t,e,n,r,s){if(t=Ut(t),Array.isArray(t))for(let i=0;i<t.length;i++)h5(t[i],e,n,r,s);else{let i=mt(),o=Le(),c=Ht(),a=Ts(t)?t:Ut(t.provide),u=Bg(t),d=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Ts(t)||!t.multi){let y=new pr(u,s,$),w=d8(a,e,s?d:d+m,p);w===-1?(x8(N4(c,o),i,a),f8(i,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),n.push(y),o.push(y)):(n[w]=y,o[w]=y)}else{let y=d8(a,e,d+m,p),w=d8(a,e,d,d+m),A=y>=0&&n[y],z=w>=0&&n[w];if(s&&!z||!s&&!A){x8(N4(c,o),i,a);let P=RT(s?NT:TT,n.length,s,r,u);!s&&z&&(n[w].providerFactory=P),f8(i,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=kv(n[s?w:y],u,!s&&r);f8(i,t,y>-1?y:w,P)}!s&&r&&z&&n[w].componentProviders++}}}function f8(t,e,n,r){let s=Ts(e),i=yz(e);if(s||i){let a=(i?Ut(e.useClass):e).prototype.ngOnDestroy;if(a){let u=t.destroyHooks||(t.destroyHooks=[]);if(!s&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,a]):u[d+1].push(r,a)}else u.push(n,a)}}}function kv(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function d8(t,e,n,r){for(let s=n;s<r;s++)if(e[s]===t)return s;return-1}function TT(t,e,n,r){return p5(this.multi,[])}function NT(t,e,n,r){let s=this.multi,i;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=mr(n,n[de],this.providerFactory.index,r);i=c.slice(0,o),p5(s,i);for(let a=o;a<c.length;a++)i.push(c[a])}else i=[],p5(s,i);return i}function p5(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function RT(t,e,n,r,s){let i=new pr(t,n,$);return i.multi=[],i.index=e,i.componentProviders=0,kv(i,s,r&&!n),i}function Xs(t,e=[]){return n=>{n.providersResolver=(r,s)=>DT(r,s?s(t):t,e)}}var PT=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fg(!1,n.type),s=r.length>0?su([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(fe(p2))})}}return t})();function Ne(t){Ks("NgStandalone"),t.getStandaloneInjector=e=>e.get(PT).getOrCreateStandaloneInjector(t)}function Ov(t,e,n,r){return kT(Le(),ry(),t,e,n,r)}function Fv(t,e,n,r,s){return OT(Le(),ry(),t,e,n,r,s)}function Vv(t,e){let n=t[e];return n===Tn?void 0:n}function kT(t,e,n,r,s,i){let o=e+n;return Q2(t,o,s)?Av(t,o+1,i?r.call(i,s):r(s)):Vv(t,o+1)}function OT(t,e,n,r,s,i,o){let c=e+n;return QD(t,c,s,i)?Av(t,c+2,o?r.call(o,s,i):r(s,i)):Vv(t,c+2)}var Ln=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Uv=new Ln("18.2.12");var g3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Bv=new re("");function _r(t){return!!t&&typeof t.then=="function"}function jv(t){return!!t&&typeof t.subscribe=="function"}var Hv=new re(""),$v=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(Hv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let i=s();if(_r(i))n.push(i);else if(jv(i)){let o=new Promise((c,a)=>{i.subscribe({complete:c,error:a})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lu=new re("");function FT(){Jp(()=>{throw new Q(600,!1)})}function VT(t){return t.isBoundToModule}var UT=10;function BT(t,e,n){try{let r=n();return _r(r)?r.catch(s=>{throw e.runOutsideAngular(()=>t.handleError(s)),s}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var wr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(_S),this.afterRenderManager=B(eT),this.zonelessEnabled=B(tu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new at,this.afterTick=new at,this.componentTypes=[],this.components=[],this.isStable=B(qs).hasPendingTasks.pipe(ie(n=>!n)),this._injector=B(p2)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof F4;if(!this._injector.get($v).done){let m=!s&&Rg(n),y=!1;throw new Q(405,y)}let o;s?o=n:o=this._injector.get(Us).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=VT(o)?void 0:this._injector.get(b1),a=r||o.selector,u=o.create(Qt.NULL,[],a,c),d=u.location.nativeElement,p=u.injector.get(Bv,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),w4(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let n=Ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ce(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Bs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<UT;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:i}of this._views)jT(s,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>J4(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;w4(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(lu,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>w4(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function w4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jT(t,e,n,r){if(!n&&!J4(t))return;_v(t,e,n&&!r?0:1)}var m5=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},uu=(()=>{class t{compileModuleSync(n){return new s5(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Pg(n),i=Wy(s.declarations).reduce((o,c)=>{let a=lr(c);return a&&o.push(new No(a)),o},[]);return new m5(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var HT=(()=>{class t{constructor(){this.zone=B(Fe),this.changeDetectionScheduler=B(Vs),this.applicationRef=B(wr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $T({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Fe(se(R({},qT()),{scheduleInRootZone:n})),[{provide:Fe,useFactory:t},{provide:Ds,multi:!0,useFactory:()=>{let r=B(HT,{optional:!0});return()=>r.initialize()}},{provide:Ds,multi:!0,useFactory:()=>{let r=B(GT);return()=>{r.initialize()}}},e===!0?{provide:Iv,useValue:!0}:[],{provide:xv,useValue:n??wy}]}function qT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var GT=(()=>{class t{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=B(Fe),this.pendingTasks=B(qs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var WT=(()=>{class t{constructor(){this.appRef=B(wr),this.taskService=B(qs),this.ngZone=B(Fe),this.zonelessEnabled=B(tu),this.disableScheduling=B(Iv,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Be,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(P4):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(xv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof D8||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Gm:Ly;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(P4+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KT(){return typeof $localize<"u"&&$localize.locale||G4}var fu=new re("",{providedIn:"root",factory:()=>B(fu,Me.Optional|Me.SkipSelf)||KT()});var g5=new re("");function y4(t){return!t.moduleRef}function QT(t){let e=y4(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Fe);return n.run(()=>{y4(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(K2,null),s;if(n.runOutsideAngular(()=>{s=n.onError.subscribe({next:i=>{r.handleError(i)}})}),y4(t)){let i=()=>e.destroy(),o=t.platformInjector.get(g5);o.add(i),e.onDestroy(()=>{s.unsubscribe(),o.delete(i)})}else{let i=()=>t.moduleRef.destroy(),o=t.platformInjector.get(g5);o.add(i),t.moduleRef.onDestroy(()=>{w4(t.allPlatformModules,t.moduleRef),s.unsubscribe(),o.delete(i)})}return BT(r,n,()=>{let i=e.get($v);return i.runInitializers(),i.donePromise.then(()=>{let o=e.get(fu,G4);if(bT(o||G4),y4(t)){let c=e.get(wr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return YT(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function YT(t,e){let n=t.injector.get(wr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}var L4=null;function XT(t=[],e){return Qt.create({name:e,providers:[{provide:Q4,useValue:"platform"},{provide:g5,useValue:new Set([()=>L4=null])},...t]})}function ZT(t=[]){if(L4)return L4;let e=XT(t);return L4=e,FT(),JT(e),e}function JT(t){t.get(O5,null)?.forEach(n=>n())}var Lr=(()=>{class t{static{this.__NG_ELEMENT_ID__=eN}}return t})();function eN(t){return tN(Ht(),Le(),(t&16)===16)}function tN(t,e,n){if(X4(t)&&!n){let r=x1(t.index,e);return new gr(r,r)}else if(t.type&175){let r=e[n2];return new gr(r,e)}return null}function qv(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,s=ZT(r),i=[$T({}),{provide:Vs,useExisting:WT},...n||[]],o=new B4({providers:i,parent:s,debugName:"",runEnvironmentInitializers:!1});return QT({r3Injector:o.injector,platformInjector:s,rootComponent:e})}catch(e){return Promise.reject(e)}}function Pn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ho(t,e){Ks("NgSignals");let n=Yp(t);return e?.equal&&(n[h1].equal=e.equal),n}function kn(t){let e=Ce(null);try{return t()}finally{Ce(e)}}var Yv=null;function On(){return Yv}function Xv(t){Yv??=t}var y3=class{};var $t=new re(""),Zv=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>B(nN),providedIn:"platform"})}}return t})();var nN=(()=>{class t extends Zv{constructor(){super(),this._doc=B($t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(n){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Jv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Gv(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function br(t){return t&&t[0]!=="?"?"?"+t:t}var Zs=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>B(eC),providedIn:"root"})}}return t})(),rN=new re(""),eC=(()=>{class t extends Zs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B($t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Jv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+br(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,i){let o=this.prepareExternalUrl(s+br(i));this._platformLocation.pushState(n,r,o)}replaceState(n,r,s,i){let o=this.prepareExternalUrl(s+br(i));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(fe(Zv),fe(rN,8))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $o=(()=>{class t{constructor(n){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=oN(Gv(Wv(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+br(r))}normalize(n){return t.stripTrailingSlash(iN(this._basePath,Wv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+br(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+br(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}static{this.normalizeQueryParams=br}static{this.joinWithSlash=Jv}static{this.stripTrailingSlash=Gv}static{this.\u0275fac=function(r){return new(r||t)(fe(Zs))}}static{this.\u0275prov=Y({token:t,factory:()=>sN(),providedIn:"root"})}}return t})();function sN(){return new $o(fe(Zs))}function iN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Wv(t){return t.replace(/\/index.html$/,"")}function oN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function tC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[s,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(i)}return null}var du=/\s+/,Kv=[],nC=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Kv,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(du):Kv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(du):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(du).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static{this.\u0275fac=function(r){return new(r||t)($(Tt),$(g2))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var rC=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new hu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Qv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Qv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)($(Mr),$(Os))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),hu=class{constructor(){this.$implicit=null,this.ngIf=null}};function Qv(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Bt(e)}'.`)}var qo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=In({type:t})}static{this.\u0275inj=bn({})}}return t})(),sC="browser",cN="server";function pu(t){return t===cN}var v3=class{};var yu=class extends y3{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vu=class t extends yu{static makeCurrent(){Xv(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lN();return n==null?null:uN(n)}resetBaseElement(){Go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tC(document.cookie,e)}},Go=null;function lN(){return Go=Go||document.querySelector("base"),Go?Go.getAttribute("href"):null}function uN(t){return new URL(t,document.baseURI).pathname}var fN=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Cu=new re(""),aC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(fe(Cu),fe(Fe))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),C3=class{constructor(e){this._doc=e}},mu="ng-app-id",lC=(()=>{class t{constructor(n,r,s,i={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pu(i),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${mu}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let i=s.get(n);return i.usage+=r,i.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,i=s?.get(r);if(i?.parentNode===n)return s.delete(r),i.removeAttribute(mu),i;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(mu,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),i=this.styleRef,o=i.get(r)?.elements;o?o.push(s):i.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(fe($t),fe(k5),fe(F5,8),fe(S1))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),gu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_u=/%COMP%/g,uC="%COMP%",dN=`_nghost-${uC}`,hN=`_ngcontent-${uC}`,pN=!0,mN=new re("",{providedIn:"root",factory:()=>pN});function gN(t){return hN.replace(_u,t)}function yN(t){return dN.replace(_u,t)}function fC(t,e){return e.map(n=>n.replace(_u,t))}var iC=(()=>{class t{constructor(n,r,s,i,o,c,a,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=pu(c),this.defaultRenderer=new Wo(n,o,a,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===q2.ShadowDom&&(r=se(R({},r),{encapsulation:q2.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof M3?s.applyToHost(n):s instanceof Ko&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,i=s.get(r.id);if(!i){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case q2.Emulated:i=new M3(a,u,r,this.appId,d,o,c,p);break;case q2.ShadowDom:return new Mu(a,u,n,r,o,c,this.nonce,p);default:i=new Ko(a,u,r,d,o,c,p);break}s.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(fe(aC),fe(lC),fe(k5),fe(mN),fe($t),fe(S1),fe(Fe),fe(F5))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Wo=class{constructor(e,n,r,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;let i=gu[s];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let s=gu[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(wn.DashCase|wn.Important)?e.style.setProperty(n,r,s&wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=On().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function oC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mu=class extends Wo{constructor(e,n,r,s,i,o,c,a){super(e,i,o,a),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=fC(s.id,s.styles);for(let d of u){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ko=class extends Wo{constructor(e,n,r,s,i,o,c,a){super(e,i,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=a?fC(a,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},M3=class extends Ko{constructor(e,n,r,s,i,o,c,a){let u=s+"-"+r.id;super(e,n,r,i,o,c,a,u),this.contentAttr=gN(u),this.hostAttr=yN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},vN=(()=>{class t extends C3{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}static{this.\u0275fac=function(r){return new(r||t)(fe($t))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),cC=["alt","control","meta","shift"],CN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_N=(()=>{class t extends C3{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,s){let i=t.parseEventName(r),o=t.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(n,i.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let i=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),cC.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=i,r.length!=0||i.length===0)return null;let a={};return a.domEventName=s,a.fullKey=o,a}static matchEventFullKeyCode(n,r){let s=CN[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(s=n.code,i="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),cC.forEach(o=>{if(o!==s){let c=MN[o];c(n)&&(i+=o+".")}}),i+=s,i===r)}static eventCallback(n,r,s){return i=>{t.matchEventFullKeyCode(i,n)&&s.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(fe($t))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();function dC(t,e){return qv(R({rootComponent:t},wN(e)))}function wN(t){return{appProviders:[...EN,...t?.providers??[]],platformProviders:xN}}function LN(){vu.makeCurrent()}function bN(){return new K2}function IN(){return Ay(document),document}var xN=[{provide:S1,useValue:sC},{provide:O5,useValue:LN,multi:!0},{provide:$t,useFactory:IN,deps:[]}];var EN=[{provide:Q4,useValue:"root"},{provide:K2,useFactory:bN,deps:[]},{provide:Cu,useClass:vN,multi:!0,deps:[$t,Fe,S1]},{provide:Cu,useClass:_N,multi:!0,deps:[$t]},iC,lC,aC,{provide:Bs,useExisting:iC},{provide:v3,useClass:fN,deps:[]},[]];var hC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(fe($t))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Qo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=fe(zN),s},providedIn:"root"})}}return t})(),zN=(()=>{class t extends Qo{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case x2.NONE:return r;case x2.HTML:return An(r,"HTML")?I2(r):U5(this._doc,String(r)).toString();case x2.STYLE:return An(r,"Style")?I2(r):r;case x2.SCRIPT:if(An(r,"Script"))return I2(r);throw new Q(5200,!1);case x2.URL:return An(r,"URL")?I2(r):o3(String(r));case x2.RESOURCE_URL:if(An(r,"ResourceURL"))return I2(r);throw new Q(5201,!1);default:throw new Q(5202,!1)}}bypassSecurityTrustHtml(n){return Ry(n)}bypassSecurityTrustStyle(n){return Py(n)}bypassSecurityTrustScript(n){return ky(n)}bypassSecurityTrustUrl(n){return Oy(n)}bypassSecurityTrustResourceUrl(n){return Fy(n)}static{this.\u0275fac=function(r){return new(r||t)(fe($t))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ve="primary",f0=Symbol("RouteTitle"),Eu=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function si(t){return new Eu(t)}function SN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let s={};for(let i=0;i<r.length;i++){let o=r[i],c=t[i];if(o[0]===":")s[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function AN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!X2(t[n],e[n]))return!1;return!0}function X2(t,e){let n=t?zu(t):void 0,r=e?zu(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],!_C(t[s],e[s]))return!1;return!0}function zu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _C(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((s,i)=>r[i]===s)}else return t===e}function wC(t){return t.length>0?t[t.length-1]:null}function N1(t){return Ql(t)?t:_r(t)?Ee(Promise.resolve(t)):J(t)}var DN={exact:bC,subset:IC},LC={exact:TN,subset:NN,ignored:()=>!0};function pC(t,e,n){return DN[n.paths](t.root,e.root,n.matrixParams)&&LC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function TN(t,e){return X2(t,e)}function bC(t,e,n){if(!xr(t.segments,e.segments)||!L3(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!bC(t.children[r],e.children[r],n))return!1;return!0}function NN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_C(t[n],e[n]))}function IC(t,e,n){return xC(t,e,e.segments,n)}function xC(t,e,n,r){if(t.segments.length>n.length){let s=t.segments.slice(0,n.length);return!(!xr(s,n)||e.hasChildren()||!L3(s,n,r))}else if(t.segments.length===n.length){if(!xr(t.segments,n)||!L3(t.segments,n,r))return!1;for(let s in e.children)if(!t.children[s]||!IC(t.children[s],e.children[s],r))return!1;return!0}else{let s=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!xr(t.segments,s)||!L3(t.segments,s,r)||!t.children[ve]?!1:xC(t.children[ve],e,i,r)}}function L3(t,e,n){return e.every((r,s)=>LC[n](t[s].parameters,r.parameters))}var Vn=class{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=si(this.queryParams),this._queryParamMap}toString(){return kN.serialize(this)}},Pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return b3(this)}},Ir=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=si(this.parameters),this._parameterMap}toString(){return zC(this)}};function RN(t,e){return xr(t,e)&&t.every((n,r)=>X2(n.parameters,e[r].parameters))}function xr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function PN(t,e){let n=[];return Object.entries(t.children).forEach(([r,s])=>{r===ve&&(n=n.concat(e(s,r)))}),Object.entries(t.children).forEach(([r,s])=>{r!==ve&&(n=n.concat(e(s,r)))}),n}var e7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>new n0,providedIn:"root"})}}return t})(),n0=class{parse(e){let n=new Au(e);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yo(e.root,!0)}`,r=VN(e.queryParams),s=typeof e.fragment=="string"?`#${ON(e.fragment)}`:"";return`${n}${r}${s}`}},kN=new n0;function b3(t){return t.segments.map(e=>zC(e)).join("/")}function Yo(t,e){if(!t.hasChildren())return b3(t);if(e){let n=t.children[ve]?Yo(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([s,i])=>{s!==ve&&r.push(`${s}:${Yo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=PN(t,(r,s)=>s===ve?[Yo(t.children[ve],!1)]:[`${s}:${Yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ve]!=null?`${b3(t)}/${n[0]}`:`${b3(t)}/(${n.join("//")})`}}function EC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _3(t){return EC(t).replace(/%3B/gi,";")}function ON(t){return encodeURI(t)}function Su(t){return EC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function I3(t){return decodeURIComponent(t)}function mC(t){return I3(t.replace(/\+/g,"%20"))}function zC(t){return`${Su(t.path)}${FN(t.parameters)}`}function FN(t){return Object.entries(t).map(([e,n])=>`;${Su(e)}=${Su(n)}`).join("")}function VN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(s=>`${_3(n)}=${_3(s)}`).join("&"):`${_3(n)}=${_3(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var UN=/^[^\/()?;#]+/;function Lu(t){let e=t.match(UN);return e?e[0]:""}var BN=/^[^\/()?;=#]+/;function jN(t){let e=t.match(BN);return e?e[0]:""}var HN=/^[^=?&#]+/;function $N(t){let e=t.match(HN);return e?e[0]:""}var qN=/^[^&#]+/;function GN(t){let e=t.match(qN);return e?e[0]:""}var Au=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new Pe(e,n)),r}parseSegment(){let e=Lu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ir(I3(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Lu(this.remaining);s&&(r=s,this.capture(r))}e[I3(n)]=I3(r)}parseQueryParam(e){let n=$N(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=GN(this.remaining);o&&(r=o,this.capture(r))}let s=mC(n),i=mC(r);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(i)}else e[s]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lu(this.remaining),s=this.remaining[r.length];if(s!=="/"&&s!==")"&&s!==";")throw new Q(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ve);let o=this.parseChildren();n[i]=Object.keys(o).length===1?o[ve]:new Pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function SC(t){return t.segments.length>0?new Pe([],{[ve]:t}):t}function AC(t){let e={};for(let[r,s]of Object.entries(t.children)){let i=AC(s);if(r===ve&&i.segments.length===0&&i.hasChildren())for(let[o,c]of Object.entries(i.children))e[o]=c;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new Pe(t.segments,e);return WN(n)}function WN(t){if(t.numberOfChildren===1&&t.children[ve]){let e=t.children[ve];return new Pe(t.segments.concat(e.segments),e.children)}return t}function Er(t){return t instanceof Vn}function KN(t,e,n=null,r=null){let s=DC(t);return TC(s,e,n,r)}function DC(t){let e;function n(i){let o={};for(let a of i.children){let u=n(a);o[a.outlet]=u}let c=new Pe(i.url,o);return i===t&&(e=c),c}let r=n(t.root),s=SC(r);return e??s}function TC(t,e,n,r){let s=t;for(;s.parent;)s=s.parent;if(e.length===0)return bu(s,s,s,n,r);let i=QN(e);if(i.toRoot())return bu(s,s,new Pe([],{}),n,r);let o=YN(i,s,t),c=o.processChildren?Jo(o.segmentGroup,o.index,i.commands):RC(o.segmentGroup,o.index,i.commands);return bu(s,o.segmentGroup,c,n,r)}function x3(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function r0(t){return typeof t=="object"&&t!=null&&t.outlets}function bu(t,e,n,r,s){let i={};r&&Object.entries(r).forEach(([a,u])=>{i[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=NC(t,e,n);let c=SC(AC(o));return new Vn(c,i,s)}function NC(t,e,n){let r={};return Object.entries(t.children).forEach(([s,i])=>{i===e?r[s]=n:r[s]=NC(i,e,n)}),new Pe(t.segments,r)}var E3=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&x3(r[0]))throw new Q(4003,!1);let s=r.find(r0);if(s&&s!==wC(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new E3(!0,0,t);let e=0,n=!1,r=t.reduce((s,i,o)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let c={};return Object.entries(i.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...s,{outlets:c}]}if(i.segmentPath)return[...s,i.segmentPath]}return typeof i!="string"?[...s,i]:o===0?(i.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?n=!0:c===".."?e++:c!=""&&s.push(c))}),s):[...s,i]},[]);return new E3(n,e,r)}var ti=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function YN(t,e,n){if(t.isAbsolute)return new ti(e,!0,0);if(!n)return new ti(e,!1,NaN);if(n.parent===null)return new ti(n,!0,0);let r=x3(t.commands[0])?0:1,s=n.segments.length-1+r;return XN(n,s,t.numberOfDoubleDots)}function XN(t,e,n){let r=t,s=e,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new Q(4005,!1);s=r.segments.length}return new ti(r,!1,s-i)}function ZN(t){return r0(t[0])?t[0].outlets:{[ve]:t}}function RC(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return Jo(t,e,n);let r=JN(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new Pe(t.segments.slice(0,r.pathIndex),{});return i.children[ve]=new Pe(t.segments.slice(r.pathIndex),t.children),Jo(i,0,s)}else return r.match&&s.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?Du(t,e,n):r.match?Jo(t,0,s):Du(t,e,n)}function Jo(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=ZN(n),s={};if(Object.keys(r).some(i=>i!==ve)&&t.children[ve]&&t.numberOfChildren===1&&t.children[ve].segments.length===0){let i=Jo(t.children[ve],e,n);return new Pe(t.segments,i.children)}return Object.entries(r).forEach(([i,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(s[i]=RC(t.children[i],e,o))}),Object.entries(t.children).forEach(([i,o])=>{r[i]===void 0&&(s[i]=o)}),new Pe(t.segments,s)}}function JN(t,e,n){let r=0,s=e,i={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return i;let o=t.segments[s],c=n[r];if(r0(c))break;let a=`${c}`,u=r<n.length-1?n[r+1]:null;if(s>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!yC(a,u,o))return i;r+=2}else{if(!yC(a,{},o))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}function Du(t,e,n){let r=t.segments.slice(0,e),s=0;for(;s<n.length;){let i=n[s];if(r0(i)){let a=eR(i.outlets);return new Pe(r,a)}if(s===0&&x3(n[0])){let a=t.segments[e];r.push(new Ir(a.path,gC(n[0]))),s++;continue}let o=r0(i)?i.outlets[ve]:`${i}`,c=s<n.length-1?n[s+1]:null;o&&c&&x3(c)?(r.push(new Ir(o,gC(c))),s+=2):(r.push(new Ir(o,{})),s++)}return new Pe(r,{})}function eR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Du(new Pe([],{}),0,r))}),e}function gC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function yC(t,e,n){return t==n.path&&X2(e,n.parameters)}var e0="imperative",_t=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_t||{}),y2=class{constructor(e,n){this.id=e,this.url=n}},s0=class extends y2{constructor(e,n,r="imperative",s=null){super(e,n),this.type=_t.NavigationStart,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},T1=class extends y2{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},s2=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(s2||{}),Tu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tu||{}),Fn=class extends y2{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zr=class extends y2{constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s,this.type=_t.NavigationSkipped}},i0=class extends y2{constructor(e,n,r,s){super(e,n),this.error=r,this.target=s,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},z3=class extends y2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nu=class extends y2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ru=class extends y2{constructor(e,n,r,s,i){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=i,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pu=class extends y2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ku=class extends y2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ou=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fu=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vu=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uu=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bu=class{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ju=class{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var o0=class{},ii=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function tR(t,e){return t.providers&&!t._injector&&(t._injector=su(t.providers,e,`Route: ${t.path}`)),t._injector??e}function S2(t){return t.outlet||ve}function nR(t,e){let n=t.filter(r=>S2(r)===e);return n.push(...t.filter(r=>S2(r)!==e)),n}function d0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Hu=class{get injector(){return d0(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new P3(this.rootInjector),this.attachRef=null}},P3=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Hu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(fe(p2))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),S3=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$u(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$u(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qu(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return qu(e,this._root).map(n=>n.value)}};function $u(t,e){if(t===e.value)return e;for(let n of e.children){let r=$u(t,n);if(r)return r}return null}function qu(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qu(t,n);if(r.length)return r.unshift(e),r}return[]}var r2=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ei(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var A3=class extends S3{constructor(e,n){super(e),this.snapshot=n,t7(this,e)}toString(){return this.snapshot.toString()}};function PC(t){let e=rR(t),n=new pt([new Ir("",{})]),r=new pt({}),s=new pt({}),i=new pt({}),o=new pt(""),c=new Sr(n,r,i,o,s,ve,t,e.root);return c.snapshot=e.root,new A3(new r2(c,[]),e)}function rR(t){let e={},n={},r={},s="",i=new ni([],e,r,s,n,ve,t,null,{});return new T3("",new r2(i,[]))}var Sr=class{constructor(e,n,r,s,i,o,c,a){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=i,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(ie(u=>u[f0]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>si(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>si(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function D3(t,e,n="emptyOnly"){let r,{routeConfig:s}=t;return e!==null&&(n==="always"||s?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),s?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},s&&OC(s)&&(r.resolve[f0]=s.title),r}var ni=class{get title(){return this.data?.[f0]}constructor(e,n,r,s,i,o,c,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=i,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=si(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},T3=class extends S3{constructor(e,n){super(n),this.url=e,t7(this,n)}toString(){return kC(this._root)}};function t7(t,e){e.value._routerState=t,e.children.forEach(n=>t7(t,n))}function kC(t){let e=t.children.length>0?` { ${t.children.map(kC).join(", ")} } `:"";return`${t.value}${e}`}function Iu(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,X2(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),X2(e.params,n.params)||t.paramsSubject.next(n.params),AN(e.url,n.url)||t.urlSubject.next(n.url),X2(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gu(t,e){let n=X2(t.params,e.params)&&RN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gu(t.parent,e.parent))}function OC(t){return typeof t.title=="string"||t.title===null}var n7=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=B(P3),this.location=B(Mr),this.changeDetector=B(Lr),this.inputBinder=B(r7,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let s=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new Wu(n,c,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dt]})}}return t})(),Wu=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Sr?this.route:e===P3?this.childContexts:this.parent.get(e,n)}},r7=new re("");function sR(t,e,n){let r=c0(t,e._root,n?n._root:void 0);return new A3(r,e)}function c0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let s=iR(t,e,n);return new r2(r,s)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let o=i.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>c0(t,c)),o}}let r=oR(e.value),s=e.children.map(i=>c0(t,i));return new r2(r,s)}}function iR(t,e,n){return e.children.map(r=>{for(let s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return c0(t,r,s);return c0(t,r)})}function oR(t){return new Sr(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var a0=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},FC="ngNavigationCancelingError";function N3(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Er(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=VC(!1,s2.Redirect);return s.url=n,s.navigationBehaviorOptions=r,s}function VC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[FC]=!0,n.cancellationCode=e,n}function cR(t){return UC(t)&&Er(t.url)}function UC(t){return!!t&&t[FC]}var aR=(t,e,n,r)=>ie(s=>(new Ku(e,s.targetRouterState,s.currentRouterState,n,r).activate(t),s)),Ku=class{constructor(e,n,r,s,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Iu(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let s=ei(n);e.children.forEach(i=>{let o=i.value.outlet;this.deactivateRoutes(i,s[o],r),delete s[o]}),Object.values(s).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let s=e.value,i=n?n.value:null;if(s===i)if(s.component){let o=r.getContext(s.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,i=ei(e);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,s);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,i=ei(e);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let s=ei(n);e.children.forEach(i=>{this.activateRoutes(i,s[i.value.outlet],r),this.forwardEvent(new ju(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Uu(e.value.snapshot))}activateRoutes(e,n,r){let s=e.value,i=n?n.value:null;if(Iu(s),s===i)if(s.component){let o=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(s.component){let o=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Iu(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=s,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},R3=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ri=class{constructor(e,n){this.component=e,this.route=n}};function lR(t,e,n){let r=t._root,s=e?e._root:null;return Xo(r,s,n,[r.value])}function uR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ci(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cg(t)?t:e.get(t):r}function Xo(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){let i=ei(e);return t.children.forEach(o=>{fR(o,i[o.value.outlet],n,r.concat([o.value]),s),delete i[o.value.outlet]}),Object.entries(i).forEach(([o,c])=>t0(c,n.getContext(o),s)),s}function fR(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){let a=dR(o,i,i.routeConfig.runGuardsAndResolvers);a?s.canActivateChecks.push(new R3(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?Xo(t,e,c?c.children:null,r,s):Xo(t,e,n,r,s),a&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new ri(c.outlet.component,o))}else o&&t0(e,c,s),s.canActivateChecks.push(new R3(r)),i.component?Xo(t,null,c?c.children:null,r,s):Xo(t,null,n,r,s);return s}function dR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xr(t.url,e.url)||!X2(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gu(t,e)||!X2(t.queryParams,e.queryParams);case"paramsChange":default:return!Gu(t,e)}}function t0(t,e,n){let r=ei(t),s=t.value;Object.entries(r).forEach(([i,o])=>{s.component?e?t0(o,e.children.getContext(i),n):t0(o,null,n):t0(o,e,n)}),s.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ri(e.outlet.component,s)):n.canDeactivateChecks.push(new ri(null,s)):n.canDeactivateChecks.push(new ri(null,s))}function h0(t){return typeof t=="function"}function hR(t){return typeof t=="boolean"}function pR(t){return t&&h0(t.canLoad)}function mR(t){return t&&h0(t.canActivate)}function gR(t){return t&&h0(t.canActivateChild)}function yR(t){return t&&h0(t.canDeactivate)}function vR(t){return t&&h0(t.canMatch)}function BC(t){return t instanceof vn||t?.name==="EmptyError"}var w3=Symbol("INITIAL_VALUE");function oi(){return Ye(t=>Cn(t.map(e=>e.pipe(w2(1),u4(w3)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===w3)return w3;if(n===!1||CR(n))return n}return!0}),Kt(e=>e!==w3),w2(1)))}function CR(t){return Er(t)||t instanceof a0}function MR(t,e){return st(n=>{let{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return o.length===0&&i.length===0?J(se(R({},n),{guardsResult:!0})):_R(o,r,s,t).pipe(st(c=>c&&hR(c)?wR(r,i,t,e):J(c)),ie(c=>se(R({},n),{guardsResult:c})))})}function _R(t,e,n,r){return Ee(t).pipe(st(s=>ER(s.component,s.route,n,e,r)),u2(s=>s!==!0,!0))}function wR(t,e,n,r){return Ee(e).pipe(_s(s=>Ms(bR(s.route.parent,r),LR(s.route,r),xR(t,s.path,n),IR(t,s.route,n))),u2(s=>s!==!0,!0))}function LR(t,e){return t!==null&&e&&e(new Bu(t)),J(!0)}function bR(t,e){return t!==null&&e&&e(new Vu(t)),J(!0)}function IR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let s=r.map(i=>o4(()=>{let o=d0(e)??n,c=ci(i,o),a=mR(c)?c.canActivate(e,t):En(o,()=>c(e,t));return N1(a).pipe(u2())}));return J(s).pipe(oi())}function xR(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>uR(o)).filter(o=>o!==null).map(o=>o4(()=>{let c=o.guards.map(a=>{let u=d0(o.node)??n,d=ci(a,u),p=gR(d)?d.canActivateChild(r,t):En(u,()=>d(r,t));return N1(p).pipe(u2())});return J(c).pipe(oi())}));return J(i).pipe(oi())}function ER(t,e,n,r,s){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return J(!0);let o=i.map(c=>{let a=d0(e)??s,u=ci(c,a),d=yR(u)?u.canDeactivate(t,e,n,r):En(a,()=>u(t,e,n,r));return N1(d).pipe(u2())});return J(o).pipe(oi())}function zR(t,e,n,r){let s=e.canLoad;if(s===void 0||s.length===0)return J(!0);let i=s.map(o=>{let c=ci(o,t),a=pR(c)?c.canLoad(e,n):En(t,()=>c(e,n));return N1(a)});return J(i).pipe(oi(),jC(r))}function jC(t){return Hc(je(e=>{if(typeof e!="boolean")throw N3(t,e)}),ie(e=>e===!0))}function SR(t,e,n,r){let s=e.canMatch;if(!s||s.length===0)return J(!0);let i=s.map(o=>{let c=ci(o,t),a=vR(c)?c.canMatch(e,n):En(t,()=>c(e,n));return N1(a)});return J(i).pipe(oi(),jC(r))}var l0=class{constructor(e){this.segmentGroup=e||null}},u0=class extends Error{constructor(e){super(),this.urlTree=e}};function Js(t){return B2(new l0(t))}function AR(t){return B2(new Q(4e3,!1))}function DR(t){return B2(VC(!1,s2.GuardRejected))}var Qu=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),s.numberOfChildren===0)return J(r);if(s.numberOfChildren>1||!s.children[ve])return AR(`${e.redirectTo}`);s=s.children[ve]}}applyRedirectCommands(e,n,r,s,i){if(typeof n!="string"){let c=n,{queryParams:a,fragment:u,routeConfig:d,url:p,outlet:m,params:y,data:w,title:A}=s,z=En(i,()=>c({params:y,data:w,queryParams:a,fragment:u,routeConfig:d,url:p,outlet:m,title:A}));if(z instanceof Vn)throw new u0(z);n=z}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new u0(o);return o}applyRedirectCreateUrlTree(e,n,r,s){let i=this.createSegmentGroup(e,n.root,r,s);return new Vn(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([s,i])=>{if(typeof i=="string"&&i[0]===":"){let c=i.substring(1);r[s]=n[c]}else r[s]=i}),r}createSegmentGroup(e,n,r,s){let i=this.createSegments(e,n.segments,r,s),o={};return Object.entries(n.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,r,s)}),new Pe(i,o)}createSegments(e,n,r,s){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,s):this.findOrReturn(i,r))}findPosParam(e,n,r){let s=r[n.path.substring(1)];if(!s)throw new Q(4001,!1);return s}findOrReturn(e,n){let r=0;for(let s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}},Yu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TR(t,e,n,r,s){let i=HC(t,e,n);return i.matched?(r=tR(e,r),SR(r,e,n,s).pipe(ie(o=>o===!0?i:R({},Yu)))):J(i)}function HC(t,e,n){if(e.path==="**")return NR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Yu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let s=(e.matcher||SN)(n,t,e);if(!s)return R({},Yu);let i={};Object.entries(s.posParams??{}).forEach(([c,a])=>{i[c]=a.path});let o=s.consumed.length>0?R(R({},i),s.consumed[s.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function NR(t){return{matched:!0,parameters:t.length>0?wC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function vC(t,e,n,r){return n.length>0&&kR(t,n,r)?{segmentGroup:new Pe(e,PR(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&OR(t,n,r)?{segmentGroup:new Pe(t.segments,RR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function RR(t,e,n,r){let s={};for(let i of n)if(k3(t,e,i)&&!r[S2(i)]){let o=new Pe([],{});s[S2(i)]=o}return R(R({},r),s)}function PR(t,e){let n={};n[ve]=e;for(let r of t)if(r.path===""&&S2(r)!==ve){let s=new Pe([],{});n[S2(r)]=s}return n}function kR(t,e,n){return n.some(r=>k3(t,e,r)&&S2(r)!==ve)}function OR(t,e,n){return n.some(r=>k3(t,e,r))}function k3(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FR(t,e,n){return e.length===0&&!t.children[n]}var Xu=class{};function VR(t,e,n,r,s,i,o="emptyOnly"){return new Zu(t,e,n,r,s,o,i).recognize()}var UR=31,Zu=class{constructor(e,n,r,s,i,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=s,this.urlTree=i,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Qu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=vC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let s=new r2(r,n),i=new T3("",s),o=KN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(o),{state:i,tree:o}}))}match(e){let n=new ni([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,n).pipe(ie(r=>({children:r,rootSnapshot:n})),it(r=>{if(r instanceof u0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof l0?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,s,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,s,!0,i).pipe(ie(o=>o instanceof r2?[o]:[]))}processChildren(e,n,r,s){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ee(i).pipe(_s(o=>{let c=r.children[o],a=nR(n,o);return this.processSegmentGroup(e,a,c,o,s)}),l4((o,c)=>(o.push(...c),o)),g1(null),Zl(),st(o=>{if(o===null)return Js(r);let c=$C(o);return BR(c),J(c)}))}processSegment(e,n,r,s,i,o,c){return Ee(n).pipe(_s(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,s,i,o,c).pipe(it(u=>{if(u instanceof l0)return J(null);throw u}))),u2(a=>!!a),it(a=>{if(BC(a))return FR(r,s,i)?J(new Xu):Js(r);throw a}))}processSegmentAgainstRoute(e,n,r,s,i,o,c,a){return S2(r)!==o&&(o===ve||!k3(s,i,r))?Js(s):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,s,r,i,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,s,n,r,i,o,a):Js(s)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,i,o,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=HC(n,s,i);if(!a)return Js(n);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UR&&(this.allowRedirects=!1));let y=new ni(i,u,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,CC(s),S2(s),s.component??s._loadedComponent??null,s,MC(s)),w=D3(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(d,s.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(s,A).pipe(st(z=>this.processSegment(e,r,n,z.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,s,i,o){let c=TR(n,r,s,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ye(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,s).pipe(Ye(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=a,w=new ni(m,p,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,CC(r),S2(r),r.component??r._loadedComponent??null,r,MC(r)),A=D3(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:z,slicedSegments:P}=vC(n,m,y,u);if(P.length===0&&z.hasChildren())return this.processChildren(d,u,z,w).pipe(ie(U=>new r2(w,U)));if(u.length===0&&P.length===0)return J(new r2(w,[]));let O=S2(r)===i;return this.processSegment(d,u,z,P,O?ve:i,!0,w).pipe(ie(U=>new r2(w,U instanceof r2?[U]:[])))}))):Js(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):zR(e,n,r,this.urlSerializer).pipe(st(s=>s?this.configLoader.loadChildren(e,n).pipe(je(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):DR(n))):J({routes:[],injector:e})}};function BR(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}function jR(t){let e=t.value.routeConfig;return e&&e.path===""}function $C(t){let e=[],n=new Set;for(let r of t){if(!jR(r)){e.push(r);continue}let s=e.find(i=>r.value.routeConfig===i.value.routeConfig);s!==void 0?(s.children.push(...r.children),n.add(s)):e.push(r)}for(let r of n){let s=$C(r.children);e.push(new r2(r.value,s))}return e.filter(r=>!n.has(r))}function CC(t){return t.data||{}}function MC(t){return t.resolve||{}}function HR(t,e,n,r,s,i){return st(o=>VR(t,e,n,r,o.extractedUrl,s,i).pipe(ie(({state:c,tree:a})=>se(R({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function $R(t,e){return st(n=>{let{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return J(n);let i=new Set(s.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of qC(a))o.add(u);let c=0;return Ee(o).pipe(_s(a=>i.has(a)?qR(a,r,t,e):(a.data=D3(a,a.parent,t).resolve,J(void 0))),je(()=>c++),ws(1),st(a=>c===o.size?J(n):Vt))})}function qC(t){let e=t.children.map(n=>qC(n)).flat();return[t,...e]}function qR(t,e,n,r){let s=t.routeConfig,i=t._resolve;return s?.title!==void 0&&!OC(s)&&(i[f0]=s.title),GR(i,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=D3(t,t.parent,n).resolve,null)))}function GR(t,e,n,r){let s=zu(t);if(s.length===0)return J({});let i={};return Ee(s).pipe(st(o=>WR(t[o],e,n,r).pipe(u2(),je(c=>{if(c instanceof a0)throw N3(new n0,c);i[o]=c}))),ws(1),Xl(i),it(o=>BC(o)?Vt:B2(o)))}function WR(t,e,n,r){let s=d0(e)??r,i=ci(t,s),o=i.resolve?i.resolve(e,n):En(s,()=>i(e,n));return N1(o)}function xu(t){return Ye(e=>{let n=t(e);return n?Ee(n).pipe(ie(()=>e)):J(e)})}var GC=(()=>{class t{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(i=>i.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[f0]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>B(KR),providedIn:"root"})}}return t})(),KR=(()=>{class t extends GC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(fe(hC))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),s7=new re("",{providedIn:"root",factory:()=>({})}),QR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ne],decls:1,vars:0,template:function(r,s){r&1&&ee(0,"router-outlet")},dependencies:[n7],encapsulation:2})}}return t})();function i7(t){let e=t.children&&t.children.map(i7),n=e?se(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=QR),n}var o7=new re(""),YR=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(uu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=N1(n.loadComponent()).pipe(ie(WC),je(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),Lo(()=>{this.componentLoaders.delete(n)})),s=new ps(r,()=>new at).pipe(hs());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=XR(r,this.compiler,n,this.onLoadEndListener).pipe(Lo(()=>{this.childrenLoaders.delete(r)})),o=new ps(i,()=>new at).pipe(hs());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XR(t,e,n,r){return N1(t.loadChildren()).pipe(ie(WC),st(s=>s instanceof Ro||Array.isArray(s)?J(s):Ee(e.compileModuleAsync(s))),ie(s=>{r&&r(t);let i,o,c=!1;return Array.isArray(s)?(o=s,c=!0):(i=s.create(n).injector,o=i.get(o7,[],{optional:!0,self:!0}).flat()),{routes:o.map(i7),injector:i}}))}function ZR(t){return t&&typeof t=="object"&&"default"in t}function WC(t){return ZR(t)?t.default:t}var c7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>B(JR),providedIn:"root"})}}return t})(),JR=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eP=new re("");var tP=new re(""),nP=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=B(YR),this.environmentInjector=B(p2),this.urlSerializer=B(e7),this.rootContexts=B(P3),this.location=B($o),this.inputBindingEnabled=B(r7,{optional:!0})!==null,this.titleStrategy=B(GC),this.options=B(s7,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(c7),this.createViewTransition=B(eP,{optional:!0}),this.navigationErrorHandler=B(tP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let n=s=>this.events.next(new Ou(s)),r=s=>this.events.next(new Fu(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(se(R(R({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new pt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:e0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(i=>i.id!==0),ie(i=>se(R({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ye(i=>{let o=!1,c=!1;return J(i).pipe(Ye(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",s2.SupersededByNewNavigation),Vt;this.currentTransition=i,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?se(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let p="";return this.events.next(new zr(a.id,this.urlSerializer.serialize(a.rawUrl),p,Tu.IgnoredSameUrlNavigation)),a.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return J(a).pipe(Ye(p=>{let m=this.transitions?.getValue();return this.events.next(new s0(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Vt:Promise.resolve(p)}),HR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=se(R({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new z3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:w,extras:A}=a,z=new s0(p,this.urlSerializer.serialize(m),y,w);this.events.next(z);let P=PC(this.rootComponentType).snapshot;return this.currentTransition=i=se(R({},a),{targetSnapshot:P,urlAfterRedirects:m,extras:se(R({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,J(i)}else{let p="";return this.events.next(new zr(a.id,this.urlSerializer.serialize(a.extractedUrl),p,Tu.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Vt}}),je(a=>{let u=new Nu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ie(a=>(this.currentTransition=i=se(R({},a),{guards:lR(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),MR(this.environmentInjector,a=>this.events.next(a)),je(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw N3(this.urlSerializer,a.guardsResult);let u=new Ru(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Kt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",s2.GuardRejected),!1)),xu(a=>{if(a.guards.canActivateChecks.length)return J(a).pipe(je(u=>{let d=new Pu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ye(u=>{let d=!1;return J(u).pipe($R(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",s2.NoDataFromResolver)}}))}),je(u=>{let d=new ku(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),xu(a=>{let u=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(je(m=>{d.component=m}),ie(()=>{})));for(let m of d.children)p.push(...u(m));return p};return Cn(u(a.targetSnapshot.root)).pipe(g1(null),w2(1))}),xu(()=>this.afterPreactivation()),Ye(()=>{let{currentSnapshot:a,targetSnapshot:u}=i,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?Ee(d).pipe(ie(()=>i)):J(i)}),ie(a=>{let u=sR(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=se(R({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,i}),je(()=>{this.events.next(new o0)}),aR(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),w2(1),je({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new T1(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Ls(this.transitionAbortSubject.pipe(je(a=>{throw a}))),Lo(()=>{!o&&!c&&this.cancelNavigationTransition(i,"",s2.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),it(a=>{if(c=!0,UC(a))this.events.next(new Fn(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),cR(a)?this.events.next(new ii(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let u=new i0(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let d=En(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof a0){let{message:p,cancellationCode:m}=N3(this.urlSerializer,d);this.events.next(new Fn(i.id,this.urlSerializer.serialize(i.extractedUrl),p,m)),this.events.next(new ii(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let p=n.errorHandler(a);i.resolve(!!p)}}catch(d){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(d)}}return Vt}))}))}cancelNavigationTransition(n,r,s){let i=new Fn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rP(t){return t!==e0}var sP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>B(iP),providedIn:"root"})}}return t})(),Ju=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},iP=(()=>{class t extends Ju{static{this.\u0275fac=(()=>{let n;return function(s){return(n||(n=E1(t)))(s||t)}})()}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>B(oP),providedIn:"root"})}}return t})(),oP=(()=>{class t extends KC{constructor(){super(...arguments),this.location=B($o),this.urlSerializer=B(e7),this.options=B(s7,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(c7),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=PC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof s0)this.stateMemento=this.createStateMemento();else if(n instanceof zr)this.rawUrlTree=r.initialUrl;else if(n instanceof z3){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else n instanceof o0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Fn&&(n.code===s2.GuardRejected||n.code===s2.NoDataFromResolver)?this.restoreHistory(r):n instanceof i0?this.restoreHistory(r,!0):n instanceof T1&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=n instanceof Vn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let i=this.browserPageId,o=R(R({},r.extras.state),this.generateNgRouterState(r.id,i));this.location.replaceState(s,"",o)}else{let i=R(R({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",i)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,i=this.currentPageId-s;i!==0?this.location.historyGo(i):this.currentUrlTree===n.finalUrl&&i===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(s){return(n||(n=E1(t)))(s||t)}})()}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zo||{});function cP(t,e){t.events.pipe(Kt(n=>n instanceof T1||n instanceof Fn||n instanceof i0||n instanceof zr),ie(n=>n instanceof T1||n instanceof zr?Zo.COMPLETE:(n instanceof Fn?n.code===s2.Redirect||n.code===s2.SupersededByNewNavigation:!1)?Zo.REDIRECTING:Zo.FAILED),Kt(n=>n!==Zo.REDIRECTING),w2(1)).subscribe(()=>{e()})}function aP(t){throw t}var lP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Un=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(g3),this.stateManager=B(KC),this.options=B(s7,{optional:!0})||{},this.pendingTasks=B(qs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(nP),this.urlSerializer=B(e7),this.location=B($o),this.urlHandlingStrategy=B(c7),this._events=new at,this.errorHandler=this.options.errorHandler||aP,this.navigated=!1,this.routeReuseStrategy=B(sP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(o7,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(r7,{optional:!0}),this.eventsSubscription=new Be,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(s!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Fn&&r.code!==s2.Redirect&&r.code!==s2.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof T1)this.navigated=!0;else if(r instanceof ii){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),a=R({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rP(s.source)},o);this.scheduleNavigation(c,e0,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}dP(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),e0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let i={replaceUrl:!0},o=s?.navigationId?s:null;if(s){let a=R({},s);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(i.state=a)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(i7),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:i,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=R(R({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let m=s?s.snapshot:this.routerState.snapshot.root;p=DC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return TC(p,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=Er(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(i,e0,null,r)}navigate(n,r={skipLocationChange:!1}){return fP(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=R({},lP):r===!1?s=R({},uP):s=r,Er(n))return pC(this.currentUrlTree,n,s);let i=this.parseUrl(n);return pC(this.currentUrlTree,i,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,i])=>(i!=null&&(r[s]=i),r),{})}scheduleNavigation(n,r,s,i,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((p,m)=>{c=p,a=m});let d=this.pendingTasks.add();return cP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function dP(t){return!(t instanceof o0)&&!(t instanceof ii)}var ai=(()=>{class t{constructor(n,r,s,i,o,c){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=i,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof T1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Er(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,s,i,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||s||i||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:qy(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,i=this.el.nativeElement;r!==null?s.setAttribute(i,n,r):s.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:Er(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)($(Un),$(Sr),T5("tabindex"),$(g2),$(Tt),$(Zs))}}static{this.\u0275dir=Je({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&pe("click",function(o){return s.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Y2("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pn],replaceUrl:[2,"replaceUrl","replaceUrl",Pn],routerLink:"routerLink"},standalone:!0,features:[ru,Dt]})}}return t})();var hP=new re("");function QC(t,...e){return xn([{provide:o7,multi:!0,useValue:t},[],{provide:Sr,useFactory:pP,deps:[Un]},{provide:lu,multi:!0,useFactory:mP},e.map(n=>n.\u0275providers)])}function pP(t){return t.routerState.root}function mP(){let t=B(Qt);return e=>{let n=t.get(wr);if(e!==n.components[0])return;let r=t.get(Un),s=t.get(gP);t.get(yP)===1&&r.initialNavigation(),t.get(vP,null,Me.Optional)?.setUpPreloading(),t.get(hP,null,Me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var gP=new re("",{factory:()=>new at}),yP=new re("",{providedIn:"root",factory:()=>1});var vP=new re("");var XC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){let i=t[n++],o=t[n++],c=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{let i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){let i=t[s],o=s+1<t.length,c=o?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,d=i>>2,p=(i&3)<<4|c>>4,m=(c&15)<<2|u>>6,y=u&63;a||(y=64,o||(m=64)),r.push(n[d],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){let i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;let u=s<t.length?n[t.charAt(s)]:64;++s;let p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||u==null||p==null)throw new u7;let m=i<<2|c>>4;if(r.push(m),u!==64){let y=c<<4&240|u>>2;if(r.push(y),p!==64){let w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u7=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},MP=function(t){let e=XC(t);return ZC.encodeByteArray(e,!0)},p0=function(t){return MP(t).replace(/\./g,"")},d7=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wP=()=>_P().__FIREBASE_DEFAULTS__,LP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&d7(t[1]);return e&&JSON.parse(e)},F3=()=>{try{return wP()||LP()||bP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h7=t=>{var e,n;return(n=(e=F3())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V3=t=>{let e=h7(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p7=()=>{var t;return(t=F3())===null||t===void 0?void 0:t.config},m7=t=>{var e;return(e=F3())===null||e===void 0?void 0:e[`_${t}`]};var O3=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function U3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[p0(JSON.stringify(n)),p0(JSON.stringify(o)),""].join(".")}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function IP(){var t;let e=(t=F3())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rM(){let t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sM(){return!IP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g7(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}var xP="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}},Bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?EP(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new qt(s,c,r)}};function EP(t,e){return t.replace(zP,(n,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}var zP=/\{\$([^}]+)}/g;function oM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let s of n){if(!r.includes(s))return!1;let i=t[s],o=e[s];if(YC(i)&&YC(o)){if(!jn(i,o))return!1}else if(i!==o)return!1}for(let s of r)if(!n.includes(s))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}function m0(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function li(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ui(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cM(t,e){let n=new f7(t,e);return n.subscribe.bind(n)}var f7=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=l7),s.error===void 0&&(s.error=l7),s.complete===void 0&&(s.complete=l7);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function l7(){}var aee=4*60*60*1e3;function Ue(t){return t&&t._delegate?t._delegate:t}var Zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ar="[DEFAULT]";var y7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new O3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DP(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var r;let s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);let o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AP(t){return t===Ar?void 0:t}function DP(t){return t.instantiationMode==="EAGER"}var B3=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new y7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TP=[],Ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ie||{}),NP={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},RP=Ie.INFO,PP={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},kP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),s=PP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},R1=class{constructor(e){this.name=e,this._logLevel=RP,this._logHandler=kP,this._userLogHandler=null,TP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var OP=(t,e)=>e.some(n=>t instanceof n),aM,lM;function FP(){return aM||(aM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return lM||(lM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uM=new WeakMap,C7=new WeakMap,fM=new WeakMap,v7=new WeakMap,_7=new WeakMap;function UP(t){let e=new Promise((n,r)=>{let s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Z2(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uM.set(n,t)}).catch(()=>{}),_7.set(e,t),e}function BP(t){if(C7.has(t))return;let e=new Promise((n,r)=>{let s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});C7.set(t,e)}var M7={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C7.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Z2(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dM(t){M7=t(M7)}function jP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(j3(this),e,...n);return fM.set(r,e.sort?e.sort():[e]),Z2(r)}:VP().includes(t)?function(...e){return t.apply(j3(this),e),Z2(uM.get(this))}:function(...e){return Z2(t.apply(j3(this),e))}}function HP(t){return typeof t=="function"?jP(t):(t instanceof IDBTransaction&&BP(t),OP(t,FP())?new Proxy(t,M7):t)}function Z2(t){if(t instanceof IDBRequest)return UP(t);if(v7.has(t))return v7.get(t);let e=HP(t);return e!==t&&(v7.set(t,e),_7.set(e,t)),e}var j3=t=>_7.get(t);function pM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){let o=indexedDB.open(t,e),c=Z2(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Z2(o.result),a.oldVersion,a.newVersion,Z2(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var $P=["get","getKey","getAll","getAllKeys","count"],qP=["put","add","delete","clear"],w7=new Map;function hM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(w7.get(e))return w7.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,s=qP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$P.includes(n)))return;let i=function(o,...c){return C(this,null,function*(){let a=this.transaction(o,s?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),s&&a.done]))[0]})};return w7.set(e,i),i}dM(t=>se(R({},t),{get:(e,n,r)=>hM(e,n)||t.get(e,n,r),has:(e,n)=>!!hM(e,n)||t.has(e,n)}));var b7=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function GP(t){let e=t.getComponent();return e?.type==="VERSION"}var I7="@firebase/app",mM="0.10.13";var Hn=new R1("@firebase/app"),WP="@firebase/app-compat",KP="@firebase/analytics-compat",QP="@firebase/analytics",YP="@firebase/app-check-compat",XP="@firebase/app-check",ZP="@firebase/auth",JP="@firebase/auth-compat",ek="@firebase/database",tk="@firebase/data-connect",nk="@firebase/database-compat",rk="@firebase/functions",sk="@firebase/functions-compat",ik="@firebase/installations",ok="@firebase/installations-compat",ck="@firebase/messaging",ak="@firebase/messaging-compat",lk="@firebase/performance",uk="@firebase/performance-compat",fk="@firebase/remote-config",dk="@firebase/remote-config-compat",hk="@firebase/storage",pk="@firebase/storage-compat",mk="@firebase/firestore",gk="@firebase/vertexai-preview",yk="@firebase/firestore-compat",vk="firebase",Ck="10.14.1";var x7="[DEFAULT]",Mk={[I7]:"fire-core",[WP]:"fire-core-compat",[QP]:"fire-analytics",[KP]:"fire-analytics-compat",[XP]:"fire-app-check",[YP]:"fire-app-check-compat",[ZP]:"fire-auth",[JP]:"fire-auth-compat",[ek]:"fire-rtdb",[tk]:"fire-data-connect",[nk]:"fire-rtdb-compat",[rk]:"fire-fn",[sk]:"fire-fn-compat",[ik]:"fire-iid",[ok]:"fire-iid-compat",[ck]:"fire-fcm",[ak]:"fire-fcm-compat",[lk]:"fire-perf",[uk]:"fire-perf-compat",[fk]:"fire-rc",[dk]:"fire-rc-compat",[hk]:"fire-gcs",[pk]:"fire-gcs-compat",[mk]:"fire-fst",[yk]:"fire-fst-compat",[gk]:"fire-vertex","fire-js":"fire-js",[vk]:"fire-js-all"};var g0=new Map,_k=new Map,E7=new Map;function gM(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function J2(t){let e=t.name;if(E7.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;E7.set(e,t);for(let n of g0.values())gM(n,t);for(let n of _k.values())gM(n,t);return!0}function Dr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function A2(t){return t.settings!==void 0}var wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},P1=new Bn("app","Firebase",wk);var z7=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw P1.create("app-deleted",{appName:this._name})}};var en=Ck;function D7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:x7,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw P1.create("bad-app-name",{appName:String(s)});if(n||(n=p7()),!n)throw P1.create("no-options");let i=g0.get(s);if(i){if(jn(n,i.options)&&jn(r,i.config))return i;throw P1.create("duplicate-app",{appName:s})}let o=new B3(s);for(let a of E7.values())o.addComponent(a);let c=new z7(n,r,o);return g0.set(s,c),c}function k1(t=x7){let e=g0.get(t);if(!e&&t===x7&&p7())return D7();if(!e)throw P1.create("no-app",{appName:t});return e}function H3(){return Array.from(g0.values())}function tt(t,e,n){var r;let s=(r=Mk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);let i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(c.join(" "));return}J2(new Zt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var Lk="firebase-heartbeat-database",bk=1,y0="firebase-heartbeat-store",L7=null;function MM(){return L7||(L7=pM(Lk,bk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(y0)}catch(n){console.warn(n)}}}}).catch(t=>{throw P1.create("idb-open",{originalErrorMessage:t.message})})),L7}function Ik(t){return C(this,null,function*(){try{let n=(yield MM()).transaction(y0),r=yield n.objectStore(y0).get(_M(t));return yield n.done,r}catch(e){if(e instanceof qt)Hn.warn(e.message);else{let n=P1.create("idb-get",{originalErrorMessage:e?.message});Hn.warn(n.message)}}})}function yM(t,e){return C(this,null,function*(){try{let r=(yield MM()).transaction(y0,"readwrite");yield r.objectStore(y0).put(e,_M(t)),yield r.done}catch(n){if(n instanceof qt)Hn.warn(n.message);else{let r=P1.create("idb-set",{originalErrorMessage:n?.message});Hn.warn(r.message)}}})}function _M(t){return`${t.name}!${t.options.appId}`}var xk=1024,Ek=30*24*60*60*1e3,S7=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new A7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Ek}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vM(),{heartbeatsToSend:r,unsentEntries:s}=zk(this._heartbeatsCache.heartbeats),i=p0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hn.warn(n),""}})}};function vM(){return new Date().toISOString().substring(0,10)}function zk(t,e=xk){let n=[],r=t.slice();for(let s of t){let i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),CM(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),CM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var A7=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return g7()?iM().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Ik(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return yM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return yM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}};function CM(t){return p0(JSON.stringify({version:2,heartbeats:t})).length}function Sk(t){J2(new Zt("platform-logger",e=>new b7(e),"PRIVATE")),J2(new Zt("heartbeat",e=>new S7(e),"PRIVATE")),tt(I7,mM,t),tt(I7,mM,"esm2017"),tt("fire-js","")}Sk("");var Ak="firebase",Dk="10.14.1";tt(Ak,Dk,"app");var Nr=new Ln("ANGULARFIRE2_VERSION");function q3(t,e,n){if(e){if(e.length===1)return e[0];let i=e.filter(o=>o.app===n);if(i.length===1)return i[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var v0=(t,e)=>{let n=e?[e]:H3(),r=[];return n.forEach(s=>{s.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},di=class{constructor(){return v0(Tk)}},Tk="app-check";function fi(){}var $3=class{zone;delegate;constructor(e,n=Gl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let s=this.zone,i=function(o){s.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(i,n,r)}},T7=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fi,{},fi,fi)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $3(Zone.current)),this.insideAngular=n.run(()=>new $3(Zone.current,ql)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(fe(Fe))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G3(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Nk(t){return G3().ngZone.runOutsideAngular(()=>t())}function Tr(t){return G3().ngZone.run(()=>t())}function Rk(t){return Pk(G3())(t)}function Pk(t){return function(n){return n=n.lift(new T7(t.ngZone)),n.pipe(m1(t.outsideAngular),p1(t.insideAngular))}}var kk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Tr(()=>t.apply(void 0,r))},Ke=(t,e)=>function(){let n,r=arguments;for(let i=0;i<arguments.length;i++)typeof r[i]=="function"&&(e&&(n||=Tr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fi,{},fi,fi))),r[i]=kk(r[i],n));let s=Nk(()=>t.apply(this,r));if(!e)if(s instanceof me){let i=G3();return s.pipe(m1(i.outsideAngular),p1(i.insideAngular))}else return Tr(()=>s);return s instanceof me?s.pipe(Rk):s instanceof Promise?Tr(()=>new Promise((i,o)=>s.then(c=>Tr(()=>i(c)),c=>Tr(()=>o(c))))):typeof s=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),s.apply(this,arguments)}:Tr(()=>s)};var $n=class{constructor(e){return e}},Rr=class{constructor(){return H3()}};function Ok(t){return t&&t.length===1?t[0]:new $n(k1())}var N7=new re("angularfire2._apps"),Fk={provide:$n,useFactory:Ok,deps:[[new Yt,N7]]},Vk={provide:Rr,deps:[[new Yt,N7]]};function Uk(t){return(e,n)=>{let r=n.get(S1);tt("angularfire",Nr.full,"core"),tt("angularfire",Nr.full,"app"),tt("angular",Uv.full,r.toString());let s=e.runOutsideAngular(()=>t(n));return new $n(s)}}function wM(t,...e){return xn([Fk,Vk,{provide:N7,useFactory:Uk(t),multi:!0,deps:[Fe,Qt,hi,...e]}])}var LM=Ke(D7,!0);function UM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BM=UM,jM=new Bn("auth","Firebase",UM());var Z3=new R1("@firebase/auth");function Bk(t,...e){Z3.logLevel<=Ie.WARN&&Z3.warn(`Auth (${en}): ${t}`,...e)}function K3(t,...e){Z3.logLevel<=Ie.ERROR&&Z3.error(`Auth (${en}): ${t}`,...e)}function nn(t,...e){throw nf(t,...e)}function Pr(t,...e){return nf(t,...e)}function HM(t,e,n){let r=Object.assign(Object.assign({},BM()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function Wn(t){return HM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jM.create(t,...e)}function oe(t,e,...n){if(!t)throw nf(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw K3(e),new Error(e)}function F1(t,e){t||qn(e)}function O7(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jk(){return bM()==="http:"||bM()==="https:"}function bM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jk()||tM()||"connection"in navigator)?navigator.onLine:!0}function $k(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var kr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,F1(n>e,"Short delay should be less than long delay!"),this.isMobile=JC()||nM()}get(){return Hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rf(t,e){F1(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var J3=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Gk=new kr(3e4,6e4);function V1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Kn(i,o,c,a){return C(this,arguments,function*(t,e,n,r,s={}){return $M(t,s,()=>C(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=m0(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},u);return eM()||(y.referrerPolicy="no-referrer"),J3.fetch()(qM(t,t.config.apiHost,n,p),y)}))})}function $M(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},qk),e);try{let s=new F7(t),i=yield Promise.race([n(),s.promise]);s.clearNetworkTimeout();let o=yield i.json();if("needConfirmation"in o)throw W3(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{let c=i.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw W3(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw W3(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw W3(t,"user-disabled",o);let d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HM(t,d,u);nn(t,d)}}catch(s){if(s instanceof qt)throw s;nn(t,"network-request-failed",{message:String(s)})}})}function I0(i,o,c,a){return C(this,arguments,function*(t,e,n,r,s={}){let u=yield Kn(t,e,n,r,s);return"mfaPendingCredential"in u&&nn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function qM(t,e,n,r){let s=`${e}${n}?${r}`;return t.config.emulator?rf(t.config,s):`${t.config.apiScheme}://${s}`}function Wk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var F7=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),Gk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function W3(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let s=Pr(t,e,r);return s.customData._tokenResponse=n,s}function IM(t){return t!==void 0&&t.enterprise!==void 0}var V7=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Wk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Kk(t,e){return C(this,null,function*(){return Kn(t,"GET","/v2/recaptchaConfig",V1(t,e))})}function Qk(t,e){return C(this,null,function*(){return Kn(t,"POST","/v1/accounts:delete",e)})}function GM(t,e){return C(this,null,function*(){return Kn(t,"POST","/v1/accounts:lookup",e)})}function C0(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function sf(t,e=!1){return C(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),s=of(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:C0(R7(s.auth_time)),issuedAtTime:C0(R7(s.iat)),expirationTime:C0(R7(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}})}function R7(t){return Number(t)*1e3}function of(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return K3("JWT malformed, contained fewer than 3 sections"),null;try{let s=d7(n);return s?JSON.parse(s):(K3("Failed to decode base64 JWT payload"),null)}catch(s){return K3("Caught error parsing JWT payload as JSON",s?.toString()),null}}function xM(t){let e=of(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pi(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&Yk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Yk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var U7=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _0=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=C0(this.lastLoginAt),this.creationTime=C0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ea(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),s=yield pi(t,GM(n,{idToken:r}));oe(s?.users.length,n,"internal-error");let i=s.users[0];t._notifyReloadListener(i);let o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?WM(i.providerUserInfo):[],c=Xk(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!c?.length,d=a?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new _0(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function cf(t){return C(this,null,function*(){let e=Ue(t);yield ea(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Xk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function WM(t){return t.map(e=>{var{providerId:n}=e,r=Kl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Zk(t,e){return C(this,null,function*(){let n=yield $M(t,{},()=>C(this,null,function*(){let r=m0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=qM(t,s,"/v1/token",`key=${i}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",J3.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Jk(t,e){return C(this,null,function*(){return Kn(t,"POST","/v2/accounts:revokeToken",V1(t,e))})}var M0=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let n=xM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:s,expiresIn:i}=yield Zk(e,n);this.updateTokensAndExpiration(r,s,Number(i))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new t;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function O1(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var mi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Kl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _0(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield pi(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return sf(this,e)}reload(){return cf(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ea(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(A2(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield pi(this,Qk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,c,a,u,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,z=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,P=(u=n.createdAt)!==null&&u!==void 0?u:void 0,O=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:U,emailVerified:q,isAnonymous:we,providerData:Z,stsTokenManager:L}=n;oe(U&&L,e,"internal-error");let v=M0.fromJSON(this.name,L);oe(typeof U=="string",e,"internal-error"),O1(p,e.name),O1(m,e.name),oe(typeof q=="boolean",e,"internal-error"),oe(typeof we=="boolean",e,"internal-error"),O1(y,e.name),O1(w,e.name),O1(A,e.name),O1(z,e.name),O1(P,e.name),O1(O,e.name);let _=new t({uid:U,auth:e,email:m,emailVerified:q,displayName:p,isAnonymous:we,photoURL:w,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:P,lastLoginAt:O});return Z&&Array.isArray(Z)&&(_.providerData=Z.map(b=>Object.assign({},b))),z&&(_._redirectEventId=z),_}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let s=new M0;s.updateFromServerResponse(n);let i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return yield ea(i),i})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let s=n.users[0];oe(s.localId!==void 0,"internal-error");let i=s.providerUserInfo!==void 0?WM(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new M0;c.updateFromIdToken(r);let a=new t({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(a,u),a})}};var EM=new Map;function Gn(t){F1(t instanceof Function,"Expected a class definition");let e=EM.get(t);return e?(F1(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EM.set(t,e),e)}var eO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),B7=eO;function Q3(t,e,n){return`firebase:${t}:${e}:${n}`}var ta=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:s,name:i}=this.auth;this.fullUserKey=Q3(this.userKey,s.apiKey,i),this.fullPersistenceKey=Q3("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Gn(B7),e,r);let s=(yield Promise.all(n.map(u=>C(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),i=s[0]||Gn(B7),o=Q3(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let d=yield u._get(o);if(d){let p=mi._fromJSON(e,d);u!==i&&(c=p),i=u;break}}catch{}let a=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new t(i,e,r):(i=a[0],c&&(yield i._set(o,c.toJSON())),yield Promise.all(n.map(u=>C(this,null,function*(){if(u!==i)try{yield u._remove(o)}catch{}}))),new t(i,e,r))})}};function zM(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JM(e))return"Blackberry";if(e_(e))return"Webos";if(QM(e))return"Safari";if((e.includes("chrome/")||YM(e))&&!e.includes("edge/"))return"Chrome";if(ZM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function KM(t=yt()){return/firefox\//i.test(t)}function QM(t=yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YM(t=yt()){return/crios\//i.test(t)}function XM(t=yt()){return/iemobile/i.test(t)}function ZM(t=yt()){return/android/i.test(t)}function JM(t=yt()){return/blackberry/i.test(t)}function e_(t=yt()){return/webos/i.test(t)}function af(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tO(t=yt()){var e;return af(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nO(){return rM()&&document.documentMode===10}function t_(t=yt()){return af(t)||ZM(t)||e_(t)||JM(t)||/windows phone/i.test(t)||XM(t)}function n_(t,e=[]){let n;switch(t){case"Browser":n=zM(yt());break;case"Worker":n=`${zM(yt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${en}/${r}`}var j7=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=i=>new Promise((o,c)=>{try{let a=e(i);o(a)}catch(a){c(a)}});r.onAbort=n,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function rO(n){return C(this,arguments,function*(t,e={}){return Kn(t,"GET","/v2/passwordPolicy",V1(t,e))})}var sO=6,H7=class{constructor(e){var n,r,s,i;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsLowercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};var $7=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new j7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,s;if(!this._deleted&&(this.persistenceManager=yield ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield GM(this,{idToken:e}),r=yield mi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(A2(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),s=r,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield ea(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$k()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(A2(this.app))return Promise.reject(Wn(this));let n=e?Ue(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return A2(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return A2(this.app)?Promise.reject(Wn(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield rO(this),n=new H7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Jk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=yield ta.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};let i=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){let a=e.addObserver(n,r,s);return()=>{o=!0,a()}}else{let a=e.addObserver(n);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let s=yield this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Bk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fr(t){return Ue(t)}var na=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var la={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(t){la=t}function r_(t){return la.loadJS(t)}function oO(){return la.recaptchaEnterpriseScript}function cO(){return la.gapiScript}function s_(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var aO="recaptcha-enterprise",lO="NO_RECAPTCHA",q7=class{constructor(e){this.type=aO,this.auth=Fr(e)}verify(e="verify",n=!1){return C(this,null,function*(){function r(i){return C(this,null,function*(){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise((o,c)=>C(this,null,function*(){Kk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let u=new V7(a);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(a=>{c(a)})}))})}function s(i,o,c){let a=window.grecaptcha;IM(a)?a.enterprise.ready(()=>{a.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(lO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&IM(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=oO();a.length!==0&&(a+=c),r_(a).then(()=>{s(c,i,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})})}};function SM(t,e,n,r=!1){return C(this,null,function*(){let s=new q7(t),i;try{i=yield s.verify(n)}catch{i=yield s.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function G7(t,e,n,r){return C(this,null,function*(){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let i=yield SM(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(i=>C(this,null,function*(){if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield SM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)}))})}function lf(t,e){let n=Dr(t,"auth");if(n.isInitialized()){let s=n.getImmediate(),i=n.getOptions();if(jn(i,e??{}))return s;nn(s,"already-initialized")}return n.initialize({options:e})}function uO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function uf(t,e,n){let r=Fr(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let s=!!n?.disableWarnings,i=i_(e),{host:o,port:c}=fO(e),a=c===null?"":`:${c}`;r.config.emulator={url:`${i}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||dO()}function i_(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fO(t){let e=i_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let i=s[1];return{host:i,port:AM(r.substr(i.length+1))}}else{let[i,o]=r.split(":");return{host:i,port:AM(o)}}}function AM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function dO(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var w0=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function hO(t,e){return C(this,null,function*(){return Kn(t,"POST","/v1/accounts:signUp",e)})}function pO(t,e){return C(this,null,function*(){return I0(t,"POST","/v1/accounts:signInWithPassword",V1(t,e))})}function mO(t,e){return C(this,null,function*(){return I0(t,"POST","/v1/accounts:signInWithEmailLink",V1(t,e))})}function gO(t,e){return C(this,null,function*(){return I0(t,"POST","/v1/accounts:signInWithEmailLink",V1(t,e))})}var L0=class t extends w0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G7(e,n,"signInWithPassword",pO);case"emailLink":return mO(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G7(e,r,"signUpPassword",hO);case"emailLink":return gO(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function P7(t,e){return C(this,null,function*(){return I0(t,"POST","/v1/accounts:signInWithIdp",V1(t,e))})}function yO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vO(t){let e=li(ui(t)).link,n=e?li(ui(e)).deep_link_id:null,r=li(ui(t)).deep_link_id;return(r?li(ui(r)).link:null)||r||n||e||t}var ra=class t{constructor(e){var n,r,s,i,o,c;let a=li(ui(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,d=(r=a.oobCode)!==null&&r!==void 0?r:null,p=yO((s=a.mode)!==null&&s!==void 0?s:null);oe(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(i=a.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=a.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=vO(e);try{return new t(n)}catch{return null}}};var o_=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return L0._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let s=ra.parseLink(r);return oe(s,"argument-error"),L0._fromEmailAndCode(n,s.code,s.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sa=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var W7=class extends sa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function CO(t,e){return C(this,null,function*(){return I0(t,"POST","/v1/accounts:signUp",V1(t,e))})}var gi=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,s=!1){return C(this,null,function*(){let i=yield mi._fromIdTokenResponse(e,r,s),o=DM(r);return new t({user:i,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let s=DM(r);return new t({user:e,providerId:s,_tokenResponse:r,operationType:n})})}};function DM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var K7=class t extends qt{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new t(e,n,r,s)}};function c_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?K7._fromErrorAndOperation(t,i,e,r):i})}function MO(t,e,n=!1){return C(this,null,function*(){let r=yield pi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return gi._forOperation(t,"link",r)})}function _O(t,e,n=!1){return C(this,null,function*(){let{auth:r}=t;if(A2(r.app))return Promise.reject(Wn(r));let s="reauthenticate";try{let i=yield pi(t,c_(r,s,e,t),n);oe(i.idToken,r,"internal-error");let o=of(i.idToken);oe(o,r,"internal-error");let{sub:c}=o;return oe(t.uid===c,r,"user-mismatch"),gi._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&nn(r,"user-mismatch"),i}})}function a_(t,e,n=!1){return C(this,null,function*(){if(A2(t.app))return Promise.reject(Wn(t));let r="signIn",s=yield c_(t,r,e),i=yield gi._fromIdTokenResponse(t,r,s);return n||(yield t._updateCurrentUser(i.user)),i})}function ff(t,e){return C(this,null,function*(){return a_(Fr(t),e)})}function l_(t){return C(this,null,function*(){let e=Fr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function df(t,e,n){return C(this,null,function*(){if(A2(t.app))return Promise.reject(Wn(t));let r=Fr(t),o=yield G7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CO).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&l_(t),a}),c=yield gi._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function hf(t,e,n){return A2(t.app)?Promise.reject(Wn(t)):ff(Ue(t),o_.credential(e,n)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&l_(t),r}))}function wO(t,e){return C(this,null,function*(){return Kn(t,"POST","/v1/accounts:update",e)})}function pf(r,s){return C(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let i=Ue(t),c={idToken:yield i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=yield pi(i,wO(i.auth,c));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;let u=i.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),yield i._updateTokensIfNecessary(a)})}function mf(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function gf(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}function yf(t,e,n,r){return Ue(t).onAuthStateChanged(e,n,r)}function vf(t){return Ue(t).signOut()}var ia="__sak";var oa=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ia,"1"),this.storage.removeItem(ia),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var LO=1e3,bO=10,IO=(()=>{class t extends oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t_(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let s=this.storage.getItem(r),i=this.localCache[r];s!==i&&n(r,i,s)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let s=n.key;r?this.detachListener():this.stopPolling();let i=()=>{let c=this.storage.getItem(s);!r&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);nO()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(i,bO):i()}notifyListeners(n,r){this.localCache[n]=r;let s=this.listeners[n];if(s)for(let i of Array.from(s))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:s}),!0)})},LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return C(this,null,function*(){yield d1(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return C(this,null,function*(){let r=yield d1(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return C(this,null,function*(){yield d1(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),u_=IO;var xO=(()=>{class t extends oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Cf=xO;function EO(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zO=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(i=>i.isListeningto(n));if(r)return r;let s=new t(n);return this.receivers.push(s),s}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let r=n,{eventId:s,eventType:i,data:o}=r.data,c=this.handlersMap[i];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:i});let a=Array.from(c).map(d=>C(this,null,function*(){return d(r.origin,o)})),u=yield EO(a);r.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function f_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Q7=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return C(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,a)=>{let u=f_("",20);s.port1.start();let d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(d),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function tn(){return window}function SO(t){tn().location.href=t}function d_(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}function AO(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DO(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TO(){return d_()?self:null}var h_="firebaseLocalStorageDb",NO=1,ca="firebaseLocalStorage",p_="fbase_key",Or=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ua(t,e){return t.transaction([ca],e?"readwrite":"readonly").objectStore(ca)}function RO(){let t=indexedDB.deleteDatabase(h_);return new Or(t).toPromise()}function Y7(){let t=indexedDB.open(h_,NO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ca,{keyPath:p_})}catch(s){n(s)}}),t.addEventListener("success",()=>C(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ca)?e(r):(r.close(),yield RO(),e(yield Y7()))}))})}function TM(t,e,n){return C(this,null,function*(){let r=ua(t,!0).put({[p_]:e,value:n});return new Or(r).toPromise()})}function PO(t,e){return C(this,null,function*(){let n=ua(t,!1).get(e),r=yield new Or(n).toPromise();return r===void 0?null:r.value})}function NM(t,e){let n=ua(t,!0).delete(e);return new Or(n).toPromise()}var kO=800,OO=3,FO=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield Y7(),this.db)})}_withRetries(n){return C(this,null,function*(){let r=0;for(;;)try{let s=yield this._openDb();return yield n(s)}catch(s){if(r++>OO)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return d_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=zO._getInstance(TO()),this.receiver._subscribe("keyChanged",(n,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,r;if(this.activeServiceWorker=yield AO(),!this.activeServiceWorker)return;this.sender=new Q7(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((n=s[0])===null||n===void 0)&&n.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DO()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Y7();return yield TM(n,ia,"1"),yield NM(n,ia),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(s=>TM(s,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let r=yield this._withRetries(s=>PO(s,n));return this.localCache[n]=r,r})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>NM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(i=>{let o=ua(i,!1).getAll();return new Or(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],s=new Set;if(n.length!==0)for(let{fbase_key:i,value:o}of n)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),r.push(i));return r})}notifyListeners(n,r){this.localCache[n]=r;let s=this.listeners[n];if(s)for(let i of Array.from(s))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),m_=FO;var tte=s_("rcb"),nte=new kr(3e4,6e4);function VO(t,e){return e?Gn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var b0=class extends w0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return P7(e,this._buildIdpRequest())}_linkToIdToken(e,n){return P7(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return P7(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function UO(t){return a_(t.auth,new b0(t),t.bypassAuthState)}function BO(t){let{auth:e,user:n}=t;return oe(n,e,"internal-error"),_O(n,new b0(t),t.bypassAuthState)}function jO(t){return C(this,null,function*(){let{auth:e,user:n}=t;return oe(n,e,"internal-error"),MO(n,new b0(t),t.bypassAuthState)})}var X7=class{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UO;case"linkViaPopup":case"linkViaRedirect":return jO;case"reauthViaPopup":case"reauthViaRedirect":return BO;default:nn(this.auth,"internal-error")}}resolve(e){F1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){F1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rte=new kr(2e3,1e4);var HO="pendingRedirect",Y3=new Map,Z7=class t extends X7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Y3.get(this.auth._key());if(!e){try{let r=(yield $O(this.resolver,this.auth))?yield d1(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Y3.set(this.auth._key(),e)}return this.bypassAuthState||Y3.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return d1(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,d1(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function $O(t,e){return C(this,null,function*(){let n=WO(e),r=GO(t);if(!(yield r._isAvailable()))return!1;let s=(yield r._get(n))==="true";return yield r._remove(n),s})}function qO(t,e){Y3.set(t._key(),e)}function GO(t){return Gn(t._redirectPersistence)}function WO(t){return Q3(HO,t.config.apiKey,t.name)}function KO(t,e,n=!1){return C(this,null,function*(){if(A2(t.app))return Promise.reject(Wn(t));let r=Fr(t),s=VO(r,e),o=yield new Z7(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var QO=10*60*1e3,J7=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!g_(e)){let s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QO&&this.cachedEventUids.clear(),this.cachedEventUids.has(RM(e))}saveEventToCache(e){this.cachedEventUids.add(RM(e)),this.lastProcessedEventTime=Date.now()}};function RM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g_({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g_(t);default:return!1}}function XO(n){return C(this,arguments,function*(t,e={}){return Kn(t,"GET","/v1/projects",e)})}var ZO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JO=/^https?/;function eF(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield XO(t);for(let n of e)try{if(tF(n))return}catch{}nn(t,"unauthorized-domain")})}function tF(t){let e=O7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JO.test(n))return!1;if(ZO.test(t))return r===t;let s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}var nF=new kr(3e4,6e4);function PM(){let t=tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rF(t){return new Promise((e,n)=>{var r,s,i;function o(){PM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PM(),n(Pr(t,"network-request-failed"))},timeout:nF.get()})}if(!((s=(r=tn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=tn().gapi)===null||i===void 0)&&i.load)o();else{let c=s_("iframefcb");return tn()[c]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},r_(`${cO()}?onload=${c}`).catch(a=>n(a))}}).catch(e=>{throw X3=null,e})}var X3=null;function sF(t){return X3=X3||rF(t),X3}var iF=new kr(5e3,15e3),oF="__/auth/iframe",cF="emulator/auth/iframe",aF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uF(t){let e=t.config;oe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?rf(e,cF):`https://${t.config.authDomain}/${oF}`,r={apiKey:e.apiKey,appName:t.name,v:en},s=lF.get(t.config.apiHost);s&&(r.eid=s);let i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${m0(r).slice(1)}`}function fF(t){return C(this,null,function*(){let e=yield sF(t),n=tn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:uF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aF,dontclear:!0},r=>new Promise((s,i)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Pr(t,"network-request-failed"),c=tn().setTimeout(()=>{i(o)},iF.get());function a(){tn().clearTimeout(c),s(r)}r.ping(a).then(a,()=>{i(o)})})))})}var dF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hF=500,pF=600,mF="_blank",gF="http://localhost",aa=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function yF(t,e,n,r=hF,s=pF){let i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",a=Object.assign(Object.assign({},dF),{width:r.toString(),height:s.toString(),top:i,left:o}),u=yt().toLowerCase();n&&(c=YM(u)?mF:n),KM(u)&&(e=e||gF,a.scrollbars="yes");let d=Object.entries(a).reduce((m,[y,w])=>`${m}${y}=${w},`,"");if(tO(u)&&c!=="_self")return vF(e||"",c),new aa(null);let p=window.open(e||"",c,d);oe(p,t,"popup-blocked");try{p.focus()}catch{}return new aa(p)}function vF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var CF="__/auth/handler",MF="emulator/auth/handler",_F=encodeURIComponent("fac");function kM(t,e,n,r,s,i){return C(this,null,function*(){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:en,eventId:s};if(e instanceof sa){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(i||{}))o[d]=p}if(e instanceof W7){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let d of Object.keys(c))c[d]===void 0&&delete c[d];let a=yield t._getAppCheckToken(),u=a?`#${_F}=${encodeURIComponent(a)}`:"";return`${wF(t)}?${m0(c).slice(1)}${u}`})}function wF({config:t}){return t.emulator?rf(t,MF):`https://${t.authDomain}/${CF}`}var k7="webStorageSupport",ef=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cf,this._completeRedirectFn=KO,this._overrideRedirectResult=qO}_openPopup(e,n,r,s){return C(this,null,function*(){var i;F1((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");let o=yield kM(e,n,r,O7(),s);return yF(e,o,f_())})}_openRedirect(e,n,r,s){return C(this,null,function*(){yield this._originValidation(e);let i=yield kM(e,n,r,O7(),s);return SO(i),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(F1(i,"If manager is not set, promise should be"),i)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return C(this,null,function*(){let n=yield fF(e),r=new J7(e);return n.register("authEvent",s=>(oe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k7,{type:k7},s=>{var i;let o=(i=s?.[0])===null||i===void 0?void 0:i[k7];o!==void 0&&n(!!o),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t_()||QM()||af()}},y_=ef;var OM="@firebase/auth",FM="1.7.9";var tf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function LF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bF(t){J2(new Zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n_(t)},u=new $7(r,s,i,a);return uO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),J2(new Zt("auth-internal",e=>{let n=Fr(e.getProvider("auth").getImmediate());return(r=>new tf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(OM,FM,LF(t)),tt(OM,FM,"esm2017")}var IF=5*60,xF=m7("authIdTokenMaxAge")||IF,VM=null,EF=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xF)return;let s=n?.token;VM!==s&&(VM=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function Mf(t=k1()){let e=Dr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=lf(t,{popupRedirectResolver:y_,persistence:[m_,u_,Cf]}),r=m7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let i=new URL(r,location.origin);if(location.origin===i.origin){let o=EF(i.toString());gf(n,o,()=>o(n.currentUser)),mf(n,c=>o(c))}}let s=h7("auth");return s&&uf(n,`http://${s}`),n}function zF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{let i=Pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",zF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bF("Browser");var v_="auth",Vr=class{constructor(e){return e}},x0=class{constructor(){return v0(v_)}};var _f=new re("angularfire2.auth-instances");function gV(t,e){let n=q3(v_,t,e);return n&&new Vr(n)}function yV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vr(r)}}var vV={provide:x0,deps:[[new Yt,_f]]},CV={provide:Vr,useFactory:gV,deps:[[new Yt,_f],$n]};function C_(t,...e){return tt("angularfire",Nr.full,"auth"),xn([CV,vV,{provide:_f,useFactory:yV(t),multi:!0,deps:[Fe,Qt,hi,Rr,[new Yt,di],...e]}])}var M_=Ke(df,!0);var __=Ke(Mf,!0);var w_=Ke(yf,!0);var L_=Ke(hf,!0);var b_=Ke(vf,!0);var I_=Ke(pf,!0);var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E_={};var U1,wf;(function(){var t;function e(L,v){function _(){}_.prototype=v.prototype,L.D=v.prototype,L.prototype=new _,L.prototype.constructor=L,L.C=function(b,I,E){for(var M=Array(arguments.length-2),l2=2;l2<arguments.length;l2++)M[l2-2]=arguments[l2];return v.prototype[I].apply(b,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,v,_){_||(_=0);var b=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)b[I]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(I=0;16>I;++I)b[I]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=L.g[0],_=L.g[1],I=L.g[2];var E=L.g[3],M=v+(E^_&(I^E))+b[0]+3614090360&4294967295;v=_+(M<<7&4294967295|M>>>25),M=E+(I^v&(_^I))+b[1]+3905402710&4294967295,E=v+(M<<12&4294967295|M>>>20),M=I+(_^E&(v^_))+b[2]+606105819&4294967295,I=E+(M<<17&4294967295|M>>>15),M=_+(v^I&(E^v))+b[3]+3250441966&4294967295,_=I+(M<<22&4294967295|M>>>10),M=v+(E^_&(I^E))+b[4]+4118548399&4294967295,v=_+(M<<7&4294967295|M>>>25),M=E+(I^v&(_^I))+b[5]+1200080426&4294967295,E=v+(M<<12&4294967295|M>>>20),M=I+(_^E&(v^_))+b[6]+2821735955&4294967295,I=E+(M<<17&4294967295|M>>>15),M=_+(v^I&(E^v))+b[7]+4249261313&4294967295,_=I+(M<<22&4294967295|M>>>10),M=v+(E^_&(I^E))+b[8]+1770035416&4294967295,v=_+(M<<7&4294967295|M>>>25),M=E+(I^v&(_^I))+b[9]+2336552879&4294967295,E=v+(M<<12&4294967295|M>>>20),M=I+(_^E&(v^_))+b[10]+4294925233&4294967295,I=E+(M<<17&4294967295|M>>>15),M=_+(v^I&(E^v))+b[11]+2304563134&4294967295,_=I+(M<<22&4294967295|M>>>10),M=v+(E^_&(I^E))+b[12]+1804603682&4294967295,v=_+(M<<7&4294967295|M>>>25),M=E+(I^v&(_^I))+b[13]+4254626195&4294967295,E=v+(M<<12&4294967295|M>>>20),M=I+(_^E&(v^_))+b[14]+2792965006&4294967295,I=E+(M<<17&4294967295|M>>>15),M=_+(v^I&(E^v))+b[15]+1236535329&4294967295,_=I+(M<<22&4294967295|M>>>10),M=v+(I^E&(_^I))+b[1]+4129170786&4294967295,v=_+(M<<5&4294967295|M>>>27),M=E+(_^I&(v^_))+b[6]+3225465664&4294967295,E=v+(M<<9&4294967295|M>>>23),M=I+(v^_&(E^v))+b[11]+643717713&4294967295,I=E+(M<<14&4294967295|M>>>18),M=_+(E^v&(I^E))+b[0]+3921069994&4294967295,_=I+(M<<20&4294967295|M>>>12),M=v+(I^E&(_^I))+b[5]+3593408605&4294967295,v=_+(M<<5&4294967295|M>>>27),M=E+(_^I&(v^_))+b[10]+38016083&4294967295,E=v+(M<<9&4294967295|M>>>23),M=I+(v^_&(E^v))+b[15]+3634488961&4294967295,I=E+(M<<14&4294967295|M>>>18),M=_+(E^v&(I^E))+b[4]+3889429448&4294967295,_=I+(M<<20&4294967295|M>>>12),M=v+(I^E&(_^I))+b[9]+568446438&4294967295,v=_+(M<<5&4294967295|M>>>27),M=E+(_^I&(v^_))+b[14]+3275163606&4294967295,E=v+(M<<9&4294967295|M>>>23),M=I+(v^_&(E^v))+b[3]+4107603335&4294967295,I=E+(M<<14&4294967295|M>>>18),M=_+(E^v&(I^E))+b[8]+1163531501&4294967295,_=I+(M<<20&4294967295|M>>>12),M=v+(I^E&(_^I))+b[13]+2850285829&4294967295,v=_+(M<<5&4294967295|M>>>27),M=E+(_^I&(v^_))+b[2]+4243563512&4294967295,E=v+(M<<9&4294967295|M>>>23),M=I+(v^_&(E^v))+b[7]+1735328473&4294967295,I=E+(M<<14&4294967295|M>>>18),M=_+(E^v&(I^E))+b[12]+2368359562&4294967295,_=I+(M<<20&4294967295|M>>>12),M=v+(_^I^E)+b[5]+4294588738&4294967295,v=_+(M<<4&4294967295|M>>>28),M=E+(v^_^I)+b[8]+2272392833&4294967295,E=v+(M<<11&4294967295|M>>>21),M=I+(E^v^_)+b[11]+1839030562&4294967295,I=E+(M<<16&4294967295|M>>>16),M=_+(I^E^v)+b[14]+4259657740&4294967295,_=I+(M<<23&4294967295|M>>>9),M=v+(_^I^E)+b[1]+2763975236&4294967295,v=_+(M<<4&4294967295|M>>>28),M=E+(v^_^I)+b[4]+1272893353&4294967295,E=v+(M<<11&4294967295|M>>>21),M=I+(E^v^_)+b[7]+4139469664&4294967295,I=E+(M<<16&4294967295|M>>>16),M=_+(I^E^v)+b[10]+3200236656&4294967295,_=I+(M<<23&4294967295|M>>>9),M=v+(_^I^E)+b[13]+681279174&4294967295,v=_+(M<<4&4294967295|M>>>28),M=E+(v^_^I)+b[0]+3936430074&4294967295,E=v+(M<<11&4294967295|M>>>21),M=I+(E^v^_)+b[3]+3572445317&4294967295,I=E+(M<<16&4294967295|M>>>16),M=_+(I^E^v)+b[6]+76029189&4294967295,_=I+(M<<23&4294967295|M>>>9),M=v+(_^I^E)+b[9]+3654602809&4294967295,v=_+(M<<4&4294967295|M>>>28),M=E+(v^_^I)+b[12]+3873151461&4294967295,E=v+(M<<11&4294967295|M>>>21),M=I+(E^v^_)+b[15]+530742520&4294967295,I=E+(M<<16&4294967295|M>>>16),M=_+(I^E^v)+b[2]+3299628645&4294967295,_=I+(M<<23&4294967295|M>>>9),M=v+(I^(_|~E))+b[0]+4096336452&4294967295,v=_+(M<<6&4294967295|M>>>26),M=E+(_^(v|~I))+b[7]+1126891415&4294967295,E=v+(M<<10&4294967295|M>>>22),M=I+(v^(E|~_))+b[14]+2878612391&4294967295,I=E+(M<<15&4294967295|M>>>17),M=_+(E^(I|~v))+b[5]+4237533241&4294967295,_=I+(M<<21&4294967295|M>>>11),M=v+(I^(_|~E))+b[12]+1700485571&4294967295,v=_+(M<<6&4294967295|M>>>26),M=E+(_^(v|~I))+b[3]+2399980690&4294967295,E=v+(M<<10&4294967295|M>>>22),M=I+(v^(E|~_))+b[10]+4293915773&4294967295,I=E+(M<<15&4294967295|M>>>17),M=_+(E^(I|~v))+b[1]+2240044497&4294967295,_=I+(M<<21&4294967295|M>>>11),M=v+(I^(_|~E))+b[8]+1873313359&4294967295,v=_+(M<<6&4294967295|M>>>26),M=E+(_^(v|~I))+b[15]+4264355552&4294967295,E=v+(M<<10&4294967295|M>>>22),M=I+(v^(E|~_))+b[6]+2734768916&4294967295,I=E+(M<<15&4294967295|M>>>17),M=_+(E^(I|~v))+b[13]+1309151649&4294967295,_=I+(M<<21&4294967295|M>>>11),M=v+(I^(_|~E))+b[4]+4149444226&4294967295,v=_+(M<<6&4294967295|M>>>26),M=E+(_^(v|~I))+b[11]+3174756917&4294967295,E=v+(M<<10&4294967295|M>>>22),M=I+(v^(E|~_))+b[2]+718787259&4294967295,I=E+(M<<15&4294967295|M>>>17),M=_+(E^(I|~v))+b[9]+3951481745&4294967295,L.g[0]=L.g[0]+v&4294967295,L.g[1]=L.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,L.g[2]=L.g[2]+I&4294967295,L.g[3]=L.g[3]+E&4294967295}r.prototype.u=function(L,v){v===void 0&&(v=L.length);for(var _=v-this.blockSize,b=this.B,I=this.h,E=0;E<v;){if(I==0)for(;E<=_;)s(this,L,E),E+=this.blockSize;if(typeof L=="string"){for(;E<v;)if(b[I++]=L.charCodeAt(E++),I==this.blockSize){s(this,b),I=0;break}}else for(;E<v;)if(b[I++]=L[E++],I==this.blockSize){s(this,b),I=0;break}}this.h=I,this.o+=v},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var v=1;v<L.length-8;++v)L[v]=0;var _=8*this.o;for(v=L.length-8;v<L.length;++v)L[v]=_&255,_/=256;for(this.u(L),L=Array(16),v=_=0;4>v;++v)for(var b=0;32>b;b+=8)L[_++]=this.g[v]>>>b&255;return L};function i(L,v){var _=c;return Object.prototype.hasOwnProperty.call(_,L)?_[L]:_[L]=v(L)}function o(L,v){this.h=v;for(var _=[],b=!0,I=L.length-1;0<=I;I--){var E=L[I]|0;b&&E==v||(_[I]=E,b=!1)}this.g=_}var c={};function a(L){return-128<=L&&128>L?i(L,function(v){return new o([v|0],0>v?-1:0)}):new o([L|0],0>L?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return z(u(-L));for(var v=[],_=1,b=0;L>=_;b++)v[b]=L/_|0,_*=4294967296;return new o(v,0)}function d(L,v){if(L.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(L.charAt(0)=="-")return z(d(L.substring(1),v));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(v,8)),b=p,I=0;I<L.length;I+=8){var E=Math.min(8,L.length-I),M=parseInt(L.substring(I,I+E),v);8>E?(E=u(Math.pow(v,E)),b=b.j(E).add(u(M))):(b=b.j(_),b=b.add(u(M)))}return b}var p=a(0),m=a(1),y=a(16777216);t=o.prototype,t.m=function(){if(A(this))return-z(this).m();for(var L=0,v=1,_=0;_<this.g.length;_++){var b=this.i(_);L+=(0<=b?b:4294967296+b)*v,v*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(w(this))return"0";if(A(this))return"-"+z(this).toString(L);for(var v=u(Math.pow(L,6)),_=this,b="";;){var I=q(_,v).g;_=P(_,I.j(v));var E=((0<_.g.length?_.g[0]:_.h)>>>0).toString(L);if(_=I,w(_))return E+b;for(;6>E.length;)E="0"+E;b=E+b}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function w(L){if(L.h!=0)return!1;for(var v=0;v<L.g.length;v++)if(L.g[v]!=0)return!1;return!0}function A(L){return L.h==-1}t.l=function(L){return L=P(this,L),A(L)?-1:w(L)?0:1};function z(L){for(var v=L.g.length,_=[],b=0;b<v;b++)_[b]=~L.g[b];return new o(_,~L.h).add(m)}t.abs=function(){return A(this)?z(this):this},t.add=function(L){for(var v=Math.max(this.g.length,L.g.length),_=[],b=0,I=0;I<=v;I++){var E=b+(this.i(I)&65535)+(L.i(I)&65535),M=(E>>>16)+(this.i(I)>>>16)+(L.i(I)>>>16);b=M>>>16,E&=65535,M&=65535,_[I]=M<<16|E}return new o(_,_[_.length-1]&-2147483648?-1:0)};function P(L,v){return L.add(z(v))}t.j=function(L){if(w(this)||w(L))return p;if(A(this))return A(L)?z(this).j(z(L)):z(z(this).j(L));if(A(L))return z(this.j(z(L)));if(0>this.l(y)&&0>L.l(y))return u(this.m()*L.m());for(var v=this.g.length+L.g.length,_=[],b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<L.g.length;I++){var E=this.i(b)>>>16,M=this.i(b)&65535,l2=L.i(I)>>>16,J1=L.i(I)&65535;_[2*b+2*I]+=M*J1,O(_,2*b+2*I),_[2*b+2*I+1]+=E*J1,O(_,2*b+2*I+1),_[2*b+2*I+1]+=M*l2,O(_,2*b+2*I+1),_[2*b+2*I+2]+=E*l2,O(_,2*b+2*I+2)}for(b=0;b<v;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=v;b<2*v;b++)_[b]=0;return new o(_,0)};function O(L,v){for(;(L[v]&65535)!=L[v];)L[v+1]+=L[v]>>>16,L[v]&=65535,v++}function U(L,v){this.g=L,this.h=v}function q(L,v){if(w(v))throw Error("division by zero");if(w(L))return new U(p,p);if(A(L))return v=q(z(L),v),new U(z(v.g),z(v.h));if(A(v))return v=q(L,z(v)),new U(z(v.g),v.h);if(30<L.g.length){if(A(L)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,b=v;0>=b.l(L);)_=we(_),b=we(b);var I=Z(_,1),E=Z(b,1);for(b=Z(b,2),_=Z(_,2);!w(b);){var M=E.add(b);0>=M.l(L)&&(I=I.add(_),E=M),b=Z(b,1),_=Z(_,1)}return v=P(L,I.j(v)),new U(I,v)}for(I=p;0<=L.l(v);){for(_=Math.max(1,Math.floor(L.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),E=u(_),M=E.j(v);A(M)||0<M.l(L);)_-=b,E=u(_),M=E.j(v);w(E)&&(E=m),I=I.add(E),L=P(L,M)}return new U(I,L)}t.A=function(L){return q(this,L).h},t.and=function(L){for(var v=Math.max(this.g.length,L.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)&L.i(b);return new o(_,this.h&L.h)},t.or=function(L){for(var v=Math.max(this.g.length,L.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)|L.i(b);return new o(_,this.h|L.h)},t.xor=function(L){for(var v=Math.max(this.g.length,L.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)^L.i(b);return new o(_,this.h^L.h)};function we(L){for(var v=L.g.length+1,_=[],b=0;b<v;b++)_[b]=L.i(b)<<1|L.i(b-1)>>>31;return new o(_,L.h)}function Z(L,v){var _=v>>5;v%=32;for(var b=L.g.length-_,I=[],E=0;E<b;E++)I[E]=0<v?L.i(E+_)>>>v|L.i(E+_+1)<<32-v:L.i(E+_);return new o(I,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wf=E_.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,U1=E_.Integer=o}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var Lf,_V,yi,bf,E0,da,If,xf,Ef;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,h){return l==Array.prototype||l==Object.prototype||(l[f]=h.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fa=="object"&&fa];for(var f=0;f<l.length;++f){var h=l[f];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var h=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var x=l[g];if(!(x in h))break e;h=h[x]}l=l[l.length-1],g=h[l],f=f(g),f!=g&&f!=null&&e(h,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var h=0,g=!1,x={next:function(){if(!g&&h<l.length){var S=h++;return{value:f(S,l[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,h){return h})}});var o=o||{},c=this||self;function a(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,h){return l.call.apply(l.bind,arguments)}function p(l,f,h){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),l.apply(f,x)}}return function(){return l.apply(f,arguments)}}function m(l,f,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function y(l,f){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function w(l,f){function h(){}h.prototype=f.prototype,l.aa=f.prototype,l.prototype=new h,l.prototype.constructor=l,l.Qb=function(g,x,S){for(var V=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)V[Oe-2]=arguments[Oe];return f.prototype[x].apply(g,V)}}function A(l){let f=l.length;if(0<f){let h=Array(f);for(let g=0;g<f;g++)h[g]=l[g];return h}return[]}function z(l,f){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(a(g)){let x=l.length||0,S=g.length||0;l.length=x+S;for(let V=0;V<S;V++)l[x+V]=g[V]}else l.push(g)}}class P{constructor(f,h){this.i=f,this.j=h,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function O(l){return/^[\s\xa0]*$/.test(l)}function U(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function q(l){return q[" "](l),l}q[" "]=function(){};var we=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(l,f,h){for(let g in l)f.call(h,l[g],g,l)}function L(l,f){for(let h in l)f.call(void 0,l[h],h,l)}function v(l){let f={};for(let h in l)f[h]=l[h];return f}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,f){let h,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(h in g)l[h]=g[h];for(let S=0;S<_.length;S++)h=_[S],Object.prototype.hasOwnProperty.call(g,h)&&(l[h]=g[h])}}function I(l){var f=1;l=l.split(":");let h=[];for(;0<f&&l.length;)h.push(l.shift()),f--;return l.length&&h.push(l.join(":")),h}function E(l){c.setTimeout(()=>{throw l},0)}function M(){var l=V2;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class l2{constructor(){this.h=this.g=null}add(f,h){let g=J1.get();g.set(f,h),this.h?this.h.next=g:this.g=g,this.h=g}}var J1=new P(()=>new sl,l=>l.reset());class sl{constructor(){this.next=this.g=this.h=null}set(f,h){this.h=f,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let F2,c1=!1,V2=new l2,mn=()=>{let l=c.Promise.resolve(void 0);F2=()=>{l.then(sx)}};var sx=()=>{for(var l;l=M();){try{l.h.call(l.g)}catch(h){E(h)}var f=J1;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}c1=!1};function a1(){this.s=this.s,this.C=this.C}a1.prototype.s=!1,a1.prototype.ma=function(){this.s||(this.s=!0,this.N())},a1.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var ix=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let h=()=>{};c.addEventListener("test",h,f),c.removeEventListener("test",h,f)}catch{}return l}();function to(l,f){if(bt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var h=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(we){e:{try{q(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else h=="mouseover"?f=l.fromElement:h=="mouseout"&&(f=l.toElement);this.relatedTarget=f,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ox[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&to.aa.h.call(this)}}w(to,bt);var ox={2:"touch",3:"pen",4:"mouse"};to.prototype.h=function(){to.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var no="closure_listenable_"+(1e6*Math.random()|0),cx=0;function ax(l,f,h,g,x){this.listener=l,this.proxy=null,this.src=f,this.type=h,this.capture=!!g,this.ha=x,this.key=++cx,this.da=this.fa=!1}function gc(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function yc(l){this.src=l,this.g={},this.h=0}yc.prototype.add=function(l,f,h,g,x){var S=l.toString();l=this.g[S],l||(l=this.g[S]=[],this.h++);var V=ol(l,f,g,x);return-1<V?(f=l[V],h||(f.fa=!1)):(f=new ax(f,this.src,S,!!g,x),f.fa=h,l.push(f)),f};function il(l,f){var h=f.type;if(h in l.g){var g=l.g[h],x=Array.prototype.indexOf.call(g,f,void 0),S;(S=0<=x)&&Array.prototype.splice.call(g,x,1),S&&(gc(f),l.g[h].length==0&&(delete l.g[h],l.h--))}}function ol(l,f,h,g){for(var x=0;x<l.length;++x){var S=l[x];if(!S.da&&S.listener==f&&S.capture==!!h&&S.ha==g)return x}return-1}var cl="closure_lm_"+(1e6*Math.random()|0),al={};function Uh(l,f,h,g,x){if(g&&g.once)return jh(l,f,h,g,x);if(Array.isArray(f)){for(var S=0;S<f.length;S++)Uh(l,f[S],h,g,x);return null}return h=dl(h),l&&l[no]?l.K(f,h,u(g)?!!g.capture:!!g,x):Bh(l,f,h,!1,g,x)}function Bh(l,f,h,g,x,S){if(!f)throw Error("Invalid event type");var V=u(x)?!!x.capture:!!x,Oe=ul(l);if(Oe||(l[cl]=Oe=new yc(l)),h=Oe.add(f,h,g,V,S),h.proxy)return h;if(g=lx(),h.proxy=g,g.src=l,g.listener=h,l.addEventListener)ix||(x=V),x===void 0&&(x=!1),l.addEventListener(f.toString(),g,x);else if(l.attachEvent)l.attachEvent($h(f.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function lx(){function l(h){return f.call(l.src,l.listener,h)}let f=ux;return l}function jh(l,f,h,g,x){if(Array.isArray(f)){for(var S=0;S<f.length;S++)jh(l,f[S],h,g,x);return null}return h=dl(h),l&&l[no]?l.L(f,h,u(g)?!!g.capture:!!g,x):Bh(l,f,h,!0,g,x)}function Hh(l,f,h,g,x){if(Array.isArray(f))for(var S=0;S<f.length;S++)Hh(l,f[S],h,g,x);else g=u(g)?!!g.capture:!!g,h=dl(h),l&&l[no]?(l=l.i,f=String(f).toString(),f in l.g&&(S=l.g[f],h=ol(S,h,g,x),-1<h&&(gc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete l.g[f],l.h--)))):l&&(l=ul(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ol(f,h,g,x)),(h=-1<l?f[l]:null)&&ll(h))}function ll(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[no])il(f.i,l);else{var h=l.type,g=l.proxy;f.removeEventListener?f.removeEventListener(h,g,l.capture):f.detachEvent?f.detachEvent($h(h),g):f.addListener&&f.removeListener&&f.removeListener(g),(h=ul(f))?(il(h,l),h.h==0&&(h.src=null,f[cl]=null)):gc(l)}}}function $h(l){return l in al?al[l]:al[l]="on"+l}function ux(l,f){if(l.da)l=!0;else{f=new to(f,this);var h=l.listener,g=l.ha||l.src;l.fa&&ll(l),l=h.call(g,f)}return l}function ul(l){return l=l[cl],l instanceof yc?l:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function dl(l){return typeof l=="function"?l:(l[fl]||(l[fl]=function(f){return l.handleEvent(f)}),l[fl])}function It(){a1.call(this),this.i=new yc(this),this.M=this,this.F=null}w(It,a1),It.prototype[no]=!0,It.prototype.removeEventListener=function(l,f,h,g){Hh(this,l,f,h,g)};function Ot(l,f){var h,g=l.F;if(g)for(h=[];g;g=g.F)h.push(g);if(l=l.M,g=f.type||f,typeof f=="string")f=new bt(f,l);else if(f instanceof bt)f.target=f.target||l;else{var x=f;f=new bt(g,l),b(f,x)}if(x=!0,h)for(var S=h.length-1;0<=S;S--){var V=f.g=h[S];x=vc(V,g,!0,f)&&x}if(V=f.g=l,x=vc(V,g,!0,f)&&x,x=vc(V,g,!1,f)&&x,h)for(S=0;S<h.length;S++)V=f.g=h[S],x=vc(V,g,!1,f)&&x}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var h=l.g[f],g=0;g<h.length;g++)gc(h[g]);delete l.g[f],l.h--}}this.F=null},It.prototype.K=function(l,f,h,g){return this.i.add(String(l),f,!1,h,g)},It.prototype.L=function(l,f,h,g){return this.i.add(String(l),f,!0,h,g)};function vc(l,f,h,g){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,S=0;S<f.length;++S){var V=f[S];if(V&&!V.da&&V.capture==h){var Oe=V.listener,Ct=V.ha||V.src;V.fa&&il(l.i,V),x=Oe.call(Ct,g)!==!1&&x}}return x&&!g.defaultPrevented}function qh(l,f,h){if(typeof l=="function")h&&(l=m(l,h));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(l,f||0)}function Gh(l){l.g=qh(()=>{l.g=null,l.i&&(l.i=!1,Gh(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class fx extends a1{constructor(f,h){super(),this.m=f,this.l=h,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Gh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(l){a1.call(this),this.h=l,this.g={}}w(ro,a1);var Wh=[];function Kh(l){Z(l.g,function(f,h){this.g.hasOwnProperty(h)&&ll(f)},l),l.g={}}ro.prototype.N=function(){ro.aa.N.call(this),Kh(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hl=c.JSON.stringify,dx=c.JSON.parse,hx=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function pl(){}pl.prototype.h=null;function Qh(l){return l.h||(l.h=l.i())}function Yh(){}var so={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ml(){bt.call(this,"d")}w(ml,bt);function gl(){bt.call(this,"c")}w(gl,bt);var er={},Xh=null;function Cc(){return Xh=Xh||new It}er.La="serverreachability";function Zh(l){bt.call(this,er.La,l)}w(Zh,bt);function io(l){let f=Cc();Ot(f,new Zh(f))}er.STAT_EVENT="statevent";function Jh(l,f){bt.call(this,er.STAT_EVENT,l),this.stat=f}w(Jh,bt);function Ft(l){let f=Cc();Ot(f,new Jh(f,l))}er.Ma="timingevent";function ep(l,f){bt.call(this,er.Ma,l),this.size=f}w(ep,bt);function oo(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},f)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function px(l,f,h,g,x,S){l.info(function(){if(l.g)if(S)for(var V="",Oe=S.split("&"),Ct=0;Ct<Oe.length;Ct++){var Ae=Oe[Ct].split("=");if(1<Ae.length){var xt=Ae[0];Ae=Ae[1];var Et=xt.split("_");V=2<=Et.length&&Et[1]=="type"?V+(xt+"="+Ae+"&"):V+(xt+"=redacted&")}}else V=null;else V=S;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+f+`
`+h+`
`+V})}function mx(l,f,h,g,x,S,V){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+f+`
`+h+`
`+S+" "+V})}function ss(l,f,h,g){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+yx(l,h)+(g?" "+g:"")})}function gx(l,f){l.info(function(){return"TIMEOUT: "+f})}co.prototype.info=function(){};function yx(l,f){if(!l.g)return f;if(!f)return null;try{var h=JSON.parse(f);if(h){for(l=0;l<h.length;l++)if(Array.isArray(h[l])){var g=h[l];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var S=x[0];if(S!="noop"&&S!="stop"&&S!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return hl(h)}catch{return f}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yl;function _c(){}w(_c,pl),_c.prototype.g=function(){return new XMLHttpRequest},_c.prototype.i=function(){return{}},yl=new _c;function l1(l,f,h,g){this.j=l,this.i=f,this.l=h,this.R=g||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new np}function np(){this.i=null,this.g="",this.h=!1}var rp={},vl={};function Cl(l,f,h){l.L=1,l.v=Ic(gn(f)),l.m=h,l.P=!0,sp(l,null)}function sp(l,f){l.F=Date.now(),wc(l),l.A=gn(l.v);var h=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),vp(h.i,"t",g),l.C=0,h=l.j.J,l.h=new np,l.g=kp(l.j,h?f:null,!l.m),0<l.O&&(l.M=new fx(m(l.Y,l,l.g),l.O)),f=l.U,h=l.g,g=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(Wh[0]=x.toString()),x=Wh);for(var S=0;S<x.length;S++){var V=Uh(h,x[S],g||f.handleEvent,!1,f.h||f);if(!V)break;f.g[V.key]=V}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),io(),px(l.i,l.u,l.A,l.l,l.R,l.m)}l1.prototype.ca=function(l){l=l.target;let f=this.M;f&&yn(l)==3?f.j():this.Y(l)},l1.prototype.Y=function(l){try{if(l==this.g)e:{let Et=yn(this.g);var f=this.g.Ba();let cs=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Ip(this.g)))){this.J||Et!=4||f==7||(f==8||0>=cs?io(3):io(2)),Ml(this);var h=this.g.Z();this.X=h;t:if(ip(this)){var g=Ip(this.g);l="";var x=g.length,S=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),ao(this);var V="";break t}this.h.i=new c.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,l+=this.h.i.decode(g[f],{stream:!(S&&f==x-1)});g.length=0,this.h.g+=l,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=h==200,mx(this.i,this.u,this.A,this.l,this.R,Et,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Ct=this.g;if((Oe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Oe)){var Ae=Oe;break t}}Ae=null}if(h=Ae)ss(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_l(this,h);else{this.o=!1,this.s=3,Ft(12),tr(this),ao(this);break e}}if(this.P){h=!0;let M2;for(;!this.J&&this.C<V.length;)if(M2=vx(this,V),M2==vl){Et==4&&(this.s=4,Ft(14),h=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(M2==rp){this.s=4,Ft(15),ss(this.i,this.l,V,"[Invalid Chunk]"),h=!1;break}else ss(this.i,this.l,M2,null),_l(this,M2);if(ip(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||V.length!=0||this.h.h||(this.s=1,Ft(16),h=!1),this.o=this.o&&h,!h)ss(this.i,this.l,V,"[Invalid Chunked Response]"),tr(this),ao(this);else if(0<V.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),El(xt),xt.M=!0,Ft(11))}}else ss(this.i,this.l,V,null),_l(this,V);Et==4&&tr(this),this.o&&!this.J&&(Et==4?Tp(this.j,this):(this.o=!1,wc(this)))}else Px(this.g),h==400&&0<V.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),tr(this),ao(this)}}}catch{}finally{}};function ip(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function vx(l,f){var h=l.C,g=f.indexOf(`
`,h);return g==-1?vl:(h=Number(f.substring(h,g)),isNaN(h)?rp:(g+=1,g+h>f.length?vl:(f=f.slice(g,g+h),l.C=g+h,f)))}l1.prototype.cancel=function(){this.J=!0,tr(this)};function wc(l){l.S=Date.now()+l.I,op(l,l.I)}function op(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=oo(m(l.ba,l),f)}function Ml(l){l.B&&(c.clearTimeout(l.B),l.B=null)}l1.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(gx(this.i,this.A),this.L!=2&&(io(),Ft(17)),tr(this),this.s=2,ao(this)):op(this,this.S-l)};function ao(l){l.j.G==0||l.J||Tp(l.j,l)}function tr(l){Ml(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Kh(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function _l(l,f){try{var h=l.j;if(h.G!=0&&(h.g==l||wl(h.h,l))){if(!l.K&&wl(h.h,l)&&h.G==3){try{var g=h.Da.g.parse(f)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<l.F)Ac(h),zc(h);else break e;xl(h),Ft(18)}}else h.za=x[1],0<h.za-h.T&&37500>x[2]&&h.F&&h.v==0&&!h.C&&(h.C=oo(m(h.Za,h),6e3));if(1>=lp(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else rr(h,11)}else if((l.K||h.g==l)&&Ac(h),!O(f))for(x=h.Da.g.parse(f),f=0;f<x.length;f++){let Ae=x[f];if(h.T=Ae[0],Ae=Ae[1],h.G==2)if(Ae[0]=="c"){h.K=Ae[1],h.ia=Ae[2];let xt=Ae[3];xt!=null&&(h.la=xt,h.j.info("VER="+h.la));let Et=Ae[4];Et!=null&&(h.Aa=Et,h.j.info("SVER="+h.Aa));let cs=Ae[5];cs!=null&&typeof cs=="number"&&0<cs&&(g=1.5*cs,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let M2=l.g;if(M2){let Tc=M2.g?M2.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var S=g.h;S.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ll(S,S.h),S.h=null))}if(g.D){let zl=M2.g?M2.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(g.ya=zl,He(g.I,g.D,zl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-l.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var V=l;if(g.qa=Pp(g,g.J?g.ia:null,g.W),V.K){up(g.h,V);var Oe=V,Ct=g.L;Ct&&(Oe.I=Ct),Oe.B&&(Ml(Oe),wc(Oe)),g.g=V}else Ap(g);0<h.i.length&&Sc(h)}else Ae[0]!="stop"&&Ae[0]!="close"||rr(h,7);else h.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?rr(h,7):Il(h):Ae[0]!="noop"&&h.l&&h.l.ta(Ae),h.v=0)}}io(4)}catch{}}var Cx=class{constructor(l,f){this.g=l,this.map=f}};function cp(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ap(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function lp(l){return l.h?1:l.g?l.g.size:0}function wl(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ll(l,f){l.g?l.g.add(f):l.h=f}function up(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}cp.prototype.cancel=function(){if(this.i=fp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function fp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let h of l.g.values())f=f.concat(h.D);return f}return A(l.i)}function Mx(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(a(l)){for(var f=[],h=l.length,g=0;g<h;g++)f.push(l[g]);return f}f=[],h=0;for(g in l)f[h++]=l[g];return f}function _x(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(a(l)||typeof l=="string"){var f=[];l=l.length;for(var h=0;h<l;h++)f.push(h);return f}f=[],h=0;for(let g in l)f[h++]=g;return f}}}function dp(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(a(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var h=_x(l),g=Mx(l),x=g.length,S=0;S<x;S++)f.call(void 0,g[S],h&&h[S],l)}var hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wx(l,f){if(l){l=l.split("&");for(var h=0;h<l.length;h++){var g=l[h].indexOf("="),x=null;if(0<=g){var S=l[h].substring(0,g);x=l[h].substring(g+1)}else S=l[h];f(S,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,Lc(this,l.j),this.o=l.o,this.g=l.g,bc(this,l.s),this.l=l.l;var f=l.i,h=new fo;h.i=f.i,f.g&&(h.g=new Map(f.g),h.h=f.h),pp(this,h),this.m=l.m}else l&&(f=String(l).match(hp))?(this.h=!1,Lc(this,f[1]||"",!0),this.o=lo(f[2]||""),this.g=lo(f[3]||"",!0),bc(this,f[4]),this.l=lo(f[5]||"",!0),pp(this,f[6]||"",!0),this.m=lo(f[7]||"")):(this.h=!1,this.i=new fo(null,this.h))}nr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(uo(f,mp,!0),":");var h=this.g;return(h||f=="file")&&(l.push("//"),(f=this.o)&&l.push(uo(f,mp,!0),"@"),l.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&l.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&l.push("/"),l.push(uo(h,h.charAt(0)=="/"?Ix:bx,!0))),(h=this.i.toString())&&l.push("?",h),(h=this.m)&&l.push("#",uo(h,Ex)),l.join("")};function gn(l){return new nr(l)}function Lc(l,f,h){l.j=h?lo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function bc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function pp(l,f,h){f instanceof fo?(l.i=f,zx(l.i,l.h)):(h||(f=uo(f,xx)),l.i=new fo(f,l.h))}function He(l,f,h){l.i.set(f,h)}function Ic(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function lo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function uo(l,f,h){return typeof l=="string"?(l=encodeURI(l).replace(f,Lx),h&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Lx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var mp=/[#\/\?@]/g,bx=/[#\?:]/g,Ix=/[#\?]/g,xx=/[#\?@]/g,Ex=/#/g;function fo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function u1(l){l.g||(l.g=new Map,l.h=0,l.i&&wx(l.i,function(f,h){l.add(decodeURIComponent(f.replace(/\+/g," ")),h)}))}t=fo.prototype,t.add=function(l,f){u1(this),this.i=null,l=is(this,l);var h=this.g.get(l);return h||this.g.set(l,h=[]),h.push(f),this.h+=1,this};function gp(l,f){u1(l),f=is(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function yp(l,f){return u1(l),f=is(l,f),l.g.has(f)}t.forEach=function(l,f){u1(this),this.g.forEach(function(h,g){h.forEach(function(x){l.call(f,x,g,this)},this)},this)},t.na=function(){u1(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),h=[];for(let g=0;g<f.length;g++){let x=l[g];for(let S=0;S<x.length;S++)h.push(f[g])}return h},t.V=function(l){u1(this);let f=[];if(typeof l=="string")yp(this,l)&&(f=f.concat(this.g.get(is(this,l))));else{l=Array.from(this.g.values());for(let h=0;h<l.length;h++)f=f.concat(l[h])}return f},t.set=function(l,f){return u1(this),this.i=null,l=is(this,l),yp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function vp(l,f,h){gp(l,f),0<h.length&&(l.i=null,l.g.set(is(l,f),A(h)),l.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var h=0;h<f.length;h++){var g=f[h];let S=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var x=S;V[g]!==""&&(x+="="+encodeURIComponent(String(V[g]))),l.push(x)}}return this.i=l.join("&")};function is(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function zx(l,f){f&&!l.j&&(u1(l),l.i=null,l.g.forEach(function(h,g){var x=g.toLowerCase();g!=x&&(gp(this,g),vp(this,x,h))},l)),l.j=f}function Sx(l,f){let h=new co;if(c.Image){let g=new Image;g.onload=y(f1,h,"TestLoadImage: loaded",!0,f,g),g.onerror=y(f1,h,"TestLoadImage: error",!1,f,g),g.onabort=y(f1,h,"TestLoadImage: abort",!1,f,g),g.ontimeout=y(f1,h,"TestLoadImage: timeout",!1,f,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else f(!1)}function Ax(l,f){let h=new co,g=new AbortController,x=setTimeout(()=>{g.abort(),f1(h,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:g.signal}).then(S=>{clearTimeout(x),S.ok?f1(h,"TestPingServer: ok",!0,f):f1(h,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),f1(h,"TestPingServer: error",!1,f)})}function f1(l,f,h,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(h)}catch{}}function Dx(){this.g=new hx}function Tx(l,f,h){let g=h||"";try{dp(l,function(x,S){let V=x;u(x)&&(V=hl(x)),f.push(g+S+"="+encodeURIComponent(V))})}catch(x){throw f.push(g+"type="+encodeURIComponent("_badmap")),x}}function ho(l){this.l=l.Ub||null,this.j=l.eb||!1}w(ho,pl),ho.prototype.g=function(){return new xc(this.l,this.j)},ho.prototype.i=function(l){return function(){return l}}({});function xc(l,f){It.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(xc,It),t=xc.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,mo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?po(this):mo(this),this.readyState==3&&Cp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,po(this))},t.Qa=function(l){this.g&&(this.response=l,po(this))},t.ga=function(){this.g&&po(this)};function po(l){l.readyState=4,l.l=null,l.j=null,l.v=null,mo(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var h=f.next();!h.done;)h=h.value,l.push(h[0]+": "+h[1]),h=f.next();return l.join(`\r
`)};function mo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Mp(l){let f="";return Z(l,function(h,g){f+=g,f+=":",f+=h,f+=`\r
`}),f}function bl(l,f,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Mp(h),typeof l=="string"?h!=null&&encodeURIComponent(String(h)):He(l,f,h))}function Ze(l){It.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ze,It);var Nx=/^https?$/i,Rx=["POST","PUT"];t=Ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yl.g(),this.v=this.o?Qh(this.o):Qh(yl),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(S){_p(this,S);return}if(l=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)h.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),x=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Rx,f,void 0))||g||x||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,V]of h)this.g.setRequestHeader(S,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bp(this),this.u=!0,this.g.send(l),this.u=!1}catch(S){_p(this,S)}};function _p(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,wp(l),Ec(l)}function wp(l){l.A||(l.A=!0,Ot(l,"complete"),Ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ot(this,"complete"),Ot(this,"abort"),Ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lp(this):this.bb())},t.bb=function(){Lp(this)};function Lp(l){if(l.h&&typeof o<"u"&&(!l.v[1]||yn(l)!=4||l.Z()!=2)){if(l.u&&yn(l)==4)qh(l.Ea,0,l);else if(Ot(l,"readystatechange"),yn(l)==4){l.h=!1;try{let V=l.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var h;if(!(h=f)){var g;if(g=V===0){var x=String(l.D).match(hp)[1]||null;!x&&c.self&&c.self.location&&(x=c.self.location.protocol.slice(0,-1)),g=!Nx.test(x?x.toLowerCase():"")}h=g}if(h)Ot(l,"complete"),Ot(l,"success");else{l.m=6;try{var S=2<yn(l)?l.g.statusText:""}catch{S=""}l.l=S+" ["+l.Z()+"]",wp(l)}}finally{Ec(l)}}}}function Ec(l,f){if(l.g){bp(l);let h=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ot(l,"ready");try{h.onreadystatechange=g}catch{}}}function bp(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),dx(f)}};function Ip(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Px(l){let f={};l=(l.g&&2<=yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(O(l[g]))continue;var h=I(l[g]);let x=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=f[x]||[];f[x]=S,S.push(h)}L(f,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(l,f,h){return h&&h.internalChannelParams&&h.internalChannelParams[l]||f}function xp(l){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=go("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=go("baseRetryDelayMs",5e3,l),this.cb=go("retryDelaySeedMs",1e4,l),this.Wa=go("forwardChannelMaxRetries",2,l),this.wa=go("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new cp(l&&l.concurrentRequestLimit),this.Da=new Dx,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xp.prototype,t.la=8,t.G=1,t.connect=function(l,f,h,g){Ft(0),this.W=l,this.H=f||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Pp(this,null,this.W),Sc(this)};function Il(l){if(Ep(l),l.G==3){var f=l.U++,h=gn(l.I);if(He(h,"SID",l.K),He(h,"RID",f),He(h,"TYPE","terminate"),yo(l,h),f=new l1(l,l.j,f),f.L=2,f.v=Ic(gn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=f.v,h=!0),h||(f.g=kp(f.j,null),f.g.ea(f.v)),f.F=Date.now(),wc(f)}Rp(l)}function zc(l){l.g&&(El(l),l.g.cancel(),l.g=null)}function Ep(l){zc(l),l.u&&(c.clearTimeout(l.u),l.u=null),Ac(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function Sc(l){if(!ap(l.h)&&!l.s){l.s=!0;var f=l.Ga;F2||mn(),c1||(F2(),c1=!0),V2.add(f,l),l.B=0}}function kx(l,f){return lp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=oo(m(l.Ga,l,f),Np(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new l1(this,this.j,l),S=this.o;if(this.S&&(S?(S=v(S),b(S,this.S)):S=this.S),this.m!==null||this.O||(x.H=S,S=null),this.P)e:{for(var f=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(f+=g,4096<f){f=h;break e}if(f===4096||h===this.i.length-1){f=h+1;break e}}f=1e3}else f=1e3;f=Sp(this,x,f),h=gn(this.I),He(h,"RID",l),He(h,"CVER",22),this.D&&He(h,"X-HTTP-Session-Id",this.D),yo(this,h),S&&(this.O?f="headers="+encodeURIComponent(String(Mp(S)))+"&"+f:this.m&&bl(h,this.m,S)),Ll(this.h,x),this.Ua&&He(h,"TYPE","init"),this.P?(He(h,"$req",f),He(h,"SID","null"),x.T=!0,Cl(x,h,null)):Cl(x,h,f),this.G=2}}else this.G==3&&(l?zp(this,l):this.i.length==0||ap(this.h)||zp(this))};function zp(l,f){var h;f?h=f.l:h=l.U++;let g=gn(l.I);He(g,"SID",l.K),He(g,"RID",h),He(g,"AID",l.T),yo(l,g),l.m&&l.o&&bl(g,l.m,l.o),h=new l1(l,l.j,h,l.B+1),l.m===null&&(h.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Sp(l,h,1e3),h.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ll(l.h,h),Cl(h,g,f)}function yo(l,f){l.H&&Z(l.H,function(h,g){He(f,g,h)}),l.l&&dp({},function(h,g){He(f,g,h)})}function Sp(l,f,h){h=Math.min(l.i.length,h);var g=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let S=-1;for(;;){let V=["count="+h];S==-1?0<h?(S=x[0].g,V.push("ofs="+S)):S=0:V.push("ofs="+S);let Oe=!0;for(let Ct=0;Ct<h;Ct++){let Ae=x[Ct].g,xt=x[Ct].map;if(Ae-=S,0>Ae)S=Math.max(0,x[Ct].g-100),Oe=!1;else try{Tx(xt,V,"req"+Ae+"_")}catch{g&&g(xt)}}if(Oe){g=V.join("&");break e}}}return l=l.i.splice(0,h),f.D=l,g}function Ap(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;F2||mn(),c1||(F2(),c1=!0),V2.add(f,l),l.v=0}}function xl(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=oo(m(l.Fa,l),Np(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=oo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),zc(this),Dp(this))};function El(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Dp(l){l.g=new l1(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=gn(l.qa);He(f,"RID","rpc"),He(f,"SID",l.K),He(f,"AID",l.T),He(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(f,"TO",l.ja),He(f,"TYPE","xmlhttp"),yo(l,f),l.m&&l.o&&bl(f,l.m,l.o),l.L&&(l.g.I=l.L);var h=l.g;l=l.ia,h.L=1,h.v=Ic(gn(f)),h.m=null,h.P=!0,sp(h,l)}t.Za=function(){this.C!=null&&(this.C=null,zc(this),xl(this),Ft(19))};function Ac(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Tp(l,f){var h=null;if(l.g==f){Ac(l),El(l),l.g=null;var g=2}else if(wl(l.h,f))h=f.D,up(l.h,f),g=1;else return;if(l.G!=0){if(f.o)if(g==1){h=f.m?f.m.length:0,f=Date.now()-f.F;var x=l.B;g=Cc(),Ot(g,new ep(g,h)),Sc(l)}else Ap(l);else if(x=f.s,x==3||x==0&&0<f.X||!(g==1&&kx(l,f)||g==2&&xl(l)))switch(h&&0<h.length&&(f=l.h,f.i=f.i.concat(h)),x){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Np(l,f){let h=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(h*=2),h*f}function rr(l,f){if(l.j.info("Error code "+f),f==2){var h=m(l.fb,l),g=l.Xa;let x=!g;g=new nr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Lc(g,"https"),Ic(g),x?Sx(g.toString(),h):Ax(g.toString(),h)}else Ft(2);l.G=0,l.l&&l.l.sa(f),Rp(l),Ep(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Rp(l){if(l.G=0,l.ka=[],l.l){let f=fp(l.h);(f.length!=0||l.i.length!=0)&&(z(l.ka,f),z(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function Pp(l,f,h){var g=h instanceof nr?gn(h):new nr(h);if(g.g!="")f&&(g.g=f+"."+g.g),bc(g,g.s);else{var x=c.location;g=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var S=new nr(null);g&&Lc(S,g),f&&(S.g=f),x&&bc(S,x),h&&(S.l=h),g=S}return h=l.D,f=l.ya,h&&f&&He(g,h,f),He(g,"VER",l.la),yo(l,g),g}function kp(l,f,h){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ze(new ho({eb:h})):new Ze(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Op(){}t=Op.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dc(){}Dc.prototype.g=function(l,f){return new e2(l,f)};function e2(l,f){It.call(this),this.g=new xp(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!O(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!O(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new os(this)}w(e2,It),e2.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},e2.prototype.close=function(){Il(this.g)},e2.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var h={};h.__data__=l,l=h}else this.u&&(h={},h.__data__=hl(l),l=h);f.i.push(new Cx(f.Ya++,l)),f.G==3&&Sc(f)},e2.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,e2.aa.N.call(this)};function Fp(l){ml.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let h in f){l=h;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}w(Fp,ml);function Vp(){gl.call(this),this.status=1}w(Vp,gl);function os(l){this.g=l}w(os,Op),os.prototype.ua=function(){Ot(this.g,"a")},os.prototype.ta=function(l){Ot(this.g,new Fp(l))},os.prototype.sa=function(l){Ot(this.g,new Vp)},os.prototype.ra=function(){Ot(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,e2.prototype.send=e2.prototype.o,e2.prototype.open=e2.prototype.m,e2.prototype.close=e2.prototype.close,Ef=Qn.createWebChannelTransport=function(){return new Dc},xf=Qn.getStatEventTarget=function(){return Cc()},If=Qn.Event=er,da=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,E0=Qn.ErrorCode=Mc,tp.COMPLETE="complete",bf=Qn.EventType=tp,Yh.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",It.prototype.listen=It.prototype.K,yi=Qn.WebChannel=Yh,_V=Qn.FetchXmlHttpFactory=ho,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Lf=Qn.XhrIo=Ze}).apply(typeof fa<"u"?fa:typeof self<"u"?self:typeof window<"u"?window:{});var z_="@firebase/firestore";var vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");var ki="10.14.0";var Hr=new R1("@firebase/firestore");function z0(){return Hr.logLevel}function W(t,...e){if(Hr.logLevel<=Ie.DEBUG){let n=e.map(f9);Hr.debug(`Firestore (${ki}): ${t}`,...n)}}function Xn(t,...e){if(Hr.logLevel<=Ie.ERROR){let n=e.map(f9);Hr.error(`Firestore (${ki}): ${t}`,...n)}}function bi(t,...e){if(Hr.logLevel<=Ie.WARN){let n=e.map(f9);Hr.warn(`Firestore (${ki}): ${t}`,...n)}}function f9(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ce(t="Unexpected state"){let e=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function ke(t,e){t||ce()}function he(t,e){return t}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ya=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Tf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}},Nf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Rf=class{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i,s=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve(),i=new sn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new sn,e.enqueueRetryable(()=>s(this.currentUser))};let o=()=>{let a=i;e.enqueueRetryable(()=>C(this,null,function*(){yield a.promise,yield s(this.currentUser)}))},c=a=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>c(a)),setTimeout(()=>{if(!this.auth){let a=this.t.getImmediate({optional:!0});a?c(a):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new ya(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new vt(e)}},Pf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},kf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Of=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ff=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);let r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let o=i.token!==this.R;return this.R=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};let s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){let i=this.A.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new Of(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var va=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let s=wV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Ii(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}var wt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new wt(0,0))}static max(){return new t(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ca=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let s=0;s<r;s++){let i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends Ca{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new t(n)}static emptyPath(){return new t([])}},LV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,o2=class t extends Ca{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return LV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",s=0,i=()=>{if(r.length===0)throw new H(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;s<e.length;){let c=e[s];if(c==="\\"){if(s+1===e.length)throw new H(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let a=e[s+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new H(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new H(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var Vf=class{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}};Vf.UNKNOWN_ID=-1;function bV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new $r(s,te.empty(),e)}function IV(t){return new $r(t.readTime,t.key,-1)}var $r=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ge.min(),te.empty(),-1)}static max(){return new t(ge.max(),te.empty(),-1)}};function xV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var EV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function W0(t){return C(this,null,function*(){if(t.code!==D.FAILED_PRECONDITION||t.message!==EV)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},a=>r(a))}),o=!0,i===s&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(s=>s?t.resolve(s):r());return n}static forEach(e,n){let r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new t((r,s)=>{let i=e.length,o=new Array(i),c=0;for(let a=0;a<i;a++){let u=a;n(e[u]).next(d=>{o[u]=d,++c,c===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new t((r,s)=>{let i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}};function zV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function K0(t){return t.name==="IndexedDbTransactionError"}var lw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.ie(s),this.se=s=>r.writeSequenceNumber(s))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function e6(t){return t==null}function R0(t){return t===0&&1/t==-1/0}function SV(t){return typeof t=="number"&&Number.isInteger(t)&&!R0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var AV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zte=[...AV,"documentOverlays"],DV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TV=DV,NV=[...TV,"indexConfiguration","indexState","indexEntries"];var Jte=[...NV,"globals"];function S_(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uw(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nt=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _i(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _i(this.root,e,this.comparator,!1)}getReverseIterator(){return new _i(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _i(this.root,e,this.comparator,!0)}},_i=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??t.RED,this.left=s??t.EMPTY,this.right=i??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this,i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ma(this.data.getIterator())}getIteratorFrom(e){return new Ma(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ma=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var v2=class t{constructor(e){this.fields=e,e.sort(o2.comparator)}static empty(){return new t([])}unionWith(e){let n=new Rt(o2.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ii(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var _a=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _a("Invalid base64 string: "+i):i}}(e);return new t(n)}static fromUint8Array(e){let n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pt.EMPTY_BYTE_STRING=new Pt("");var RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zn(t){if(ke(!!t),typeof t=="string"){let e=0,n=RV.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function j1(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function d9(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function h9(t){let e=t.mapValue.fields.__previous_value__;return d9(e)?h9(e):e}function P0(t){let e=Zn(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}var Bf=class{constructor(e,n,r,s,i,o,c,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=a,this.useFetchStreams=u}},wa=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d9(t)?4:dw(t)?9007199254740991:fw(t)?10:11:ce()}function ln(t,e){if(t===e)return!0;let n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return P0(t).isEqual(P0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;let o=Zn(s.timestampValue),c=Zn(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return j1(s.bytesValue).isEqual(j1(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){let o=Qe(s.doubleValue),c=Qe(i.doubleValue);return o===c?R0(o)===R0(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Ii(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:case 11:return function(s,i){let o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(S_(o)!==S_(c))return!1;for(let a in o)if(o.hasOwnProperty(a)&&(c[a]===void 0||!ln(o[a],c[a])))return!1;return!0}(t,e);default:return ce()}}function k0(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function xi(t,e){if(t===e)return 0;let n=qr(t),r=qr(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(i,o){let c=Qe(i.integerValue||i.doubleValue),a=Qe(o.integerValue||o.doubleValue);return c<a?-1:c>a?1:c===a?0:isNaN(c)?isNaN(a)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(P0(t),P0(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(i,o){let c=j1(i),a=j1(o);return c.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){let c=i.split("/"),a=o.split("/");for(let u=0;u<c.length&&u<a.length;u++){let d=De(c[u],a[u]);if(d!==0)return d}return De(c.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){let c=De(Qe(i.latitude),Qe(o.latitude));return c!==0?c:De(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return D_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,a,u,d;let p=i.fields||{},m=o.fields||{},y=(c=p.value)===null||c===void 0?void 0:c.arrayValue,w=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=De(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:D_(y,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ha.mapValue&&o===ha.mapValue)return 0;if(i===ha.mapValue)return 1;if(o===ha.mapValue)return-1;let c=i.fields||{},a=Object.keys(c),u=o.fields||{},d=Object.keys(u);a.sort(),d.sort();for(let p=0;p<a.length&&p<d.length;++p){let m=De(a[p],d[p]);if(m!==0)return m;let y=xi(c[a[p]],u[d[p]]);if(y!==0)return y}return De(a.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=Zn(t),r=Zn(e),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function D_(t,e){let n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){let i=xi(n[s],r[s]);if(i)return i}return De(n.length,r.length)}function Ei(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return j1(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(let i of n.values||[])s?s=!1:r+=",",r+=jf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),s="{",i=!0;for(let o of r)i?i=!1:s+=",",s+=`${o}:${jf(n.fields[o])}`;return s+"}"}(t.mapValue):ce()}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hf(t){return!!t&&"integerValue"in t}function p9(t){return!!t&&"arrayValue"in t}function N_(t){return!!t&&"nullValue"in t}function R_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ma(t){return!!t&&"mapValue"in t}function fw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function A0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=A0(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=A0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dw(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var i2=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ma(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=A0(n)}setAll(e){let n=o2.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let a=this.getFieldsMap(n);this.applyChanges(a,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=A0(o):s.push(c.lastSegment())});let i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){let n=this.field(e.popLast());ma(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ma(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qr(n,(s,i)=>e[s]=i);for(let s of r)delete e[s]}clone(){return new t(A0(this.value))}};function hw(t){let e=[];return Qr(t.fields,(n,r)=>{let s=new o2([n]);if(ma(r)){let i=hw(r.mapValue).fields;if(i.length===0)e.push(s);else for(let o of i)e.push(s.child(o))}else e.push(s)}),new v2(e)}var T2=class t{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ge.min(),ge.min(),ge.min(),i2.empty(),0)}static newFoundDocument(e,n,r,s){return new t(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new t(e,2,n,ge.min(),ge.min(),i2.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ge.min(),ge.min(),i2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=i2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=i2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zi=class{constructor(e,n){this.position=e,this.inclusive=n}};function P_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){let i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=xi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}var Gr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function PV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var La=class{},ft=class t extends La{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qf(e,n,r):n==="array-contains"?new Kf(e,r):n==="in"?new Qf(e,r):n==="not-in"?new Yf(e,r):n==="array-contains-any"?new Xf(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Gf(e,r):new Wf(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xi(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},N2=class t extends La{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return pw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pw(t){return t.op==="and"}function mw(t){return kV(t)&&pw(t)}function kV(t){for(let e of t.filters)if(e instanceof N2)return!1;return!0}function $f(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Ei(t.value);if(mw(t))return t.filters.map(e=>$f(e)).join(",");{let e=t.filters.map(n=>$f(n)).join(",");return`${t.op}(${e})`}}function gw(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&ln(r.value,s.value)}(t,e):t instanceof N2?function(r,s){return s instanceof N2&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&gw(o,s.filters[c]),!0):!1}(t,e):void ce()}function yw(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Ei(n.value)}`}(t):t instanceof N2?function(n){return n.op.toString()+" {"+n.getFilters().map(yw).join(" ,")+"}"}(t):"Filter"}var qf=class extends ft{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},Gf=class extends ft{constructor(e,n){super(e,"in",n),this.keys=vw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Wf=class extends ft{constructor(e,n){super(e,"not-in",n),this.keys=vw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var Kf=class extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return p9(n)&&k0(n.arrayValue,this.value)}},Qf=class extends ft{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&k0(this.value.arrayValue,n)}},Yf=class extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(k0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!k0(this.value.arrayValue,n)}},Xf=class extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!p9(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>k0(this.value.arrayValue,r))}};var Zf=class{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.ue=null}};function O_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Zf(t,e,n,r,s,i,o)}function m9(t){let e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$f(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),e6(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ei(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ei(r)).join(",")),e.ue=n}return e.ue}function g9(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k_(t.startAt,e.startAt)&&k_(t.endAt,e.endAt)}function Jf(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var H1=class{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function OV(t,e,n,r,s,i,o,c){return new H1(t,e,n,r,s,i,o,c)}function y9(t){return new H1(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cw(t){return t.collectionGroup!==null}function D0(t){let e=he(t);if(e.ce===null){e.ce=[];let n=new Set;for(let i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Rt(o2.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Gr(i,r))}),n.has(o2.keyField().canonicalString())||e.ce.push(new Gr(o2.keyField(),r))}return e.ce}function cn(t){let e=he(t);return e.le||(e.le=FV(e,D0(t))),e.le}function FV(t,e){if(t.limitType==="F")return O_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{let i=s.dir==="desc"?"asc":"desc";return new Gr(s.field,i)});let n=t.endAt?new zi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zi(t.startAt.position,t.startAt.inclusive):null;return O_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ed(t,e){let n=t.filters.concat([e]);return new H1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ba(t,e,n){return new H1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function t6(t,e){return g9(cn(t),cn(e))&&t.limitType===e.limitType}function Mw(t){return`${m9(cn(t))}|lt:${t.limitType}`}function vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>yw(s)).join(", ")}]`),e6(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ei(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ei(s)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function n6(t,e){return e.isFoundDocument()&&function(r,s){let i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(let i of D0(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(let i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,a){let u=P_(o,c,a);return o.inclusive?u<=0:u<0}(r.startAt,D0(r),s)||r.endAt&&!function(o,c,a){let u=P_(o,c,a);return o.inclusive?u>=0:u>0}(r.endAt,D0(r),s))}(t,e)}function VV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _w(t){return(e,n)=>{let r=!1;for(let s of D0(t)){let i=UV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function UV(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,c){let a=o.data.field(i),u=c.data.field(i);return a!==null&&u!==null?xi(a,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var $1=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,r)=>{for(let[s,i]of r)e(s,i)})}isEmpty(){return uw(this.inner)}size(){return this.innerSize}};var BV=new nt(te.comparator);function Jn(){return BV}var ww=new nt(te.comparator);function S0(...t){let e=ww;for(let n of t)e=e.insert(n.key,n);return e}function Lw(t){let e=ww;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return T0()}function bw(){return T0()}function T0(){return new $1(t=>t.toString(),(t,e)=>t.isEqual(e))}var jV=new nt(te.comparator),HV=new Rt(te.comparator);function xe(...t){let e=HV;for(let n of t)e=e.add(n);return e}var $V=new Rt(De);function qV(){return $V}function v9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:R0(e)?"-0":e}}function Iw(t){return{integerValue:""+t}}function GV(t,e){return SV(e)?Iw(e):v9(t,e)}var Si=class{constructor(){this._=void 0}};function WV(t,e,n){return t instanceof Ai?function(s,i){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&d9(i)&&(i=h9(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof q1?Ew(t,e):t instanceof G1?zw(t,e):function(s,i){let o=xw(s,i),c=V_(o)+V_(s.Pe);return Hf(o)&&Hf(s.Pe)?Iw(c):v9(s.serializer,c)}(t,e)}function KV(t,e,n){return t instanceof q1?Ew(t,e):t instanceof G1?zw(t,e):n}function xw(t,e){return t instanceof Di?function(r){return Hf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}var Ai=class extends Si{},q1=class extends Si{constructor(e){super(),this.elements=e}};function Ew(t,e){let n=Sw(e);for(let r of t.elements)n.some(s=>ln(s,r))||n.push(r);return{arrayValue:{values:n}}}var G1=class extends Si{constructor(e){super(),this.elements=e}};function zw(t,e){let n=Sw(e);for(let r of t.elements)n=n.filter(s=>!ln(s,r));return{arrayValue:{values:n}}}var Di=class extends Si{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function V_(t){return Qe(t.integerValue||t.doubleValue)}function Sw(t){return p9(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ia=class{constructor(e,n){this.field=e,this.transform=n}};function QV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof q1&&s instanceof q1||r instanceof G1&&s instanceof G1?Ii(r.elements,s.elements,ln):r instanceof Di&&s instanceof Di?ln(r.Pe,s.Pe):r instanceof Ai&&s instanceof Ai}(t.transform,e.transform)}var td=class{constructor(e,n){this.version=e,this.transformResults=n}},Yn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ga(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ti=class{};function Aw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xa(t.key,Yn.none()):new Wr(t.key,t.data,Yn.none());{let n=t.data,r=i2.empty(),s=new Rt(o2.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new un(t.key,r,new v2(s.toArray()),Yn.none())}}function YV(t,e,n){t instanceof Wr?function(s,i,o){let c=s.value.clone(),a=B_(s.fieldTransforms,i,o.transformResults);c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof un?function(s,i,o){if(!ga(s.precondition,i))return void i.convertToUnknownDocument(o.version);let c=B_(s.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(Dw(s)),a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function N0(t,e,n,r){return t instanceof Wr?function(i,o,c,a){if(!ga(i.precondition,o))return c;let u=i.value.clone(),d=j_(i.fieldTransforms,a,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof un?function(i,o,c,a){if(!ga(i.precondition,o))return c;let u=j_(i.fieldTransforms,a,o),d=o.data;return d.setAll(Dw(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,c){return ga(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function XV(t,e){let n=null;for(let r of t.fieldTransforms){let s=e.data.field(r.field),i=xw(r.transform,s||null);i!=null&&(n===null&&(n=i2.empty()),n.set(r.field,i))}return n||null}function U_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ii(r,s,(i,o)=>QV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Wr=class extends Ti{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}},un=class extends Ti{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function Dw(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function B_(t,e,n){let r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){let i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,KV(o,c,n[s]))}return r}function j_(t,e,n){let r=new Map;for(let s of t){let i=s.transform,o=n.data.field(s.field);r.set(s.field,WV(i,o,e))}return r}var xa=class extends Ti{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nd=class extends Ti{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var rd=class{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){let i=this.mutations[s];i.key.isEqual(e.key)&&YV(i,e,r[s])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=N0(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=N0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=bw();return this.mutations.forEach(s=>{let i=e.get(s.key),o=i.overlayedDocument,c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;let a=Aw(o,c);a!==null&&r.set(s.key,a),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ii(this.mutations,e.mutations,(n,r)=>U_(n,r))&&Ii(this.baseMutations,e.baseMutations,(n,r)=>U_(n,r))}},sd=class t{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return jV}(),i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t(e,n,r,s)}};var id=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var od=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var lt,Se;function ZV(t){switch(t){default:return ce();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Tw(t){if(t===void 0)return Xn("GRPC error has no .code"),D.UNKNOWN;switch(t){case lt.OK:return D.OK;case lt.CANCELLED:return D.CANCELLED;case lt.UNKNOWN:return D.UNKNOWN;case lt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case lt.INTERNAL:return D.INTERNAL;case lt.UNAVAILABLE:return D.UNAVAILABLE;case lt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case lt.NOT_FOUND:return D.NOT_FOUND;case lt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case lt.ABORTED:return D.ABORTED;case lt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case lt.DATA_LOSS:return D.DATA_LOSS;default:return ce()}}(Se=lt||(lt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var H_=null;function JV(){return new TextEncoder}var eU=new U1([4294967295,4294967295],0);function $_(t){let e=JV().encode(t),n=new wf;return n.update(e),new Uint8Array(n.digest())}function q_(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new U1([n,r],0),new U1([s,i],0)]}var cd=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Br(`Invalid padding: ${n}`);if(r<0)throw new Br(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Br(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Br(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=U1.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(U1.fromNumber(r)));return s.compare(eU)===1&&(s=new U1([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=$_(e),[r,s]=q_(n);for(let i=0;i<this.hashCount;i++){let o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){let s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new t(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=$_(e),[r,s]=q_(n);for(let i=0;i<this.hashCount;i++){let o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Br=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ea=class t{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let s=new Map;return s.set(e,O0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ge.min(),s,new nt(De),Jn(),xe())}},O0=class t{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,xe(),xe(),xe())}};var wi=class{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}},za=class{constructor(e,n){this.targetId=e,this.me=n}},Sa=class{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}},Aa=class{constructor(){this.fe=0,this.ge=W_(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce()}}),new O0(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=W_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ad=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jn(),this.qe=G_(),this.Qe=new nt(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){let n=e.targetId,r=e.me.count,s=this.Je(n);if(s){let i=s.target;if(Jf(i))if(r===0){let o=new te(i.path);this.Ue(n,o,T2.newNoDocument(o,ge.min()))}else ke(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),a=c?this.Xe(c,e,o):1;if(a!==0){this.je(n);let u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}H_?.et(function(d,p,m,y,w){var A,z,P,O,U,q;let we={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Z=p.unchangedNames;return Z&&(we.bloomFilter={applied:w===0,hashCount:(A=Z?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(O=(P=(z=Z?.bits)===null||z===void 0?void 0:z.bitmap)===null||P===void 0?void 0:P.length)!==null&&O!==void 0?O:0,padding:(q=(U=Z?.bits)===null||U===void 0?void 0:U.padding)!==null&&q!==void 0?q:0,mightContain:L=>{var v;return(v=y?.mightContain(L))!==null&&v!==void 0&&v}}),we}(o,e.me,this.Le.tt(),c,a))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n,o,c;try{o=j1(r).toUint8Array()}catch(a){if(a instanceof _a)return bi("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{c=new cd(o,s,i)}catch(a){return bi(a instanceof Br?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),s=0;return r.forEach(i=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,i,null),s++)}),s}rt(e){let n=new Map;this.Be.forEach((i,o)=>{let c=this.Je(o);if(c){if(i.current&&Jf(c.target)){let a=new te(c.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,T2.newNoDocument(a,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=xe();this.qe.forEach((i,o)=>{let c=!0;o.forEachWhile(a=>{let u=this.Je(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));let s=new Ea(e,n,this.Qe,this.ke,r);return this.ke=Jn(),this.qe=G_(),this.Qe=new nt(De),s}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Aa,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Aa),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function G_(){return new nt(te.comparator)}function W_(){return new nt(te.comparator)}var tU={asc:"ASCENDING",desc:"DESCENDING"},nU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rU={and:"AND",or:"OR"},ld=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ud(t,e){return t.useProto3Json||e6(e)?e:{value:e}}function Da(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sU(t,e){return Da(t,e.toTimestamp())}function an(t){return ke(!!t),ge.fromTimestamp(function(n){let r=Zn(n);return new wt(r.seconds,r.nanos)}(t))}function C9(t,e){return fd(t,e).canonicalString()}function fd(t,e){let n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rw(t){let e=Xe.fromString(t);return ke(Vw(e)),e}function dd(t,e){return C9(t.databaseId,e.path)}function zf(t,e){let n=Rw(e);if(n.get(1)!==t.databaseId.projectId)throw new H(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(kw(n))}function Pw(t,e){return C9(t.databaseId,e)}function iU(t){let e=Rw(t);return e.length===4?Xe.emptyPath():kw(e)}function hd(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kw(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function K_(t,e,n){return{name:dd(t,e),fields:n.value.mapValue.fields}}function oU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(ke(d===void 0||typeof d=="string"),Pt.fromBase64String(d||"")):(ke(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let d=u.code===void 0?D.UNKNOWN:Tw(u.code);return new H(d,u.message||"")}(o);n=new Sa(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let s=zf(t,r.document.name),i=an(r.document.updateTime),o=r.document.createTime?an(r.document.createTime):ge.min(),c=new i2({mapValue:{fields:r.document.fields}}),a=T2.newFoundDocument(s,i,o,c),u=r.targetIds||[],d=r.removedTargetIds||[];n=new wi(u,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let s=zf(t,r.document),i=r.readTime?an(r.readTime):ge.min(),o=T2.newNoDocument(s,i),c=r.removedTargetIds||[];n=new wi([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let s=zf(t,r.document),i=r.removedTargetIds||[];n=new wi([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;let r=e.filter;r.targetId;let{count:s=0,unchangedNames:i}=r,o=new od(s,i),c=r.targetId;n=new za(c,o)}}return n}function cU(t,e){let n;if(e instanceof Wr)n={update:K_(t,e.key,e.value)};else if(e instanceof xa)n={delete:dd(t,e.key)};else if(e instanceof un)n={update:K_(t,e.key,e.data),updateMask:gU(e.fieldMask)};else{if(!(e instanceof nd))return ce();n={verify:dd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){let c=o.transform;if(c instanceof Ai)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof q1)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof G1)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Di)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function aU(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?an(s.updateTime):an(i);return o.isEqual(ge.min())&&(o=an(i)),new td(o,s.transformResults||[])}(n,e))):[]}function lU(t,e){return{documents:[Pw(t,e.path)]}}function uU(t,e){let n={structuredQuery:{}},r=e.path,s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pw(t,s);let i=function(u){if(u.length!==0)return Fw(N2.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ci(m.field),direction:hU(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=ud(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function fU(t){let e=iU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){ke(r===1);let d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){let m=Ow(p);return m instanceof N2&&mw(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(w){return new Gr(Mi(w.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,e6(m)?null:m}(n.limit));let a=null;n.startAt&&(a=function(p){let m=!!p.before,y=p.values||[];return new zi(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let m=!p.before,y=p.values||[];return new zi(y,m)}(n.endAt)),OV(e,s,o,i,c,"F",a,u)}function dU(t,e){let n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ow(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Mi(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let s=Mi(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=Mi(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Mi(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(Mi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return N2.create(n.compositeFilter.filters.map(r=>Ow(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function hU(t){return tU[t]}function pU(t){return nU[t]}function mU(t){return rU[t]}function Ci(t){return{fieldPath:t.canonicalString()}}function Mi(t){return o2.fromServerFormat(t.fieldPath)}function Fw(t){return t instanceof ft?function(n){if(n.op==="=="){if(R_(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NAN"}};if(N_(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R_(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NOT_NAN"}};if(N_(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ci(n.field),op:pU(n.op),value:n.value}}}(t):t instanceof N2?function(n){let r=n.getFilters().map(s=>Fw(s));return r.length===1?r[0]:{compositeFilter:{op:mU(n.op),filters:r}}}(t):ce()}function gU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Vw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var F0=class t{constructor(e,n,r,s,i=ge.min(),o=ge.min(),c=Pt.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=a}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var pd=class{constructor(e){this.ct=e}};function yU(t){let e=fU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ba(e,e.limit,"L"):e}var Ta=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),R0(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(j1(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?dw(e)?this.dt(n,Number.MAX_SAFE_INTEGER):fw(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let s of Object.keys(r))this.Vt(s,n),this.Tt(r[s],n)}wt(e,n){var r,s;let i=e.fields||{};this.dt(n,53);let o="value",c=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.dt(n,15),n.At(Qe(c)),this.Vt(o,n),this.Tt(i[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let s of r)this.Tt(s,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ta.vt=new Ta;var md=class{constructor(){this.un=new gd}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve($r.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},gd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(Xe.comparator)).toArray()}};var t2e=new Uint8Array(0);var rn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var V0=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var yd=class{constructor(){this.changes=new $1(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,T2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vd=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Cd=class{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&N0(r.mutation,s,v2.empty(),wt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){let s=Ur();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=S0();return i.forEach((c,a)=>{o=o.insert(c,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){let s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=Jn(),o=T0(),c=function(){return T0()}();return n.forEach((a,u)=>{let d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof un)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),N0(d.mutation,u,d.mutation.getFieldMask(),wt.now())):o.set(u.key,v2.empty())}),this.recalculateAndSaveOverlays(e,i).next(a=>(a.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return c.set(u,new vd(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=T0(),s=new nt((o,c)=>o-c),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(a=>{let u=n.get(a);if(u===null)return;let d=r.get(a)||v2.empty();d=c.applyToLocalView(u,d),r.set(a,d);let p=(s.get(c.batchId)||xe()).add(a);s=s.insert(c.batchId,p)})}).next(()=>{let o=[],c=s.getReverseIterator();for(;c.hasNext();){let a=c.getNext(),u=a.key,d=a.value,p=bw();d.forEach(m=>{if(!i.has(m)){let y=Aw(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{let o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Ur()),c=-1,a=i;return o.next(u=>F.forEach(u,(d,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{a=a.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,a,u,xe())).next(d=>({batchId:c,changes:Lw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=S0();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){let i=n.collectionGroup,o=S0();return this.indexManager.getCollectionParents(e,i).next(c=>F.forEach(c,a=>{let u=function(p,m){return new H1(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((a,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,T2.newInvalidDocument(d)))});let c=S0();return o.forEach((a,u)=>{let d=i.get(a);d!==void 0&&N0(d.mutation,u,v2.empty(),wt.now()),n6(n,u)&&(c=c.insert(a,u))}),c})}};var Md=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:an(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:yU(s.bundledQuery),readTime:an(s.readTime)}}(n)),F.resolve()}};var _d=class{constructor(){this.overlays=new nt(te.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ur();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let s=Ur(),i=n.length+1,o=new te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let a=c.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&a.largestBatchId>r&&s.set(a.getKey(),a)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ur(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let c=Ur(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=s)););return F.resolve(c)}ht(e,n,r){let s=this.overlays.get(r.key);if(s!==null){let o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new id(n,r));let i=this.Ir.get(n);i===void 0&&(i=xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}};var wd=class{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var U0=class{constructor(){this.Tr=new Rt(ut.Er),this.dr=new Rt(ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new Xe([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Xe([])),r=new ut(n,e),s=new ut(n,e+1),i=xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){let n=new ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||te.comparator(e.key,n.key)}};var Ld=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(ut.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new rd(i,n,r,s);this.mutationQueue.push(o);for(let c of s)this.br=this.br.add(new ut(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{let c=this.Dr(o.wr);i.push(c)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(De);return n.forEach(s=>{let i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],c=>{r=r.add(c.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,s=r.length+1,i=r;te.isDocumentKey(i)||(i=i.child(""));let o=new ut(new te(i),0),c=new Rt(De);return this.br.forEachWhile(a=>{let u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(a.wr)),!0)},o),F.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{let i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ut(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var bd=class{constructor(e){this.Mr=e,this.docs=function(){return new nt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():T2.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(s=>{let i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():T2.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jn(),o=n.path,c=new te(o.child("")),a=this.docs.getIteratorFrom(c);for(;a.hasNext();){let{key:u,value:{document:d}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xV(IV(d),r)<=0||(s.has(d.key)||n6(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Id(this)}getSize(e){return F.resolve(this.size)}},Id=class extends yd{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var xd=class{constructor(e){this.persistence=e,this.Nr=new $1(n=>m9(n),g9),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new U0,this.targetCount=0,this.kr=V0.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new V0(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0,i=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var Ed=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lw(0),this.Kr=!1,this.Kr=!0,this.$r=new wd,this.referenceDelegate=e(this),this.Ur=new xd(this),this.indexManager=new md,this.remoteDocumentCache=function(s){return new bd(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pd(n),this.Gr=new Md(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _d,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ld(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let s=new zd(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},zd=class extends Uf{constructor(e){super(),this.currentSequenceNumber=e}},Sd=class t{constructor(e){this.persistence=e,this.Jr=new U0,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let s=te.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ad=class t{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=xe(),s=xe();for(let i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new t(e,n.fromCache,r,s)}};var Dd=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Td=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sM()?8:zV(yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){let i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;let o=new Dd;return this.Xi(e,n,o).next(c=>{if(i.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(z0()<=Ie.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(z0()<=Ie.DEBUG&&W("QueryEngine","Query:",vi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(z0()<=Ie.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):F.resolve())}Yi(e,n){if(F_(n))return F.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ba(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let o=xe(...i);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(a=>{let u=this.ts(n,c);return this.ns(n,u,o,a.readTime)?this.Yi(e,ba(n,null,"F")):this.rs(e,u,n,a)}))})))}Zi(e,n,r,s){return F_(n)||s.isEqual(ge.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{let o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(z0()<=Ie.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vi(n)),this.rs(e,o,n,bV(s,-1)).next(c=>c))})}ts(e,n){let r=new Rt(_w(e));return n.forEach((s,i)=>{n6(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return z0()<=Ie.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",vi(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}};var Nd=class{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new nt(De),this._s=new $1(i=>m9(i),g9),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function vU(t,e,n,r){return new Nd(t,e,n,r)}function Uw(t,e){return C(this,null,function*(){let n=he(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{let o=[],c=[],a=xe();for(let u of s){o.push(u.batchId);for(let d of u.mutations)a=a.add(d.key)}for(let u of i){c.push(u.batchId);for(let d of u.mutations)a=a.add(d.key)}return n.localDocuments.getDocuments(r,a).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:c}))})})})}function CU(t,e){let n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,a,u,d){let p=u.batch,m=p.keys(),y=F.resolve();return m.forEach(w=>{y=y.next(()=>d.getEntry(a,w)).next(A=>{let z=u.docVersions.get(w);ke(z!==null),A.version.compareTo(z)<0&&(p.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),d.addEntry(A)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(a,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let a=xe();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(a=a.add(c.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Bw(t){let e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function MU(t,e){let n=he(t),r=e.snapshotVersion,s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;let c=[];e.targetChanges.forEach((d,p)=>{let m=s.get(p);if(!m)return;c.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,p)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Pt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(A,z,P){return A.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,y,d)&&c.push(n.Ur.updateTargetData(i,y))});let a=Jn(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),c.push(_U(i,o,e.documentUpdates).next(d=>{a=d.Ps,u=d.Is})),!r.isEqual(ge.min())){let d=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(d)}return F.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,a,u)).next(()=>a)}).then(i=>(n.os=s,i))}function _U(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jn();return n.forEach((c,a)=>{let u=i.get(c);a.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),a.isNoDocument()&&a.version.isEqual(ge.min())?(e.removeEntry(c,a.readTime),o=o.insert(c,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(c,a)):W("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",a.version)}),{Ps:o,Is:s}})}function wU(t,e){let n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LU(t,e){let n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new F0(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{let s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Rd(t,e,n){return C(this,null,function*(){let r=he(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!K0(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)})}function Q_(t,e,n){let r=he(t),s=ge.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,d){let p=he(a),m=p._s.get(d);return m!==void 0?F.resolve(p.os.get(m)):p.Ur.getTargetData(u,d)}(r,o,cn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(a=>{i=a})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:xe())).next(c=>(bU(r,VV(e),c),{documents:c,Ts:i})))}function bU(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}var Na=class{constructor(){this.activeTargetIds=qV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Pd=class{constructor(){this.so=new Na,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Na,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kd=class{_o(e){}shutdown(){}};var Ra=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pa=null;function Sf(){return pa===null?pa=function(){return 268435456+Math.round(2147483648*Math.random())}():pa++,"0x"+pa.toString(16)}var IU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Od=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Nt="WebChannelConnection",Fd=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){let c=Sf(),a=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${c}:`,a,s);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,a,u,s).then(d=>(W("RestConnection",`Received RPC '${n}' ${c}: `,d),d),d=>{throw bi("RestConnection",`RPC '${n}' ${c} failed with error: `,d,"url: ",a,"request:",s),d})}Lo(n,r,s,i,o,c){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ki}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){let s=IU[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){let i=Sf();return new Promise((o,c)=>{let a=new Lf;a.setWithCredentials(!0),a.listenOnce(bf.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case E0.NO_ERROR:let d=a.getResponseJson();W(Nt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case E0.TIMEOUT:W(Nt,`RPC '${e}' ${i} timed out`),c(new H(D.DEADLINE_EXCEEDED,"Request time out"));break;case E0.HTTP_ERROR:let p=a.getStatus();if(W(Nt,`RPC '${e}' ${i} failed with status:`,p,"response text:",a.getResponseText()),p>0){let m=a.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let w=function(z){let P=z.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(P)>=0?P:D.UNKNOWN}(y.status);c(new H(w,y.message))}else c(new H(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else c(new H(D.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{W(Nt,`RPC '${e}' ${i} completed.`)}});let u=JSON.stringify(s);W(Nt,`RPC '${e}' ${i} sending request:`,s),a.send(n,"POST",u,r,15)})}Bo(e,n,r){let s=Sf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ef(),c=xf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;let d=i.join("");W(Nt,`Creating RPC '${e}' stream ${s}: ${d}`,a);let p=o.createWebChannel(d,a),m=!1,y=!1,w=new Od({Io:z=>{y?W(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,z):(m||(W(Nt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),W(Nt,`RPC '${e}' stream ${s} sending:`,z),p.send(z))},To:()=>p.close()}),A=(z,P,O)=>{z.listen(P,U=>{try{O(U)}catch(q){setTimeout(()=>{throw q},0)}})};return A(p,yi.EventType.OPEN,()=>{y||(W(Nt,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),A(p,yi.EventType.CLOSE,()=>{y||(y=!0,W(Nt,`RPC '${e}' stream ${s} transport closed`),w.So())}),A(p,yi.EventType.ERROR,z=>{y||(y=!0,bi(Nt,`RPC '${e}' stream ${s} transport errored:`,z),w.So(new H(D.UNAVAILABLE,"The operation could not be completed")))}),A(p,yi.EventType.MESSAGE,z=>{var P;if(!y){let O=z.data[0];ke(!!O);let U=O,q=U.error||((P=U[0])===null||P===void 0?void 0:P.error);if(q){W(Nt,`RPC '${e}' stream ${s} received error:`,q);let we=q.status,Z=function(_){let b=lt[_];if(b!==void 0)return Tw(b)}(we),L=q.message;Z===void 0&&(Z=D.INTERNAL,L="Unknown error status: "+we+" with message "+q.message),y=!0,w.So(new H(Z,L)),p.close()}else W(Nt,`RPC '${e}' stream ${s} received:`,O),w.bo(O)}}),A(c,If.STAT_EVENT,z=>{z.stat===da.PROXY?W(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):z.stat===da.NOPROXY&&W(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function Af(){return typeof document<"u"?document:null}function r6(t){return new ld(t,!0)}var Pa=class{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ka=class{constructor(e,n,r,s,i,o,c,a){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Pa(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{let s=new H(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vd=class extends ka{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=oU(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();let o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?an(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=hd(this.serializer),n.addTarget=function(i,o){let c,a=o.target;if(c=Jf(a)?{documents:lU(i,a)}:{query:uU(i,a)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Nw(i,o.resumeToken);let u=ud(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){c.readTime=Da(i,o.snapshotVersion.toTimestamp());let u=ud(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let r=dU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=hd(this.serializer),n.removeTarget=e,this.a_(n)}},Ud=class extends ka{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=aU(e.writeResults,e.commitTime),r=an(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=hd(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>cU(this.serializer,r))};this.a_(n)}};var Bd=class extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new H(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,fd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(D.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,fd(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(D.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},jd=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xn(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Hd=class{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){Yr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(a){return C(this,null,function*(){let u=he(a);u.L_.add(4),yield Q0(u),u.q_.set("Unknown"),u.L_.delete(4),yield s6(u)})}(this))}))}),this.q_=new jd(r,s)}};function s6(t){return C(this,null,function*(){if(Yr(t))for(let e of t.B_)yield e(!0)})}function Q0(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function jw(t,e){let n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),L9(n)?w9(n):Oi(n).r_()&&_9(n,e))}function M9(t,e){let n=he(t),r=Oi(n);n.N_.delete(e),r.r_()&&Hw(n,e),n.N_.size===0&&(r.r_()?r.o_():Yr(n)&&n.q_.set("Unknown"))}function _9(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oi(t).A_(e)}function Hw(t,e){t.Q_.xe(e),Oi(t).R_(e)}function w9(t){t.Q_=new ad({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oi(t).start(),t.q_.v_()}function L9(t){return Yr(t)&&!Oi(t).n_()&&t.N_.size>0}function Yr(t){return he(t).L_.size===0}function $w(t){t.Q_=void 0}function xU(t){return C(this,null,function*(){t.q_.set("Online")})}function EU(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{_9(t,e)})})}function zU(t,e){return C(this,null,function*(){$w(t),L9(t)?(t.q_.M_(e),w9(t)):t.q_.set("Unknown")})}function SU(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof Sa&&e.state===2&&e.cause)try{yield function(s,i){return C(this,null,function*(){let o=i.cause;for(let c of i.targetIds)s.N_.has(c)&&(yield s.remoteSyncer.rejectListen(c,o),s.N_.delete(c),s.Q_.removeTarget(c))})}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Oa(t,r)}else if(e instanceof wi?t.Q_.Ke(e):e instanceof za?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{let r=yield Bw(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){let c=i.Q_.rt(o);return c.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){let d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(a.resumeToken,o))}}),c.targetMismatches.forEach((a,u)=>{let d=i.N_.get(a);if(!d)return;i.N_.set(a,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),Hw(i,a);let p=new F0(d.target,a,u,d.sequenceNumber);_9(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield Oa(t,r)}})}function Oa(t,e,n){return C(this,null,function*(){if(!K0(e))throw e;t.L_.add(1),yield Q0(t),t.q_.set("Offline"),n||(n=()=>Bw(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield s6(t)}))})}function qw(t,e){return e().catch(n=>Oa(t,n,e))}function i6(t){return C(this,null,function*(){let e=he(t),n=W1(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AU(e);)try{let s=yield wU(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,DU(e,s)}catch(s){yield Oa(e,s)}Gw(e)&&Ww(e)})}function AU(t){return Yr(t)&&t.O_.length<10}function DU(t,e){t.O_.push(e);let n=W1(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Gw(t){return Yr(t)&&!W1(t).n_()&&t.O_.length>0}function Ww(t){W1(t).start()}function TU(t){return C(this,null,function*(){W1(t).p_()})}function NU(t){return C(this,null,function*(){let e=W1(t);for(let n of t.O_)e.m_(n.mutations)})}function RU(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),s=sd.from(r,e,n);yield qw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),yield i6(t)})}function PU(t,e){return C(this,null,function*(){e&&W1(t).V_&&(yield function(r,s){return C(this,null,function*(){if(function(o){return ZV(o)&&o!==D.ABORTED}(s.code)){let i=r.O_.shift();W1(r).s_(),yield qw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),yield i6(r)}})}(t,e)),Gw(t)&&Ww(t)})}function Y_(t,e){return C(this,null,function*(){let n=he(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Yr(n);n.L_.add(3),yield Q0(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield s6(n)})}function kU(t,e){return C(this,null,function*(){let n=he(t);e?(n.L_.delete(2),yield s6(n)):e||(n.L_.add(2),yield Q0(n),n.q_.set("Unknown"))})}function Oi(t){return t.K_||(t.K_=function(n,r,s){let i=he(n);return i.w_(),new Vd(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:xU.bind(null,t),Ro:EU.bind(null,t),mo:zU.bind(null,t),d_:SU.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),L9(t)?w9(t):t.q_.set("Unknown")):(yield t.K_.stop(),$w(t))}))),t.K_}function W1(t){return t.U_||(t.U_=function(n,r,s){let i=he(n);return i.w_(),new Ud(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TU.bind(null,t),mo:PU.bind(null,t),f_:NU.bind(null,t),g_:RU.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield i6(t)):(yield t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var $d=class t{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){let o=Date.now()+r,c=new t(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function b9(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),K0(t))return new H(D.UNAVAILABLE,`${e}: ${t}`);throw t}var Fa=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=S0(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Va=class{constructor(){this.W_=new nt(te.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ni=class t{constructor(e,n,r,s,i,o,c,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,Fa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&t6(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}};var qd=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Gd=class{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let s=he(n),i=s.queries;s.queries=X_(),i.forEach((o,c)=>{for(let a of c.j_)a.onError(r)})})(this,new H(D.ABORTED,"Firestore shutting down"))}};function X_(){return new $1(t=>Mw(t),t6)}function Kw(t,e){return C(this,null,function*(){let n=he(t),r=3,s=e.query,i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new qd,r=e.J_()?0:1);try{switch(r){case 0:i.z_=yield n.onListen(s,!0);break;case 1:i.z_=yield n.onListen(s,!1);break;case 2:yield n.onFirstRemoteStoreListen(s)}}catch(o){let c=b9(o,`Initialization of query '${vi(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&I9(n)})}function Qw(t,e){return C(this,null,function*(){let n=he(t),r=e.query,s=3,i=n.queries.get(r);if(i){let o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function OU(t,e){let n=he(t),r=!1;for(let s of e){let i=s.query,o=n.queries.get(i);if(o){for(let c of o.j_)c.X_(s)&&(r=!0);o.z_=s}}r&&I9(n)}function FU(t,e,n){let r=he(t),s=r.queries.get(e);if(s)for(let i of s.j_)i.onError(n);r.queries.delete(e)}function I9(t){t.Y_.forEach(e=>{e.next()})}var Wd,Z_;(Z_=Wd||(Wd={})).ea="default",Z_.Cache="cache";var Ua=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let s of e.docChanges)s.type!==3&&r.push(s);e=new Ni(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wd.Cache}};var Ba=class{constructor(e){this.key=e}},ja=class{constructor(e){this.key=e}},Kd=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=_w(e),this.Ra=new Fa(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Va,s=n?n.Ra:this.Ra,i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1,a=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{let m=s.get(d),y=n6(this.query,p)?p:null,w=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),z=!1;m&&y?m.data.isEqual(y.data)?w!==A&&(r.track({type:3,doc:y}),z=!0):this.ga(m,y)||(r.track({type:2,doc:y}),z=!0,(a&&this.Aa(y,a)>0||u&&this.Aa(y,u)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),z=!0):m&&!y&&(r.track({type:1,doc:m}),z=!0,(a||u)&&(c=!0)),z&&(y?(o=o.add(y),i=A?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:c,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,p)=>function(y,w){let A=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return A(y)-A(w)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),s=s!=null&&s;let c=n&&!s?this.ya():[],a=this.da.size===0&&this.current&&!s?1:0,u=a!==this.Ea;return this.Ea=a,o.length!==0||u?{snapshot:new Ni(this.query,e.Ra,i,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Va,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ja(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ba(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ni.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Qd=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Yd=class{constructor(e){this.key=e,this.va=!1}},Xd=class{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $1(c=>Mw(c),t6),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(te.comparator),this.Na=new Map,this.La=new U0,this.Ba={},this.ka=new Map,this.qa=V0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VU(t,e,n=!0){return C(this,null,function*(){let r=tL(t),s,i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=yield Yw(r,e,n,!0),s})}function UU(t,e){return C(this,null,function*(){let n=tL(t);yield Yw(n,e,!0,!1)})}function Yw(t,e,n,r){return C(this,null,function*(){let s=yield LU(t.localStore,cn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n),c;return r&&(c=yield BU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&jw(t.remoteStore,s),c})}function BU(t,e,n,r,s){return C(this,null,function*(){t.Ka=(p,m,y)=>function(A,z,P,O){return C(this,null,function*(){let U=z.view.ma(P);U.ns&&(U=yield Q_(A.localStore,z.query,!1).then(({documents:L})=>z.view.ma(L,U)));let q=O&&O.targetChanges.get(z.targetId),we=O&&O.targetMismatches.get(z.targetId)!=null,Z=z.view.applyChanges(U,A.isPrimaryClient,q,we);return ew(A,z.targetId,Z.wa),Z.snapshot})}(t,p,m,y);let i=yield Q_(t.localStore,e,!0),o=new Kd(e,i.Ts),c=o.ma(i.documents),a=O0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(c,t.isPrimaryClient,a);ew(t,n,u.wa);let d=new Qd(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function jU(t,e,n){return C(this,null,function*(){let r=he(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!t6(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Rd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&M9(r.remoteStore,s.targetId),Zd(r,s.targetId)}).catch(W0))):(Zd(r,s.targetId),yield Rd(r.localStore,s.targetId,!0))})}function HU(t,e){return C(this,null,function*(){let n=he(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M9(n.remoteStore,r.targetId))})}function $U(t,e,n){return C(this,null,function*(){let r=XU(t);try{let s=yield function(o,c){let a=he(o),u=wt.now(),d=c.reduce((y,w)=>y.add(w.key),xe()),p,m;return a.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Jn(),A=xe();return a.cs.getEntries(y,d).next(z=>{w=z,w.forEach((P,O)=>{O.isValidDocument()||(A=A.add(P))})}).next(()=>a.localDocuments.getOverlayedDocuments(y,w)).next(z=>{p=z;let P=[];for(let O of c){let U=XV(O,p.get(O.key).overlayedDocument);U!=null&&P.push(new un(O.key,U,hw(U.value.mapValue),Yn.exists(!0)))}return a.mutationQueue.addMutationBatch(y,u,P,c)}).next(z=>{m=z;let P=z.applyToLocalDocumentSet(p,A);return a.documentOverlayCache.saveOverlays(y,z.batchId,P)})}).then(()=>({batchId:m.batchId,changes:Lw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,a){let u=o.Ba[o.currentUser.toKey()];u||(u=new nt(De)),u=u.insert(c,a),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),yield Y0(r,s.changes),yield i6(r.remoteStore)}catch(s){let i=b9(s,"Failed to persist write");n.reject(i)}})}function Xw(t,e){return C(this,null,function*(){let n=he(t);try{let r=yield MU(n.localStore,e);e.targetChanges.forEach((s,i)=>{let o=n.Na.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ke(o.va):s.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),yield Y0(n,r,e)}catch(r){yield W0(r)}})}function J_(t,e,n){let r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let s=[];r.Fa.forEach((i,o)=>{let c=o.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){let a=he(o);a.onlineState=c;let u=!1;a.queries.forEach((d,p)=>{for(let m of p.j_)m.Z_(c)&&(u=!0)}),u&&I9(a)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qU(t,e,n){return C(this,null,function*(){let r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);let s=r.Na.get(e),i=s&&s.key;if(i){let o=new nt(te.comparator);o=o.insert(i,T2.newNoDocument(i,ge.min()));let c=xe().add(i),a=new Ea(ge.min(),new Map,new nt(De),o,c);yield Xw(r,a),r.Oa=r.Oa.remove(i),r.Na.delete(e),x9(r)}else yield Rd(r.localStore,e,!1).then(()=>Zd(r,e,n)).catch(W0)})}function GU(t,e){return C(this,null,function*(){let n=he(t),r=e.batch.batchId;try{let s=yield CU(n.localStore,e);Jw(n,r,null),Zw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Y0(n,s)}catch(s){yield W0(s)}})}function WU(t,e,n){return C(this,null,function*(){let r=he(t);try{let s=yield function(o,c){let a=he(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return a.mutationQueue.lookupMutationBatch(u,c).next(p=>(ke(p!==null),d=p.keys(),a.mutationQueue.removeMutationBatch(u,p))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>a.localDocuments.getDocuments(u,d))})}(r.localStore,e);Jw(r,e,n),Zw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Y0(r,s)}catch(s){yield W0(s)}})}function Zw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Jw(t,e,n){let r=he(t),s=r.Ba[r.currentUser.toKey()];if(s){let i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Zd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eL(t,r)})}function eL(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(M9(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),x9(t))}function ew(t,e,n){for(let r of n)r instanceof Ba?(t.La.addReference(r.key,e),KU(t,r)):r instanceof ja?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eL(t,r.key)):ce()}function KU(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),x9(t))}function x9(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new te(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new Yd(n)),t.Oa=t.Oa.insert(n,r),jw(t.remoteStore,new F0(cn(y9(n.path)),r,"TargetPurposeLimboResolution",lw.oe))}}function Y0(t,e,n){return C(this,null,function*(){let r=he(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,a)=>{o.push(r.Ka(a,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=n?.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(a.targetId,p?"current":"not-current")}if(u){s.push(u);let p=Ad.Wi(a.targetId,u);i.push(p)}}))}),yield Promise.all(o),r.Ca.d_(s),yield function(a,u){return C(this,null,function*(){let d=he(a);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,m=>F.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>F.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!K0(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let y=d.os.get(m),w=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(m,A)}}})}(r.localStore,i))})}function QU(t,e){return C(this,null,function*(){let n=he(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield Uw(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(c=>{c.forEach(a=>{a.reject(new H(D.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Y0(n,r.hs)}})}function YU(t,e){let n=he(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let s=xe(),i=n.Ma.get(e);if(!i)return s;for(let o of i){let c=n.Fa.get(o);s=s.unionWith(c.view.Va)}return s}}function tL(t){let e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qU.bind(null,e),e.Ca.d_=OU.bind(null,e.eventManager),e.Ca.$a=FU.bind(null,e.eventManager),e}function XU(t){let e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WU.bind(null,e),e}var tw=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=r6(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return vU(this.persistence,new Td,n.initialUser,this.serializer)}Ga(n){return new Ed(Sd.Zr,this.serializer)}Wa(n){return new Pd}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var ZU=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),yield kU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Gd}()}createDatastore(n){let r=r6(n.databaseInfo.databaseId),s=function(o){return new Fd(o)}(n.databaseInfo);return function(o,c,a,u){return new Bd(o,c,a,u)}(n.authCredentials,n.appCheckCredentials,s,r)}createRemoteStore(n){return function(s,i,o,c,a){return new Hd(s,i,o,c,a)}(this.localStore,this.datastore,n.asyncQueue,r=>J_(this.syncEngine,r,0),function(){return Ra.D()?new Ra:new kd}())}createSyncEngine(n,r){return function(i,o,c,a,u,d,p){let m=new Xd(i,o,c,a,u,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(i){return C(this,null,function*(){let o=he(i);W("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Q0(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ha=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Jd=class{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vt.UNAUTHENTICATED,this.clientId=va.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,o=>C(this,null,function*(){W("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=b9(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Df(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(s=>C(this,null,function*(){r.isEqual(s)||(yield Uw(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function nw(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield JU(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Y_(e.remoteStore,s)),t._onlineComponents=e})}function JU(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Df(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(s){return s.name==="FirebaseError"?s.code===D.FAILED_PRECONDITION||s.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;bi("Error using user provided cache. Falling back to memory cache: "+n),yield Df(t,new tw)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield Df(t,new tw);return t._offlineComponents})}function nL(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield nw(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield nw(t,new ZU))),t._onlineComponents})}function eB(t){return nL(t).then(e=>e.syncEngine)}function e9(t){return C(this,null,function*(){let e=yield nL(t),n=e.eventManager;return n.onListen=VU.bind(null,e.syncEngine),n.onUnlisten=jU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HU.bind(null,e.syncEngine),n})}function tB(t,e,n={}){let r=new sn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(i,o,c,a,u){let d=new Ha({next:m=>{d.Za(),o.enqueueAndForget(()=>Qw(i,p)),m.fromCache&&a.source==="server"?u.reject(new H(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Ua(c,d,{includeMetadataChanges:!0,_a:!0});return Kw(i,p)}(yield e9(t),t.asyncQueue,e,n,r)})),r.promise}function rL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var rw=new Map;function sL(t,e,n){if(!n)throw new H(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nB(t,e,n,r){if(e===!0&&r===!0)throw new H(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sw(t){if(!te.isDocumentKey(t))throw new H(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iw(t){if(te.isDocumentKey(t))throw new H(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o6(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function D2(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=o6(t);throw new H(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rB(t,e){if(e<=0)throw new H(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var $a=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ri=class{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $a({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $a(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Tf;switch(r.type){case"firstParty":return new kf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=rw.get(n);r&&(W("ComponentProvider","Removing Datastore"),rw.delete(n),r.terminate())}(this),Promise.resolve()}};function iL(t,e,n,r={}){var s;let i=(t=D2(t,Ri))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let c,a;if(typeof r.mockUserToken=="string")c=r.mockUserToken,a=vt.MOCK_USER;else{c=U3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new H(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new vt(u)}t._authCredentials=new Nf(new ya(c,a))}}var e1=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new B1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},B1=class t extends e1{constructor(e,n,r){super(e,n,y9(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function oL(t,e,...n){if(t=Ue(t),sL("collection","path",e),t instanceof Ri){let r=Xe.fromString(e,...n);return iw(r),new B1(t,null,r)}{if(!(t instanceof Gt||t instanceof B1))throw new H(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return iw(r),new B1(t.firestore,null,r)}}function E9(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=va.newId()),sL("doc","path",e),t instanceof Ri){let r=Xe.fromString(e,...n);return sw(r),new Gt(t,null,new te(r))}{if(!(t instanceof Gt||t instanceof B1))throw new H(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return sw(r),new Gt(t.firestore,t instanceof B1?t.converter:null,new te(r))}}var qa=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Pa(this,"async_queue_retry"),this.Vu=()=>{let r=Af();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new sn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!K0(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let s=$d.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function ow(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let s=n;for(let i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}var t1=class extends Ri{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qa,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qa(e),this._firestoreClient=void 0,yield e}})}};function cL(t,e){let n=typeof t=="object"?t:k1(),r=typeof t=="string"?t:e||"(default)",s=Dr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){let i=V3("firestore");i&&iL(s,...i)}return s}function z9(t){if(t._terminated)throw new H(D.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sB(t),t._firestoreClient}function sB(t){var e,n,r;let s=t._freezeSettings(),i=function(c,a,u,d){return new Bf(c,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,rL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Jd(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){let a=c?._online.build();return{_offline:c?._offline.build(a),_online:a}}(t._componentsProvider))}var B0=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Pt.fromBase64String(e))}catch(n){throw new H(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Pi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new o2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kr=class{constructor(e){this._methodName=e}};var j0=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var H0=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}};var iB=/^__.*__$/,t9=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new un(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wr(e,this.data,n,this.fieldTransforms)}},Ga=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new un(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function aL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var Wa=class t{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qa(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aL(this.Cu)&&iB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},n9=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||r6(e)}Qu(e,n,r,s=!1){return new Wa({Cu:e,methodName:n,qu:r,path:o2.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function c6(t){let e=t._freezeSettings(),n=r6(t._databaseId);return new n9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lL(t,e,n,r,s,i={}){let o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);S9("Data must be an object, but it was:",o,r);let c=fL(r,o),a,u;if(i.merge)a=new v2(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){let d=[];for(let p of i.mergeFields){let m=i9(e,p,n);if(!o.contains(m))throw new H(D.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);hL(d,m)||d.push(m)}a=new v2(d),u=o.fieldTransforms.filter(p=>a.covers(p.field))}else a=null,u=o.fieldTransforms;return new t9(new i2(c),a,u)}var Ka=class t extends Kr{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function uL(t,e,n){return new Wa({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var r9=class t extends Kr{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=uL(this,e,!0),r=this.Ku.map(i=>Xr(i,n)),s=new q1(r);return new Ia(e.path,s)}isEqual(e){return e instanceof t&&jn(this.Ku,e.Ku)}},s9=class t extends Kr{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=uL(this,e,!0),r=this.Ku.map(i=>Xr(i,n)),s=new G1(r);return new Ia(e.path,s)}isEqual(e){return e instanceof t&&jn(this.Ku,e.Ku)}};function oB(t,e,n,r){let s=t.Qu(1,e,n);S9("Data must be an object, but it was:",s,r);let i=[],o=i2.empty();Qr(r,(a,u)=>{let d=A9(e,a,n);u=Ue(u);let p=s.Nu(d);if(u instanceof Ka)i.push(d);else{let m=Xr(u,p);m!=null&&(i.push(d),o.set(d,m))}});let c=new v2(i);return new Ga(o,c,s.fieldTransforms)}function cB(t,e,n,r,s,i){let o=t.Qu(1,e,n),c=[i9(e,r,n)],a=[s];if(i.length%2!=0)throw new H(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)c.push(i9(e,i[m])),a.push(i[m+1]);let u=[],d=i2.empty();for(let m=c.length-1;m>=0;--m)if(!hL(u,c[m])){let y=c[m],w=a[m];w=Ue(w);let A=o.Nu(y);if(w instanceof Ka)u.push(y);else{let z=Xr(w,A);z!=null&&(u.push(y),d.set(y,z))}}let p=new v2(u);return new Ga(d,p,o.fieldTransforms)}function aB(t,e,n,r=!1){return Xr(n,t.Qu(r?4:3,e))}function Xr(t,e){if(dL(t=Ue(t)))return S9("Unsupported field value:",e,t),fL(t,e);if(t instanceof Kr)return function(r,s){if(!aL(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);let i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){let i=[],o=0;for(let c of r){let a=Xr(c,s.Lu(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let i=wt.fromDate(r);return{timestampValue:Da(s.serializer,i)}}if(r instanceof wt){let i=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Da(s.serializer,i)}}if(r instanceof j0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof B0)return{bytesValue:Nw(s.serializer,r._byteString)};if(r instanceof Gt){let i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:C9(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof H0)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw c.Bu("VectorValues must only contain numeric values.");return v9(c.serializer,a)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${o6(r)}`)}(t,e)}function fL(t,e){let n={};return uw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(r,s)=>{let i=Xr(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function dL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof j0||t instanceof B0||t instanceof Gt||t instanceof Kr||t instanceof H0)}function S9(t,e,n){if(!dL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){let r=o6(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function i9(t,e,n){if((e=Ue(e))instanceof Pi)return e._internalPath;if(typeof e=="string")return A9(t,e);throw Qa("Field path arguments must be of type string or ",t,!1,void 0,n)}var lB=new RegExp("[~\\*/\\[\\]]");function A9(t,e,n){if(e.search(lB)>=0)throw Qa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pi(...e.split("."))._internalPath}catch{throw Qa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qa(t,e,n,r,s){let i=r&&!r.isEmpty(),o=s!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let a="";return(i||o)&&(a+=" (found",i&&(a+=` in field ${r}`),o&&(a+=` in document ${s}`),a+=")"),new H(D.INVALID_ARGUMENT,c+t+a)}function hL(t,e){return t.some(n=>n.isEqual(e))}var Ya=class{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new o9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(a6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},o9=class extends Ya{data(){return super.data()}};function a6(t,e){return typeof e=="string"?A9(t,e):e instanceof Pi?e._internalPath:e._delegate._internalPath}function pL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $0=class{},q0=class extends $0{};function mL(t,e,...n){let r=[];e instanceof $0&&r.push(e),r=r.concat(n),function(i){let o=i.filter(a=>a instanceof c9).length,c=i.filter(a=>a instanceof Xa).length;if(o>1||o>0&&c>0)throw new H(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let s of r)t=s._apply(t);return t}var Xa=class t extends q0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return vL(e._query,n),new e1(e.firestore,e.converter,ed(e._query,n))}_parse(e){let n=c6(e.firestore);return function(i,o,c,a,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aw(p,d);let y=[];for(let w of p)y.push(cw(a,i,w));m={arrayValue:{values:y}}}else m=cw(a,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aw(p,d),m=aB(c,o,p,d==="in"||d==="not-in");return ft.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function gL(t,e,n){let r=e,s=a6("where",t);return Xa._create(s,r,n)}var c9=class t extends $0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:N2.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s,c=i.getFlattenedFilters();for(let a of c)vL(o,a),o=ed(o,a)}(e._query,n),new e1(e.firestore,e.converter,ed(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var a9=class t extends q0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(s,i,o){if(s.startAt!==null)throw new H(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new H(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gr(i,o)}(e._query,this._field,this._direction);return new e1(e.firestore,e.converter,function(s,i){let o=s.explicitOrderBy.concat([i]);return new H1(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}};function yL(t,e="asc"){let n=e,r=a6("orderBy",t);return a9._create(r,n)}var l9=class t extends q0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new e1(e.firestore,e.converter,ba(e._query,this._limit,this._limitType))}};function D9(t){return rB("limit",t),l9._create("limit",t,"F")}function cw(t,e,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new H(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(e)&&n.indexOf("/")!==-1)throw new H(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Xe.fromString(n));if(!te.isDocumentKey(r))throw new H(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T_(t,new te(r))}if(n instanceof Gt)return T_(t,n._key);throw new H(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o6(n)}.`)}function aw(t,e){if(!Array.isArray(t)||t.length===0)throw new H(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vL(t,e){let n=function(s,i){for(let o of s)for(let c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var u9=class{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(j1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Qr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;let i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qe(o.doubleValue));return new H0(i)}convertGeoPoint(e){return new j0(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=h9(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(P0(e));default:return null}}convertTimestamp(e){let n=Zn(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);ke(Vw(r));let s=new wa(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Xn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};function CL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var jr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Za=class extends Ya{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Li(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(a6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Li=class extends Za{data(e={}){return super.data(e)}},Ja=class{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jr(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Li(this._firestore,this._userDataWriter,r.key,r,new jr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{let a=new Li(s._firestore,s._userDataWriter,c.doc.key,c.doc,new jr(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{let a=new Li(s._firestore,s._userDataWriter,c.doc.key,c.doc,new jr(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter),u=-1,d=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:uB(c.type),doc:a,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}var G0=class extends u9{constructor(e){super(),this.firestore=e}convertBytes(e){return new B0(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}};function ML(t){t=D2(t,e1);let e=D2(t.firestore,t1),n=z9(e),r=new G0(e);return pL(t._query),tB(n,t._query).then(s=>new Ja(e,r,t,s))}function _L(t,e,n){t=D2(t,Gt);let r=D2(t.firestore,t1),s=CL(t.converter,e,n);return N9(r,[lL(c6(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function X0(t,e,n,...r){t=D2(t,Gt);let s=D2(t.firestore,t1),i=c6(s),o;return o=typeof(e=Ue(e))=="string"||e instanceof Pi?cB(i,"updateDoc",t._key,e,n,r):oB(i,"updateDoc",t._key,e),N9(s,[o.toMutation(t._key,Yn.exists(!0))])}function wL(t,e){let n=D2(t.firestore,t1),r=E9(t),s=CL(t.converter,e);return N9(n,[lL(c6(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function T9(t,...e){var n,r,s;t=Ue(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ow(e[o])||(i=e[o],o++);let c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ow(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let a,u,d;if(t instanceof Gt)u=D2(t.firestore,t1),d=y9(t._key.path),a={next:p=>{e[o]&&e[o](fB(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=D2(t,e1);u=D2(p.firestore,t1),d=p._query;let m=new G0(u);a={next:y=>{e[o]&&e[o](new Ja(u,m,p,y))},error:e[o+1],complete:e[o+2]},pL(t._query)}return function(m,y,w,A){let z=new Ha(A),P=new Ua(y,z,w);return m.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Kw(yield e9(m),P)})),()=>{z.Za(),m.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Qw(yield e9(m),P)}))}}(z9(u),d,c,a)}function N9(t,e){return function(r,s){let i=new sn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return $U(yield eB(r),s,i)})),i.promise}(z9(t),e)}function fB(t,e,n){let r=n.docs.get(e._key),s=new G0(t);return new Za(t,s,e._key,r,new jr(n.hasPendingWrites,n.fromCache),e.converter)}function l6(...t){return new r9("arrayUnion",t)}function u6(...t){return new s9("arrayRemove",t)}(function(e,n=!0){(function(s){ki=s})(en),J2(new Zt("firestore",(r,{instanceIdentifier:s,options:i})=>{let o=r.getProvider("app").getImmediate(),c=new t1(new Rf(r.getProvider("auth-internal")),new Ff(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),tt(z_,"4.7.3",e),tt(z_,"4.7.3","esm2017")})();var f6=function(){return f6=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f6.apply(this,arguments)};var pB={includeMetadataChanges:!1};function R9(t,e){return e===void 0&&(e=pB),new me(function(n){var r=T9(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function LL(t){return R9(t,{includeMetadataChanges:!0})}function bL(t,e){return e===void 0&&(e={}),LL(t).pipe(ie(function(n){return P9(n,e)}))}function P9(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:f6(f6({},r),(n={},n[e.idField]=t.id,n))}function IL(t){return R9(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function xL(t,e){return e===void 0&&(e={}),IL(t).pipe(ie(function(n){return n.map(function(r){return P9(r,e)})}))}var n1=class{constructor(e){return e}},EL="firestore",k9=class{constructor(){return v0(EL)}};var O9=new re("angularfire2.firestore-instances");function mB(t,e){let n=q3(EL,t,e);return n&&new n1(n)}function gB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new n1(r)}}var yB={provide:k9,deps:[[new Yt,O9]]},vB={provide:n1,useFactory:mB,deps:[[new Yt,O9],$n]};function zL(t,...e){return tt("angularfire",Nr.full,"fst"),xn([vB,yB,{provide:O9,useFactory:gB(t),multi:!0,deps:[Fe,Qt,hi,Rr,[new Yt,x0],[new Yt,di],...e]}])}var SL=Ke(xL,!0);var Fi=Ke(bL,!0);var AL=Ke(wL,!0);var DL=Ke(u6,!0),TL=Ke(l6,!0);var d6=Ke(oL,!0);var R2=Ke(E9,!0);var NL=Ke(ML,!0);var RL=Ke(cL,!0);var PL=Ke(yL,!0);var F9=Ke(mL,!0);var kL=Ke(_L,!0);var V9=Ke(X0,!0);var OL=Ke(gL,!0);var fn=class t{username="";userPfp="";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-user-badge"]],inputs:{username:"username",userPfp:"userPfp"},standalone:!0,features:[Ne],decls:4,vars:2,consts:[[1,"user"],["alt","user",3,"src"]],template:function(n,r){n&1&&(T(0,"div",0),ee(1,"img",1),T(2,"span"),X(3),N()()),n&2&&(j(),jo("src",r.userPfp,E2),j(2),Mt(r.username))},styles:[".user[_ngcontent-%COMP%]{display:flex;flex-direction:row;cursor:pointer;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}#user-info[_nghost-%COMP%]{display:flex;align-items:center;margin:20% 0;font-size:30px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}#user-info-profile[_nghost-%COMP%]{display:flex;align-items:center;font-size:30px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}"]})};function CB(t,e,n){return(e=_B(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){CB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _B(t){var e=MB(t,"string");return typeof e=="symbol"?e:e+""}var UL=()=>{},ah={},db={},hb=null,pb={mark:UL,measure:UL};try{typeof window<"u"&&(ah=window),typeof document<"u"&&(db=document),typeof MutationObserver<"u"&&(hb=MutationObserver),typeof performance<"u"&&(pb=performance)}catch{}var{userAgent:BL=""}=ah.navigator||{},Q1=ah,Ge=db,jL=hb,h6=pb,xne=!!Q1.document,i1=!!Ge.documentElement&&!!Ge.head&&typeof Ge.addEventListener=="function"&&typeof Ge.createElement=="function",mb=~BL.indexOf("MSIE")||~BL.indexOf("Trident/"),wB=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,LB=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,gb={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},bB={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yb=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],kt="classic",C6="duotone",IB="sharp",xB="sharp-duotone",vb=[kt,C6,IB,xB],EB={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},zB={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},SB=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),AB={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},DB=["fak","fa-kit","fakd","fa-kit-duotone"],HL={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},TB=["kit"],NB={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},RB=["fak","fakd"],PB={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},$L={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},p6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},kB=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],OB=["fak","fa-kit","fakd","fa-kit-duotone"],FB={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},VB={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},UB={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},q9={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},BB=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],G9=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...kB,...BB],jB=["solid","regular","light","thin","duotone","brands"],Cb=[1,2,3,4,5,6,7,8,9,10],HB=Cb.concat([11,12,13,14,15,16,17,18,19,20]),$B=[...Object.keys(UB),...jB,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",p6.GROUP,p6.SWAP_OPACITY,p6.PRIMARY,p6.SECONDARY].concat(Cb.map(t=>"".concat(t,"x"))).concat(HB.map(t=>"w-".concat(t))),qB={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},r1="___FONT_AWESOME___",W9=16,Mb="fa",_b="svg-inline--fa",Jr="data-fa-i2svg",K9="data-fa-pseudo-element",GB="data-fa-pseudo-element-pending",lh="data-prefix",uh="data-icon",qL="fontawesome-i2svg",WB="async",KB=["HTML","HEAD","STYLE","SCRIPT"],wb=(()=>{try{return!0}catch{return!1}})();function rc(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[kt]}})}var Lb=k({},gb);Lb[kt]=k(k(k(k({},{"fa-duotone":"duotone"}),gb[kt]),HL.kit),HL["kit-duotone"]);var QB=rc(Lb),Q9=k({},AB);Q9[kt]=k(k(k(k({},{duotone:"fad"}),Q9[kt]),$L.kit),$L["kit-duotone"]);var GL=rc(Q9),Y9=k({},q9);Y9[kt]=k(k({},Y9[kt]),PB.kit);var fh=rc(Y9),X9=k({},VB);X9[kt]=k(k({},X9[kt]),NB.kit);var Ene=rc(X9),YB=wB,bb="fa-layers-text",XB=LB,ZB=k({},EB),zne=rc(ZB),JB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],U9=bB,ej=[...TB,...$B],J0=Q1.FontAwesomeConfig||{};function tj(t){var e=Ge.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function nj(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ge&&typeof Ge.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,s=nj(tj(n));s!=null&&(J0[r]=s)});var Ib={styleDefault:"solid",familyDefault:kt,cssPrefix:Mb,replacementClass:_b,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};J0.familyPrefix&&(J0.cssPrefix=J0.familyPrefix);var Bi=k(k({},Ib),J0);Bi.autoReplaceSvg||(Bi.observeMutations=!1);var K={};Object.keys(Ib).forEach(t=>{Object.defineProperty(K,t,{enumerable:!0,set:function(e){Bi[t]=e,ec.forEach(n=>n(K))},get:function(){return Bi[t]}})});Object.defineProperty(K,"familyPrefix",{enumerable:!0,set:function(t){Bi.cssPrefix=t,ec.forEach(e=>e(K))},get:function(){return Bi.cssPrefix}});Q1.FontAwesomeConfig=K;var ec=[];function rj(t){return ec.push(t),()=>{ec.splice(ec.indexOf(t),1)}}var K1=W9,dn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function sj(t){if(!t||!i1)return;let e=Ge.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=Ge.head.childNodes,r=null;for(let s=n.length-1;s>-1;s--){let i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return Ge.head.insertBefore(e,r),t}var ij="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function tc(){let t=12,e="";for(;t-- >0;)e+=ij[Math.random()*62|0];return e}function ji(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function dh(t){return t.classList?ji(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function xb(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function oj(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(xb(t[n]),'" '),"").trim()}function M6(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function hh(t){return t.size!==dn.size||t.x!==dn.x||t.y!==dn.y||t.rotate!==dn.rotate||t.flipX||t.flipY}function cj(t){let{transform:e,containerWidth:n,iconWidth:r}=t,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(i," ").concat(o," ").concat(c)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:a,path:u}}function aj(t){let{transform:e,width:n=W9,height:r=W9,startCentered:s=!1}=t,i="";return s&&mb?i+="translate(".concat(e.x/K1-n/2,"em, ").concat(e.y/K1-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/K1,"em), calc(-50% + ").concat(e.y/K1,"em)) "):i+="translate(".concat(e.x/K1,"em, ").concat(e.y/K1,"em) "),i+="scale(".concat(e.size/K1*(e.flipX?-1:1),", ").concat(e.size/K1*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var lj=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Eb(){let t=Mb,e=_b,n=K.cssPrefix,r=K.replacementClass,s=lj;if(n!==t||r!==e){let i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(r))}return s}var WL=!1;function B9(){K.autoAddCss&&!WL&&(sj(Eb()),WL=!0)}var uj={mixout(){return{dom:{css:Eb,insertCss:B9}}},hooks(){return{beforeDOMElementCreation(){B9()},beforeI2svg(){B9()}}}},s1=Q1||{};s1[r1]||(s1[r1]={});s1[r1].styles||(s1[r1].styles={});s1[r1].hooks||(s1[r1].hooks={});s1[r1].shims||(s1[r1].shims=[]);var hn=s1[r1],zb=[],Sb=function(){Ge.removeEventListener("DOMContentLoaded",Sb),y6=1,zb.map(t=>t())},y6=!1;i1&&(y6=(Ge.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ge.readyState),y6||Ge.addEventListener("DOMContentLoaded",Sb));function fj(t){i1&&(y6?setTimeout(t,0):zb.push(t))}function sc(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?xb(t):"<".concat(e," ").concat(oj(n),">").concat(r.map(sc).join(""),"</").concat(e,">")}function KL(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var dj=function(e,n){return function(r,s,i,o){return e.call(n,r,s,i,o)}},j9=function(e,n,r,s){var i=Object.keys(e),o=i.length,c=s!==void 0?dj(n,s):n,a,u,d;for(r===void 0?(a=1,d=e[i[0]]):(a=0,d=r);a<o;a++)u=i[a],d=c(d,e[u],u,e);return d};function hj(t){let e=[],n=0,r=t.length;for(;n<r;){let s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){let i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function Z9(t){let e=hj(t);return e.length===1?e[0].toString(16):null}function pj(t,e){let n=t.length,r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function QL(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function J9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,s=QL(e);typeof hn.hooks.addPack=="function"&&!r?hn.hooks.addPack(t,QL(e)):hn.styles[t]=k(k({},hn.styles[t]||{}),s),t==="fas"&&J9("fa",e)}var{styles:nc,shims:mj}=hn,Ab=Object.keys(fh),gj=Ab.reduce((t,e)=>(t[e]=Object.keys(fh[e]),t),{}),ph=null,Db={},Tb={},Nb={},Rb={},Pb={};function yj(t){return~ej.indexOf(t)}function vj(t,e){let n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!yj(s)?s:null}var kb=()=>{let t=r=>j9(nc,(s,i,o)=>(s[o]=j9(i,r,{}),s),{});Db=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=i}),r)),Tb=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=i}),r)),Pb=t((r,s,i)=>{let o=s[2];return r[i]=i,o.forEach(c=>{r[c]=i}),r});let e="far"in nc||K.autoFetchSvg,n=j9(mj,(r,s)=>{let i=s[0],o=s[1],c=s[2];return o==="far"&&!e&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:c}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});Nb=n.names,Rb=n.unicodes,ph=_6(K.styleDefault,{family:K.familyDefault})};rj(t=>{ph=_6(t.styleDefault,{family:K.familyDefault})});kb();function mh(t,e){return(Db[t]||{})[e]}function Cj(t,e){return(Tb[t]||{})[e]}function Zr(t,e){return(Pb[t]||{})[e]}function Ob(t){return Nb[t]||{prefix:null,iconName:null}}function Mj(t){let e=Rb[t],n=mh("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Y1(){return ph}var Fb=()=>({prefix:null,iconName:null,rest:[]});function _j(t){let e=kt,n=Ab.reduce((r,s)=>(r[s]="".concat(K.cssPrefix,"-").concat(s),r),{});return vb.forEach(r=>{(t.includes(n[r])||t.some(s=>gj[r].includes(s)))&&(e=r)}),e}function _6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=kt}=e,r=QB[n][t];if(n===C6&&!t)return"fad";let s=GL[n][t]||GL[n][r],i=t in hn.styles?t:null;return s||i||null}function wj(t){let e=[],n=null;return t.forEach(r=>{let s=vj(K.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function YL(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function w6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r=null,s=G9.concat(OB),i=YL(t.filter(p=>s.includes(p))),o=YL(t.filter(p=>!G9.includes(p))),c=i.filter(p=>(r=p,!yb.includes(p))),[a=null]=c,u=_j(i),d=k(k({},wj(o)),{},{prefix:_6(a,{family:u})});return k(k(k({},d),xj({values:t,family:u,styles:nc,config:K,canonical:d,givenPrefix:r})),Lj(n,r,d))}function Lj(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};let i=e==="fa"?Ob(s):{},o=Zr(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!nc.far&&nc.fas&&!K.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var bj=vb.filter(t=>t!==kt||t!==C6),Ij=Object.keys(q9).filter(t=>t!==kt).map(t=>Object.keys(q9[t])).flat();function xj(t){let{values:e,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=t,c=n===C6,a=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(a||u||d)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&bj.includes(n)&&(Object.keys(i).find(m=>Ij.includes(m))||o.autoFetchSvg)){let m=SB.get(n).defaultShortPrefixId;r.prefix=m,r.iconName=Zr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Y1()||"fas"),r}var eh=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=k(k({},this.definitions[i]||{}),s[i]),J9(i,s[i]);let o=fh[kt][i];o&&J9(o,s[i]),kb()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{let{prefix:i,iconName:o,icon:c}=r[s],a=c[2];e[i]||(e[i]={}),a.length>0&&a.forEach(u=>{typeof u=="string"&&(e[i][u]=c)}),e[i][o]=c}),e}},XL=[],Vi={},Ui={},Ej=Object.keys(Ui);function zj(t,e){let{mixoutsTo:n}=e;return XL=t,Vi={},Object.keys(Ui).forEach(r=>{Ej.indexOf(r)===-1&&delete Ui[r]}),XL.forEach(r=>{let s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){let i=r.hooks();Object.keys(i).forEach(o=>{Vi[o]||(Vi[o]=[]),Vi[o].push(i[o])})}r.provides&&r.provides(Ui)}),n}function th(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Vi[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function es(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Vi[t]||[]).forEach(i=>{i.apply(null,n)})}function X1(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ui[t]?Ui[t].apply(null,e):void 0}function nh(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||Y1();if(e)return e=Zr(n,e)||e,KL(Vb.definitions,n,e)||KL(hn.styles,n,e)}var Vb=new eh,Sj=()=>{K.autoReplaceSvg=!1,K.observeMutations=!1,es("noAuto")},Aj={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return i1?(es("beforeI2svg",t),X1("pseudoElements2svg",t),X1("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;K.autoReplaceSvg===!1&&(K.autoReplaceSvg=!0),K.observeMutations=!0,fj(()=>{Tj({autoReplaceSvgRoot:e}),es("watch",t)})}},Dj={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Zr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=_6(t[0]);return{prefix:n,iconName:Zr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(K.cssPrefix,"-"))>-1||t.match(YB))){let e=w6(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Y1(),iconName:Zr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=Y1();return{prefix:e,iconName:Zr(e,t)||t}}}},c2={noAuto:Sj,config:K,dom:Aj,parse:Dj,library:Vb,findIconDefinition:nh,toHtml:sc},Tj=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Ge}=t;(Object.keys(hn.styles).length>0||K.autoFetchSvg)&&i1&&K.autoReplaceSvg&&c2.dom.i2svg({node:e})};function L6(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>sc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!i1)return;let n=Ge.createElement("div");return n.innerHTML=t.html,n.children}}),t}function Nj(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:o}=t;if(hh(o)&&n.found&&!r.found){let{width:c,height:a}=n,u={x:c/a/2,y:.5};s.style=M6(k(k({},i),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function Rj(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t,o=i===!0?"".concat(e,"-").concat(K.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:k(k({},s),{},{id:o}),children:r}]}]}function gh(t){let{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:c,maskId:a,titleId:u,extra:d,watchable:p=!1}=t,{width:m,height:y}=n.found?n:e,w=RB.includes(r),A=[K.replacementClass,s?"".concat(K.cssPrefix,"-").concat(s):""].filter(we=>d.classes.indexOf(we)===-1).filter(we=>we!==""||!!we).concat(d.classes).join(" "),z={children:[],attributes:k(k({},d.attributes),{},{"data-prefix":r,"data-icon":s,class:A,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},P=w&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(z.attributes[Jr]=""),c&&(z.children.push({tag:"title",attributes:{id:z.attributes["aria-labelledby"]||"title-".concat(u||tc())},children:[c]}),delete z.attributes.title);let O=k(k({},z),{},{prefix:r,iconName:s,main:e,mask:n,maskId:a,transform:i,symbol:o,styles:k(k({},P),d.styles)}),{children:U,attributes:q}=n.found&&e.found?X1("generateAbstractMask",O)||{children:[],attributes:{}}:X1("generateAbstractIcon",O)||{children:[],attributes:{}};return O.children=U,O.attributes=q,o?Rj(O):Nj(O)}function ZL(t){let{content:e,width:n,height:r,transform:s,title:i,extra:o,watchable:c=!1}=t,a=k(k(k({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});c&&(a[Jr]="");let u=k({},o.styles);hh(s)&&(u.transform=aj({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);let d=M6(u);d.length>0&&(a.style=d);let p=[];return p.push({tag:"span",attributes:a,children:[e]}),i&&p.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),p}function Pj(t){let{content:e,title:n,extra:r}=t,s=k(k(k({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=M6(r.styles);i.length>0&&(s.style=i);let o=[];return o.push({tag:"span",attributes:s,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:H9}=hn;function rh(t){let e=t[0],n=t[1],[r]=t.slice(4),s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(K.cssPrefix,"-").concat(U9.GROUP)},children:[{tag:"path",attributes:{class:"".concat(K.cssPrefix,"-").concat(U9.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(K.cssPrefix,"-").concat(U9.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}var kj={found:!1,width:512,height:512};function Oj(t,e){!wb&&!K.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function sh(t,e){let n=e;return e==="fa"&&K.styleDefault!==null&&(e=Y1()),new Promise((r,s)=>{if(n==="fa"){let i=Ob(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&H9[e]&&H9[e][t]){let i=H9[e][t];return r(rh(i))}Oj(t,e),r(k(k({},kj),{},{icon:K.showMissingIcons&&t?X1("missingIconAbstract")||{}:{}}))})}var JL=()=>{},ih=K.measurePerformance&&h6&&h6.mark&&h6.measure?h6:{mark:JL,measure:JL},Z0='FA "6.7.1"',Fj=t=>(ih.mark("".concat(Z0," ").concat(t," begins")),()=>Ub(t)),Ub=t=>{ih.mark("".concat(Z0," ").concat(t," ends")),ih.measure("".concat(Z0," ").concat(t),"".concat(Z0," ").concat(t," begins"),"".concat(Z0," ").concat(t," ends"))},yh={begin:Fj,end:Ub},m6=()=>{};function eb(t){return typeof(t.getAttribute?t.getAttribute(Jr):null)=="string"}function Vj(t){let e=t.getAttribute?t.getAttribute(lh):null,n=t.getAttribute?t.getAttribute(uh):null;return e&&n}function Uj(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(K.replacementClass)}function Bj(){return K.autoReplaceSvg===!0?g6.replace:g6[K.autoReplaceSvg]||g6.replace}function jj(t){return Ge.createElementNS("http://www.w3.org/2000/svg",t)}function Hj(t){return Ge.createElement(t)}function Bb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?jj:Hj}=e;if(typeof t=="string")return Ge.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(Bb(i,{ceFn:n}))}),r}function $j(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var g6={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Bb(n),e)}),e.getAttribute(Jr)===null&&K.keepOriginalSource){let n=Ge.createComment($j(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~dh(e).indexOf(K.replacementClass))return g6.replace(t);let r=new RegExp("".concat(K.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let i=n[0].attributes.class.split(" ").reduce((o,c)=>(c===K.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}let s=n.map(i=>sc(i)).join(`
`);e.setAttribute(Jr,""),e.innerHTML=s}};function tb(t){t()}function jb(t,e){let n=typeof e=="function"?e:m6;if(t.length===0)n();else{let r=tb;K.mutateApproach===WB&&(r=Q1.requestAnimationFrame||tb),r(()=>{let s=Bj(),i=yh.begin("mutate");t.map(s),i(),n()})}}var vh=!1;function Hb(){vh=!0}function oh(){vh=!1}var v6=null;function nb(t){if(!jL||!K.observeMutations)return;let{treeCallback:e=m6,nodeCallback:n=m6,pseudoElementsCallback:r=m6,observeMutationsRoot:s=Ge}=t;v6=new jL(i=>{if(vh)return;let o=Y1();ji(i).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!eb(c.addedNodes[0])&&(K.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&K.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&eb(c.target)&&~JB.indexOf(c.attributeName))if(c.attributeName==="class"&&Vj(c.target)){let{prefix:a,iconName:u}=w6(dh(c.target));c.target.setAttribute(lh,a||o),u&&c.target.setAttribute(uh,u)}else Uj(c.target)&&n(c.target)})}),i1&&v6.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function qj(){v6&&v6.disconnect()}function Gj(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,s)=>{let i=s.split(":"),o=i[0],c=i.slice(1);return o&&c.length>0&&(r[o]=c.join(":").trim()),r},{})),n}function Wj(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=w6(dh(t));return s.prefix||(s.prefix=Y1()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Cj(s.prefix,t.innerText)||mh(s.prefix,Z9(t.innerText))),!s.iconName&&K.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function Kj(t){let e=ji(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return K.autoA11y&&(n?e["aria-labelledby"]="".concat(K.replacementClass,"-title-").concat(r||tc()):(e["aria-hidden"]="true",e.focusable="false")),e}function Qj(){return{iconName:null,title:null,titleId:null,prefix:null,transform:dn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function rb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:s}=Wj(t),i=Kj(t),o=th("parseNodeAttributes",{},t),c=e.styleParser?Gj(t):[];return k({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:dn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:i}},o)}var{styles:Yj}=hn;function $b(t){let e=K.autoReplaceSvg==="nest"?rb(t,{styleParser:!1}):rb(t);return~e.extra.classes.indexOf(bb)?X1("generateLayersText",t,e):X1("generateSvgReplacementMutation",t,e)}function Xj(){return[...DB,...G9]}function sb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!i1)return Promise.resolve();let n=Ge.documentElement.classList,r=d=>n.add("".concat(qL,"-").concat(d)),s=d=>n.remove("".concat(qL,"-").concat(d)),i=K.autoFetchSvg?Xj():yb.concat(Object.keys(Yj));i.includes("fa")||i.push("fa");let o=[".".concat(bb,":not([").concat(Jr,"])")].concat(i.map(d=>".".concat(d,":not([").concat(Jr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=ji(t.querySelectorAll(o))}catch{}if(c.length>0)r("pending"),s("complete");else return Promise.resolve();let a=yh.begin("onTree"),u=c.reduce((d,p)=>{try{let m=$b(p);m&&d.push(m)}catch(m){wb||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,p)=>{Promise.all(u).then(m=>{jb(m,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),a(),d()})}).catch(m=>{a(),p(m)})})}function Zj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$b(t).then(n=>{n&&jb([n],e)})}function Jj(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:nh(e||{}),{mask:s}=n;return s&&(s=(s||{}).icon?s:nh(s||{})),t(r,k(k({},n),{},{mask:s}))}}var eH=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=dn,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:c=null,classes:a=[],attributes:u={},styles:d={}}=e;if(!t)return;let{prefix:p,iconName:m,icon:y}=t;return L6(k({type:"icon"},t),()=>(es("beforeDOMElementCreation",{iconDefinition:t,params:e}),K.autoA11y&&(o?u["aria-labelledby"]="".concat(K.replacementClass,"-title-").concat(c||tc()):(u["aria-hidden"]="true",u.focusable="false")),gh({icons:{main:rh(y),mask:s?rh(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:m,transform:k(k({},dn),n),symbol:r,title:o,maskId:i,titleId:c,extra:{attributes:u,styles:d,classes:a}})))},tH={mixout(){return{icon:Jj(eH)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=sb,t.nodeCallback=Zj,t}}},provides(t){t.i2svg=function(e){let{node:n=Ge,callback:r=()=>{}}=e;return sb(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:s,titleId:i,prefix:o,transform:c,symbol:a,mask:u,maskId:d,extra:p}=n;return new Promise((m,y)=>{Promise.all([sh(r,o),u.iconName?sh(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[A,z]=w;m([e,gh({icons:{main:A,mask:z},prefix:o,iconName:r,transform:c,symbol:a,maskId:d,title:s,titleId:i,extra:p,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:o}=e,c=M6(o);c.length>0&&(r.style=c);let a;return hh(i)&&(a=X1("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(a||s.icon),{children:n,attributes:r}}}},nH={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return L6({type:"layer"},()=>{es("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(K.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},rH={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return L6({type:"counter",content:t},()=>(es("beforeDOMElementCreation",{content:t,params:e}),Pj({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(K.cssPrefix,"-layers-counter"),...r]}})))}}}},sH={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=dn,title:r=null,classes:s=[],attributes:i={},styles:o={}}=e;return L6({type:"text",content:t},()=>(es("beforeDOMElementCreation",{content:t,params:e}),ZL({content:t,transform:k(k({},dn),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(K.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:s,extra:i}=n,o=null,c=null;if(mb){let a=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/a,c=u.height/a}return K.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,ZL({content:e.innerHTML,width:o,height:c,transform:s,title:r,extra:i,watchable:!0})])}}},iH=new RegExp('"',"ug"),ib=[1105920,1112319],ob=k(k(k(k({},{FontAwesome:{normal:"fas",400:"fas"}}),zB),qB),FB),ch=Object.keys(ob).reduce((t,e)=>(t[e.toLowerCase()]=ob[e],t),{}),oH=Object.keys(ch).reduce((t,e)=>{let n=ch[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function cH(t){let e=t.replace(iH,""),n=pj(e,0),r=n>=ib[0]&&n<=ib[1],s=e.length===2?e[0]===e[1]:!1;return{value:Z9(s?e[0]:e),isSecondary:r||s}}function aH(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(ch[n]||{})[s]||oH[n]}function cb(t,e){let n="".concat(GB).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();let o=ji(t.children).filter(m=>m.getAttribute(K9)===e)[0],c=Q1.getComputedStyle(t,e),a=c.getPropertyValue("font-family"),u=a.match(XB),d=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){let m=c.getPropertyValue("content"),y=aH(a,d),{value:w,isSecondary:A}=cH(m),z=u[0].startsWith("FontAwesome"),P=mh(y,w),O=P;if(z){let U=Mj(w);U.iconName&&U.prefix&&(P=U.iconName,y=U.prefix)}if(P&&!A&&(!o||o.getAttribute(lh)!==y||o.getAttribute(uh)!==O)){t.setAttribute(n,O),o&&t.removeChild(o);let U=Qj(),{extra:q}=U;q.attributes[K9]=e,sh(P,y).then(we=>{let Z=gh(k(k({},U),{},{icons:{main:we,mask:Fb()},prefix:y,iconName:O,extra:q,watchable:!0})),L=Ge.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(L,t.firstChild):t.appendChild(L),L.outerHTML=Z.map(v=>sc(v)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function lH(t){return Promise.all([cb(t,"::before"),cb(t,"::after")])}function uH(t){return t.parentNode!==document.head&&!~KB.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(K9)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function ab(t){if(i1)return new Promise((e,n)=>{let r=ji(t.querySelectorAll("*")).filter(uH).map(lH),s=yh.begin("searchPseudoElements");Hb(),Promise.all(r).then(()=>{s(),oh(),e()}).catch(()=>{s(),oh(),n()})})}var fH={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=ab,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=Ge}=e;K.searchPseudoElements&&ab(n)}}},lb=!1,dH={mixout(){return{dom:{unwatch(){Hb(),lb=!0}}}},hooks(){return{bootstrap(){nb(th("mutationObserverCallbacks",{}))},noAuto(){qj()},watch(t){let{observeMutationsRoot:e}=t;lb?oh():nb(th("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},ub=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let s=r.toLowerCase().split("-"),i=s[0],o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},hH={mixout(){return{parse:{transform:t=>ub(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=ub(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e,o={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),a="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(c," ").concat(a," ").concat(u)},p={transform:"translate(".concat(i/2*-1," -256)")},m={outer:o,inner:d,path:p};return{tag:"g",attributes:k({},m.outer),children:[{tag:"g",attributes:k({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:k(k({},n.icon.attributes),m.path)}]}]}}}},$9={x:0,y:0,width:"100%",height:"100%"};function fb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function pH(t){return t.tag==="g"?t.children:[t]}var mH={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?w6(n.split(" ").map(s=>s.trim())):Fb();return r.prefix||(r.prefix=Y1()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:c}=e,{width:a,icon:u}=s,{width:d,icon:p}=i,m=cj({transform:c,containerWidth:d,iconWidth:a}),y={tag:"rect",attributes:k(k({},$9),{},{fill:"white"})},w=u.children?{children:u.children.map(fb)}:{},A={tag:"g",attributes:k({},m.inner),children:[fb(k({tag:u.tag,attributes:k(k({},u.attributes),m.path)},w))]},z={tag:"g",attributes:k({},m.outer),children:[A]},P="mask-".concat(o||tc()),O="clip-".concat(o||tc()),U={tag:"mask",attributes:k(k({},$9),{},{id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,z]},q={tag:"defs",children:[{tag:"clipPath",attributes:{id:O},children:pH(p)},U]};return n.push(q,{tag:"rect",attributes:k({fill:"currentColor","clip-path":"url(#".concat(O,")"),mask:"url(#".concat(P,")")},$9)}),{children:n,attributes:r}}}},gH={provides(t){let e=!1;Q1.matchMedia&&(e=Q1.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:k(k({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let i=k(k({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:k(k({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:k(k({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:k(k({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:k(k({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:k(k({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:k(k({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:k(k({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},yH={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},vH=[uj,tH,nH,rH,sH,fH,dH,hH,mH,gH,yH];zj(vH,{mixoutsTo:c2});var Sne=c2.noAuto,qb=c2.config,Ane=c2.library,Gb=c2.dom,Wb=c2.parse,Dne=c2.findIconDefinition,Tne=c2.toHtml,Kb=c2.icon,Nne=c2.layer,CH=c2.text,MH=c2.counter;var _H=["*"],wH=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},LH=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},bH=t=>{let e={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:t.rotate!==null,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)},Ch=new WeakSet,Qb="fa-auto-css";function IH(t,e){if(!e.autoAddCss||Ch.has(t))return;if(t.getElementById(Qb)!=null){e.autoAddCss=!1,Ch.add(t);return}let n=t.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",Qb),n.innerHTML=Gb.css();let r=t.head.childNodes,s=null;for(let i=r.length-1;i>-1;i--){let o=r[i],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(s=o)}t.head.insertBefore(n,s),e.autoAddCss=!1,Ch.add(t)}var xH=t=>t.prefix!==void 0&&t.iconName!==void 0,EH=(t,e)=>xH(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:e,iconName:t},zH=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(n){qb.autoAddCss=n,this._autoAddCss=n}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SH=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(let r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(let s of r.icon[2])typeof s=="string"&&(this.definitions[r.prefix][s]=r)}}addIconPacks(...n){for(let r of n){let s=Object.keys(r).map(i=>r[i]);this.addIcons(...s)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AH=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Dt]})}}return t})(),DH=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(n.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),n.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||t)($(g2),$(Tt))}}static{this.\u0275cmp=Te({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Dt,Ne],ngContentSelectors:_H,decls:1,vars:0,template:function(r,s){r&1&&(Nv(),Rv(0))},encapsulation:2})}}return t})(),C2=(()=>{class t{constructor(n,r,s,i,o){this.sanitizer=n,this.config=r,this.iconLibrary=s,this.stackItem=i,this.document=B($t),o!=null&&i==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(this.icon==null&&this.config.fallbackIcon==null){LH();return}if(n){let r=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(r!=null){let s=this.buildParams();IH(this.document,this.config);let i=Kb(r,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(n){let r=EH(n,this.config.defaultPrefix);if("icon"in r)return r;let s=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return s??(wH(r),null)}buildParams(){let n={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},r=typeof this.transform=="string"?Wb.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:bH(n),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(r){return new(r||t)($(Qo),$(zH),$(SH),$(AH,8),$(DH,8))}}static{this.\u0275cmp=Te({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,s){r&2&&(cu("innerHTML",s.renderedIconHTML,$y),Y2("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Dt,Ne],decls:0,vars:0,template:function(r,s){},encapsulation:2})}}return t})();var Jt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=In({type:t})}static{this.\u0275inj=bn({})}}return t})();var b6={prefix:"far",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z"]};var TH={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Yb=TH,Xb={prefix:"far",iconName:"image",icon:[512,512,[],"f03e","M448 80c8.8 0 16 7.2 16 16l0 319.8-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3L48 96c0-8.8 7.2-16 16-16l384 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]};var NH={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 151.2c-4.2-4.6-10.1-7.2-16.4-7.2C266 144 256 154 256 166.3l0 41.7-96 0c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l96 0 0 41.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.4-7.2l84-91c3.5-3.8 5.4-8.7 5.4-13.9s-1.9-10.1-5.4-13.9l-84-91z"]},Zb=NH;var I6={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]};var x6={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"]};var Jb={prefix:"far",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M400 255.4l0-15.4 0-32c0-8.8-7.2-16-16-16l-32 0-16 0-46.5 0c-50.9 0-93.9 33.5-108.3 79.6c-3.3-9.4-5.2-19.8-5.2-31.6c0-61.9 50.1-112 112-112l48 0 16 0 32 0c8.8 0 16-7.2 16-16l0-32 0-15.4L506 160 400 255.4zM336 240l16 0 0 48c0 17.7 14.3 32 32 32l3.7 0c7.9 0 15.5-2.9 21.4-8.2l139-125.1c7.6-6.8 11.9-16.5 11.9-26.7s-4.3-19.9-11.9-26.7L409.9 8.9C403.5 3.2 395.3 0 386.7 0C367.5 0 352 15.5 352 34.7L352 80l-16 0-32 0-16 0c-88.4 0-160 71.6-160 160c0 60.4 34.6 99.1 63.9 120.9c5.9 4.4 11.5 8.1 16.7 11.2c4.4 2.7 8.5 4.9 11.9 6.6c3.4 1.7 6.2 3 8.2 3.9c2.2 1 4.6 1.4 7.1 1.4l2.5 0c9.8 0 17.8-8 17.8-17.8c0-7.8-5.3-14.7-11.6-19.5c0 0 0 0 0 0c-.4-.3-.7-.5-1.1-.8c-1.7-1.1-3.4-2.5-5-4.1c-.8-.8-1.7-1.6-2.5-2.6s-1.6-1.9-2.4-2.9c-1.8-2.5-3.5-5.3-5-8.5c-2.6-6-4.3-13.3-4.3-22.4c0-36.1 29.3-65.5 65.5-65.5l14.5 0 32 0zM72 32C32.2 32 0 64.2 0 104L0 440c0 39.8 32.2 72 72 72l336 0c39.8 0 72-32.2 72-72l0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64c0 13.3-10.7 24-24 24L72 464c-13.3 0-24-10.7-24-24l0-336c0-13.3 10.7-24 24-24l64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L72 32z"]};var eI={prefix:"far",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376l0 103.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"]};var RH={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};var tI=RH;var uI=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)($(g2),$(Tt))}}static{this.\u0275dir=Je({type:t})}}return t})(),PH=(()=>{class t extends uI{static{this.\u0275fac=(()=>{let n;return function(s){return(n||(n=E1(t)))(s||t)}})()}static{this.\u0275dir=Je({type:t,features:[z2]})}}return t})(),fI=new re("");var kH={provide:fI,useExisting:I1(()=>Z1),multi:!0};function OH(){let t=On()?On().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var FH=new re(""),Z1=(()=>{class t extends uI{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!OH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)($(g2),$(Tt),$(FH,8))}}static{this.\u0275dir=Je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&pe("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Xs([kH]),z2]})}}return t})();function dI(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var R6=new re(""),hI=new re(""),VH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function UH(t){return dI(t.value)?{required:!0}:null}function BH(t){return dI(t.value)||VH.test(t.value)?null:{email:!0}}function nI(t){return null}function pI(t){return t!=null}function mI(t){return _r(t)?Ee(t):t}function gI(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function yI(t,e){return e.map(n=>n(t))}function jH(t){return!t.validate}function vI(t){return t.map(e=>jH(e)?e:n=>e.validate(n))}function HH(t){if(!t)return null;let e=t.filter(pI);return e.length==0?null:function(n){return gI(yI(n,e))}}function _h(t){return t!=null?HH(vI(t)):null}function $H(t){if(!t)return null;let e=t.filter(pI);return e.length==0?null:function(n){let r=yI(n,e).map(mI);return Yl(r).pipe(ie(gI))}}function wh(t){return t!=null?$H(vI(t)):null}function rI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qH(t){return t._rawValidators}function GH(t){return t._rawAsyncValidators}function Mh(t){return t?Array.isArray(t)?t:[t]:[]}function z6(t,e){return Array.isArray(t)?t.includes(e):t===e}function sI(t,e){let n=Mh(e);return Mh(t).forEach(s=>{z6(n,s)||n.push(s)}),n}function iI(t,e){return Mh(e).filter(n=>!z6(t,n))}var S6=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_h(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gi=class extends S6{get formDirective(){return null}get path(){return null}},uc=class extends S6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},A6=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},WH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},c1e=se(R({},WH),{"[class.ng-submitted]":"isSubmitted"}),Ki=(()=>{class t extends A6{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)($(uc,2))}}static{this.\u0275dir=Je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Rn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[z2]})}}return t})(),Qi=(()=>{class t extends A6{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)($(Gi,10))}}static{this.\u0275dir=Je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Rn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[z2]})}}return t})();var ic="VALID",E6="INVALID",$i="PENDING",oc="DISABLED",Wi=class{},D6=class extends Wi{constructor(e,n){super(),this.value=e,this.source=n}},ac=class extends Wi{constructor(e,n){super(),this.pristine=e,this.source=n}},lc=class extends Wi{constructor(e,n){super(),this.touched=e,this.source=n}},qi=class extends Wi{constructor(e,n){super(),this.status=e,this.source=n}};function CI(t){return(P6(t)?t.validators:t)||null}function KH(t){return Array.isArray(t)?_h(t):t||null}function MI(t,e){return(P6(e)?e.asyncValidators:t)||null}function QH(t){return Array.isArray(t)?wh(t):t||null}function P6(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function YH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function XH(t,e,n){t._forEachChild((r,s)=>{if(n[s]===void 0)throw new Q(1002,"")})}var T6=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ho(()=>this.statusReactive()),this.statusReactive=Nn(void 0),this._pristine=Ho(()=>this.pristineReactive()),this.pristineReactive=Nn(!0),this._touched=Ho(()=>this.touchedReactive()),this.touchedReactive=Nn(!1),this._events=new at,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kn(this.statusReactive)}set status(e){kn(()=>this.statusReactive.set(e))}get valid(){return this.status===ic}get invalid(){return this.status===E6}get pending(){return this.status==$i}get disabled(){return this.status===oc}get enabled(){return this.status!==oc}get pristine(){return kn(this.pristineReactive)}set pristine(e){kn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return kn(this.touchedReactive)}set touched(e){kn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iI(e,this._rawAsyncValidators))}hasValidator(e){return z6(this._rawValidators,e)}hasAsyncValidator(e){return z6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(R({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new lc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(R({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAsPending(e={}){this.status=$i;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(R({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oc,this.errors=null,this._forEachChild(s=>{s.disable(se(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new D6(this.value,r)),this._events.next(new qi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(R({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ic,this._forEachChild(r=>{r.enable(se(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(R({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ic||this.status===$i)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new D6(this.value,n)),this._events.next(new qi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(R({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oc:ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=$i,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=mI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?oc:this.errors?E6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($i)?$i:this._anyControlsHaveStatus(E6)?E6:ic}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),s&&this._events.next(new ac(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new lc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){P6(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QH(this._rawAsyncValidators)}},N6=class extends T6{constructor(e,n,r){super(CI(n),MI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){XH(this,!0,e),Object.keys(e).forEach(r=>{YH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,s)=>{r.reset(e?e[s]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((s,i)=>{r=n(r,s,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Lh=new re("CallSetDisabledState",{providedIn:"root",factory:()=>bh}),bh="always";function ZH(t,e){return[...e.path,t]}function _I(t,e,n=bh){wI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),e$(t,e),n$(t,e),t$(t,e),JH(t,e)}function oI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function JH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function wI(t,e){let n=qH(t);e.validator!==null?t.setValidators(rI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=GH(t);e.asyncValidator!==null?t.setAsyncValidators(rI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let s=()=>t.updateValueAndValidity();oI(e._rawValidators,s),oI(e._rawAsyncValidators,s)}function e$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LI(t,e)})}function t$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function n$(t,e){let n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function r$(t,e){t==null,wI(t,e)}function s$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function i$(t){return Object.getPrototypeOf(t.constructor)===PH}function o$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function c$(t,e){if(!e)return null;Array.isArray(e);let n,r,s;return e.forEach(i=>{i.constructor===Z1?n=i:i$(i)?r=i:s=i}),s||r||n||null}var a$={provide:Gi,useExisting:I1(()=>ts)},cc=Promise.resolve(),ts=(()=>{class t extends Gi{get submitted(){return kn(this.submittedReactive)}constructor(n,r,s){super(),this.callSetDisabledState=s,this._submitted=Ho(()=>this.submittedReactive()),this.submittedReactive=Nn(!1),this._directives=new Set,this.ngSubmit=new $e,this.form=new N6({},_h(n),wh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){cc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),_I(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){cc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){cc.then(()=>{let r=this._findContainer(n.path),s=new N6({});r$(s,n),r.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){cc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){cc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),o$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)($(R6,10),$(hI,10),$(Lh,8))}}static{this.\u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&pe("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xs([a$]),z2]})}}return t})();function cI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var l$=class extends T6{constructor(e=null,n,r){super(CI(n),MI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),P6(n)&&(n.nonNullable||n.initialValueIsDefault)&&(aI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var u$={provide:uc,useExisting:I1(()=>ns)},lI=Promise.resolve(),ns=(()=>{class t extends uc{constructor(n,r,s,i,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new l$,this._registered=!1,this.name="",this.update=new $e,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=c$(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),s$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_I(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){lI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&Pn(r);lI.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ZH(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)($(Gi,9),$(R6,10),$(hI,10),$(fI,10),$(Lr,8),$(Lh,8))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xs([u$]),z2,Dt]})}}return t})(),Yi=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var bI=(()=>{class t{constructor(){this._validator=nI}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nI,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,features:[Dt]})}}return t})();var f$={provide:R6,useExisting:I1(()=>rs),multi:!0};var rs=(()=>{class t extends bI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Pn,this.createValidator=n=>UH}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(s){return(n||(n=E1(t)))(s||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&Y2("required",s._enabled?"":null)},inputs:{required:"required"},features:[Xs([f$]),z2]})}}return t})();var d$={provide:R6,useExisting:I1(()=>Ih),multi:!0},Ih=(()=>{class t extends bI{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Pn,this.createValidator=n=>BH}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(s){return(n||(n=E1(t)))(s||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Xs([d$]),z2]})}}return t})();var h$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=In({type:t})}static{this.\u0275inj=bn({})}}return t})();var Xi=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Lh,useValue:n.callSetDisabledState??bh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=In({type:t})}static{this.\u0275inj=bn({imports:[h$]})}}return t})();var p$=["wrapper"],m$=["sourceImage"];function g$(t,e){if(t&1){let n=gt();T(0,"img",5,0),pe("load",function(){le(n);let s=G();return ue(s.imageLoadedInView())})("mousedown",function(s){le(n);let i=G();return ue(i.startMove(s,i.moveTypes.Drag))})("touchstart",function(s){le(n);let i=G();return ue(i.startMove(s,i.moveTypes.Drag))})("error",function(s){le(n);let i=G();return ue(i.loadImageError(s))}),N()}if(t&2){let n=e.ngIf,r=G();A1("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle()),Rn("ngx-ic-draggable",!r.disabled&&r.allowMoveImage),ye("src",n,E2),Y2("alt",r.imageAltText)}}function y$(t,e){if(t&1){let n=gt();iu(0),T(1,"span",9),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"topleft"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"topleft"))}),ee(2,"span",10),N(),T(3,"span",11),ee(4,"span",10),N(),T(5,"span",12),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"topright"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"topright"))}),ee(6,"span",10),N(),T(7,"span",13),ee(8,"span",10),N(),T(9,"span",14),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"bottomright"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"bottomright"))}),ee(10,"span",10),N(),T(11,"span",15),ee(12,"span",10),N(),T(13,"span",16),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"bottomleft"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"bottomleft"))}),ee(14,"span",10),N(),T(15,"span",17),ee(16,"span",10),N(),T(17,"span",18),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"top"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"top"))}),N(),T(18,"span",19),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"right"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"right"))}),N(),T(19,"span",20),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"bottom"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"bottom"))}),N(),T(20,"span",21),pe("mousedown",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"left"))})("touchstart",function(s){le(n);let i=G(2);return ue(i.startMove(s,i.moveTypes.Resize,"left"))}),N(),ou()}}function v$(t,e){if(t&1){let n=gt();T(0,"div",6),pe("keydown",function(s){le(n);let i=G();return ue(i.keyboardAccess(s))}),T(1,"div",7),pe("mousedown",function(s){le(n);let i=G();return ue(i.startMove(s,i.moveTypes.Move))})("touchstart",function(s){le(n);let i=G();return ue(i.startMove(s,i.moveTypes.Move))}),N(),Re(2,y$,21,0,"ng-container",8),N()}if(t&2){let n=G();A1("top",n.state.cropper().y1,"px")("left",n.state.cropper().x1,"px")("width",n.state.cropper().x2-n.state.cropper().x1,"px")("height",n.state.cropper().y2-n.state.cropper().y1,"px")("margin-left",n.state.options.alignImage==="center"?n.marginLeft:null)("visibility",n.imageVisible?"visible":"hidden"),Rn("ngx-ic-round",n.state.options.roundCropper),Y2("aria-label",n.state.options.cropperFrameAriaLabel),j(2),ye("ngIf",!n.state.options.hideResizeSquares&&!(n.state.options.cropperStaticWidth&&n.state.options.cropperStaticHeight))}}function fc(t,e,n){return t=C$(t,e),k6(t,e,n)}function C$(t,e){let n=t.x2-t.x1,r=t.y2-t.y1,s=t.x1+n/2,i=t.y1+r/2;e.options.cropperStaticHeight&&e.options.cropperStaticWidth?(n=e.maxSize.width>e.options.cropperStaticWidth?e.options.cropperStaticWidth:e.maxSize.width,r=e.maxSize.height>e.options.cropperStaticHeight?e.options.cropperStaticHeight:e.maxSize.height):(n=Math.max(e.cropperScaledMinWidth,Math.min(n,e.cropperScaledMaxWidth,e.maxSize.width)),r=Math.max(e.cropperScaledMinHeight,Math.min(r,e.cropperScaledMaxHeight,e.maxSize.height)),e.options.maintainAspectRatio&&(e.maxSize.width/e.options.aspectRatio<e.maxSize.height?r=n/e.options.aspectRatio:n=r*e.options.aspectRatio));let o=s-n/2,c=o+n,a=i-r/2,u=a+r;return{x1:o,x2:c,y1:a,y2:u}}function k6(t,e,n=!1){return t.x1<0&&(t=se(R({},t),{x1:0,x2:t.x2-(n?t.x1:0)})),t.y1<0&&(t=se(R({},t),{y2:t.y2-(n?t.y1:0),y1:0})),t.x2>e.maxSize.width&&(t=se(R({},t),{x1:t.x1-(n?t.x2-e.maxSize.width:0),x2:e.maxSize.width})),t.y2>e.maxSize.height&&(t=se(R({},t),{y1:t.y1-(n?t.y2-e.maxSize.height:0),y2:e.maxSize.height})),t}function M$(t,e){let n=O6(t)-e.clientX,r=F6(t)-e.clientY;return{x1:e.cropper.x1+n,y1:e.cropper.y1+r,x2:e.cropper.x2+n,y2:e.cropper.y2+r}}function II(t,e,n){let r=R({},n.cropper()),s=O6(t)-e.clientX,i=F6(t)-e.clientY;switch(e.position){case"left":r.x1=Math.min(Math.max(e.cropper.x1+s,r.x2-n.cropperScaledMaxWidth),r.x2-n.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(e.cropper.x1+s,r.x2-n.cropperScaledMaxWidth),r.x2-n.cropperScaledMinWidth),r.y1=Math.min(Math.max(e.cropper.y1+i,r.y2-n.cropperScaledMaxHeight),r.y2-n.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(e.cropper.y1+i,r.y2-n.cropperScaledMaxHeight),r.y2-n.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(e.cropper.x2+s,r.x1+n.cropperScaledMaxWidth),r.x1+n.cropperScaledMinWidth),r.y1=Math.min(Math.max(e.cropper.y1+i,r.y2-n.cropperScaledMaxHeight),r.y2-n.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(e.cropper.x2+s,r.x1+n.cropperScaledMaxWidth),r.x1+n.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(e.cropper.x2+s,r.x1+n.cropperScaledMaxWidth),r.x1+n.cropperScaledMinWidth),r.y2=Math.max(Math.min(e.cropper.y2+i,r.y1+n.cropperScaledMaxHeight),r.y1+n.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(e.cropper.y2+i,r.y1+n.cropperScaledMaxHeight),r.y1+n.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(e.cropper.x1+s,r.x2-n.cropperScaledMaxWidth),r.x2-n.cropperScaledMinWidth),r.y2=Math.max(Math.min(e.cropper.y2+i,r.y1+n.cropperScaledMaxHeight),r.y1+n.cropperScaledMinHeight);break;case"center":let o="scale"in t?t.scale:1,c=Math.min(Math.max(n.cropperScaledMinWidth,Math.abs(e.cropper.x2-e.cropper.x1)*o),n.cropperScaledMaxWidth),a=Math.min(Math.max(n.cropperScaledMinHeight,Math.abs(e.cropper.y2-e.cropper.y1)*o),n.cropperScaledMaxHeight);r.x1=e.clientX-c/2,r.x2=e.clientX+c/2,r.y1=e.clientY-a/2,r.y2=e.clientY+a/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>n.maxSize.width&&(r.x1-=r.x2-n.maxSize.width,r.x2=n.maxSize.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>n.maxSize.height&&(r.y1-=r.y2-n.maxSize.height,r.y2=n.maxSize.height);break}return n.options.maintainAspectRatio?_$(e.position,r,n):r}function _$(t,e,n){e=R({},e);let r=0,s=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),s=Math.max(0-e.y1,0),(r>0||s>0)&&(e.x2-=s*n.options.aspectRatio>r?s*n.options.aspectRatio:r,e.y1+=s*n.options.aspectRatio>r?s:r/n.options.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),s=Math.max(e.y2-n.maxSize.height,0),(r>0||s>0)&&(e.x2-=s*n.options.aspectRatio>r?s*n.options.aspectRatio:r,e.y2-=s*n.options.aspectRatio>r?s:r/n.options.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(0-e.x1,0),s=Math.max(0-e.y1,0),(r>0||s>0)&&(e.x1+=s*n.options.aspectRatio>r?s*n.options.aspectRatio:r,e.y1+=s*n.options.aspectRatio>r?s:r/n.options.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),s=Math.max(0-e.y1,0),(r>0||s>0)&&(e.x2-=s*n.options.aspectRatio>r?s*n.options.aspectRatio:r,e.y1+=s*n.options.aspectRatio>r?s:r/n.options.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(e.x2-n.maxSize.width,0),s=Math.max(e.y2-n.maxSize.height,0),(r>0||s>0)&&(e.x2-=s*n.options.aspectRatio>r?s*n.options.aspectRatio:r,e.y2-=s*n.options.aspectRatio>r?s:r/n.options.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/n.options.aspectRatio,r=Math.max(0-e.x1,0),s=Math.max(e.y2-n.maxSize.height,0),(r>0||s>0)&&(e.x1+=s*n.options.aspectRatio>r?s*n.options.aspectRatio:r,e.y2-=s*n.options.aspectRatio>r?s:r/n.options.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*n.options.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/n.options.aspectRatio;let i=Math.max(0-e.x1,0),o=Math.max(e.x2-n.maxSize.width,0),c=Math.max(e.y2-n.maxSize.height,0),a=Math.max(0-e.y1,0);(i>0||o>0||c>0||a>0)&&(e.x1+=c*n.options.aspectRatio>i?c*n.options.aspectRatio:i,e.x2-=a*n.options.aspectRatio>o?a*n.options.aspectRatio:o,e.y1+=a*n.options.aspectRatio>o?a:o/n.options.aspectRatio,e.y2-=c*n.options.aspectRatio>i?c:i/n.options.aspectRatio);break}return e}function O6(t){return"touches"in t&&t.touches[0]?t.touches[0].clientX:"clientX"in t?t.clientX:0}function F6(t){return"touches"in t&&t.touches[0]?t.touches[0].clientY:"clientX"in t?t.clientY:0}var Eh=class{constructor(){this.cropper=Nn({x1:0,x2:0,y1:0,y2:0}),this.transform={},this.options={format:"png",output:"blob",autoCrop:!0,maintainAspectRatio:!0,aspectRatio:1,resetCropOnAspectRatioChange:!0,resizeToWidth:0,resizeToHeight:0,cropperMinWidth:0,cropperMinHeight:0,cropperMaxHeight:0,cropperMaxWidth:0,cropperStaticWidth:0,cropperStaticHeight:0,canvasRotation:0,roundCropper:!1,onlyScaleDown:!1,imageQuality:92,backgroundColor:null,containWithinAspectRatio:!1,hideResizeSquares:!1,alignImage:"center",cropperFrameAriaLabel:void 0,checkImageType:!0},this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=3}setOptionsFromChanges(e){e.options?.currentValue&&this.setOptions(e.options.currentValue);let n=Object.entries(e).filter(([r])=>r in this.options).reduce((r,[s,i])=>se(R({},r),{[s]:i.currentValue}),{});Object.keys(n).length>0&&this.setOptions(n)}setOptions(e){if(this.options=R(R({},this.options),e||{}),this.validateOptions(),!this.loadedImage?.transformed.image.complete||!this.maxSize)return;let n=!1;this.options.maintainAspectRatio&&e.aspectRatio||e.maintainAspectRatio?(this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.options.maintainAspectRatio&&(this.options.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(this.cropper.set(this.maxSizeCropperPosition()),n=!0)):((e.cropperMinWidth||e.cropperMinHeight)&&(this.setCropperScaledMinSize(),n=!0),(e.cropperMaxWidth||e.cropperMaxHeight)&&(this.setCropperScaledMaxSize(),n=!0),(e.cropperStaticWidth||e.cropperStaticHeight)&&(n=!0)),n&&this.cropper.update(r=>fc(r,this,!1))}validateOptions(){if(this.options.maintainAspectRatio&&!this.options.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}setMaxSize(e,n){this.maxSize={width:e,height:n},this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}setCropperScaledMinSize(){this.loadedImage?.transformed.size?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.options.cropperMinWidth>0?Math.max(20,this.options.cropperMinWidth/this.loadedImage.transformed.size.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.options.maintainAspectRatio?this.cropperScaledMinHeight=Math.max(20,this.cropperScaledMinWidth/this.options.aspectRatio):this.options.cropperMinHeight>0?this.cropperScaledMinHeight=Math.max(20,this.options.cropperMinHeight/this.loadedImage.transformed.size.height*this.maxSize.height):this.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed.size){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.cropperScaledMaxWidth=this.options.cropperMaxWidth>20?this.options.cropperMaxWidth/e:this.maxSize.width,this.cropperScaledMaxHeight=this.options.cropperMaxHeight>20?this.options.cropperMaxHeight/e:this.maxSize.height,this.options.maintainAspectRatio&&(this.cropperScaledMaxWidth>this.cropperScaledMaxHeight*this.options.aspectRatio?this.cropperScaledMaxWidth=this.cropperScaledMaxHeight*this.options.aspectRatio:this.cropperScaledMaxWidth<this.cropperScaledMaxHeight*this.options.aspectRatio&&(this.cropperScaledMaxHeight=this.cropperScaledMaxWidth/this.options.aspectRatio))}else this.cropperScaledMaxWidth=this.maxSize.width,this.cropperScaledMaxHeight=this.maxSize.height}equalsCropperPosition(e){let n=this.cropper();return n==null&&e==null||n!=null&&e!=null&&n.x1.toFixed(3)===e.x1.toFixed(3)&&n.y1.toFixed(3)===e.y1.toFixed(3)&&n.x2.toFixed(3)===e.x2.toFixed(3)&&n.y2.toFixed(3)===e.y2.toFixed(3)}equalsTransformTranslate(e){return(this.transform.translateH??0)===(e.translateH??0)&&(this.transform.translateV??0)===(e.translateV??0)}equalsTransform(e){return this.equalsTransformTranslate(e)&&(this.transform.scale??1)===(e.scale??1)&&(this.transform.rotate??0)===(e.rotate??0)&&(this.transform.flipH??!1)===(e.flipH??!1)&&(this.transform.flipV??!1)===(e.flipV??!1)}aspectRatioIsCorrect(){let e=this.cropper();return(e.x2-e.x1)/(e.y2-e.y1)===this.options.aspectRatio}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&this.cropper.update(n=>({x1:n.x1*this.maxSize.width/e.width,x2:n.x2*this.maxSize.width/e.width,y1:n.y1*this.maxSize.height/e.height,y2:n.y2*this.maxSize.height/e.height}))}maxSizeCropperPosition(){return{x1:0,y1:0,x2:this.maxSize.width,y2:this.maxSize.height}}},a2=function(t){return t.Drag="drag",t.Move="move",t.Resize="resize",t.Pinch="pinch",t}(a2||{});function w$(t,e,n){let r=t.width,s=t.height;e=Math.round(e),n=Math.round(n);let i=r/e,o=s/n,c=Math.ceil(i/2),a=Math.ceil(o/2),u=t.getContext("2d");if(u){let d=u.getImageData(0,0,r,s),p=u.createImageData(e,n),m=d.data,y=p.data;for(let w=0;w<n;w++)for(let A=0;A<e;A++){let z=(A+w*e)*4,P=w*o,O=0,U=0,q=0,we=0,Z=0,L=0,v=0,_=Math.floor(A*i),b=Math.floor(w*o),I=Math.ceil((A+1)*i),E=Math.ceil((w+1)*o);I=Math.min(I,r),E=Math.min(E,s);for(let M=b;M<E;M++){let l2=Math.abs(P-M)/a,J1=A*i,sl=l2*l2;for(let F2=_;F2<I;F2++){let c1=Math.abs(J1-F2)/c,V2=Math.sqrt(sl+c1*c1);if(V2>=1)continue;O=2*V2*V2*V2-3*V2*V2+1;let mn=4*(F2+M*r);v+=O*m[mn+3],q+=O,m[mn+3]<255&&(O=O*m[mn+3]/250),we+=O*m[mn],Z+=O*m[mn+1],L+=O*m[mn+2],U+=O}}y[z]=we/U,y[z+1]=Z/U,y[z+2]=L/U,y[z+3]=v/q}t.width=e,t.height=n,u.putImageData(p,0,0)}}function xI(t,e){return t/100*e}var zh=class{crop(e,n){let r=this.getImagePosition(e),s=r.x2-r.x1,i=r.y2-r.y1,o=document.createElement("canvas");o.width=s,o.height=i;let c=o.getContext("2d");if(!c)return null;e.options.backgroundColor!=null&&(c.fillStyle=e.options.backgroundColor,c.fillRect(0,0,s,i));let a=(e.transform.scale||1)*(e.transform.flipH?-1:1),u=(e.transform.scale||1)*(e.transform.flipV?-1:1),{translateH:d,translateV:p}=this.getCanvasTranslate(e),m=e.loadedImage.transformed;c.setTransform(a,0,0,u,m.size.width/2+d,m.size.height/2+p),c.translate(-r.x1/a,-r.y1/u),c.rotate((e.transform.rotate||0)*Math.PI/180),c.drawImage(m.image,-m.size.width/2,-m.size.height/2);let y={width:s,height:i,imagePosition:r,cropperPosition:R({},e.cropper())};e.options.containWithinAspectRatio&&(y.offsetImagePosition=this.getOffsetImagePosition(e));let w=this.getResizeRatio(s,i,e.options);return w!==1&&(y.width=Math.round(s*w),y.height=e.options.maintainAspectRatio?Math.round(y.width/e.options.aspectRatio):Math.round(i*w),w$(o,y.width,y.height)),n==="blob"?this.cropToBlob(y,o,e):(y.base64=o.toDataURL("image/"+e.options.format,this.getQuality(e.options)),y)}cropToBlob(e,n,r){return C(this,null,function*(){return e.blob=yield new Promise(s=>n.toBlob(s,"image/"+r.options.format,this.getQuality(r.options))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e){if(e.transform.translateUnit==="px"){let n=this.getRatio(e);return{translateH:(e.transform.translateH||0)*n,translateV:(e.transform.translateV||0)*n}}else return{translateH:e.transform.translateH?xI(e.transform.translateH,e.loadedImage.transformed.size.width):0,translateV:e.transform.translateV?xI(e.transform.translateV,e.loadedImage.transformed.size.height):0}}getRatio(e){return e.loadedImage.transformed.size.width/e.maxSize.width}getImagePosition(e){let n=this.getRatio(e),r=e.cropper(),s={x1:Math.round(r.x1*n),y1:Math.round(r.y1*n),x2:Math.round(r.x2*n),y2:Math.round(r.y2*n)};return e.options.containWithinAspectRatio||(s.x1=Math.max(s.x1,0),s.y1=Math.max(s.y1,0),s.x2=Math.min(s.x2,e.loadedImage.transformed.size.width),s.y2=Math.min(s.y2,e.loadedImage.transformed.size.height)),s}getOffsetImagePosition(e){let n=e.options.canvasRotation+e.loadedImage.exifTransform.rotate,r=this.getRatio(e),s,i;n%2?(s=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.height)/2,i=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.width)/2):(s=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.width)/2,i=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.height)/2);let o=e.cropper(),c={x1:Math.round(o.x1*r)-s,y1:Math.round(o.y1*r)-i,x2:Math.round(o.x2*r)-s,y2:Math.round(o.y2*r)-i};return e.options.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.loadedImage.transformed.size.width),c.y2=Math.min(c.y2,e.loadedImage.transformed.size.height)),c}getResizeRatio(e,n,r){let s=r.resizeToWidth/e,i=r.resizeToHeight/n,o=new Array;r.resizeToWidth>0&&o.push(s),r.resizeToHeight>0&&o.push(i);let c=o.length===0?1:Math.min(...o);return c>1&&!r.onlyScaleDown?c:Math.min(c,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}},L$="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function b$(){return new Promise(t=>{let e=new Image;e.onload=()=>{let n=e.width===1&&e.height===2;t(n)},e.src=L$})}function I$(t){switch(typeof t=="object"&&(t=x$(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function x$(t){let e=new DataView(t);if(e.getUint16(0,!1)!==65496)return-2;let n=e.byteLength,r=2;for(;r<n;){if(e.getUint16(r+2,!1)<=8)return-1;let s=e.getUint16(r,!1);if(r+=2,s==65505){if(e.getUint32(r+=2,!1)!==1165519206)return-1;let i=e.getUint16(r+=6,!1)==18761;r+=e.getUint32(r+4,i);let o=e.getUint16(r,i);r+=2;for(let c=0;c<o;c++)if(e.getUint16(r+c*12,i)==274)return e.getUint16(r+c*12+8,i)}else{if((s&65280)!==65280)break;r+=e.getUint16(r,!1)}}return-1}var Sh=class{constructor(){this.autoRotateSupported=b$()}loadImageFile(e,n){return C(this,null,function*(){let r=yield e.arrayBuffer();return n.options.checkImageType?yield this.checkImageTypeAndLoadImageFromArrayBuffer(r,e.type,n):yield this.loadImageFromArrayBuffer(r,n)})}checkImageTypeAndLoadImageFromArrayBuffer(e,n,r){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(e,r,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,n){return C(this,null,function*(){let s=yield(yield fetch(e)).blob(),i=yield s.arrayBuffer();return yield this.loadImageFromArrayBuffer(i,n,s.type)})}loadBase64Image(e,n){let r=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(r,n)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let n=atob(e),r=n.length,s=new Uint8Array(r);for(let i=0;i<r;i++)s[i]=n.charCodeAt(i);return s.buffer}loadImageFromArrayBuffer(e,n,r){return C(this,null,function*(){let s=yield new Promise((i,o)=>C(this,null,function*(){try{let c=new Blob([e],r?{type:r}:void 0),a=URL.createObjectURL(c),u=new Image,p=r==="image/svg+xml"?yield this.getSvgImageSize(c):void 0;u.onload=()=>i({originalImage:u,originalImageSize:p,originalObjectUrl:a,originalArrayBuffer:e}),u.onerror=o,u.src=a}catch(c){o(c)}}));return yield this.transformImageFromArrayBuffer(s,n,s.originalImageSize!=null)})}getSvgImageSize(e){return C(this,null,function*(){let s=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!s)throw Error("Failed to parse SVG image");let i=s.getAttribute("width"),o=s.getAttribute("height");if(i&&o)return null;let c=s.getAttribute("viewBox")||s.getAttribute("viewbox");if(c){let a=c.split(" ");return{width:+a[2],height:+a[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,n,r=!1){return C(this,null,function*(){let s=yield this.autoRotateSupported,i=I$(s?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let o={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:i};return this.transformLoadedImage(o,n,r)})}transformLoadedImage(e,n,r=!1){return C(this,null,function*(){let s=n.options.canvasRotation+e.exifTransform.rotate,i=e.original.size;if(!r&&s===0&&!e.exifTransform.flip&&!n.options.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:R({},i)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:R({},i)},exifTransform:e.exifTransform};let o=this.getTransformedSize(i,e.exifTransform,n),c=document.createElement("canvas");c.width=o.width,c.height=o.height;let a=c.getContext("2d");a?.setTransform(e.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),a?.rotate(Math.PI*(s/2)),a?.drawImage(e.original.image,-i.width/2,-i.height/2);let u=yield new Promise(m=>c.toBlob(m,n.options.format));if(!u)throw new Error("Failed to get Blob for transformed image.");let d=URL.createObjectURL(u),p=yield this.loadImageFromObjectUrl(d);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:R({},i)},transformed:{objectUrl:d,image:p,size:{width:p.width,height:p.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((n,r)=>{let s=new Image;s.onload=()=>n(s),s.onerror=r,s.src=e})}getTransformedSize(e,n,r){let s=r.options.canvasRotation+n.rotate;if(r.options.containWithinAspectRatio)if(s%2){let i=e.width*r.options.aspectRatio,o=e.height/r.options.aspectRatio;return{width:Math.max(e.height,i),height:Math.max(e.width,o)}}else{let i=e.height*r.options.aspectRatio,o=e.width/r.options.aspectRatio;return{width:Math.max(e.width,i),height:Math.max(e.height,o)}}return s%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};function E$(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function z$(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function S$(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:e*-1};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:e*-1,clientY:0}}}var EI=(()=>{class t{get alignImageStyle(){return this.state.options.alignImage}constructor(n){this.sanitizer=n,this.pinchStart$=new at,this.cropService=new zh,this.loadImageService=new Sh,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.moveTypes=a2,this.state=new Eh,this.safeImgDataUrl=Nn(void 0),this.safeTransformStyle=Nn(void 0),this.marginLeft="0px",this.imageVisible=!1,this.allowMoveImage=!1,this.checkImageType=!0,this.disabled=!1,this.hidden=!1,this.imageCropped=z1(),this.startCropImage=z1(),this.imageLoaded=z1(),this.cropperReady=z1(),this.loadImageFailed=z1(),this.transformChange=z1(),this.cropperChange=z1(),this.reset()}ngOnInit(){this.state.stepSize=this.initialStepSize||this.state.stepSize}ngOnChanges(n){let r=this.state.cropper(),s=this.state.transform,i=this.state.options.backgroundColor;if(this.state.setOptionsFromChanges(n),this.onChangesInputImage(n),n.transform&&this.transform&&(this.state.transform=this.transform,this.setCssTransform()),!this.state.loadedImage?.transformed.image.complete||!this.state.maxSize)return;if(this.containWithinAspectRatio&&n.aspectRatio||n.containWithinAspectRatio||n.canvasRotation){this.loadImageService.transformLoadedImage(this.state.loadedImage,this.state).then(c=>this.setLoadedImage(c)).catch(c=>this.loadImageError(c));return}n.cropper&&this.cropper&&this.state.cropper.set(fc(this.cropper,this.state,!0));let o=!this.state.equalsCropperPosition(r);o&&(!this.cropper||!this.state.equalsCropperPosition(this.cropper))&&this.cropperChange.emit(this.state.cropper()),(o||!this.state.equalsTransform(s)||this.state.options.backgroundColor!==i)&&this.doAutoCrop(),n.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesInputImage(n){(n.imageChangedEvent||n.imageURL||n.imageBase64||n.imageFile)&&this.reset(),n.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),n.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),n.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),n.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let n=this.imageChangedEvent?.target?.files;return n instanceof FileList&&n.length>0}reset(){this.safeImgDataUrl.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="),this.state.loadedImage=void 0,this.state.maxSize=void 0,this.imageVisible=!1}loadImageFile(n){this.loadImageService.loadImageFile(n,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadBase64Image(n){this.loadImageService.loadBase64Image(n,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadImageFromURL(n){this.loadImageService.loadImageFromURL(n,this.state).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}setLoadedImage(n){this.state.loadedImage=n,this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(n.transformed.objectUrl))}loadImageError(n){console.error(n),this.loadImageFailed.emit()}setCssTransform(){let n=this.state.transform?.translateUnit||"%";this.safeTransformStyle.set(this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH||0}${n}, ${this.state.transform.translateV||0}${n}) scaleX(`+(this.state.transform.scale||1)*(this.state.transform.flipH?-1:1)+") scaleY("+(this.state.transform.scale||1)*(this.state.transform.flipV?-1:1)+") rotate("+(this.state.transform.rotate||0)+"deg)"))}imageLoadedInView(){this.state.loadedImage!=null&&(this.imageLoaded.emit(this.state.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.cropper&&(!this.maintainAspectRatio||this.state.aspectRatioIsCorrect())?(this.state.cropper.set(fc(this.cropper,this.state,!0)),this.emitCropperPositionChange(this.cropper)):(this.state.cropper.set(fc(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())),this.imageVisible=!0,this.cropperReady.emit(R({},this.state.maxSize)),this.doAutoCrop()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>1}onResize(){if(this.state.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let n=R({},this.state.maxSize);this.setMaxSize(),this.state.resizeCropperPosition(n)}}keyboardAccess(n){this.changeKeyboardStepSize(n),this.keyboardMoveCropper(n)}changeKeyboardStepSize(n){let r=+n.key;r>=1&&r<=9&&(this.state.stepSize=r)}keyboardMoveCropper(n){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(n.key))return;let s=n.shiftKey?a2.Resize:a2.Move,i=n.altKey?z$(n.key):E$(n.key),o=S$(n.key,this.state.stepSize);n.preventDefault(),n.stopPropagation(),this.moveStart={type:s,position:i,clientX:0,clientY:0,transform:this.state.transform,cropper:this.state.cropper()},this.handleMouseMove(o),this.handleMouseUp()}startMove(n,r,s=null){this.disabled||this.moveStart&&this.moveStart.type===a2.Pinch||r===a2.Drag&&!this.allowMoveImage||("preventDefault"in n&&n.preventDefault(),this.moveStart={type:r,position:s,clientX:O6(n),clientY:F6(n),transform:this.state.transform,cropper:this.state.cropper()},this.initMouseMove())}initMouseMove(){c4(j2(document,"mousemove"),j2(document,"touchmove")).pipe(Ls(c4(j2(document,"mouseup"),j2(document,"touchend"),this.pinchStart$).pipe(u2()))).subscribe({next:n=>this.handleMouseMove(n),complete:()=>this.handleMouseUp()})}handleMouseMove(n){if(this.moveStart){if("stopPropagation"in n&&n.stopPropagation(),"preventDefault"in n&&n.preventDefault(),this.moveStart.type===a2.Move)this.state.cropper.set(k6(M$(n,this.moveStart),this.state,!0));else if(this.moveStart.type===a2.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(k6(II(n,this.moveStart,this.state),this.state,!1));else if(this.moveStart.type===a2.Drag){let r=O6(n)-this.moveStart.clientX,s=F6(n)-this.moveStart.clientY;this.state.transform=se(R({},this.state.transform),{translateH:(this.moveStart.transform?.translateH||0)+r,translateV:(this.moveStart.transform?.translateV||0)+s}),this.setCssTransform()}}}handleMouseUp(){!this.moveStart||this.moveStart.type===a2.Pinch||((!this.state.equalsCropperPosition(this.moveStart.cropper)||this.moveStart.transform&&!this.state.equalsTransform(this.moveStart.transform))&&(this.moveStart.type===a2.Drag?this.transformChange.emit(this.state.transform):this.cropperChange.emit(this.state.cropper()),this.doAutoCrop()),this.moveStart=void 0)}startPinch(n){if(this.disabled||!this.sourceImageLoaded()||n.touches.length<2)return;"preventDefault"in n&&n.preventDefault();let r=this.state.cropper();this.moveStart={type:a2.Pinch,position:"center",clientX:r.x1+(r.x2-r.x1)/2,clientY:r.y1+(r.y2-r.y1)/2,cropper:r},this.initPinch()}initPinch(){this.pinchStart$.next(),j2(document,"touchmove").pipe(Ls(j2(document,"touchend"))).subscribe({next:n=>this.handlePinchMove(n),complete:()=>this.handlePinchStop()})}handlePinchMove(n){this.moveStart&&(n.preventDefault&&n.preventDefault(),this.moveStart.type===a2.Pinch&&!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(k6(II(n,this.moveStart,this.state),this.state,!1)))}handlePinchStop(){this.moveStart&&(this.state.equalsCropperPosition(this.moveStart.cropper)||(this.emitCropperPositionChange(this.moveStart.cropper),this.doAutoCrop()),this.moveStart=void 0)}setMaxSize(){if(this.sourceImage){let n=getComputedStyle(this.sourceImage.nativeElement);this.state.setMaxSize(parseFloat(n.width),parseFloat(n.height)),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.state.maxSize.width/2+"px)")}}emitCropperPositionChange(n){this.state.equalsCropperPosition(n)||this.cropperChange.emit(this.state.cropper())}doAutoCrop(){this.state.options.autoCrop&&this.crop()}crop(n=this.state.options.output){if(this.state.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),n==="blob")return this.cropToBlob();if(n==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((n,r)=>C(this,null,function*(){let s=yield this.cropService.crop(this.state,"blob");s?(this.imageCropped.emit(s),n(s)):r("Crop image failed")}))}cropToBase64(){let n=this.cropService.crop(this.state,"base64");return n?(this.imageCropped.emit(n),n):null}resetCropperPosition(){this.state.cropper.set(fc(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())}ngOnDestroy(){this.pinchStart$.complete()}static{this.\u0275fac=function(r){return new(r||t)($(Qo))}}static{this.\u0275cmp=Te({type:t,selectors:[["image-cropper"]],viewQuery:function(r,s){if(r&1&&(au(p$,7),au(m$,5)),r&2){let i;h3(i=p3())&&(s.wrapper=i.first),h3(i=p3())&&(s.sourceImage=i.first)}},hostVars:6,hostBindings:function(r,s){r&1&&pe("resize",function(){return s.onResize()},!1,Gy),r&2&&(A1("text-align",s.alignImageStyle),Rn("disabled",s.disabled)("ngx-ic-hidden",s.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",options:"options",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",autoCrop:"autoCrop",cropper:"cropper",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",checkImageType:"checkImageType",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange",cropperChange:"cropperChange"},standalone:!0,features:[Dt,Ne],decls:4,vars:10,consts:[["sourceImage",""],[3,"touchstart"],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(r,s){r&1&&(T(0,"div",1),pe("touchstart",function(o){return s.startPinch(o)}),Re(1,g$,2,8,"img",2),ee(2,"div",3),Re(3,v$,3,16,"div",4),N()),r&2&&(A1("background",s.imageVisible&&s.state.options.backgroundColor),j(),ye("ngIf",s.safeImgDataUrl()),j(),A1("width",(s.state.maxSize==null?null:s.state.maxSize.width)||0,"px")("height",(s.state.maxSize==null?null:s.state.maxSize.height)||0,"px")("margin-left",s.alignImage==="center"?s.marginLeft:null),j(),ye("ngIf",s.imageVisible))},dependencies:[rC],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0})}}return t})();function A$(t,e){if(t&1){let n=gt();T(0,"div",1)(1,"div",2)(2,"div",3)(3,"image-cropper",4),pe("imageCropped",function(s){le(n);let i=G();return ue(i.onImageCropped(s))}),N(),T(4,"div",5)(5,"button",6),pe("click",function(){le(n);let s=G();return ue(s.saveCroppedImage())}),X(6,"Save"),N(),T(7,"button",7),pe("click",function(){le(n);let s=G();return ue(s.cancelCropper())}),X(8,"Cancel"),N()()()()()}if(t&2){let n=G();j(3),ye("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1/1)("resizeToWidth",256)}}var V6=class t{imageChangedEvent=null;imageCropped=new $e;cropCancelled=new $e;cropSaved=new $e;croppedImage=void 0;format="png";maintainAspectRatio=!0;aspectRatio=1;resizeToWidth=256;roundCropper=!1;showCropperCross=!0;canvasRotation=0;onImageCropped(e){console.log("Cropping event received:",e),e.base64?(this.croppedImage=e.base64,console.log("Stored cropped image:",this.croppedImage)):e.blob?this.convertBlobToBase64(e.blob).then(n=>{this.croppedImage=n,console.log("Converted blob to base64:",this.croppedImage)}).catch(n=>{console.error("Failed to convert blob to base64:",n)}):console.warn("No base64 image available")}saveCroppedImage(){if(console.log("Attempting to save image:",this.croppedImage),!this.croppedImage){console.warn("No cropped image available");return}this.imageCropped.emit(this.croppedImage),this.cropSaved.emit(),console.log("Image saved and emitted")}cancelCropper(){this.cropCancelled.emit()}convertBlobToBase64(e){return new Promise((n,r)=>{let s=new FileReader;s.onloadend=()=>{n(s.result)},s.onerror=r,s.readAsDataURL(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-image-cropper"]],inputs:{imageChangedEvent:"imageChangedEvent"},outputs:{imageCropped:"imageCropped",cropCancelled:"cropCancelled",cropSaved:"cropSaved"},standalone:!0,features:[Ne],decls:2,vars:1,consts:[[1,"image-cropper-container"],[1,"popup-overlay"],[1,"popup-container"],[1,"cropper-section"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth"],[1,"actions"],[1,"btn-save",3,"click"],[1,"btn-cancel",3,"click"]],template:function(n,r){n&1&&(T(0,"div",0),Re(1,A$,9,4,"div",1),N()),n&2&&(j(),qe(r.imageChangedEvent?1:-1))},dependencies:[qo,EI],styles:[".popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 0 10px #00000080;width:90%;max-width:500px}.file-input[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.file-upload-label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.file-upload-input[_ngcontent-%COMP%]{display:block;margin:0 auto}.actions[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.btn-save[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:5px;margin-right:10px;cursor:pointer}.btn-save[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-cancel[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}"]})};var dt=class t{constructor(e,n){this.auth=e;this.firestore=n}currentUserSubject=new pt(null);register(e){let{email:n,username:r,password:s,img:i}=e;return Ee(M_(this.auth,n,s)).pipe(Ye(o=>{let c=o.user;return I_(c,{displayName:r,photoURL:i}).then(()=>{let a=R2(this.firestore,`users/${c.uid}`),u={uid:c.uid,email:c.email,displayName:r,photoURL:i,createdAt:new Date().toISOString(),savedPosts:[]};return kL(a,u)})}),it(o=>{throw console.error("Error during registration:",o),new Error("Registration failed")}))}login(e,n){return Ee(L_(this.auth,e,n)).pipe(Ye(r=>{let s=r.user;return J({uid:s.uid,displayName:s.displayName||"No Name"})}),it(r=>{throw console.error("Error during login:",r),new Error("Login failed")}))}logout(){return Ee(b_(this.auth)).pipe(it(e=>{throw console.error("Error during logout:",e),new Error("Logout failed")}))}getUser(){return new me(e=>{w_(this.auth,n=>{n?this.getUserFromFirestore(n.uid).pipe(it(r=>(console.error("Error fetching user from Firestore:",r),J(null)))).subscribe(r=>{this.currentUserSubject.next(r),e.next(r)}):(this.currentUserSubject.next(null),e.next(null))})})}getUserFromFirestore(e){let n=R2(this.firestore,`users/${e}`);return Fi(n,{idField:"uid"}).pipe(it(r=>(console.error("Error fetching user from Firestore:",r),J(null))))}getUserByReference(e){return Fi(e,{idField:"uid"}).pipe(it(n=>(console.error("Error fetching user by reference:",n),J(null))))}savePost(e,n){let r=R2(this.firestore,`users/${e}`);return Ee(V9(r,{savedPosts:TL(n)})).pipe(it(s=>{throw console.error("Error saving post:",s),new Error("Failed to save post")}))}unsavePost(e,n){let r=R2(this.firestore,`users/${e}`);return Ee(V9(r,{savedPosts:DL(n)})).pipe(it(s=>{throw console.error("Error unsaving post:",s),new Error("Failed to unsave post")}))}static \u0275fac=function(n){return new(n||t)(fe(Vr),fe(n1))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};var RI="firebasestorage.googleapis.com",PI="storageBucket",D$=2*60*1e3,T$=10*60*1e3;var rt=class t extends qt{constructor(e,n,r=0){super(Ah(e),`Firebase Storage: ${n} (${Ah(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ah(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ct=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ct||{});function Ah(t){return"storage/"+t}function kh(){let t="An unknown error occurred, please check the error payload for server response.";return new rt(ct.UNKNOWN,t)}function N$(t){return new rt(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function R$(t){return new rt(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function P$(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(ct.UNAUTHENTICATED,t)}function k$(){return new rt(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function O$(t){return new rt(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function F$(){return new rt(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V$(){return new rt(ct.CANCELED,"User canceled the upload/download.")}function U$(t){return new rt(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function B$(t){return new rt(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function j$(){return new rt(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PI+"' property when initializing the app?")}function H$(){return new rt(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $$(){return new rt(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q$(t){return new rt(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dh(t){return new rt(ct.INVALID_ARGUMENT,t)}function kI(){return new rt(ct.APP_DELETED,"The Firebase app was deleted.")}function G$(t){return new rt(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hc(t,e){return new rt(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dc(t){throw new rt(ct.INTERNAL_ERROR,"Internal error: "+t)}var k2=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw B$(e)}static makeFromUrl(e,n){let r=null,s="([A-Za-z0-9.\\-_]+)";function i(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),a={bucket:1,path:3};function u(q){q.path_=decodeURIComponent(q.path)}let d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${s}/o${m}`,"i"),w={bucket:1,path:3},A=n===RI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",P=new RegExp(`^https?://${A}/${s}/${z}`,"i"),U=[{regex:c,indices:a,postModify:i},{regex:y,indices:w,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let q=0;q<U.length;q++){let we=U[q],Z=we.regex.exec(e);if(Z){let L=Z[we.indices.bucket],v=Z[we.indices.path];v||(v=""),r=new t(L,v),we.postModify(r);break}}if(r==null)throw U$(e);return r}},Th=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function W$(t,e,n){let r=1,s=null,i=null,o=!1,c=0;function a(){return c===2}let u=!1;function d(...z){u||(u=!0,e.apply(null,z))}function p(z){s=setTimeout(()=>{s=null,t(y,a())},z)}function m(){i&&clearTimeout(i)}function y(z,...P){if(u){m();return}if(z){m(),d.call(null,z,...P);return}if(a()||o){m(),d.call(null,z,...P);return}r<64&&(r*=2);let U;c===1?(c=2,U=0):U=(r+Math.random())*1e3,p(U)}let w=!1;function A(z){w||(w=!0,m(),!u&&(s!==null?(z||(c=2),clearTimeout(s),p(0)):z||(c=1)))}return p(0),i=setTimeout(()=>{o=!0,A(!0)},n),A}function K$(t){t(!1)}function Q$(t){return t!==void 0}function Y$(t){return typeof t=="object"&&!Array.isArray(t)}function Oh(t){return typeof t=="string"||t instanceof String}function zI(t){return Fh()&&t instanceof Blob}function Fh(){return typeof Blob<"u"}function SI(t,e,n,r){if(r<e)throw Dh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dh(`Invalid value for '${t}'. Expected ${n} or less.`)}function Vh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OI(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ji=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ji||{});function X$(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}var Nh=class{constructor(e,n,r,s,i,o,c,a,u,d,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){let e=(r,s)=>{if(s){r(!1,new Zi(!1,null,!0));return}let i=this.connectionFactory_();this.pendingConnection_=i;let o=c=>{let a=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;let c=i.getErrorCode()===Ji.NO_ERROR,a=i.getStatus();if(!c||X$(a,this.additionalRetryCodes_)&&this.retry){let d=i.getErrorCode()===Ji.ABORT;r(!1,new Zi(!1,null,d));return}let u=this.successCodes_.indexOf(a)!==-1;r(!0,new Zi(u,i))})},n=(r,s)=>{let i=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());Q$(a)?i(a):i()}catch(a){o(a)}else if(c!==null){let a=kh();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(s.canceled){let a=this.appDelete_?kI():V$();o(a)}else{let a=F$();o(a)}};this.canceled_?n(!1,new Zi(!1,null,!0)):this.backoffId_=W$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Zi=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Z$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function J$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nq(t,e,n,r,s,i,o=!0){let c=OI(t.urlParams),a=t.url+c,u=Object.assign({},t.headers);return eq(u,e),Z$(u,n),J$(u,i),tq(u,r),new Nh(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}function rq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sq(...t){let e=rq();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Fh())return new Blob(t);throw new rt(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function oq(t){if(typeof atob>"u")throw q$("base-64");return atob(t)}var O2={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},pc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function FI(t,e){switch(t){case O2.RAW:return new pc(VI(e));case O2.BASE64:case O2.BASE64URL:return new pc(UI(t,e));case O2.DATA_URL:return new pc(aq(e),lq(e))}throw kh()}function VI(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cq(t){let e;try{e=decodeURIComponent(t)}catch{throw hc(O2.DATA_URL,"Malformed data URL.")}return VI(e)}function UI(t,e){switch(t){case O2.BASE64:{let s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw hc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case O2.BASE64URL:{let s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw hc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oq(e)}catch(s){throw s.message.includes("polyfill")?s:hc(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}var B6=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw hc(O2.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=uq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function aq(t){let e=new B6(t);return e.base64?UI(O2.BASE64,e.rest):cq(e.rest)}function lq(t){return new B6(t).contentType}function uq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var j6=class t{constructor(e,n){let r=0,s="";zI(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(zI(this.data_)){let r=this.data_,s=iq(r,e,n);return s===null?null:new t(s)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Fh()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(sq.apply(null,n))}else{let n=e.map(o=>Oh(o)?FI(O2.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let s=new Uint8Array(r),i=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)s[i++]=o[c]}),new t(s,!0)}}uploadData(){return this.data_}};function BI(t){let e;try{e=JSON.parse(t)}catch{return null}return Y$(e)?e:null}function fq(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dq(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function jI(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function hq(t,e){return e}var Lt=class{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||hq}},U6=null;function pq(t){return!Oh(t)||t.length<2?t:jI(t)}function HI(){if(U6)return U6;let t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(i,o){return pq(o)}let n=new Lt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}let s=new Lt("size");return s.xform=r,t.push(s),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),U6=t,U6}function mq(t,e){function n(){let r=t.bucket,s=t.fullPath,i=new k2(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function gq(t,e,n){let r={};r.type="file";let s=n.length;for(let i=0;i<s;i++){let o=n[i];r[o.local]=o.xform(r,e[o.server])}return mq(r,t),r}function $I(t,e,n){let r=BI(e);return r===null?null:gq(t,r,n)}function yq(t,e,n,r){let s=BI(e);if(s===null||!Oh(s.downloadTokens))return null;let i=s.downloadTokens;if(i.length===0)return null;let o=encodeURIComponent;return i.split(",").map(u=>{let d=t.bucket,p=t.fullPath,m="/b/"+o(d)+"/o/"+o(p),y=Vh(m,n,r),w=OI({alt:"media",token:u});return y+w})[0]}function vq(t,e){let n={},r=e.length;for(let s=0;s<r;s++){let i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}var H6=class{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function qI(t){if(!t)throw kh()}function Cq(t,e){function n(r,s){let i=$I(t,s,e);return qI(i!==null),i}return n}function Mq(t,e){function n(r,s){let i=$I(t,s,e);return qI(i!==null),yq(i,s,t.host,t._protocol)}return n}function GI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=k$():s=P$():n.getStatus()===402?s=R$(t.bucket):n.getStatus()===403?s=O$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function _q(t){let e=GI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=N$(t.path)),i.serverResponse=s.serverResponse,i}return n}function wq(t,e,n){let r=e.fullServerUrl(),s=Vh(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,c=new H6(s,i,Mq(t,n),o);return c.errorHandler=_q(e),c}function Lq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function bq(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Lq(null,e)),r}function Iq(t,e,n,r,s){let i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let U="";for(let q=0;q<2;q++)U=U+Math.random().toString().slice(2);return U}let a=c();o["Content-Type"]="multipart/related; boundary="+a;let u=bq(e,r,s),d=vq(u,n),p="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+a+"--",y=j6.getBlob(p,r,m);if(y===null)throw H$();let w={name:u.fullPath},A=Vh(i,t.host,t._protocol),z="POST",P=t.maxUploadRetryTime,O=new H6(A,z,Cq(t,n),P);return O.urlParams=w,O.headers=o,O.body=y.uploadData(),O.errorHandler=GI(e),O}var j1e=256*1024;var AI=null,Rh=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ji.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ji.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ji.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw dc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(let i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Ph=class extends Rh{initXhr(){this.xhr_.responseType="text"}};function WI(){return AI?AI():new Ph}var eo=class t{constructor(e,n){this._service=e,n instanceof k2?this._location=n:this._location=k2.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new k2(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jI(this._location.path)}get storage(){return this._service}get parent(){let e=fq(this._location.path);if(e===null)return null;let n=new k2(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G$(e)}};function xq(t,e,n){t._throwIfRoot("uploadBytes");let r=Iq(t.storage,t._location,HI(),new j6(e,!0),n);return t.storage.makeRequestWithTokens(r,WI).then(s=>({metadata:s,ref:t}))}function Eq(t,e,n=O2.RAW,r){t._throwIfRoot("uploadString");let s=FI(n,e),i=Object.assign({},r);return i.contentType==null&&s.contentType!=null&&(i.contentType=s.contentType),xq(t,s.data,i)}function zq(t){t._throwIfRoot("getDownloadURL");let e=wq(t.storage,t._location,HI());return t.storage.makeRequestWithTokens(e,WI).then(n=>{if(n===null)throw $$();return n})}function Sq(t,e){let n=dq(t._location.path,e),r=new k2(t._location.bucket,n);return new eo(t.storage,r)}function Aq(t){return/^[A-Za-z]+:\/\//.test(t)}function Dq(t,e){return new eo(t,e)}function KI(t,e){if(t instanceof mc){let n=t;if(n._bucket==null)throw j$();let r=new eo(n,n._bucket);return e!=null?KI(r,e):r}else return e!==void 0?Sq(t,e):t}function Tq(t,e){if(e&&Aq(e)){if(t instanceof mc)return Dq(t,e);throw Dh("To use ref(service, url), the first argument must be a Storage instance.")}else return KI(t,e)}function DI(t,e){let n=e?.[PI];return n==null?null:k2.makeFromBucketSpec(n,t)}function Nq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:U3(s,t.app.options.projectId))}var mc=class{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=RI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=D$,this._maxUploadRetryTime=T$,this._requests=new Set,s!=null?this._bucket=k2.makeFromBucketSpec(s,this._host):this._bucket=DI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=k2.makeFromBucketSpec(this._url,e):this._bucket=DI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Th(kI());{let o=nq(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return C(this,null,function*(){let[r,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()})}},TI="@firebase/storage",NI="0.13.2";var QI="storage";function YI(t,e,n,r){return t=Ue(t),Eq(t,e,n,r)}function XI(t){return t=Ue(t),zq(t)}function ZI(t,e){return t=Ue(t),Tq(t,e)}function JI(t=k1(),e){t=Ue(t);let r=Dr(t,QI).getImmediate({identifier:e}),s=V3("storage");return s&&Rq(r,...s),r}function Rq(t,e,n,r={}){Nq(t,e,n,r)}function Pq(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new mc(n,r,s,e,en)}function kq(){J2(new Zt(QI,Pq,"PUBLIC").setMultipleInstances(!0)),tt(TI,NI,""),tt(TI,NI,"esm2017")}kq();var pn=class t{constructor(e,n){this.firestore=e;this.userService=n}getPosts(){let e=d6(this.firestore,"post"),n=F9(e,PL("createdAt","desc"),D9(100));return SL(n,{idField:"_id"}).pipe(ie(r=>r))}uploadImageToFirebase(e){if(!e)return B2(()=>new Error("No image provided"));try{let n=JI(),r=`images/${Date.now()}.png`,s=ZI(n,r);return Ee(YI(s,e,"data_url")).pipe(Ye(()=>XI(s)),it(i=>(console.error("Upload failed:",i),B2(()=>new Error("Failed to upload image")))))}catch(n){return console.error("Image processing failed:",n),B2(()=>new Error("Failed to process image"))}}createPost(e,n,r){let s=d6(this.firestore,"post"),i=R2(this.firestore,`users/${n}`),o=this.formatDate(new Date),c={content:e,creator:i,date:o,likes:[],comments:[],createdAt:new Date,_id:""};return r&&(c.img=r),Ee(AL(s,c)).pipe(je(a=>{console.log("Post created successfully with ID:",a.id)}),ie(a=>se(R({},c),{_id:a.id})))}getPostsByUser(e){let n=d6(this.firestore,"post"),r=R2(this.firestore,`users/${e}`),s=F9(n,OL("creator","==",r));return new me(i=>{NL(s).then(o=>{let c=o.docs.map(a=>{let u=a.data();return se(R({},u),{_id:a.id})});i.next(c),i.complete()}).catch(o=>{console.error("Error fetching posts for user:",o),i.next([]),i.complete()})})}getPostById(e){let n=R2(this.firestore,`post/${e}`);return Fi(n).pipe(w2(1),it(r=>{throw console.error("Error fetching post:",r),r}))}likePost(e,n){return this.getPostById(e).pipe(Ye(r=>{let s=R2(this.firestore,`post/${e}`);return(r?.likes||[]).includes(n)?Ee(X0(s,{likes:u6(n)})):Ee(X0(s,{likes:l6(n)}))}),it(r=>{throw console.error("Error updating likes:",r),r}))}getSavedPosts(e){if(!e||e.length===0)return J([]);let n=e.map(r=>{let s=R2(this.firestore,`post/${r}`);return Fi(s,{idField:"_id"}).pipe(Ye(i=>i?this.userService.getUserByReference(i.creator).pipe(ie(o=>se(R({},i),{creatorName:o?.displayName||"Unknown User",creatorPfp:o?.photoURL||"default-profile-pic-url"}))):J(null)),Kt(i=>i!==null))});return Cn(n)}formatDate(e){let n=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear().toString().slice(-2),i=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${n}.${r}.${s} at ${i}:${o}`}static \u0275fac=function(n){return new(n||t)(fe(n1),fe(dt))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};function Oq(t,e){if(t&1&&(T(0,"div",6),X(1),N()),t&2){let n=G();j(),Mt(n.errorMessage)}}function Fq(t,e){if(t&1){let n=gt();T(0,"div",19)(1,"app-image-cropper",20),pe("imageCropped",function(s){le(n);let i=G();return ue(i.onImageCropped(s))})("cropSaved",function(){le(n);let s=G();return ue(s.onCropSaved())})("cropCancelled",function(){le(n);let s=G();return ue(s.onCropCancelled())}),N()()}if(t&2){let n=G();j(),ye("imageChangedEvent",n.selectedFileEvent)}}var q6=class t{constructor(e,n){this.userService=e;this.postService=n}faImage=Xb;faArrow=Zb;faPlus=Yb;username="";userId="";userPfp="";errorMessage="";selectedImage=null;showCropper=!1;selectedFileEvent=null;ngOnInit(){this.userService.getUser().subscribe({next:e=>{this.username=e?.displayName||"",this.userId=e?.uid||"",this.userPfp=e?.photoURL||""},error:e=>{console.error("Failed to load user:",e),this.errorMessage="Failed to load user data"}})}onFileSelected(e){console.log("File selected event received"),this.selectedFileEvent=e,this.showCropper=!0}onImageCropped(e){console.log("Received cropped image"),this.selectedImage=e,console.log("Image processed and stored")}onCropSaved(){console.log("Crop saved, hiding cropper"),this.showCropper=!1}onCropCancelled(){console.log("Crop cancelled, resetting state"),this.selectedFileEvent=null,this.selectedImage=null,this.showCropper=!1}createPost(e){if(console.log("Creating post..."),!e.valid||!this.userId){this.errorMessage="Content is required!";return}let n=e.value.postContent;this.selectedImage?(console.log("Uploading image before creating post..."),this.postService.uploadImageToFirebase(this.selectedImage).subscribe({next:r=>{console.log("Image uploaded successfully:",r),this.submitPost(n,r)},error:r=>{console.error("Failed to upload image:",r),this.errorMessage="Failed to upload image: "+r.message}})):(console.log("Creating post without image"),this.submitPost(n)),e.resetForm(),this.selectedImage=null,this.selectedFileEvent=null}submitPost(e,n){console.log("Submitting post:",{content:e,imgUrl:n}),this.postService.createPost(e,this.userId,n).subscribe({next:r=>{console.log("Post created successfully:",r),this.errorMessage="",this.showCropper=!1,this.selectedImage=null,this.selectedFileEvent=null},error:r=>{console.error("Failed to create post:",r),this.errorMessage="Failed to create post: "+r.message}})}static \u0275fac=function(n){return new(n||t)($(dt),$(pn))};static \u0275cmp=Te({type:t,selectors:[["app-create-post-aside"]],standalone:!0,features:[Ne],decls:24,vars:8,consts:[["form","ngForm"],["postContent","ngModel"],["fileInput",""],["id","create-post"],[1,"cp-header"],[3,"icon"],[1,"error-message"],[1,"cp-body"],["id","cp-user"],[3,"username","userPfp"],[1,"cp-form"],[3,"ngSubmit"],["name","postContent","ngModel","","id","postContent","cols","30","rows","10","required","","placeholder","Write here..."],[1,"cp-buttons"],["type","button",3,"click"],[1,"image-icon","icon-interactive",3,"icon"],["type","submit",3,"disabled"],[1,"arrow-icon","icon-interactive",3,"icon"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"cropper-modal"],[3,"imageCropped","cropSaved","cropCancelled","imageChangedEvent"]],template:function(n,r){if(n&1){let s=gt();T(0,"aside")(1,"section",3)(2,"div",4),ee(3,"fa-icon",5),T(4,"h3"),X(5,"Create Post"),N()(),Re(6,Oq,2,1,"div",6),T(7,"div",7)(8,"div",8),ee(9,"app-user-badge",9),N(),T(10,"div",10)(11,"form",11,0),pe("ngSubmit",function(){le(s);let o=D1(12);return ue(r.createPost(o))}),T(13,"textarea",12,1),X(15,"          "),N(),T(16,"div",13)(17,"button",14),pe("click",function(){le(s);let o=D1(22);return ue(o.click())}),ee(18,"fa-icon",15),N(),T(19,"button",16),ee(20,"fa-icon",17),N()()()()()(),T(21,"input",18,2),pe("change",function(o){return le(s),ue(r.onFileSelected(o))}),N(),Re(23,Fq,2,1,"div",19),N()}if(n&2){let s=D1(12);j(3),ye("icon",r.faPlus),j(3),qe(r.errorMessage?6:-1),j(3),ye("username",r.username)("userPfp",r.userPfp),j(9),ye("icon",r.faImage),j(),ye("disabled",!s.valid),j(),ye("icon",r.faArrow),j(3),qe(r.showCropper?23:-1)}},dependencies:[qo,fn,Jt,C2,Xi,Yi,Z1,Ki,Qi,rs,ns,ts,V6],styles:["#create-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;position:fixed;top:30%;left:0;padding-left:50px;width:400px}.cp-header[_ngcontent-%COMP%]{display:flex;align-items:center}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;padding:10px}#cp-user[_ngcontent-%COMP%]{margin:20px 0}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:60px;padding:17px 20px;box-sizing:border-box;border:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;border-radius:25px;background-color:#e3e3e3;font-size:16px;resize:none}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none}.cp-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:10px 0}.cp-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent}"]})};var G6={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]};var W6={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]};var ex={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]};function Vq(t,e){t&1&&(T(0,"div",6),X(1,"Loading saved posts..."),N())}function Uq(t,e){t&1&&(T(0,"div",7),X(1,"No saved posts yet"),N())}function Bq(t,e){if(t&1&&ee(0,"img",14),t&2){let n=G().$implicit;ye("src",n.img,E2)}}function jq(t,e){if(t&1){let n=gt();T(0,"div",8)(1,"div",9)(2,"div",10),ee(3,"app-user-badge",11),N(),T(4,"fa-icon",12),pe("click",function(){let s=le(n).$implicit,i=G(2);return ue(i.unsavePost(s._id))}),N()(),T(5,"div",13),Re(6,Bq,1,1,"img",14),T(7,"div",15),X(8),N()(),T(9,"div",16)(10,"span"),X(11),N()()()}if(t&2){let n=e.$implicit,r=G(2);j(3),ye("username",n.creatorName||"")("userPfp",n.creatorPfp||""),j(),ye("icon",r.faXmark),j(2),qe(n.img?6:-1),j(2),m3(" ",n.content," "),j(3),Mt(n.date)}}function Hq(t,e){if(t&1&&Qs(0,jq,12,6,"div",8,d3),t&2){let n=G();Ys(n.savedPosts)}}var K6=class t{constructor(e,n){this.userService=e;this.postService=n}faBookmark=G6;faXmark=tI;savedPosts=[];isLoading=!0;currentUser=null;subscriptions=new Be;ngOnInit(){let e=this.userService.getUser().pipe(Ye(n=>n?(this.currentUser={uid:n.uid,username:n.displayName||"Unknown User",userPfp:n.photoURL||"",savedPosts:n.savedPosts||[],displayName:n.displayName||void 0,photoURL:n.photoURL||void 0,email:n.email||void 0,createdAt:n.createdAt},this.postService.getSavedPosts(this.currentUser.savedPosts)):J([]))).subscribe({next:n=>{this.savedPosts=n,this.isLoading=!1},error:n=>{console.error("Error fetching saved posts:",n),this.isLoading=!1}});this.subscriptions.add(e)}unsavePost(e){if(!this.currentUser?.uid)return;let n=this.userService.unsavePost(this.currentUser.uid,e).subscribe({next:()=>{this.savedPosts=this.savedPosts.filter(r=>r._id!==e),this.currentUser&&(this.currentUser.savedPosts=this.currentUser.savedPosts.filter(r=>r!==e))},error:r=>console.error("Error unsaving post:",r)});this.subscriptions.add(n)}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(n){return new(n||t)($(dt),$(pn))};static \u0275cmp=Te({type:t,selectors:[["app-saved-posts-aside"]],standalone:!0,features:[Ne],decls:12,vars:4,consts:[["id","saved-posts"],["id","user-info","routerLink","/profile",3,"username","userPfp"],[1,"sv-posts"],[1,"sv-header"],[3,"icon"],[1,"sv-body"],[1,"loading"],[1,"no-posts"],[1,"post","sv-post"],[1,"upper-header"],["id","sv-user"],[3,"username","userPfp"],[1,"icon-close","icon-interactive",3,"click","icon"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-text-content"],[1,"post-time"]],template:function(n,r){n&1&&(T(0,"aside")(1,"section",0),ee(2,"app-user-badge",1),T(3,"div",2)(4,"div",3),ee(5,"fa-icon",4),T(6,"h3"),X(7,"saved posts"),N()(),T(8,"div",5),Re(9,Vq,2,0,"div",6)(10,Uq,2,0,"div",7)(11,Hq,2,0),N()()()()),n&2&&(j(2),ye("username",(r.currentUser==null?null:r.currentUser.displayName)||"")("userPfp",(r.currentUser==null?null:r.currentUser.photoURL)||""),j(3),ye("icon",r.faBookmark),j(4),qe(r.isLoading?9:r.savedPosts.length===0?10:11))},dependencies:[fn,Jt,C2,ai],styles:["#saved-posts[_ngcontent-%COMP%]{position:fixed;margin-left:50px;bottom:15%;right:0;width:450px;padding-right:10px}#user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20% 0;font-size:30px}#user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}.sv-header[_ngcontent-%COMP%]{display:flex;align-items:center}.sv-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;padding:10px}.sv-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px;overflow-y:scroll;scroll-behavior:smooth;height:400px}.sv-posts[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px}.sv-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:45px;padding:20px;cursor:pointer;transition:background-color .1s ease}.sv-post[_ngcontent-%COMP%]:hover{background-color:#e3e3e3;border-radius:15px}.post-time[_ngcontent-%COMP%]{font-size:15px;color:#363540;text-align:right}.upper-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.post-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;border-radius:15px;margin-top:15px}.post-text-content[_ngcontent-%COMP%]{width:80%;margin-left:20px}.loading[_ngcontent-%COMP%], .no-posts[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666}.icon-close[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease}.icon-close[_ngcontent-%COMP%]:hover{color:#f44}"]})};var $q=(t,e)=>e._id,qq=(t,e)=>({liked:t,changing:e}),Gq=t=>({saved:t});function Wq(t,e){t&1&&(T(0,"div",1)(1,"p"),X(2,"Please login to interact with posts"),N()())}function Kq(t,e){if(t&1&&ee(0,"img",8),t&2){let n=G().$implicit;ye("src",n.img,E2)}}function Qq(t,e){if(t&1){let n=gt();T(0,"div",9)(1,"fa-icon",10),pe("click",function(){le(n);let s=G().$implicit,i=G();return ue(i.likePost(s._id))}),N(),ee(2,"fa-icon",11)(3,"fa-icon",12),T(4,"fa-icon",13),pe("click",function(){le(n);let s=G().$implicit,i=G();return ue(i.savePost(s._id))}),N()()}if(t&2){let n=G().$implicit,r=G();j(),ye("icon",r.isLiked(n)?r.faHeartSolid:r.faHeart)("ngClass",Fv(6,qq,r.isLiked(n),r.isLiked(n)!==r.prevLikedState)),j(),ye("icon",r.faComment),j(),ye("icon",r.faShare),j(),ye("icon",r.isSaved(n._id)?r.faBookmarkSolid:r.faBookmark)("ngClass",Ov(9,Gq,r.isSaved(n._id)))}}function Yq(t,e){if(t&1&&(T(0,"div",2)(1,"div",3),ee(2,"app-user-badge",4),T(3,"div",5)(4,"span"),X(5),N()()(),T(6,"div",6)(7,"div",7)(8,"p"),X(9),N(),Re(10,Kq,1,1,"img",8),N(),Re(11,Qq,5,11,"div",9),N()()),t&2){let n=e.$implicit,r=G();j(2),ye("username",n.username)("userPfp",n.userPfp),j(3),Mt(n.date),j(4),Mt(n.content),j(),qe(n.img?10:-1),j(),qe(r.isAuthenticated?11:-1)}}var Q6=class t{constructor(e,n){this.postService=e;this.userService=n}faShare=eI;faComment=x6;faHeart=I6;faHeartSolid=ex;faBookmark=b6;faBookmarkSolid=G6;posts=[];user=null;prevLikedState=!1;prevSavedState=!1;isAuthenticated=!1;ngOnInit(){let e=this.postService.getPosts().pipe(Ye(r=>{let s=r.map(i=>this.userService.getUserByReference(i.creator).pipe(ie(o=>se(R({},i),{uid:o?.uid||"unknown",username:o?.displayName||"Unknown User",userPfp:o?.photoURL||"default-profile-pic-url",savedPosts:o?.savedPosts||[]}))));return Cn(s)})),n=this.userService.getUser().pipe(je(r=>{if(this.isAuthenticated=!!r,r){let s={uid:r.uid,username:r.displayName||"Unknown User",userPfp:r.photoURL||"",savedPosts:Array.isArray(r.savedPosts)?r.savedPosts:[],displayName:r.displayName||void 0,photoURL:r.photoURL||void 0,email:r.email||void 0};this.user=s}else this.user=null}));Cn([e,n]).subscribe({next:([r,s])=>{this.posts=r},error:r=>{console.error("Error loading data:",r),this.posts=[]}})}likePost(e){if(!this.isAuthenticated||!this.user){console.log("Please login to like posts");return}let n=this.posts.find(r=>r._id===e);n&&(this.prevLikedState=this.isLiked(n),this.postService.likePost(e,this.user.uid).subscribe({next:()=>{this.prevLikedState?n.likes=n.likes.filter(r=>r!==this.user.uid):(n.likes=n.likes||[],n.likes.push(this.user.uid))},error:r=>console.error("Error liking post:",r)}))}savePost(e){if(!this.isAuthenticated||!this.user){console.log("Please login to save posts");return}let n=this.isSaved(e);this.prevSavedState=n,(n?this.userService.unsavePost(this.user.uid,e):this.userService.savePost(this.user.uid,e)).subscribe({next:()=>{this.user&&(n?this.user.savedPosts=this.user.savedPosts.filter(s=>s!==e):this.user.savedPosts=[...this.user.savedPosts||[],e],this.posts=[...this.posts])},error:s=>console.error("Error saving/unsaving post:",s)})}isLiked(e){return!this.isAuthenticated||!this.user?!1:e.likes?.includes(this.user.uid)??!1}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}static \u0275fac=function(n){return new(n||t)($(pn),$(dt))};static \u0275cmp=Te({type:t,selectors:[["app-post-flow"]],standalone:!0,features:[Ne],decls:5,vars:1,consts:[["id","main-flow"],[1,"auth-prompt"],[1,"post"],[1,"upper-header"],[3,"username","userPfp"],[1,"post-time"],[1,"post-box"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-actions"],[1,"heart-icon","icon-interactive",3,"click","icon","ngClass"],[1,"comment-icon","icon-interactive",3,"icon"],[1,"share-icon","icon-interactive",3,"icon"],[1,"bookmark-icon","icon-interactive",3,"click","icon","ngClass"]],template:function(n,r){n&1&&(T(0,"main")(1,"section",0),Re(2,Wq,3,0,"div",1),Qs(3,Yq,12,6,"div",2,$q),N()()),n&2&&(j(2),qe(r.isAuthenticated?-1:2),j(),Ys(r.posts))},dependencies:[fn,Jt,C2,nC],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;height:100%}#main-flow[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:1%;padding-right:15%;width:600px}.post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:40px;padding:20px}.upper-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.post-content[_ngcontent-%COMP%]{margin:20px 0}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:15px;margin-top:15px}post-box[_ngcontent-%COMP%]{margin:20px 0;background-color:#e3e3e3;border-radius:15px;padding:0 20px 20px}.post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.auth-prompt[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:20px;background-color:#f8f9fa;border-radius:8px;color:#666}.heart-icon[_ngcontent-%COMP%]{transition:transform .3s ease-in-out,color .3s ease-in-out}.liked[_ngcontent-%COMP%]{color:red;animation:_ngcontent-%COMP%_like-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_like-animation{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.changing[_ngcontent-%COMP%]{transition:none}.bookmark-icon[_ngcontent-%COMP%]{transition:color .2s ease;cursor:pointer;color:#262626}.bookmark-icon.saved[_ngcontent-%COMP%]{color:#f6d100;animation:_ngcontent-%COMP%_save-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_save-animation{0%{transform:scale(1) rotate(0)}25%{transform:scale(1.1) rotate(-10deg)}50%{transform:scale(1.2) rotate(10deg)}75%{transform:scale(1.1) rotate(-10deg)}to{transform:scale(1) rotate(0)}}"]})};function Xq(t,e){t&1&&ee(0,"app-create-post-aside")}function Zq(t,e){t&1&&ee(0,"app-saved-posts-aside")}var Y6=class t{constructor(e){this.userService=e}user=null;isAuthenticated=!1;subscription=new Be;ngOnInit(){let e=this.userService.getUser().pipe(je(n=>{this.isAuthenticated=!!n,n?this.user={uid:n.uid,username:n.displayName||"Unknown User",userPfp:n.photoURL||"",savedPosts:Array.isArray(n.savedPosts)?n.savedPosts:[],displayName:n.displayName||void 0,photoURL:n.photoURL||void 0,email:n.email||void 0}:this.user=null})).subscribe();this.subscription.add(e)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)($(dt))};static \u0275cmp=Te({type:t,selectors:[["app-home"]],standalone:!0,features:[Ne],decls:4,vars:2,consts:[["id","home"]],template:function(n,r){n&1&&(T(0,"div",0),Re(1,Xq,1,0,"app-create-post-aside"),ee(2,"app-post-flow"),Re(3,Zq,1,0,"app-saved-posts-aside"),N()),n&2&&(j(),qe(r.isAuthenticated?1:-1),j(2),qe(r.isAuthenticated?3:-1))},dependencies:[q6,K6,Q6],styles:["#home[_ngcontent-%COMP%]{position:relative;top:8vh;display:flex;justify-content:space-around;min-height:90vh;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;width:100%}"]})};function Jq(t,e){if(t&1&&(T(0,"div",7)(1,"p"),X(2),N()()),t&2){let n=G();j(2),Mt(n.errorMessages)}}var X6=class t{constructor(e,n){this.userService=e;this.router=n}faUser=W6;errorMessages="";regExp=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{1,}$");login(e){if(!e.valid){if(e.value.email===""){this.errorMessages="Email is required";return}if(!e.value.email.match(this.regExp)){this.errorMessages="Email is invalid";return}if(e.value.password===""){this.errorMessages="Password is required";return}return}let n={email:e.value.email,password:e.value.password};this.userService.login(n.email,n.password).subscribe({next:()=>{this.router.navigate(["/home"])},error:r=>{this.errorMessages=r.message||"Error occurred during login"}})}static \u0275fac=function(n){return new(n||t)($(dt),$(Un))};static \u0275cmp=Te({type:t,selectors:[["app-login"]],standalone:!0,features:[Ne],decls:28,vars:2,consts:[["form","ngForm"],["email","ngModel"],["password","ngModel"],["id","login"],[1,"login-box"],[1,"login-header"],[3,"icon"],[1,"error-box"],[1,"login-form"],[3,"ngSubmit"],[1,"input-box"],["for","email"],["type","email","name","email","id","email","placeholder","Email","required","","ngModel",""],["for","password"],["type","password","name","password","id","password","placeholder","Password","required","","ngModel",""],["id","login-call"],["routerLink","/register"],["type","submit","id","login-button"]],template:function(n,r){if(n&1){let s=gt();T(0,"main")(1,"section",3)(2,"div",4)(3,"div",5),ee(4,"fa-icon",6),T(5,"h1"),X(6,"Login"),N(),Re(7,Jq,3,1,"div",7),N(),T(8,"div",8)(9,"form",9,0),pe("ngSubmit",function(){le(s);let o=D1(10);return ue(r.login(o))}),T(11,"div",10)(12,"label",11),X(13,"Email"),N(),ee(14,"input",12,1),T(16,"label",13),X(17,"Password"),N(),ee(18,"input",14,2),T(20,"p",15)(21,"i"),X(22,"Don't have an account yet?"),N(),T(23,"span")(24,"a",16),X(25,"Register now"),N()()(),T(26,"button",17),X(27," Login "),N()()()()()()()}n&2&&(j(4),ye("icon",r.faUser),j(3),qe(r.errorMessages?7:-1))},dependencies:[ai,Xi,Yi,Z1,Ki,Qi,rs,ns,ts,Jt,C2],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh}.login-header[_ngcontent-%COMP%]{position:relative;bottom:60px;display:flex;flex-direction:column;align-items:center}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500;font-family:Offside,sans-serif;color:#363540}.login-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding:20px 25px;margin-bottom:30px;border-radius:50%;border:#363540 3px solid;font-size:50px;background-color:#fff;color:#363540}.login-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:#363540 3px solid;border-radius:15px;margin-top:15px;width:25%;transition:.2s ease-in-out}.login-box[_ngcontent-%COMP%]:focus-within{box-shadow:10px 10px 15px #656375f3}.input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:40px;width:100%}.input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:10px 0}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0 10px 10px;padding:10px;border-radius:5px;border:1px solid #363540;outline:none}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #363540}.input-box[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:25px}.login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;width:100%}#register-call[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;margin-bottom:20px}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;font-family:Offside,sans-serif;color:#363540;text-decoration:none;margin-left:10px;transition:.1s ease-in-out}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9a9a9a}#login-button[_ngcontent-%COMP%]{background-color:#363540;color:#fff;border:none;padding:10px 50px;border-radius:5px;font-size:20px;font-weight:500;font-family:Offside,sans-serif;cursor:pointer;transition:.2s ease-in-out}#login-button[_ngcontent-%COMP%]:hover{background-color:#b5b5b5;color:#363540}.error-message[_ngcontent-%COMP%]{color:red;font-size:15px;font-weight:500;font-family:Offside,sans-serif;margin-top:10px}"]})};var tx="https://cdn.pixabay.com/photo/2018/11/13/21/43/avatar-3814049_1280.png";function eG(t,e){if(t&1&&(T(0,"div",9)(1,"p"),X(2),N()()),t&2){let n=G();j(2),Mt(n.errorMessages)}}var Z6=class t{constructor(e,n){this.userService=e;this.router=n}faUser=W6;regExp=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{1,}$");errorMessages="";register(e){if(!e.valid){if(e.value.username===""){this.errorMessages="Username is required";return}if(e.value.email===""){this.errorMessages="Email is required";return}if(!e.value.email.match(this.regExp)){this.errorMessages="Email is invalid";return}if(e.value.password===""){this.errorMessages="Password is required";return}if(e.value.password.length<6){this.errorMessages="Password must be at least 6 characters";return}e.value.rePassword===""&&(this.errorMessages="Confirm password is required");return}if(e.value.password!==e.value.rePassword){this.errorMessages="Passwords do not match";return}let n={username:e.value.username,email:e.value.email,password:e.value.password,img:tx,id:"",savedPosts:[]};console.log(n),this.userService.register(n).subscribe({next:()=>{this.router.navigate(["/home"])},error:r=>{this.errorMessages=r.message||"Error occurred during registration"}})}static \u0275fac=function(n){return new(n||t)($(dt),$(Un))};static \u0275cmp=Te({type:t,selectors:[["app-register"]],standalone:!0,features:[Ne],decls:36,vars:2,consts:[["form","ngForm"],["username","ngModel"],["email","ngModel"],["password","ngModel"],["rePassword","ngModel"],["id","register"],[1,"register-box"],[1,"register-header"],[3,"icon"],[1,"error-box"],[1,"register-form"],[3,"ngSubmit"],[1,"input-box"],["for","username"],["type","text","name","username","id","username","placeholder","Username","required","","ngModel",""],["for","email"],["type","email","name","email","id","email","placeholder","Email","required","","email","","ngModel",""],["for","password"],["type","password","name","password","id","password","placeholder","Password","required","","ngModel",""],["for","rePassword"],["type","password","name","rePassword","id","rePassword","placeholder","Confirm Password","required","","ngModel",""],["id","register-call"],["routerLink","/login"],["type","submit","id","register-button"]],template:function(n,r){if(n&1){let s=gt();T(0,"main")(1,"section",5)(2,"div",6)(3,"div",7),ee(4,"fa-icon",8),T(5,"h1"),X(6,"Register"),N(),Re(7,eG,3,1,"div",9),N(),T(8,"div",10)(9,"form",11,0),pe("ngSubmit",function(){le(s);let o=D1(10);return ue(r.register(o))}),T(11,"div",12)(12,"label",13),X(13,"Username"),N(),ee(14,"input",14,1),T(16,"label",15),X(17,"Email"),N(),ee(18,"input",16,2),T(20,"label",17),X(21,"Password"),N(),ee(22,"input",18,3),T(24,"label",19),X(25,"Confirm Password"),N(),ee(26,"input",20,4),T(28,"p",21)(29,"i"),X(30,"Already have an account?"),N(),T(31,"span")(32,"a",22),X(33,"Login now"),N()()(),T(34,"button",23),X(35,"Register"),N()()()()()()()}n&2&&(j(4),ye("icon",r.faUser),j(3),qe(r.errorMessages?7:-1))},dependencies:[ai,Xi,Yi,Z1,Ki,Qi,rs,Ih,ns,ts,Jt,C2],styles:["#register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh}.register-header[_ngcontent-%COMP%]{position:relative;bottom:60px;display:flex;flex-direction:column;align-items:center}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500;font-family:Offside,sans-serif;color:#363540}.register-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding:20px 25px;margin-bottom:30px;border-radius:50%;border:#363540 3px solid;font-size:50px;background-color:#fff;color:#363540}.register-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:#363540 3px solid;border-radius:15px;margin-top:150px;width:25%;transition:.2s ease-in-out}.register-box[_ngcontent-%COMP%]:focus-within{box-shadow:10px 10px 15px #656375f3}.input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:40px;width:100%}.input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:10px 0}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0 10px 10px;padding:10px;border-radius:5px;border:1px solid #363540;outline:none}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #363540}.input-box[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:25px}.register-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;width:100%}#register-call[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;margin-bottom:20px}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;font-family:Offside,sans-serif;color:#363540;text-decoration:none;margin-left:10px;transition:.1s ease-in-out}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9a9a9a}#register-button[_ngcontent-%COMP%]{background-color:#363540;color:#fff;border:none;padding:10px 50px;margin-top:5px;border-radius:5px;font-size:20px;font-weight:500;font-family:Offside,sans-serif;cursor:pointer;transition:.2s ease-in-out}#register-button[_ngcontent-%COMP%]:hover{background-color:#b5b5b5;color:#363540}.error-message[_ngcontent-%COMP%]{color:red;font-size:15px;font-weight:500;font-family:Offside,sans-serif;margin-top:10px}"]})};var J6=class t{constructor(e,n){this.el=e;this.renderer=n}isActive=!1;ngOnInit(){this.updateStyles()}ngOnChanges(){this.updateStyles()}updateStyles(){this.isActive?this.renderer.setStyle(this.el.nativeElement,"background-color","#e3e3e3"):this.renderer.removeStyle(this.el.nativeElement,"background-color")}static \u0275fac=function(n){return new(n||t)($(Tt),$(g2))};static \u0275dir=Je({type:t,selectors:[["","appFlowHighlight",""]],inputs:{isActive:[0,"appFlowHighlight","isActive"]},standalone:!0,features:[Dt]})};function tG(t,e){t&1&&(T(0,"div",9)(1,"p"),X(2,"no posts yet"),N()())}function nG(t,e){if(t&1&&ee(0,"img",17),t&2){let n=G().$implicit;jo("src",n.img,E2)}}function rG(t,e){if(t&1&&(T(0,"div",11)(1,"div",12),ee(2,"app-user-badge",13),T(3,"div",14)(4,"span"),X(5),N()()(),T(6,"div",15)(7,"div",16)(8,"p"),X(9),N(),Re(10,nG,1,1,"img",17),N(),T(11,"div",18),ee(12,"fa-icon",19)(13,"fa-icon",20)(14,"fa-icon",21)(15,"fa-icon",22),N()()()),t&2){let n=e.$implicit,r=G(3);j(2),ye("username",r.username)("userPfp",r.userPfp),j(3),Mt(n.date),j(4),Mt(n.content),j(),qe(n.img?10:-1),j(2),ye("icon",r.faShare),j(),ye("icon",r.faComment),j(),ye("icon",r.faHeart),j(),ye("icon",r.faBookmark)}}function sG(t,e){if(t&1&&(T(0,"div",10),Qs(1,rG,16,9,"div",11,d3),N()),t&2){let n=G(2);j(),Ys(n.posts)}}function iG(t,e){if(t&1&&Re(0,tG,3,0,"div",9)(1,sG,3,0,"div",10),t&2){let n=G();qe(n.posts.length===0?0:1)}}function oG(t,e){t&1&&ee(0,"div",8)}var el=class t{constructor(e,n){this.userService=e;this.postService=n}faShare=Jb;faComment=x6;faHeart=I6;faBookmark=b6;user=null;posts=[];username="";userPfp="";flow="posts";postFlow(){this.flow="posts"}postSaved(){this.flow="saved"}ngOnInit(){this.loadUserData()}loadUserData(){this.userService.getUser().subscribe({next:e=>{this.user=e,this.username=e?.displayName||"",this.userPfp=e?.photoURL,e&&this.loadUserPosts(e.uid)},error:e=>{console.error("Error fetching user:",e)}})}loadUserPosts(e){this.postService.getPostsByUser(e).subscribe({next:n=>{this.posts=n,console.log("User posts:",this.posts)},error:n=>{console.error("Error fetching posts:",n)}})}static \u0275fac=function(n){return new(n||t)($(dt),$(pn))};static \u0275cmp=Te({type:t,selectors:[["app-profile"]],standalone:!0,features:[Ne],decls:15,vars:5,consts:[[1,"profile-page"],[1,"profile-container"],["id","user-info-profile",3,"username","userPfp"],[1,"edit-profile"],[1,"flow-options"],["id","view-posts",3,"click","appFlowHighlight"],["id","view-saved",3,"click","appFlowHighlight"],[1,"profile-flow"],[1,"saved"],[1,"no-posts"],[1,"flow"],[1,"post"],[1,"upper-header"],[3,"username","userPfp"],[1,"post-time"],[1,"post-box"],[1,"post-content"],["alt","img",3,"src"],[1,"post-actions"],[1,"share-icon","icon-interactive",3,"icon"],[1,"comment-icon","icon-interactive",3,"icon"],[1,"heart-icon","icon-interactive",3,"icon"],[1,"bookmark-icon","icon-interactive",3,"icon"]],template:function(n,r){n&1&&(T(0,"main")(1,"div",0)(2,"div",1),ee(3,"app-user-badge",2),T(4,"button",3),X(5,"edit"),N()(),T(6,"div",4)(7,"span",5),pe("click",function(){return r.postFlow()}),X(8,"posts"),N(),T(9,"span",6),pe("click",function(){return r.postSaved()}),X(10,"saved"),N()(),ee(11,"hr"),T(12,"div",7),Re(13,iG,2,1)(14,oG,1,0,"div",8),N()()()),n&2&&(j(3),ye("username",r.username)("userPfp",r.userPfp),j(4),ye("appFlowHighlight",r.flow==="posts"),j(2),ye("appFlowHighlight",r.flow==="saved"),j(4),qe(r.flow==="posts"?13:14))},dependencies:[fn,Jt,C2,J6],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center;height:100%}.profile-page[_ngcontent-%COMP%]{margin-top:100px;width:600px;padding-top:50px;margin-bottom:0}.flow-options[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.flow-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;text-align:center;margin-bottom:0;cursor:pointer;transition:ease .1s;font-family:Offside,sans-serif;padding:15px 0}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:40px}.edit-profile[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1px 15px;height:35px;font-family:Roboto,sans-serif;font-size:14px;color:#fff;background-color:#007bff;border:1px solid;border-radius:5px;cursor:pointer;transition:all .3s}.edit-profile[_ngcontent-%COMP%]:hover{background-color:#0056b3}.profile-flow[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:20px}.post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px;background-color:#e3e3e3;border-radius:15px;margin-bottom:30px}.upper-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.post-content[_ngcontent-%COMP%]{margin:20px 0}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:15px;margin-top:15px}.post-box[_ngcontent-%COMP%]{margin:10px 0;border-radius:15px;padding:0 20px 20px}.post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})};var nx=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Y6},{path:"login",component:X6},{path:"register",component:Z6},{path:"profile",component:el}];var rx={providers:[QC(nx),wM(()=>LM({projectId:"conneqt-9ade2",appId:"1:984817012255:web:eb44e2b45cf499b5880f2a",storageBucket:"conneqt-9ade2.firebasestorage.app",apiKey:"AIzaSyCi7kvv3bpINYbrbtJPl4Jtml-_GRSURAg",authDomain:"conneqt-9ade2.firebaseapp.com",messagingSenderId:"984817012255",measurementId:"G-0S7CZ2MHCV"})),C_(()=>__()),zL(()=>RL())]};function cG(t,e){if(t&1){let n=gt();T(0,"li",3)(1,"a",4),X(2,"My Profile"),N()(),T(3,"li",3)(4,"a",5),pe("click",function(){le(n);let s=G();return ue(s.onLogout())}),X(5,"Logout"),N()()}}function aG(t,e){t&1&&(T(0,"li",3)(1,"a",6),X(2,"Login"),N()(),T(3,"li",3)(4,"a",7),X(5,"Register"),N()())}var tl=class t{constructor(e,n){this.userService=e;this.router=n}user=null;ngOnInit(){this.userService.getUser().subscribe(e=>{this.user=e,console.log(this.user)})}onLogout(){this.userService.logout().subscribe({next:()=>{this.user=null,this.router.navigate(["/login"])},error:e=>{console.error("Error logging out:",e)}})}static \u0275fac=function(n){return new(n||t)($(dt),$(Un))};static \u0275cmp=Te({type:t,selectors:[["app-header"]],standalone:!0,features:[Ne],decls:11,vars:1,consts:[["id","logo"],["href","home"],["id","nav-links"],[1,"nav-link"],["href","profile"],["href","#",3,"click"],["href","login"],["href","register"]],template:function(n,r){n&1&&(T(0,"header")(1,"nav")(2,"span",0)(3,"a",1),X(4,"Conneqt"),N()(),T(5,"ul",2)(6,"li",3)(7,"a",1),X(8,"Home"),N()(),Re(9,cG,6,0)(10,aG,6,0),N()()()),n&2&&(j(9),qe(r.user?9:10))},styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;min-height:8vh;background-color:#363540;color:#fff;padding:0 30px;position:fixed;width:100%;z-index:1000;top:0}#logo[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-weight:400;font-style:normal;font-size:40px;cursor:pointer;transition:.3s ease-in-out,transform .3s ease-in-out}#logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#logo[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#nav-links[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:35%}.nav-link[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:0 10px;list-style:none;cursor:pointer;border-radius:20px;position:relative}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;position:relative;font-size:20px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-position:left}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-5px;width:0;height:2px;background-color:#fff;transition:width .3s ease}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}']})};var nl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-footer"]],standalone:!0,features:[Ne],decls:4,vars:0,consts:[[1,"footer-link"],["href","#home"]],template:function(n,r){n&1&&(T(0,"footer")(1,"div",0)(2,"a",1),X(3,"Back to Top"),N()()())},styles:['footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;min-height:8vh;background-color:#363540;color:#fff;width:100%;position:relative;margin-top:100px;bottom:0;top:100%}.footer-link[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:0 10px;list-style:none;cursor:pointer;border-radius:20px;position:relative}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;position:relative}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-5px;width:0;height:2px;background-color:#fff;transition:width .3s ease}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}']})};var rl=class t{title="conneqt";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-root"]],standalone:!0,features:[Ne],decls:3,vars:0,template:function(n,r){n&1&&ee(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[n7,Jt,tl,nl]})};dC(rl,rx).catch(t=>console.error(t));
