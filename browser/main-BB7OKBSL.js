var FD=Object.defineProperty,VD=Object.defineProperties;var BD=Object.getOwnPropertyDescriptors;var v4=Object.getOwnPropertySymbols,UD=Object.getPrototypeOf,Cy=Object.prototype.hasOwnProperty,My=Object.prototype.propertyIsEnumerable,jD=Reflect.get;var by=(n,e,t)=>e in n?FD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e)=>{for(var t in e||={})Cy.call(e,t)&&by(n,t,e[t]);if(v4)for(var t of v4(e))My.call(e,t)&&by(n,t,e[t]);return n},ae=(n,e)=>VD(n,BD(e));var wy=(n,e)=>{var t={};for(var i in n)Cy.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&v4)for(var i of v4(n))e.indexOf(i)<0&&My.call(n,i)&&(t[i]=n[i]);return t};var ys=(n,e,t)=>jD(UD(n),t,e);var b=(n,e,t)=>new Promise((i,r)=>{var s=a=>{try{c(t.next(a))}catch(u){r(u)}},o=a=>{try{c(t.throw(a))}catch(u){r(u)}},c=a=>a.done?i(a.value):Promise.resolve(a.value).then(s,o);c((t=t.apply(n,e)).next())});function xy(n,e){return Object.is(n,e)}var Vt=null,b4=!1,C4=1,xr=Symbol("SIGNAL");function Be(n){let e=Vt;return Vt=n,e}function Ly(){return Vt}var jc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Z8(n){if(b4)throw new Error("");if(Vt===null)return;Vt.consumerOnSignalRead(n);let e=Vt.nextProducerIndex++;if(L4(Vt),e<Vt.producerNode.length&&Vt.producerNode[e]!==n&&Uc(Vt)){let t=Vt.producerNode[e];x4(t,Vt.producerIndexOfThis[e])}Vt.producerNode[e]!==n&&(Vt.producerNode[e]=n,Vt.producerIndexOfThis[e]=Uc(Vt)?zy(n,Vt,e):0),Vt.producerLastReadVersion[e]=n.version}function HD(){C4++}function Ey(n){if(!(Uc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===C4)){if(!n.producerMustRecompute(n)&&!J8(n)){n.dirty=!1,n.lastCleanEpoch=C4;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=C4}}function Iy(n){if(n.liveConsumerNode===void 0)return;let e=b4;b4=!0;try{for(let t of n.liveConsumerNode)t.dirty||$D(t)}finally{b4=e}}function Sy(){return Vt?.consumerAllowSignalWrites!==!1}function $D(n){n.dirty=!0,Iy(n),n.consumerMarkedDirty?.(n)}function w4(n){return n&&(n.nextProducerIndex=0),Be(n)}function X8(n,e){if(Be(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Uc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)x4(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function J8(n){L4(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Ey(t),i!==t.version))return!0}return!1}function ed(n){if(L4(n),Uc(n))for(let e=0;e<n.producerNode.length;e++)x4(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zy(n,e,t){if(Ay(n),n.liveConsumerNode.length===0&&Dy(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=zy(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function x4(n,e){if(Ay(n),n.liveConsumerNode.length===1&&Dy(n))for(let i=0;i<n.producerNode.length;i++)x4(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];L4(r),r.producerIndexOfThis[i]=e}}function Uc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function L4(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ay(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Dy(n){return n.producerNode!==void 0}function Ty(n){let e=Object.create(qD);e.computation=n;let t=()=>{if(Ey(e),Z8(e),e.value===M4)throw e.error;return e.value};return t[xr]=e,t}var Q8=Symbol("UNSET"),Y8=Symbol("COMPUTING"),M4=Symbol("ERRORED"),qD=ae(N({},jc),{value:Q8,dirty:!0,error:null,equal:xy,producerMustRecompute(n){return n.value===Q8||n.value===Y8},producerRecomputeValue(n){if(n.value===Y8)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Y8;let t=w4(n),i;try{i=n.computation()}catch(r){i=M4,n.error=r}finally{X8(n,t)}if(e!==Q8&&e!==M4&&i!==M4&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function WD(){throw new Error}var Ny=WD;function Py(){Ny()}function ky(n){Ny=n}var GD=null;function Ry(n){let e=Object.create(Fy);e.value=n;let t=()=>(Z8(e),e.value);return t[xr]=e,t}function td(n,e){Sy()||Py(),n.equal(n.value,e)||(n.value=e,KD(n))}function Oy(n,e){Sy()||Py(),td(n,e(n.value))}var Fy=ae(N({},jc),{equal:xy,value:void 0});function KD(n){n.version++,HD(),Iy(n),GD?.()}function ge(n){return typeof n=="function"}function T1(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var E4=T1(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function go(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ye=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ge(i))try{i()}catch(s){e=s instanceof E4?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Vy(s)}catch(o){e=e??[],o instanceof E4?e=[...e,...o.errors]:e.push(o)}}if(e)throw new E4(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Vy(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&go(t,e)}remove(e){let{_finalizers:t}=this;t&&go(t,e),e instanceof n&&e._removeParent(this)}};Ye.EMPTY=(()=>{let n=new Ye;return n.closed=!0,n})();var nd=Ye.EMPTY;function I4(n){return n instanceof Ye||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function Vy(n){ge(n)?n():n.unsubscribe()}var Mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var N1={setTimeout(n,e,...t){let{delegate:i}=N1;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=N1;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function S4(n){N1.setTimeout(()=>{let{onUnhandledError:e}=Mi;if(e)e(n);else throw n})}function Hc(){}var By=id("C",void 0,void 0);function Uy(n){return id("E",void 0,n)}function jy(n){return id("N",n,void 0)}function id(n,e,t){return{kind:n,value:e,error:t}}var _o=null;function P1(n){if(Mi.useDeprecatedSynchronousErrorHandling){let e=!_o;if(e&&(_o={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=_o;if(_o=null,t)throw i}}else n()}function Hy(n){Mi.useDeprecatedSynchronousErrorHandling&&_o&&(_o.errorThrown=!0,_o.error=n)}var yo=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,I4(e)&&e.add(this)):this.destination=ZD}static create(e,t,i){return new k1(e,t,i)}next(e){this.isStopped?sd(jy(e),this):this._next(e)}error(e){this.isStopped?sd(Uy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sd(By,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QD=Function.prototype.bind;function rd(n,e){return QD.call(n,e)}var od=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){z4(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){z4(i)}else z4(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){z4(t)}}},k1=class extends yo{constructor(e,t,i){super();let r;if(ge(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Mi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&rd(e.next,s),error:e.error&&rd(e.error,s),complete:e.complete&&rd(e.complete,s)}):r=e}this.destination=new od(r)}};function z4(n){Mi.useDeprecatedSynchronousErrorHandling?Hy(n):S4(n)}function YD(n){throw n}function sd(n,e){let{onStoppedNotification:t}=Mi;t&&N1.setTimeout(()=>t(n,e))}var ZD={closed:!0,next:Hc,error:YD,complete:Hc};var R1=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yn(n){return n}function A4(...n){return cd(n)}function cd(n){return n.length===0?yn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=JD(t)?t:new k1(t,i,r);return P1(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=$y(i),new i((r,s)=>{let o=new k1({next:c=>{try{t(c)}catch(a){s(a),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[R1](){return this}pipe(...t){return cd(t)(this)}toPromise(t){return t=$y(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function $y(n){var e;return(e=n??Mi.Promise)!==null&&e!==void 0?e:Promise}function XD(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function JD(n){return n&&n instanceof yo||XD(n)&&I4(n)}function ad(n){return ge(n?.lift)}function Fe(n){return e=>{if(ad(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(n,e,t,i,r){return new ld(n,e,t,i,r)}var ld=class extends yo{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(a){e.error(a)}}:super._next,this._error=r?function(c){try{r(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function O1(){return Fe((n,e)=>{let t=null;n._refCount++;let i=ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var F1=class extends ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ad(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let t=this.getSubject();e.add(this.source.subscribe(ze(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return O1()(this)}};var qy=T1(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new D4(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new qy}next(t){P1(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){P1(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){P1(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?nd:(this.currentObservers=null,s.push(t),new Ye(()=>{this.currentObservers=null,go(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new ye;return t.source=this,t}}return n.create=(e,t)=>new D4(e,t),n})(),D4=class extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:nd}};var Dt=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var ud={now(){return(ud.delegate||Date).now()},delegate:void 0};var T4=class extends Ye{constructor(e,t){super()}schedule(e,t=0){return this}};var $c={setInterval(n,e,...t){let{delegate:i}=$c;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=$c;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var V1=class extends T4{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return $c.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&$c.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,go(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var B1=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};B1.now=ud.now;var U1=class extends B1{constructor(e,t=B1.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var vs=new U1(V1),dd=vs;var N4=class extends V1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var P4=class extends U1{};var fd=new P4(N4);var vn=new ye(n=>n.complete());function k4(n){return n&&ge(n.schedule)}function hd(n){return n[n.length-1]}function R4(n){return ge(hd(n))?n.pop():void 0}function Bi(n){return k4(hd(n))?n.pop():void 0}function Wy(n,e){return typeof hd(n)=="number"?n.pop():e}function pd(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Ky(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(h){o(h)}}function a(d){try{u(i.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):r(d.value).then(c,a)}u((i=i.apply(n,e||[])).next())})}function Gy(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(n){return this instanceof vo?(this.v=n,this):new vo(n)}function Qy(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(y){return Promise.resolve(y).then(g,h)}}function c(g,y){i[g]&&(r[g]=function(x){return new Promise(function(S,F){s.push([g,x,S,F])>1||a(g,x)})},y&&(r[g]=y(r[g])))}function a(g,y){try{u(i[g](y))}catch(x){m(s[0][3],x)}}function u(g){g.value instanceof vo?Promise.resolve(g.value.v).then(d,h):m(s[0][2],g)}function d(g){a("next",g)}function h(g){a("throw",g)}function m(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Yy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Gy=="function"?Gy(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(c,a){o=n[s](o),r(c,a,o.done,o.value)})}}function r(s,o,c,a){Promise.resolve(a).then(function(u){s({value:u,done:c})},o)}}var j1=n=>n&&typeof n.length=="number"&&typeof n!="function";function O4(n){return ge(n?.then)}function F4(n){return ge(n[R1])}function V4(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function B4(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var U4=eT();function j4(n){return ge(n?.[U4])}function H4(n){return Qy(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield vo(t.read());if(r)return yield vo(void 0);yield yield vo(i)}}finally{t.releaseLock()}})}function $4(n){return ge(n?.getReader)}function at(n){if(n instanceof ye)return n;if(n!=null){if(F4(n))return tT(n);if(j1(n))return nT(n);if(O4(n))return iT(n);if(V4(n))return Zy(n);if(j4(n))return rT(n);if($4(n))return sT(n)}throw B4(n)}function tT(n){return new ye(e=>{let t=n[R1]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nT(n){return new ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function iT(n){return new ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,S4)})}function rT(n){return new ye(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Zy(n){return new ye(e=>{oT(n,e).catch(t=>e.error(t))})}function sT(n){return Zy(H4(n))}function oT(n,e){var t,i,r,s;return Ky(this,void 0,void 0,function*(){try{for(t=Yy(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Tn(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function bs(n,e=0){return Fe((t,i)=>{t.subscribe(ze(i,r=>Tn(i,n,()=>i.next(r),e),()=>Tn(i,n,()=>i.complete(),e),r=>Tn(i,n,()=>i.error(r),e)))})}function Cs(n,e=0){return Fe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Xy(n,e){return at(n).pipe(Cs(e),bs(e))}function Jy(n,e){return at(n).pipe(Cs(e),bs(e))}function ev(n,e){return new ye(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function tv(n,e){return new ye(t=>{let i;return Tn(t,e,()=>{i=n[U4](),Tn(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}function q4(n,e){if(!n)throw new Error("Iterable cannot be null");return new ye(t=>{Tn(t,e,()=>{let i=n[Symbol.asyncIterator]();Tn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function nv(n,e){return q4(H4(n),e)}function iv(n,e){if(n!=null){if(F4(n))return Xy(n,e);if(j1(n))return ev(n,e);if(O4(n))return Jy(n,e);if(V4(n))return q4(n,e);if(j4(n))return tv(n,e);if($4(n))return nv(n,e)}throw B4(n)}function Ae(n,e){return e?iv(n,e):at(n)}function se(...n){let e=Bi(n);return Ae(n,e)}function Hn(n,e){let t=ge(n)?n:()=>n,i=r=>r.error(t());return new ye(e?r=>e.schedule(i,0,r):i)}function W4(n){return!!n&&(n instanceof ye||ge(n.lift)&&ge(n.subscribe))}var Lr=T1(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function rv(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return Fe((t,i)=>{let r=0;t.subscribe(ze(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:cT}=Array;function aT(n,e){return cT(e)?n(...e):n(e)}function H1(n){return ee(e=>aT(n,e))}var{isArray:lT}=Array,{getPrototypeOf:uT,prototype:dT,keys:fT}=Object;function G4(n){if(n.length===1){let e=n[0];if(lT(e))return{args:e,keys:null};if(hT(e)){let t=fT(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function hT(n){return n&&typeof n=="object"&&uT(n)===dT}function K4(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function si(...n){let e=Bi(n),t=R4(n),{args:i,keys:r}=G4(n);if(i.length===0)return Ae([],e);let s=new ye(pT(i,e,r?o=>K4(r,o):yn));return t?s.pipe(H1(t)):s}function pT(n,e,t=yn){return i=>{sv(e,()=>{let{length:r}=n,s=new Array(r),o=r,c=r;for(let a=0;a<r;a++)sv(e,()=>{let u=Ae(n[a],e),d=!1;u.subscribe(ze(i,h=>{s[a]=h,d||(d=!0,c--),c||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function sv(n,e,t){n?Tn(t,n,e):e()}function ov(n,e,t,i,r,s,o,c){let a=[],u=0,d=0,h=!1,m=()=>{h&&!a.length&&!u&&e.complete()},g=x=>u<i?y(x):a.push(x),y=x=>{s&&e.next(x),u++;let S=!1;at(t(x,d++)).subscribe(ze(e,F=>{r?.(F),s?g(F):e.next(F)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;a.length&&u<i;){let F=a.shift();o?Tn(e,o,()=>y(F)):y(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ze(e,g,()=>{h=!0,m()})),()=>{c?.()}}function Tt(n,e,t=1/0){return ge(e)?Tt((i,r)=>ee((s,o)=>e(i,s,r,o))(at(n(i,r))),t):(typeof e=="number"&&(t=e),Fe((i,r)=>ov(i,r,n,t)))}function qc(n=1/0){return Tt(yn,n)}function cv(){return qc(1)}function Ms(...n){return cv()(Ae(n,Bi(n)))}function Q4(n){return new ye(e=>{at(n()).subscribe(e)})}function Wc(...n){let e=R4(n),{args:t,keys:i}=G4(n),r=new ye(s=>{let{length:o}=t;if(!o){s.complete();return}let c=new Array(o),a=o,u=o;for(let d=0;d<o;d++){let h=!1;at(t[d]).subscribe(ze(s,m=>{h||(h=!0,u--),c[d]=m},()=>a--,void 0,()=>{(!a||!h)&&(u||s.next(i?K4(i,c):c),s.complete())}))}});return e?r.pipe(H1(e)):r}var mT=["addListener","removeListener"],gT=["addEventListener","removeEventListener"],_T=["on","off"];function oi(n,e,t,i){if(ge(t)&&(i=t,t=void 0),i)return oi(n,e,t).pipe(H1(i));let[r,s]=bT(n)?gT.map(o=>c=>n[o](e,c,t)):yT(n)?mT.map(av(n,e)):vT(n)?_T.map(av(n,e)):[];if(!r&&j1(n))return Tt(o=>oi(o,e,t))(at(n));if(!r)throw new TypeError("Invalid event target");return new ye(o=>{let c=(...a)=>o.next(1<a.length?a:a[0]);return r(c),()=>s(c)})}function av(n,e){return t=>i=>n[t](e,i)}function yT(n){return ge(n.addListener)&&ge(n.removeListener)}function vT(n){return ge(n.on)&&ge(n.off)}function bT(n){return ge(n.addEventListener)&&ge(n.removeEventListener)}function lv(n=0,e,t=dd){let i=-1;return e!=null&&(k4(e)?t=e:i=e),new ye(r=>{let s=rv(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function $1(...n){let e=Bi(n),t=Wy(n,1/0),i=n;return i.length?i.length===1?at(i[0]):qc(t)(Ae(i,e)):vn}function Lt(n,e){return Fe((t,i)=>{let r=0;t.subscribe(ze(i,s=>n.call(e,s,r++)&&i.next(s)))})}function uv(n){return Fe((e,t)=>{let i=!1,r=null,s=null,o=!1,c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let u=r;r=null,t.next(u)}o&&t.complete()},a=()=>{s=null,o&&t.complete()};e.subscribe(ze(t,u=>{i=!0,r=u,s||at(n(u)).subscribe(s=ze(t,c,a))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}function Y4(n,e=vs){return uv(()=>lv(n,e))}function yt(n){return Fe((e,t)=>{let i=null,r=!1,s;i=e.subscribe(ze(t,void 0,void 0,o=>{s=at(n(o,yt(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function dv(n,e,t,i,r){return(s,o)=>{let c=t,a=e,u=0;s.subscribe(ze(o,d=>{let h=u++;a=c?n(a,d,h):(c=!0,d),i&&o.next(a)},r&&(()=>{c&&o.next(a),o.complete()})))}}function q1(n,e){return ge(e)?Tt(n,e,1):Tt(n,1)}function Z4(n,e=vs){return Fe((t,i)=>{let r=null,s=null,o=null,c=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,i.next(u)}};function a(){let u=o+n,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}c()}t.subscribe(ze(i,u=>{s=u,o=e.now(),r||(r=e.schedule(a,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}function ws(n){return Fe((e,t)=>{let i=!1;e.subscribe(ze(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function nn(n){return n<=0?()=>vn:Fe((e,t)=>{let i=0;e.subscribe(ze(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function md(n){return ee(()=>n)}function Gc(n,e=yn){return n=n??CT,Fe((t,i)=>{let r,s=!0;t.subscribe(ze(i,o=>{let c=e(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}function CT(n,e){return n===e}function X4(n=MT){return Fe((e,t)=>{let i=!1;e.subscribe(ze(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function MT(){return new Lr}function Kc(n){return Fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ci(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Lt((r,s)=>n(r,s,i)):yn,nn(1),t?ws(e):X4(()=>new Lr))}function W1(n){return n<=0?()=>vn:Fe((e,t)=>{let i=[];e.subscribe(ze(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function gd(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Lt((r,s)=>n(r,s,i)):yn,W1(1),t?ws(e):X4(()=>new Lr))}function J4(n,e){return Fe(dv(n,e,arguments.length>=2,!0))}function Qc(n){return Lt((e,t)=>n<=t)}function bo(...n){let e=Bi(n);return Fe((t,i)=>{(e?Ms(n,t,e):Ms(n,t)).subscribe(i)})}function Pe(n,e){return Fe((t,i)=>{let r=null,s=0,o=!1,c=()=>o&&!r&&i.complete();t.subscribe(ze(i,a=>{r?.unsubscribe();let u=0,d=s++;at(n(a,d)).subscribe(r=ze(i,h=>i.next(e?e(a,h,d,u++):h),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function bn(n){return Fe((e,t)=>{at(n).subscribe(ze(t,()=>t.complete(),Hc)),!t.closed&&e.subscribe(t)})}function Ke(n,e,t){let i=ge(n)||e||t?{next:n,error:e,complete:t}:n;return i?Fe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let c=!0;r.subscribe(ze(s,a=>{var u;(u=i.next)===null||u===void 0||u.call(i,a),s.next(a)},()=>{var a;c=!1,(a=i.complete)===null||a===void 0||a.call(i),s.complete()},a=>{var u;c=!1,(u=i.error)===null||u===void 0||u.call(i,a),s.error(a)},()=>{var a,u;c&&((a=i.unsubscribe)===null||a===void 0||a.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):yn}var Jv="https://g.co/ng/security#xss",K=class extends Error{constructor(e,t){super(R5(e,t)),this.code=e}};function R5(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ca(n){return{toString:n}.toString()}var el="__parameters__";function wT(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function xT(n,e,t){return ca(()=>{let i=wT(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return c.annotation=o,c;function c(a,u,d){let h=a.hasOwnProperty(el)?a[el]:Object.defineProperty(a,el,{value:[]})[el];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),a}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var ui=globalThis;function st(n){for(let e in n)if(n[e]===st)return e;throw Error("Could not find renamed property on target object.")}function LT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Mn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Mn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Dd(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var ET=st({__forward_ref__:st});function Ar(n){return n.__forward_ref__=Ar,n.toString=function(){return Mn(this())},n}function Cn(n){return eb(n)?n():n}function eb(n){return typeof n=="function"&&n.hasOwnProperty(ET)&&n.__forward_ref__===Ar}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ol(n){return fv(n,nb)||fv(n,ib)}function tb(n){return Ol(n)!==null}function fv(n,e){return n.hasOwnProperty(e)?n[e]:null}function IT(n){let e=n&&(n[nb]||n[ib]);return e||null}function hv(n){return n&&(n.hasOwnProperty(pv)||n.hasOwnProperty(ST))?n[pv]:null}var nb=st({\u0275prov:st}),pv=st({\u0275inj:st}),ib=st({ngInjectableDef:st}),ST=st({ngInjectorDef:st}),te=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rb(n){return n&&!!n.\u0275providers}var zT=st({\u0275cmp:st}),AT=st({\u0275dir:st}),DT=st({\u0275pipe:st}),TT=st({\u0275mod:st}),hl=st({\u0275fac:st}),Xc=st({__NG_ELEMENT_ID__:st}),mv=st({__NG_ENV_ID__:st});function Mo(n){return typeof n=="string"?n:n==null?"":String(n)}function NT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mo(n)}function PT(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,n)}function O5(n,e){throw new K(-201,!1)}var Ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ue||{}),Td;function sb(){return Td}function ai(n){let e=Td;return Td=n,e}function ob(n,e,t){let i=Ol(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ue.Optional)return null;if(e!==void 0)return e;O5(n,"Injector")}var kT={},Jc=kT,Nd="__NG_DI_FLAG__",pl="ngTempTokenPath",RT="ngTokenPath",OT=/\n/gm,FT="\u0275",gv="__source",Y1;function VT(){return Y1}function xs(n){let e=Y1;return Y1=n,e}function BT(n,e=Ue.Default){if(Y1===void 0)throw new K(-203,!1);return Y1===null?ob(n,void 0,e):Y1.get(n,e&Ue.Optional?null:void 0,e)}function k(n,e=Ue.Default){return(sb()||BT)(Cn(n),e)}function U(n,e=Ue.Default){return k(n,Fl(e))}function Fl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Pd(n){let e=[];for(let t=0;t<n.length;t++){let i=Cn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new K(900,!1);let r,s=Ue.Default;for(let o=0;o<i.length;o++){let c=i[o],a=jT(c);typeof a=="number"?a===-1?r=c.token:s|=a:r=c}e.push(k(r,s))}else e.push(k(i))}return e}function UT(n,e){return n[Nd]=e,n.prototype[Nd]=e,n}function jT(n){return n[Nd]}function HT(n,e,t,i){let r=n[pl];throw e[gv]&&r.unshift(e[gv]),n.message=$T(`
`+n.message,r,t,i),n[RT]=r,n[pl]=null,n}function $T(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FT?n.slice(2):n;let r=Mn(e);if(Array.isArray(e))r=e.map(Mn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):Mn(c)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(OT,`
  `)}`}var Pn=UT(xT("Optional"),8);function X1(n,e){let t=n.hasOwnProperty(hl);return t?n[hl]:null}function qT(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function WT(n){return n.flat(Number.POSITIVE_INFINITY)}function F5(n,e){n.forEach(t=>Array.isArray(t)?F5(t,e):e(t))}function cb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ml(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function GT(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function KT(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function V5(n,e,t){let i=aa(n,e);return i>=0?n[i|1]=t:(i=~i,KT(n,i,e,t)),i}function _d(n,e){let t=aa(n,e);if(t>=0)return n[t|1]}function aa(n,e){return QT(n,e,1)}function QT(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var J1={},Nn=[],e2=new te(""),ab=new te("",-1),lb=new te(""),gl=class{get(e,t=Jc){if(t===Jc){let i=new Error(`NullInjectorError: No provider for ${Mn(e)}!`);throw i.name="NullInjectorError",i}return t}},ub=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ub||{}),Hi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Hi||{}),Is=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Is||{});function YT(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function kd(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],c=t[i++];n.setAttribute(e,o,c,s)}else{let s=r,o=t[++i];ZT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function db(n){return n===3||n===4||n===6}function ZT(n){return n.charCodeAt(0)===64}function ea(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?_v(n,t,r,null,e[++i]):_v(n,t,r,null,null))}}return n}function _v(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var fb="ng-template";function XT(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&YT(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(B5(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function B5(n){return n.type===4&&n.value!==fb}function JT(n,e,t){let i=n.type===4&&!t?fb:n.value;return e===i}function eN(n,e,t){let i=4,r=n.attrs,s=r!==null?iN(r):0,o=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!o&&!wi(i)&&!wi(a))return!1;if(o&&wi(a))continue;o=!1,i=a|i&1;continue}if(!o)if(i&4){if(i=2|i&1,a!==""&&!JT(n,a,t)||a===""&&e.length===1){if(wi(i))return!1;o=!0}}else if(i&8){if(r===null||!XT(n,r,a,t)){if(wi(i))return!1;o=!0}}else{let u=e[++c],d=tN(a,r,B5(n),t);if(d===-1){if(wi(i))return!1;o=!0;continue}if(u!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&u!==h){if(wi(i))return!1;o=!0}}}}return wi(i)||o}function wi(n){return(n&1)===0}function tN(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++r];for(;typeof c=="string";)c=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return rN(e,n)}function hb(n,e,t=!1){for(let i=0;i<e.length;i++)if(eN(n,e[i],t))return!0;return!1}function nN(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function iN(n){for(let e=0;e<n.length;e++){let t=n[e];if(db(t))return e}return n.length}function rN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function sN(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function yv(n,e){return n?":not("+e.trim()+")":e}function oN(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let c=n[++t];r+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!wi(o)&&(e+=yv(s,r),r=""),i=o,s=s||!wi(i);t++}return r!==""&&(e+=yv(s,r)),e}function cN(n){return n.map(oN).join(",")}function aN(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!wi(r))break;r=s}i++}return{attrs:e,classes:t}}function pe(n){return ca(()=>{let e=yb(n),t=ae(N({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ub.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hi.Emulated,styles:n.styles||Nn,_:null,schemas:n.schemas||null,tView:null,id:""});vb(t);let i=n.dependencies;return t.directiveDefs=bv(i,!1),t.pipeDefs=bv(i,!0),t.id=dN(t),t})}function lN(n){return wo(n)||pb(n)}function uN(n){return n!==null}function Xe(n){return ca(()=>({type:n.type,bootstrap:n.bootstrap||Nn,declarations:n.declarations||Nn,imports:n.imports||Nn,exports:n.exports||Nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vv(n,e){if(n==null)return J1;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,c=Is.None;Array.isArray(r)?(c=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=c!==Is.None?[i,c]:i,e[s]=o):t[s]=i}return t}function He(n){return ca(()=>{let e=yb(n);return vb(e),e})}function wo(n){return n[zT]||null}function pb(n){return n[AT]||null}function mb(n){return n[DT]||null}function gb(n){let e=wo(n)||pb(n)||mb(n);return e!==null?e.standalone:!1}function _b(n,e){let t=n[TT]||null;if(!t&&e===!0)throw new Error(`Type ${Mn(n)} does not have '\u0275mod' property.`);return t}function yb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||J1,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vv(n.inputs,e),outputs:vv(n.outputs),debugInfo:null}}function vb(n){n.features?.forEach(e=>e(n))}function bv(n,e){if(!n)return null;let t=e?mb:lN;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(uN)}function dN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Dr(n){return{\u0275providers:n}}function U5(...n){return{\u0275providers:bb(!0,n),\u0275fromNgModule:!0}}function bb(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return F5(e,o=>{let c=o;Rd(c,s,[],i)&&(r||=[],r.push(c))}),r!==void 0&&Cb(r,s),t}function Cb(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];j5(r,s=>{e(s,i)})}}function Rd(n,e,t,i){if(n=Cn(n),!n)return!1;let r=null,s=hv(n),o=!s&&wo(n);if(!s&&!o){let a=n.ngModule;if(s=hv(a),s)r=a;else return!1}else{if(o&&!o.standalone)return!1;r=n}let c=i.has(r);if(o){if(c)return!1;if(i.add(r),o.dependencies){let a=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of a)Rd(u,e,t,i)}}else if(s){if(s.imports!=null&&!c){i.add(r);let u;try{F5(s.imports,d=>{Rd(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&Cb(u,e)}if(!c){let u=X1(r)||(()=>new r);e({provide:r,useFactory:u,deps:Nn},r),e({provide:lb,useValue:r,multi:!0},r),e({provide:e2,useValue:()=>k(r),multi:!0},r)}let a=s.providers;if(a!=null&&!c){let u=n;j5(a,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function j5(n,e){for(let t of n)rb(t)&&(t=t.\u0275providers),Array.isArray(t)?j5(t,e):e(t)}var fN=st({provide:String,useValue:st});function Mb(n){return n!==null&&typeof n=="object"&&fN in n}function hN(n){return!!(n&&n.useExisting)}function pN(n){return!!(n&&n.useFactory)}function t2(n){return typeof n=="function"}function mN(n){return!!n.useClass}var Vl=new te(""),cl={},gN={},yd;function H5(){return yd===void 0&&(yd=new gl),yd}var di=class{},ta=class extends di{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(e,o=>this.processProvider(o)),this.records.set(ab,G1(void 0,this)),r.has("environment")&&this.records.set(di,G1(void 0,this));let s=this.records.get(Vl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lb,Nn,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Be(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Be(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=xs(this),i=ai(void 0),r;try{return e()}finally{xs(t),ai(i)}}get(e,t=Jc,i=Ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mv))return e[mv](this);i=Fl(i);let r,s=xs(this),o=ai(void 0);try{if(!(i&Ue.SkipSelf)){let a=this.records.get(e);if(a===void 0){let u=CN(e)&&Ol(e);u&&this.injectableDefInScope(u)?a=G1(Od(e),cl):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=i&Ue.Self?H5():this.parent;return t=i&Ue.Optional&&t===Jc?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[pl]=c[pl]||[]).unshift(Mn(e)),s)throw c;return HT(c,e,"R3InjectorError",this.source)}else throw c}finally{ai(o),xs(s)}}resolveInjectorInitializers(){let e=Be(null),t=xs(this),i=ai(void 0),r;try{let s=this.get(e2,Nn,Ue.Self);for(let o of s)o()}finally{xs(t),ai(i),Be(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Mn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=Cn(e);let t=t2(e)?e:Cn(e&&e.provide),i=yN(e);if(!t2(e)&&e.multi===!0){let r=this.records.get(t);r||(r=G1(void 0,cl,!0),r.factory=()=>Pd(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Be(null);try{return t.value===cl&&(t.value=gN,t.value=t.factory()),typeof t.value=="object"&&t.value&&bN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Be(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Cn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Od(n){let e=Ol(n),t=e!==null?e.factory:X1(n);if(t!==null)return t;if(n instanceof te)throw new K(204,!1);if(n instanceof Function)return _N(n);throw new K(204,!1)}function _N(n){if(n.length>0)throw new K(204,!1);let t=IT(n);return t!==null?()=>t.factory(n):()=>new n}function yN(n){if(Mb(n))return G1(void 0,n.useValue);{let e=wb(n);return G1(e,cl)}}function wb(n,e,t){let i;if(t2(n)){let r=Cn(n);return X1(r)||Od(r)}else if(Mb(n))i=()=>Cn(n.useValue);else if(pN(n))i=()=>n.useFactory(...Pd(n.deps||[]));else if(hN(n))i=()=>k(Cn(n.useExisting));else{let r=Cn(n&&(n.useClass||n.provide));if(vN(n))i=()=>new r(...Pd(n.deps));else return X1(r)||Od(r)}return i}function G1(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function vN(n){return!!n.deps}function bN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function CN(n){return typeof n=="function"||typeof n=="object"&&n instanceof te}function Fd(n,e){for(let t of n)Array.isArray(t)?Fd(t,e):t&&rb(t)?Fd(t.\u0275providers,e):e(t)}function Tr(n,e){n instanceof ta&&n.assertNotDestroyed();let t,i=xs(n),r=ai(void 0);try{return e()}finally{xs(i),ai(r)}}function MN(){return sb()!==void 0||VT()!=null}function wN(n){return typeof n=="function"}var Qi=0,Le=1,Me=2,on=3,Li=4,kn=5,n2=6,_l=7,rn=8,i2=9,$i=10,lt=11,na=12,Cv=13,l2=14,$n=15,xo=16,K1=17,Er=18,Bl=19,xb=20,Ls=21,vd=22,li=23,wn=25,$5=1;var Lo=7,yl=8,r2=9,sn=10,vl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(vl||{});function Es(n){return Array.isArray(n)&&typeof n[$5]=="object"}function Nr(n){return Array.isArray(n)&&n[$5]===!0}function q5(n){return(n.flags&4)!==0}function Ul(n){return n.componentOffset>-1}function jl(n){return(n.flags&1)===1}function Ir(n){return!!n.template}function Vd(n){return(n[Me]&512)!==0}var Bd=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Lb(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Bt(){return Eb}function Eb(n){return n.type.prototype.ngOnChanges&&(n.setInput=LN),xN}Bt.ngInherit=!0;function xN(){let n=Sb(this),e=n?.current;if(e){let t=n.previous;if(t===J1)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function LN(n,e,t,i,r){let s=this.declaredInputs[i],o=Sb(n)||EN(n,{previous:J1,current:null}),c=o.current||(o.current={}),a=o.previous,u=a[s];c[s]=new Bd(u&&u.currentValue,t,a===J1),Lb(n,e,r,t)}var Ib="__ngSimpleChanges__";function Sb(n){return n[Ib]||null}function EN(n,e){return n[Ib]=e}var Mv=null;var Ui=function(n,e,t){Mv?.(n,e,t)},IN="svg",SN="math";function qi(n){for(;Array.isArray(n);)n=n[Qi];return n}function zN(n){for(;Array.isArray(n);){if(typeof n[$5]=="object")return n;n=n[Qi]}return null}function zb(n,e){return qi(e[n])}function fi(n,e){return qi(e[n.index])}function W5(n,e){return n.data[e]}function AN(n,e){return n[e]}function Ts(n,e){let t=e[n];return Es(t)?t:t[Qi]}function DN(n){return(n[Me]&4)===4}function G5(n){return(n[Me]&128)===128}function TN(n){return Nr(n[on])}function Ss(n,e){return e==null?null:n[e]}function Ab(n){n[K1]=0}function Db(n){n[Me]&1024||(n[Me]|=1024,G5(n)&&$l(n))}function NN(n,e){for(;n>0;)e=e[l2],n--;return e}function Hl(n){return!!(n[Me]&9216||n[li]?.dirty)}function Ud(n){n[$i].changeDetectionScheduler?.notify(8),n[Me]&64&&(n[Me]|=1024),Hl(n)&&$l(n)}function $l(n){n[$i].changeDetectionScheduler?.notify(0);let e=Eo(n);for(;e!==null&&!(e[Me]&8192||(e[Me]|=8192,!G5(e)));)e=Eo(e)}function Tb(n,e){if((n[Me]&256)===256)throw new K(911,!1);n[Ls]===null&&(n[Ls]=[]),n[Ls].push(e)}function PN(n,e){if(n[Ls]===null)return;let t=n[Ls].indexOf(e);t!==-1&&n[Ls].splice(t,1)}function Eo(n){let e=n[on];return Nr(e)?e[on]:e}var Ve={lFrame:jb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Nb=!1;function kN(){return Ve.lFrame.elementDepthCount}function RN(){Ve.lFrame.elementDepthCount++}function ON(){Ve.lFrame.elementDepthCount--}function Pb(){return Ve.bindingsEnabled}function kb(){return Ve.skipHydrationRootTNode!==null}function FN(n){return Ve.skipHydrationRootTNode===n}function VN(){Ve.skipHydrationRootTNode=null}function De(){return Ve.lFrame.lView}function ht(){return Ve.lFrame.tView}function j(n){return Ve.lFrame.contextLView=n,n[rn]}function H(n){return Ve.lFrame.contextLView=null,n}function Kt(){let n=Rb();for(;n!==null&&n.type===64;)n=n.parent;return n}function Rb(){return Ve.lFrame.currentTNode}function BN(){let n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function To(n,e){let t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function K5(){return Ve.lFrame.isParent}function Q5(){Ve.lFrame.isParent=!1}function UN(){return Ve.lFrame.contextLView}function Ob(){return Nb}function wv(n){Nb=n}function Fb(){let n=Ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function jN(){return Ve.lFrame.bindingIndex}function HN(n){return Ve.lFrame.bindingIndex=n}function Ns(){return Ve.lFrame.bindingIndex++}function Y5(n){let e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $N(){return Ve.lFrame.inI18n}function qN(n,e){let t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,jd(e)}function WN(){return Ve.lFrame.currentDirectiveIndex}function jd(n){Ve.lFrame.currentDirectiveIndex=n}function Z5(n){let e=Ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Vb(){return Ve.lFrame.currentQueryIndex}function X5(n){Ve.lFrame.currentQueryIndex=n}function GN(n){let e=n[Le];return e.type===2?e.declTNode:e.type===1?n[kn]:null}function Bb(n,e,t){if(t&Ue.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Ue.Host);)if(r=GN(s),r===null||(s=s[l2],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=Ve.lFrame=Ub();return i.currentTNode=e,i.lView=n,!0}function J5(n){let e=Ub(),t=n[Le];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ub(){let n=Ve.lFrame,e=n===null?null:n.child;return e===null?jb(n):e}function jb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Hb(){let n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $b=Hb;function ef(){let n=Hb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function KN(n){return(Ve.lFrame.contextLView=NN(n,Ve.lFrame.contextLView))[rn]}function Ps(){return Ve.lFrame.selectedIndex}function Io(n){Ve.lFrame.selectedIndex=n}function No(){let n=Ve.lFrame;return W5(n.tView,n.selectedIndex)}function QN(){return Ve.lFrame.currentNamespace}var qb=!0;function ql(){return qb}function Wl(n){qb=n}function YN(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=Eb(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Gl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),a&&(n.viewHooks??=[]).push(-t,a),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function al(n,e,t){Wb(n,e,3,t)}function ll(n,e,t,i){(n[Me]&3)===t&&Wb(n,e,t,i)}function bd(n,e){let t=n[Me];(t&3)===e&&(t&=16383,t+=1,n[Me]=t)}function Wb(n,e,t,i){let r=i!==void 0?n[K1]&65535:0,s=i??-1,o=e.length-1,c=0;for(let a=r;a<o;a++)if(typeof e[a+1]=="number"){if(c=e[a],i!=null&&c>=i)break}else e[a]<0&&(n[K1]+=65536),(c<s||s==-1)&&(ZN(n,t,e,a),n[K1]=(n[K1]&4294901760)+a+2),a++}function xv(n,e){Ui(4,n,e);let t=Be(null);try{e.call(n)}finally{Be(t),Ui(5,n,e)}}function ZN(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],c=n[o];r?n[Me]>>14<n[K1]>>16&&(n[Me]&3)===e&&(n[Me]+=16384,xv(c,s)):xv(c,s)}var Z1=-1,So=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function XN(n){return n instanceof So}function JN(n){return(n.flags&8)!==0}function eP(n){return(n.flags&16)!==0}var Cd={},Hd=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Fl(i);let r=this.injector.get(e,Cd,i);return r!==Cd||t===Cd?r:this.parentInjector.get(e,t,i)}};function Gb(n){return n!==Z1}function bl(n){return n&32767}function tP(n){return n>>16}function Cl(n,e){let t=tP(n),i=e;for(;t>0;)i=i[l2],t--;return i}var $d=!0;function Lv(n){let e=$d;return $d=n,e}var nP=256,Kb=nP-1,Qb=5,iP=0,ji={};function rP(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Xc)&&(i=t[Xc]),i==null&&(i=t[Xc]=iP++);let r=i&Kb,s=1<<r;e.data[n+(r>>Qb)]|=s}function Ml(n,e){let t=Yb(n,e);if(t!==-1)return t;let i=e[Le];i.firstCreatePass&&(n.injectorIndex=e.length,Md(i.data,n),Md(e,null),Md(i.blueprint,null));let r=tf(n,e),s=n.injectorIndex;if(Gb(r)){let o=bl(r),c=Cl(r,e),a=c[Le].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|a[o+u]}return e[s+8]=r,s}function Md(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Yb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function tf(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=tC(r),i===null)return Z1;if(t++,r=r[l2],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Z1}function qd(n,e,t){rP(n,e,t)}function sP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(db(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function Zb(n,e,t){if(t&Ue.Optional||n!==void 0)return n;O5(e,"NodeInjector")}function Xb(n,e,t,i){if(t&Ue.Optional&&i===void 0&&(i=null),!(t&(Ue.Self|Ue.Host))){let r=n[i2],s=ai(void 0);try{return r?r.get(e,i,t&Ue.Optional):ob(e,i,t&Ue.Optional)}finally{ai(s)}}return Zb(i,e,t)}function Jb(n,e,t,i=Ue.Default,r){if(n!==null){if(e[Me]&2048&&!(i&Ue.Self)){let o=lP(n,e,t,i,ji);if(o!==ji)return o}let s=eC(n,e,t,i,ji);if(s!==ji)return s}return Xb(e,t,i,r)}function eC(n,e,t,i,r){let s=cP(t);if(typeof s=="function"){if(!Bb(e,n,i))return i&Ue.Host?Zb(r,t,i):Xb(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Ue.Optional))O5(t);else return o}finally{$b()}}else if(typeof s=="number"){let o=null,c=Yb(n,e),a=Z1,u=i&Ue.Host?e[$n][kn]:null;for((c===-1||i&Ue.SkipSelf)&&(a=c===-1?tf(n,e):e[c+8],a===Z1||!Iv(i,!1)?c=-1:(o=e[Le],c=bl(a),e=Cl(a,e)));c!==-1;){let d=e[Le];if(Ev(s,c,d.data)){let h=oP(c,e,t,o,i,u);if(h!==ji)return h}a=e[c+8],a!==Z1&&Iv(i,e[Le].data[c+8]===u)&&Ev(s,c,e)?(o=d,c=bl(a),e=Cl(a,e)):c=-1}}return r}function oP(n,e,t,i,r,s){let o=e[Le],c=o.data[n+8],a=i==null?Ul(c)&&$d:i!=o&&(c.type&3)!==0,u=r&Ue.Host&&s===c,d=ul(c,o,t,a,u);return d!==null?zo(e,o,d,c):ji}function ul(n,e,t,i,r){let s=n.providerIndexes,o=e.data,c=s&1048575,a=n.directiveStart,u=n.directiveEnd,d=s>>20,h=i?c:c+d,m=r?c+d:u;for(let g=h;g<m;g++){let y=o[g];if(g<a&&t===y||g>=a&&y.type===t)return g}if(r){let g=o[a];if(g&&Ir(g)&&g.type===t)return a}return null}function zo(n,e,t,i){let r=n[t],s=e.data;if(XN(r)){let o=r;o.resolving&&PT(NT(s[t]));let c=Lv(o.canSeeViewProviders);o.resolving=!0;let a,u=o.injectImpl?ai(o.injectImpl):null,d=Bb(n,i,Ue.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&YN(t,s[t],e)}finally{u!==null&&ai(u),Lv(c),o.resolving=!1,$b()}}return r}function cP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Xc)?n[Xc]:void 0;return typeof e=="number"?e>=0?e&Kb:aP:e}function Ev(n,e,t){let i=1<<n;return!!(t[e+(n>>Qb)]&i)}function Iv(n,e){return!(n&Ue.Self)&&!(n&Ue.Host&&e)}var Co=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Jb(this._tNode,this._lView,e,Fl(i),t)}};function aP(){return new Co(Kt(),De())}function Yi(n){return ca(()=>{let e=n.prototype.constructor,t=e[hl]||Wd(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[hl]||Wd(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Wd(n){return eb(n)?()=>{let e=Wd(Cn(n));return e&&e()}:X1(n)}function lP(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[Me]&2048&&!(o[Me]&512);){let c=eC(s,o,t,i|Ue.Self,ji);if(c!==ji)return c;let a=s.parent;if(!a){let u=o[xb];if(u){let d=u.get(t,ji,i);if(d!==ji)return d}a=tC(o),o=o[l2]}s=a}return r}function tC(n){let e=n[Le],t=e.type;return t===2?e.declTNode:t===1?n[kn]:null}function nf(n){return sP(Kt(),n)}function Sv(n,e=null,t=null,i){let r=nC(n,e,t,i);return r.resolveInjectorInitializers(),r}function nC(n,e=null,t=null,i,r=new Set){let s=[t||Nn,U5(n)];return i=i||(typeof n=="object"?void 0:Mn(n)),new ta(s,e||H5(),i||null,r)}var vt=class n{static{this.THROW_IF_NOT_FOUND=Jc}static{this.NULL=new gl}static create(e,t){if(Array.isArray(e))return Sv({name:""},t,e,"");{let i=e.name??"";return Sv({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=G({token:n,providedIn:"any",factory:()=>k(ab)})}static{this.__NG_ELEMENT_ID__=-1}};var uP=new te("");uP.__NG_ELEMENT_ID__=n=>{let e=Kt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&Ue.Optional)return null;throw new K(204,!1)};var dP="ngOriginalError";function wd(n){return n[dP]}var iC=!0,rf=(()=>{class n{static{this.__NG_ELEMENT_ID__=fP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Gd=class extends rf{constructor(e){super(),this._lView=e}onDestroy(e){return Tb(this._lView,e),()=>PN(this._lView,e)}};function fP(){return new Gd(De())}var u2=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Kd=class extends Ne{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,MN()&&(this.destroyRef=U(rf,{optional:!0})??void 0,this.pendingTasks=U(u2,{optional:!0})??void 0)}emit(e){let t=Be(null);try{super.next(e)}finally{Be(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let a=e;r=a.next?.bind(a),s=a.error?.bind(a),o=a.complete?.bind(a)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:r,error:s,complete:o});return e instanceof Ye&&e.add(c),c}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},je=Kd;function wl(...n){}function rC(n){let e,t;function i(){n=wl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function zv(n){return queueMicrotask(()=>n()),()=>{n=wl}}var sf="isAngularZone",xl=sf+"_ID",hP=0,fe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=iC}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,gP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sf)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,pP,wl,wl);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},pP={};function of(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){rC(()=>{n.callbackScheduled=!1,Qd(n),n.isCheckStableRunning=!0,of(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Qd(n)}function gP(n){let e=()=>{mP(n)},t=hP++;n._inner=n._inner.fork({name:"angular",properties:{[sf]:!0,[xl]:t,[xl+t]:!0},onInvokeTask:(i,r,s,o,c,a)=>{if(_P(a))return i.invokeTask(s,o,c,a);try{return Av(n),i.invokeTask(s,o,c,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Dv(n)}},onInvoke:(i,r,s,o,c,a,u)=>{try{return Av(n),i.invoke(s,o,c,a,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yP(a)&&e(),Dv(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Qd(n),of(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Qd(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Av(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Dv(n){n._nesting--,of(n)}var Yd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function _P(n){return sC(n,"__ignore_ng_zone__")}function yP(n){return sC(n,"__scheduler_tick__")}function sC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Wi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&wd(e);for(;t&&wd(t);)t=wd(t);return t||null}},vP=new te("",{providedIn:"root",factory:()=>{let n=U(fe),e=U(Wi);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),Zd=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=U(Wi,{optional:!0}),this.destroyRef=U(rf),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new K(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)throw new K(953,!1);if(this.listeners===null)return;let t=Be(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{Be(t)}}};function ks(n){return new Zd}function bP(){return d2(Kt(),De())}function d2(n,e){return new Ge(fi(n,e))}var Ge=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=bP}}return n})();function CP(n){return n instanceof Ge?n.nativeElement:n}function MP(){return this._results[Symbol.iterator]()}var Ll=class n{get changes(){return this._changes??=new je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=MP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=WT(e);(this._changesDetected=!qT(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function oC(n){return(n.flags&128)===128}var cC=new Map,wP=0;function xP(){return wP++}function LP(n){cC.set(n[Bl],n)}function Xd(n){cC.delete(n[Bl])}var Tv="__ngContext__";function zs(n,e){Es(e)?(n[Tv]=e[Bl],LP(e)):n[Tv]=e}function aC(n){return uC(n[na])}function lC(n){return uC(n[Li])}function uC(n){for(;n!==null&&!Nr(n);)n=n[Li];return n}var Jd;function dC(n){Jd=n}function fC(){if(Jd!==void 0)return Jd;if(typeof document<"u")return document;throw new K(210,!1)}var la=new te("",{providedIn:"root",factory:()=>EP}),EP="ng",cf=new te(""),Zi=new te("",{providedIn:"platform",factory:()=>"unknown"});var hi=new te(""),ua=new te("",{providedIn:"root",factory:()=>fC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IP="h",SP="b";var zP=()=>null;function af(n,e,t=!1){return zP(n,e,t)}var hC=!1,AP=new te("",{providedIn:"root",factory:()=>hC});var tl;function DP(){if(tl===void 0&&(tl=null,ui.trustedTypes))try{tl=ui.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tl}function Kl(n){return DP()?.createHTML(n)||n}var nl;function pC(){if(nl===void 0&&(nl=null,ui.trustedTypes))try{nl=ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nl}function Nv(n){return pC()?.createHTML(n)||n}function Pv(n){return pC()?.createScriptURL(n)||n}var Sr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jv})`}},e5=class extends Sr{getTypeName(){return"HTML"}},t5=class extends Sr{getTypeName(){return"Style"}},n5=class extends Sr{getTypeName(){return"Script"}},i5=class extends Sr{getTypeName(){return"URL"}},r5=class extends Sr{getTypeName(){return"ResourceURL"}};function pi(n){return n instanceof Sr?n.changingThisBreaksApplicationSecurity:n}function Pr(n,e){let t=TP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Jv})`)}return t===e}function TP(n){return n instanceof Sr&&n.getTypeName()||null}function mC(n){return new e5(n)}function gC(n){return new t5(n)}function _C(n){return new n5(n)}function yC(n){return new i5(n)}function vC(n){return new r5(n)}function NP(n){let e=new o5(n);return PP()?new s5(e):e}var s5=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Kl(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},o5=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Kl(e),t}};function PP(){try{return!!new window.DOMParser().parseFromString(Kl(""),"text/html")}catch{return!1}}var kP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ql(n){return n=String(n),n.match(kP)?n:"unsafe:"+n}function kr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function da(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var bC=kr("area,br,col,hr,img,wbr"),CC=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MC=kr("rp,rt"),RP=da(MC,CC),OP=da(CC,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),FP=da(MC,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kv=da(bC,OP,FP,RP),wC=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VP=kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),BP=kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),UP=da(wC,VP,BP),jP=kr("script,style,template"),c5=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=qP(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=$P(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=Rv(e).toLowerCase();if(!kv.hasOwnProperty(t))return this.sanitizedSomething=!0,!jP.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,c=o.toLowerCase();if(!UP.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=s.value;wC[c]&&(a=Ql(a)),this.buf.push(" ",o,'="',Ov(a),'"')}return this.buf.push(">"),!0}endElement(e){let t=Rv(e).toLowerCase();kv.hasOwnProperty(t)&&!bC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ov(e))}};function HP(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function $P(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw xC(e);return e}function qP(n){let e=n.firstChild;if(e&&HP(n,e))throw xC(e);return e}function Rv(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function xC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var WP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,GP=/([^\#-~ |!])/g;function Ov(n){return n.replace(/&/g,"&amp;").replace(WP,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(GP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var il;function lf(n,e){let t=null;try{il=il||NP(n);let i=e?String(e):"";t=il.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=il.getInertBodyElement(i)}while(i!==s);let c=new c5().sanitizeChildren(Fv(t)||t);return Kl(c)}finally{if(t){let i=Fv(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function Fv(n){return"content"in n&&KP(n)?n.content:null}function KP(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ii=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ii||{});function LC(n){let e=uf();return e?Nv(e.sanitize(Ii.HTML,n)||""):Pr(n,"HTML")?Nv(pi(n)):lf(fC(),Mo(n))}function Wn(n){let e=uf();return e?e.sanitize(Ii.URL,n)||"":Pr(n,"URL")?pi(n):Ql(Mo(n))}function QP(n){let e=uf();if(e)return Pv(e.sanitize(Ii.RESOURCE_URL,n)||"");if(Pr(n,"ResourceURL"))return Pv(pi(n));throw new K(904,!1)}function YP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?QP:Wn}function EC(n,e,t){return YP(e,t)(n)}function uf(){let n=De();return n&&n[$i].sanitizer}var ZP=/^>|^->|<!--|-->|--!>|<!-$/g,XP=/(<|>)/g,JP="\u200B$1\u200B";function ek(n){return n.replace(ZP,e=>e.replace(XP,JP))}function IC(n){return n.ownerDocument.defaultView}function Yl(n){return n.ownerDocument}function SC(n){return n instanceof Function?n():n}var zr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zr||{}),tk;function df(n,e){return tk(n,e)}function Q1(n,e,t,i,r){if(i!=null){let s,o=!1;Nr(i)?s=i:Es(i)&&(o=!0,i=i[Qi]);let c=qi(i);n===0&&t!==null?r==null?NC(e,t,c):El(e,t,c,r||null,!0):n===1&&t!==null?El(e,t,c,r||null,!0):n===2?mk(e,c,o):n===3&&e.destroyNode(c),s!=null&&_k(e,n,s,t,r)}}function nk(n,e){return n.createText(e)}function ik(n,e,t){n.setValue(e,t)}function rk(n,e){return n.createComment(ek(e))}function zC(n,e,t){return n.createElement(e,t)}function sk(n,e){AC(n,e),e[Qi]=null,e[kn]=null}function ok(n,e,t,i,r,s){i[Qi]=r,i[kn]=e,Jl(n,i,t,1,r,s)}function AC(n,e){e[$i].changeDetectionScheduler?.notify(9),Jl(n,e,e[lt],2,null,null)}function ck(n){let e=n[na];if(!e)return xd(n[Le],n);for(;e;){let t=null;if(Es(e))t=e[na];else{let i=e[sn];i&&(t=i)}if(!t){for(;e&&!e[Li]&&e!==n;)Es(e)&&xd(e[Le],e),e=e[on];e===null&&(e=n),Es(e)&&xd(e[Le],e),t=e&&e[Li]}e=t}}function ak(n,e,t,i){let r=sn+i,s=t.length;i>0&&(t[r-1][Li]=e),i<s-sn?(e[Li]=t[r],cb(t,sn+i,e)):(t.push(e),e[Li]=null),e[on]=t;let o=e[xo];o!==null&&t!==o&&DC(o,e);let c=e[Er];c!==null&&c.insertView(n),Ud(e),e[Me]|=128}function DC(n,e){let t=n[r2],i=e[on];if(Es(i))n[Me]|=vl.HasTransplantedViews;else{let r=i[on][$n];e[$n]!==r&&(n[Me]|=vl.HasTransplantedViews)}t===null?n[r2]=[e]:t.push(e)}function ff(n,e){let t=n[r2],i=t.indexOf(e);t.splice(i,1)}function ia(n,e){if(n.length<=sn)return;let t=sn+e,i=n[t];if(i){let r=i[xo];r!==null&&r!==n&&ff(r,i),e>0&&(n[t-1][Li]=i[Li]);let s=ml(n,sn+e);sk(i[Le],i);let o=s[Er];o!==null&&o.detachView(s[Le]),i[on]=null,i[Li]=null,i[Me]&=-129}return i}function Zl(n,e){if(!(e[Me]&256)){let t=e[lt];t.destroyNode&&Jl(n,e,t,3,null,null),ck(e)}}function xd(n,e){if(e[Me]&256)return;let t=Be(null);try{e[Me]&=-129,e[Me]|=256,e[li]&&ed(e[li]),uk(n,e),lk(n,e),e[Le].type===1&&e[lt].destroy();let i=e[xo];if(i!==null&&Nr(e[on])){i!==e[on]&&ff(i,e);let r=e[Er];r!==null&&r.detachView(n)}Xd(e)}finally{Be(t)}}function lk(n,e){let t=n.cleanup,i=e[_l];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[_l]=null);let r=e[Ls];if(r!==null){e[Ls]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function uk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof So)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=r[s[o]],a=s[o+1];Ui(4,c,a);try{a.call(c)}finally{Ui(5,c,a)}}else{Ui(4,r,s);try{s.call(r)}finally{Ui(5,r,s)}}}}}function TC(n,e,t){return dk(n,e.parent,t)}function dk(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Qi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Hi.None||s===Hi.Emulated)return null}return fi(i,t)}}function El(n,e,t,i,r){n.insertBefore(e,t,i,r)}function NC(n,e,t){n.appendChild(e,t)}function Vv(n,e,t,i,r){i!==null?El(n,e,t,i,r):NC(n,e,t)}function PC(n,e){return n.parentNode(e)}function fk(n,e){return n.nextSibling(e)}function kC(n,e,t){return pk(n,e,t)}function hk(n,e,t){return n.type&40?fi(n,t):null}var pk=hk,Bv;function Xl(n,e,t,i){let r=TC(n,i,e),s=e[lt],o=i.parent||e[kn],c=kC(o,i,e);if(r!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)Vv(s,r,t[a],c,!1);else Vv(s,r,t,c,!1);Bv!==void 0&&Bv(s,i,e,t,r)}function Yc(n,e){if(e!==null){let t=e.type;if(t&3)return fi(e,n);if(t&4)return a5(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Yc(n,i);{let r=n[e.index];return Nr(r)?a5(-1,r):qi(r)}}else{if(t&128)return Yc(n,e.next);if(t&32)return df(e,n)()||qi(n[e.index]);{let i=RC(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Eo(n[$n]);return Yc(r,i)}else return Yc(n,e.next)}}}return null}function RC(n,e){if(e!==null){let i=n[$n][kn],r=e.projection;return i.projection[r]}return null}function a5(n,e){let t=sn+n+1;if(t<e.length){let i=e[t],r=i[Le].firstChild;if(r!==null)return Yc(i,r)}return e[Lo]}function mk(n,e,t){n.removeChild(null,e,t)}function hf(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=i[t.index],a=t.type;if(o&&e===0&&(c&&zs(qi(c),i),t.flags|=2),(t.flags&32)!==32)if(a&8)hf(n,e,t.child,i,r,s,!1),Q1(e,n,r,c,s);else if(a&32){let u=df(t,i),d;for(;d=u();)Q1(e,n,r,d,s);Q1(e,n,r,c,s)}else a&16?OC(n,e,i,t,r,s):Q1(e,n,r,c,s);t=o?t.projectionNext:t.next}}function Jl(n,e,t,i,r,s){hf(t,i,n.firstChild,e,r,s,!1)}function gk(n,e,t){let i=e[lt],r=TC(n,t,e),s=t.parent||e[kn],o=kC(s,t,e);OC(i,0,e,t,r,o)}function OC(n,e,t,i,r,s){let o=t[$n],a=o[kn].projection[i.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++){let d=a[u];Q1(e,n,r,d,s)}else{let u=a,d=o[on];oC(i)&&(u.flags|=128),hf(n,e,u,d,r,s,!0)}}function _k(n,e,t,i,r){let s=t[Lo],o=qi(t);s!==o&&Q1(e,n,i,s,r);for(let c=sn;c<t.length;c++){let a=t[c];Jl(a[Le],a,n,e,i,s)}}function yk(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:zr.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=zr.Important),n.setStyle(t,i,r,s))}}function vk(n,e,t){n.setAttribute(e,"style",t)}function FC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function VC(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&kd(n,e,i),r!==null&&FC(n,e,r),s!==null&&vk(n,e,s)}var Gn={};function R(n=1){BC(ht(),De(),Ps()+n,!1)}function BC(n,e,t,i){if(!i)if((e[Me]&3)===3){let s=n.preOrderCheckHooks;s!==null&&al(e,s,t)}else{let s=n.preOrderHooks;s!==null&&ll(e,s,0,t)}Io(t)}function O(n,e=Ue.Default){let t=De();if(t===null)return k(n,e);let i=Kt();return Jb(i,t,Cn(n),e)}function pf(){let n="invalid";throw new Error(n)}function UC(n,e,t,i,r,s){let o=Be(null);try{let c=null;r&Is.SignalBased&&(c=e[i][xr]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),r&Is.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,i):Lb(e,c,i,s)}finally{Be(o)}}function bk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Io(~r);else{let s=r,o=t[++i],c=t[++i];qN(o,s);let a=e[s];c(2,a)}}}finally{Io(-1)}}function e3(n,e,t,i,r,s,o,c,a,u,d){let h=e.blueprint.slice();return h[Qi]=r,h[Me]=i|4|128|8|64,(u!==null||n&&n[Me]&2048)&&(h[Me]|=2048),Ab(h),h[on]=h[l2]=n,h[rn]=t,h[$i]=o||n&&n[$i],h[lt]=c||n&&n[lt],h[i2]=a||n&&n[i2]||null,h[kn]=s,h[Bl]=xP(),h[n2]=d,h[xb]=u,h[$n]=e.type==2?n[$n]:h,h}function f2(n,e,t,i,r){let s=n.data[e];if(s===null)s=Ck(n,e,t,i,r),$N()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=BN();s.injectorIndex=o===null?-1:o.injectorIndex}return To(s,!0),s}function Ck(n,e,t,i,r){let s=Rb(),o=K5(),c=o?s:s&&s.parent,a=n.data[e]=Ik(n,c,t,e,i,r);return n.firstChild===null&&(n.firstChild=a),s!==null&&(o?s.child==null&&a.parent!==null&&(s.child=a):s.next===null&&(s.next=a,a.prev=s)),a}function jC(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function HC(n,e,t,i,r){let s=Ps(),o=i&2;try{Io(-1),o&&e.length>wn&&BC(n,e,wn,!1),Ui(o?2:0,r),t(i,r)}finally{Io(s),Ui(o?3:1,r)}}function mf(n,e,t){if(q5(e)){let i=Be(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let c=n.data[o];if(c.contentQueries){let a=t[o];c.contentQueries(1,a,o)}}}finally{Be(i)}}}function gf(n,e,t){Pb()&&(Nk(n,e,t,fi(t,e)),(t.flags&64)===64&&WC(n,e,t))}function _f(n,e,t=fi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],c=o===-1?t(e,n):n[o];n[r++]=c}}}function $C(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=yf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yf(n,e,t,i,r,s,o,c,a,u,d){let h=wn+i,m=h+r,g=Mk(h,m),y=typeof u=="function"?u():u;return g[Le]={type:n,blueprint:g,template:t,queries:null,viewQuery:c,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:a,consts:y,incompleteFirstPass:!1,ssrId:d}}function Mk(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Gn);return t}function wk(n,e,t,i){let s=i.get(AP,hC)||t===Hi.ShadowDom,o=n.selectRootElement(e,s);return xk(o),o}function xk(n){Lk(n)}var Lk=()=>null;function Ek(n,e,t,i){let r=QC(e);r.push(t),n.firstCreatePass&&YC(n).push(i,r.length-1)}function Ik(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,c=0;return kb()&&(c|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Uv(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let c,a=Is.None;Array.isArray(o)?(c=o[0],a=o[1]):c=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}n===0?jv(i,t,u,c,a):jv(i,t,u,c)}return i}function jv(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function Sk(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,c=[],a=null,u=null;for(let d=i;d<r;d++){let h=s[d],m=t?t.get(h):null,g=m?m.inputs:null,y=m?m.outputs:null;a=Uv(0,h.inputs,d,a,g),u=Uv(1,h.outputs,d,u,y);let x=a!==null&&o!==null&&!B5(e)?$k(a,d,o):null;c.push(x)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=u}function zk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function h2(n,e,t,i,r,s,o,c){let a=fi(e,t),u=e.inputs,d;!c&&u!=null&&(d=u[i])?(bf(n,t,d,i,r),Ul(e)&&Ak(t,e.index)):e.type&3?(i=zk(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(a,i,r)):e.type&12}function Ak(n,e){let t=Ts(e,n);t[Me]&16||(t[Me]|=64)}function vf(n,e,t,i){if(Pb()){let r=i===null?null:{"":-1},s=kk(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&qC(n,e,t,o,r,c),r&&Rk(t,i,r)}t.mergedAttrs=ea(t.mergedAttrs,t.attrs)}function qC(n,e,t,i,r,s){for(let u=0;u<i.length;u++)qd(Ml(t,e),n,i[u].type);Fk(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let o=!1,c=!1,a=jC(n,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];t.mergedAttrs=ea(t.mergedAttrs,d.hostAttrs),Vk(n,t,e,a,d),Ok(a,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),a++}Sk(n,t,s)}function Dk(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;Tk(o)!=c&&o.push(c),o.push(t,i,s)}}function Tk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Nk(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;Ul(t)&&Bk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ml(t,e),zs(i,e);let o=t.initialInputs;for(let c=r;c<s;c++){let a=n.data[c],u=zo(e,n,c,t);if(zs(u,e),o!==null&&Hk(e,c-r,u,a,t,o),Ir(a)){let d=Ts(t.index,e);d[rn]=zo(e,n,c,t)}}}function WC(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=WN();try{Io(s);for(let c=i;c<r;c++){let a=n.data[c],u=e[c];jd(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&Pk(a,u)}}finally{Io(-1),jd(o)}}function Pk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kk(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(hb(e,o.selectors,!1))if(i||(i=[]),Ir(o))if(o.findHostDirectiveDefs!==null){let c=[];r=r||new Map,o.findHostDirectiveDefs(o,c,r),i.unshift(...c,o);let a=c.length;l5(n,e,a)}else i.unshift(o),l5(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function l5(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Rk(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new K(-301,!1);i.push(e[r],s)}}}function Ok(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ir(e)&&(t[""]=n)}}function Fk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Vk(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=X1(r.type,!0)),o=new So(s,Ir(r),O);n.blueprint[i]=o,t[i]=o,Dk(n,e,i,jC(n,t,r.hostVars,Gn),r)}function Bk(n,e,t){let i=fi(e,n),r=$C(t),s=n[$i].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=t3(n,e3(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=c}function Uk(n,e,t,i,r,s){let o=fi(n,e);jk(e[lt],o,s,n.value,t,i,r)}function jk(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let c=o==null?Mo(s):o(s,i||"",r);n.setAttribute(e,r,c,t)}}function Hk(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let a=o[c++],u=o[c++],d=o[c++],h=o[c++];UC(i,t,a,u,d,h)}}function $k(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){i.push(s,o[c+1],o[c+2],t[r+1]);break}}r+=2}return i}function GC(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function KC(n,e){let t=n.contentQueries;if(t!==null){let i=Be(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let c=n.data[o];X5(s),c.contentQueries(2,e[o],o)}}}finally{Be(i)}}}function t3(n,e){return n[na]?n[Cv][Li]=e:n[na]=e,n[Cv]=e,e}function u5(n,e,t){X5(0);let i=Be(null);try{e(n,t)}finally{Be(i)}}function QC(n){return n[_l]??=[]}function YC(n){return n.cleanup??=[]}function ZC(n,e,t){return(n===null||Ir(n))&&(t=zN(t[e.index])),t[lt]}function XC(n,e){let t=n[i2],i=t?t.get(Wi,null):null;i&&i.handleError(e)}function bf(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],a=t[s++],u=e[o],d=n.data[o];UC(d,u,i,c,a,r)}}function qk(n,e,t){let i=zb(e,n);ik(n[lt],i,t)}function Wk(n,e){let t=Ts(e,n),i=t[Le];Gk(i,t);let r=t[Qi];r!==null&&t[n2]===null&&(t[n2]=af(r,t[i2])),Cf(i,t,t[rn])}function Gk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Cf(n,e,t){J5(e);try{let i=n.viewQuery;i!==null&&u5(1,i,t);let r=n.template;r!==null&&HC(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Er]?.finishViewCreation(n),n.staticContentQueries&&KC(n,e),n.staticViewQueries&&u5(2,n.viewQuery,t);let s=n.components;s!==null&&Kk(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Me]&=-5,ef()}}function Kk(n,e){for(let t=0;t<e.length;t++)Wk(n,e[t])}function fa(n,e,t,i){let r=Be(null);try{let s=e.tView,c=n[Me]&4096?4096:16,a=e3(n,s,t,c,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];a[xo]=u;let d=n[Er];return d!==null&&(a[Er]=d.createEmbeddedView(s)),Cf(s,a,t),a}finally{Be(r)}}function JC(n,e){let t=sn+e;if(t<n.length)return n[t]}function s2(n,e){return!e||e.firstChild===null||oC(n)}function ha(n,e,t,i=!0){let r=e[Le];if(ak(r,e,n,t),i){let o=a5(t,n),c=e[lt],a=PC(c,n[Lo]);a!==null&&ok(r,n[kn],c,e,a,o)}let s=e[n2];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function eM(n,e){let t=ia(n,e);return t!==void 0&&Zl(t[Le],t),t}function Il(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(qi(s)),Nr(s)&&Qk(s,i);let o=t.type;if(o&8)Il(n,e,t.child,i);else if(o&32){let c=df(t,e),a;for(;a=c();)i.push(a)}else if(o&16){let c=RC(e,t);if(Array.isArray(c))i.push(...c);else{let a=Eo(e[$n]);Il(a[Le],a,c,i,!0)}}t=r?t.projectionNext:t.next}return i}function Qk(n,e){for(let t=sn;t<n.length;t++){let i=n[t],r=i[Le].firstChild;r!==null&&Il(i[Le],i,r,e)}n[Lo]!==n[Qi]&&e.push(n[Lo])}var tM=[];function Yk(n){return n[li]??Zk(n)}function Zk(n){let e=tM.pop()??Object.create(Jk);return e.lView=n,e}function Xk(n){n.lView[li]!==n&&(n.lView=null,tM.push(n))}var Jk=ae(N({},jc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$l(n.lView)},consumerOnSignalRead(){this.lView[li]=this}});function eR(n){let e=n[li]??Object.create(tR);return e.lView=n,e}var tR=ae(N({},jc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Eo(n.lView);for(;e&&!nM(e[Le]);)e=Eo(e);e&&Db(e)},consumerOnSignalRead(){this.lView[li]=this}});function nM(n){return n.type!==2}var nR=100;function iM(n,e=!0,t=0){let i=n[$i],r=i.rendererFactory,s=!1;s||r.begin?.();try{iR(n,t)}catch(o){throw e&&XC(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function iR(n,e){let t=Ob();try{wv(!0),d5(n,e);let i=0;for(;Hl(n);){if(i===nR)throw new K(103,!1);i++,d5(n,1)}}finally{wv(t)}}function rR(n,e,t,i){let r=e[Me];if((r&256)===256)return;let s=!1,o=!1;!s&&e[$i].inlineEffectRunner?.flush(),J5(e);let c=!0,a=null,u=null;s||(nM(n)?(u=Yk(e),a=w4(u)):Ly()===null?(c=!1,u=eR(e),a=w4(u)):e[li]&&(ed(e[li]),e[li]=null));try{Ab(e),HN(n.bindingStartIndex),t!==null&&HC(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let g=n.preOrderCheckHooks;g!==null&&al(e,g,null)}else{let g=n.preOrderHooks;g!==null&&ll(e,g,0,null),bd(e,0)}if(o||sR(e),rM(e,0),n.contentQueries!==null&&KC(n,e),!s)if(d){let g=n.contentCheckHooks;g!==null&&al(e,g)}else{let g=n.contentHooks;g!==null&&ll(e,g,1),bd(e,1)}bk(n,e);let h=n.components;h!==null&&oM(e,h,0);let m=n.viewQuery;if(m!==null&&u5(2,m,i),!s)if(d){let g=n.viewCheckHooks;g!==null&&al(e,g)}else{let g=n.viewHooks;g!==null&&ll(e,g,2),bd(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vd]){for(let g of e[vd])g();e[vd]=null}s||(e[Me]&=-73)}catch(d){throw s||$l(e),d}finally{u!==null&&(X8(u,a),c&&Xk(u)),ef()}}function rM(n,e){for(let t=aC(n);t!==null;t=lC(t))for(let i=sn;i<t.length;i++){let r=t[i];sM(r,e)}}function sR(n){for(let e=aC(n);e!==null;e=lC(e)){if(!(e[Me]&vl.HasTransplantedViews))continue;let t=e[r2];for(let i=0;i<t.length;i++){let r=t[i];Db(r)}}}function oR(n,e,t){let i=Ts(e,n);sM(i,t)}function sM(n,e){G5(n)&&d5(n,e)}function d5(n,e){let i=n[Le],r=n[Me],s=n[li],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&J8(s)),o||=!1,s&&(s.dirty=!1),n[Me]&=-9217,o)rR(i,n,i.template,n[rn]);else if(r&8192){rM(n,1);let c=i.components;c!==null&&oM(n,c,1)}}function oM(n,e,t){for(let i=0;i<e.length;i++)oR(n,e[i],t)}function Mf(n,e){let t=Ob()?64:1088;for(n[$i].changeDetectionScheduler?.notify(e);n;){n[Me]|=t;let i=Eo(n);if(Vd(n)&&!i)return n;n=i}return null}var Ao=class{get rootNodes(){let e=this._lView,t=e[Le];return Il(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[Me]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[on];if(Nr(e)){let t=e[yl],i=t?t.indexOf(this):-1;i>-1&&(ia(e,i),ml(t,i))}this._attachedToViewContainer=!1}Zl(this._lView[Le],this._lView)}onDestroy(e){Tb(this._lView,e)}markForCheck(){Mf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Me]&=-129}reattach(){Ud(this._lView),this._lView[Me]|=128}detectChanges(){this._lView[Me]|=1024,iM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vd(this._lView),t=this._lView[xo];t!==null&&!e&&ff(t,this._lView),AC(this._lView[Le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=Vd(this._lView),i=this._lView[xo];i!==null&&!t&&DC(i,this._lView),Ud(this._lView)}},Ei=(()=>{class n{static{this.__NG_ELEMENT_ID__=lR}}return n})(),cR=Ei,aR=class extends cR{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=fa(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Ao(r)}};function lR(){return wf(Kt(),De())}function wf(n,e){return n.type&4?new aR(e,n,d2(n,e)):null}var O1e=new RegExp(`^(\\d+)*(${SP}|${IP})*(.*)`);var uR=()=>null;function o2(n,e){return uR(n,e)}var c2=class{},xf=new te("",{providedIn:"root",factory:()=>!1});var cM=new te(""),aM=new te(""),f5=class{},Sl=class{};function dR(n){let e=Error(`No component factory found for ${Mn(n)}.`);return e[fR]=n,e}var fR="ngComponent";var h5=class{resolveComponentFactory(e){throw dR(e)}},Gi=class{static{this.NULL=new h5}},As=class{},Rn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hR()}}return n})();function hR(){let n=De(),e=Kt(),t=Ts(e.index,n);return(Es(t)?t:n)[lt]}var pR=(()=>{class n{static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>null})}}return n})();function zl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)r=Dd(r,c);else if(s==2){let a=c,u=e[++o];i=Dd(i,a+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Al=class extends Gi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=wo(e);return new ra(t,this.ngModule)}};function Hv(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,c=s?r[1]:Is.None;e?t.push({propName:o,templateName:i,isSignal:(c&Is.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function mR(n){let e=n.toLowerCase();return e==="svg"?IN:e==="math"?SN:null}var ra=class extends Sl{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Hv(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Hv(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=cN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=Be(null);try{r=r||this.ngModule;let o=r instanceof di?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Hd(e,o):e,a=c.get(As,null);if(a===null)throw new K(407,!1);let u=c.get(pR,null),d=c.get(c2,null),h={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=i?wk(m,i,this.componentDef.encapsulation,c):zC(m,g,mR(g)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let S=null;y!==null&&(S=af(y,c,!0));let F=yf(0,null,null,1,0,null,null,null,null,null,null),V=e3(null,F,null,x,null,null,h,m,c,null,S);J5(V);let q,X,we=null;try{let ce=this.componentDef,w,v=null;ce.findHostDirectiveDefs?(w=[],v=new Map,ce.findHostDirectiveDefs(ce,w,v),w.push(ce)):w=[ce];let C=gR(V,y);we=_R(C,y,ce,w,V,h,m),X=W5(F,wn),y&&bR(m,ce,y,i),t!==void 0&&CR(X,this.ngContentSelectors,t),q=vR(we,ce,w,v,V,[MR]),Cf(F,V,null)}catch(ce){throw we!==null&&Xd(we),Xd(V),ce}finally{ef()}return new p5(this.componentType,q,d2(X,V),V,X)}finally{Be(s)}}},p5=class extends f5{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ao(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;bf(s[Le],s,r,e,t),this.previousInputValues.set(e,t);let o=Ts(this._tNode.index,s);Mf(o,1)}}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gR(n,e){let t=n[Le],i=wn;return n[i]=e,f2(t,i,2,"#host",null)}function _R(n,e,t,i,r,s,o){let c=r[Le];yR(i,n,e,o);let a=null;e!==null&&(a=af(e,r[i2]));let u=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let h=e3(r,$C(t),null,d,r[n.index],n,s,u,null,null,a);return c.firstCreatePass&&l5(c,n,i.length-1),t3(r,h),r[n.index]=h}function yR(n,e,t,i){for(let r of n)e.mergedAttrs=ea(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(zl(e,e.mergedAttrs,!0),t!==null&&VC(i,t,e))}function vR(n,e,t,i,r,s){let o=Kt(),c=r[Le],a=fi(o,r);qC(c,r,o,t,null,i);for(let d=0;d<t.length;d++){let h=o.directiveStart+d,m=zo(r,c,h,o);zs(m,r)}WC(c,r,o),a&&zs(a,r);let u=zo(r,c,o.directiveStart+o.componentOffset,o);if(n[rn]=r[rn]=u,s!==null)for(let d of s)d(u,e);return mf(c,o,r),u}function bR(n,e,t,i){if(i)kd(n,t,["ng-version","18.2.12"]);else{let{attrs:r,classes:s}=aN(e.selectors[0]);r&&kd(n,t,r),s&&s.length>0&&FC(n,t,s.join(" "))}}function CR(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function MR(){let n=Kt();Gl(De()[Le],n)}var Si=(()=>{class n{static{this.__NG_ELEMENT_ID__=wR}}return n})();function wR(){let n=Kt();return uM(n,De())}var xR=Si,lM=class extends xR{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return d2(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){let e=tf(this._hostTNode,this._hostLView);if(Gb(e)){let t=Cl(e,this._hostLView),i=bl(e),r=t[Le].data[i+8];return new Co(r,t)}else return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$v(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=o2(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,r,s2(this._hostTNode,o)),c}createComponent(e,t,i,r,s){let o=e&&!wN(e),c;if(o)c=t;else{let y=t||{};c=y.index,i=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let a=o?e:new ra(wo(e)),u=i||this.parentInjector;if(!s&&a.ngModule==null){let x=(o?u:this.parentInjector).get(di,null);x&&(s=x)}let d=wo(a.componentType??{}),h=o2(this._lContainer,d?.id??null),m=h?.firstChild??null,g=a.create(u,r,m,s);return this.insertImpl(g.hostView,c,s2(this._hostTNode,h)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(TN(r)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=r[on],u=new lM(a,a[kn],a[on]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return ha(o,r,s,i),e.attachToViewContainerRef(),cb(Ld(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$v(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=ia(this._lContainer,t);i&&(ml(Ld(this._lContainer),t),Zl(i[Le],i))}detach(e){let t=this._adjustIndex(e,-1),i=ia(this._lContainer,t);return i&&ml(Ld(this._lContainer),t)!=null?new Ao(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function $v(n){return n[yl]}function Ld(n){return n[yl]||(n[yl]=[])}function uM(n,e){let t,i=e[n.index];return Nr(i)?t=i:(t=GC(i,e,null,n),e[n.index]=t,t3(e,t)),ER(t,e,n,i),new lM(t,n,e)}function LR(n,e){let t=n[lt],i=t.createComment(""),r=fi(e,n),s=PC(t,r);return El(t,s,i,fk(t,r),!1),i}var ER=zR,IR=()=>!1;function SR(n,e,t){return IR(n,e,t)}function zR(n,e,t,i){if(n[Lo])return;let r;t.type&8?r=qi(i):r=LR(e,t),n[Lo]=r}var m5=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},g5=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),c=this.queries[o.indexInDeclarationView];r.push(c.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Lf(e,t).matches!==null&&this.queries[t].setDirty()}},_5=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=OR(e):this.predicate=e}},y5=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},v5=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,AR(t,s)),this.matchTNodeWithReadOption(e,t,ul(t,e,s,!1,!1))}else i===Ei?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ul(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===Si||r===Ei&&t.type&4)this.addMatch(t.index,-2);else{let s=ul(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function AR(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function DR(n,e){return n.type&11?d2(n,e):n.type&4?wf(n,e):null}function TR(n,e,t,i){return t===-1?DR(e,n):t===-2?NR(n,e,i):zo(n,n[Le],t,e)}function NR(n,e,t){if(t===Ge)return d2(e,n);if(t===Ei)return wf(e,n);if(t===Si)return uM(e,n)}function dM(n,e,t,i){let r=e[Er].queries[i];if(r.matches===null){let s=n.data,o=t.matches,c=[];for(let a=0;o!==null&&a<o.length;a+=2){let u=o[a];if(u<0)c.push(null);else{let d=s[u];c.push(TR(e,d,o[a+1],t.metadata.read))}}r.matches=c}return r.matches}function b5(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=dM(n,e,r,t);for(let c=0;c<s.length;c+=2){let a=s[c];if(a>0)i.push(o[c/2]);else{let u=s[c+1],d=e[-a];for(let h=sn;h<d.length;h++){let m=d[h];m[xo]===m[on]&&b5(m[Le],m,u,i)}if(d[r2]!==null){let h=d[r2];for(let m=0;m<h.length;m++){let g=h[m];b5(g[Le],g,u,i)}}}}}return i}function PR(n,e){return n[Er].queries[e].queryList}function kR(n,e,t){let i=new Ll((t&4)===4);return Ek(n,e,i,i.destroy),(e[Er]??=new g5).queries.push(new m5(i))-1}function RR(n,e,t){let i=ht();return i.firstCreatePass&&(FR(i,new _5(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),kR(i,De(),e)}function OR(n){return n.split(",").map(e=>e.trim())}function FR(n,e,t){n.queries===null&&(n.queries=new y5),n.queries.track(new v5(e,t))}function Lf(n,e){return n.queries.getByIndex(e)}function VR(n,e){let t=n[Le],i=Lf(t,e);return i.crossesNgTemplate?b5(t,n,e,[]):dM(t,n,i,e)}var qv=new Set;function Po(n){qv.has(n)||(qv.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function BR(n){return typeof n=="function"&&n[xr]!==void 0}function Rr(n,e){Po("NgSignals");let t=Ry(n),i=t[xr];return e?.equal&&(i.equal=e.equal),t.set=r=>td(i,r),t.update=r=>Oy(i,r),t.asReadonly=UR.bind(t),t}function UR(){let n=this[xr];if(n.readonlyFn===void 0){let e=()=>this();e[xr]=n,n.readonlyFn=e}return n.readonlyFn}function fM(n){return BR(n)&&typeof n.set=="function"}function jR(n){return Object.getPrototypeOf(n.prototype).constructor}function Ut(n){let e=jR(n.type),t=!0,i=[n];for(;e;){let r;if(Ir(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=rl(n.inputs),o.inputTransforms=rl(n.inputTransforms),o.declaredInputs=rl(n.declaredInputs),o.outputs=rl(n.outputs);let c=r.hostBindings;c&&GR(n,c);let a=r.viewQuery,u=r.contentQueries;if(a&&qR(n,a),u&&WR(n,u),HR(n,r),LT(n.outputs,r.outputs),Ir(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(n),c===Ut&&(t=!1)}}e=Object.getPrototypeOf(e)}$R(i)}function HR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function $R(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ea(r.hostAttrs,t=ea(t,r.hostAttrs))}}function rl(n){return n===J1?{}:n===Nn?[]:n}function qR(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function WR(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function GR(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Or(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Ds=class{},sa=class{};var C5=class extends Ds{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Al(this);let s=_b(e);this._bootstrapComponents=SC(s.bootstrap),this._r3Injector=nC(e,t,[{provide:Ds,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver},...i],Mn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},M5=class extends sa{constructor(e){super(),this.moduleType=e}create(e){return new C5(this.moduleType,e,[])}};var Dl=class extends Ds{constructor(e){super(),this.componentFactoryResolver=new Al(this),this.instance=null;let t=new ta([...e.providers,{provide:Ds,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver}],e.parent||H5(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ef(n,e,t=null){return new Dl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function hM(n,e,t){return n[e]=t}function qn(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function pM(n,e,t,i){let r=qn(n,e,t);return qn(n,e+1,i)||r}function KR(n){return(n.flags&32)===32}function QR(n,e,t,i,r,s,o,c,a){let u=e.consts,d=f2(e,n,4,o||null,c||null);vf(e,t,d,Ss(u,a)),Gl(e,d);let h=d.tView=yf(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function Tl(n,e,t,i,r,s,o,c,a,u){let d=t+wn,h=e.firstCreatePass?QR(d,e,n,i,r,s,o,c,a):e.data[d];To(h,!1);let m=YR(e,n,h,t);ql()&&Xl(e,n,m,h),zs(m,n);let g=GC(m,n,m,h);return n[d]=g,t3(n,g),SR(g,h,n),jl(h)&&gf(e,n,h),a!=null&&_f(n,h,u),h}function he(n,e,t,i,r,s,o,c){let a=De(),u=ht(),d=Ss(u.consts,s);return Tl(a,u,n,e,t,i,r,d,o,c),he}var YR=ZR;function ZR(n,e,t,i){return Wl(!0),e[lt].createComment("")}var Zc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Zc||{}),XR=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Wv=class n{constructor(){this.ngZone=U(fe),this.scheduler=U(c2),this.errorHandler=U(Wi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zc.EarlyRead,Zc.Write,Zc.MixedReadWrite,Zc.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}};function Qt(n,e,t,i){let r=De(),s=Ns();if(qn(r,s,e)){let o=ht(),c=No();Uk(c,r,n,e,t,i)}return Qt}function mM(n,e,t,i){return qn(n,Ns(),t)?e+Mo(t)+i:Gn}function JR(n,e,t,i,r,s){let o=jN(),c=pM(n,o,t,r);return Y5(2),c?e+Mo(t)+i+Mo(r)+s:Gn}function sl(n,e){return n<<17|e<<2}function Do(n){return n>>17&32767}function eO(n){return(n&2)==2}function tO(n,e){return n&131071|e<<17}function w5(n){return n|2}function a2(n){return(n&131068)>>2}function Ed(n,e){return n&-131069|e<<2}function nO(n){return(n&1)===1}function x5(n){return n|1}function iO(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,c=Do(o),a=a2(o);n[i]=t;let u=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||aa(h,d)>0)&&(u=!0)}else d=t;if(r)if(a!==0){let m=Do(n[c+1]);n[i+1]=sl(m,c),m!==0&&(n[m+1]=Ed(n[m+1],i)),n[c+1]=tO(n[c+1],i)}else n[i+1]=sl(c,0),c!==0&&(n[c+1]=Ed(n[c+1],i)),c=i;else n[i+1]=sl(a,0),c===0?c=i:n[a+1]=Ed(n[a+1],i),a=i;u&&(n[i+1]=w5(n[i+1])),Gv(n,d,i,!0),Gv(n,d,i,!1),rO(e,d,n,i,s),o=sl(c,a),s?e.classBindings=o:e.styleBindings=o}function rO(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&aa(s,e)>=0&&(t[i+1]=x5(t[i+1]))}function Gv(n,e,t,i){let r=n[t+1],s=e===null,o=i?Do(r):a2(r),c=!1;for(;o!==0&&(c===!1||s);){let a=n[o],u=n[o+1];sO(a,e)&&(c=!0,n[o+1]=i?x5(u):w5(u)),o=i?Do(u):a2(u)}c&&(n[t+1]=i?w5(r):x5(r))}function sO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?aa(n,e)>=0:!1}var xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oO(n){return n.substring(xi.key,xi.keyEnd)}function cO(n){return aO(n),gM(n,_M(n,0,xi.textEnd))}function gM(n,e){let t=xi.textEnd;return t===e?-1:(e=xi.keyEnd=lO(n,xi.key=e,t),_M(n,e,t))}function aO(n){xi.key=0,xi.keyEnd=0,xi.value=0,xi.valueEnd=0,xi.textEnd=n.length}function _M(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function lO(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ie(n,e,t){let i=De(),r=Ns();if(qn(i,r,e)){let s=ht(),o=No();h2(s,o,i,n,e,i[lt],t,!1)}return ie}function L5(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";bf(n,t,s[o],o,i)}function Fr(n,e,t){return vM(n,e,t,!1),Fr}function Et(n,e){return vM(n,e,null,!0),Et}function yM(n){dO(_O,uO,n,!0)}function uO(n,e){for(let t=cO(e);t>=0;t=gM(e,t))V5(n,oO(e),!0)}function vM(n,e,t,i){let r=De(),s=ht(),o=Y5(2);if(s.firstUpdatePass&&CM(s,n,o,i),e!==Gn&&qn(r,o,e)){let c=s.data[Ps()];MM(s,c,r,r[lt],n,r[o+1]=vO(e,t),i,o)}}function dO(n,e,t,i){let r=ht(),s=Y5(2);r.firstUpdatePass&&CM(r,null,s,i);let o=De();if(t!==Gn&&qn(o,s,t)){let c=r.data[Ps()];if(wM(c,i)&&!bM(r,s)){let a=i?c.classesWithoutHost:c.stylesWithoutHost;a!==null&&(t=Dd(a,t||"")),L5(r,c,o,t,i)}else yO(r,c,o,o[lt],o[s+1],o[s+1]=gO(n,e,t),i,s)}}function bM(n,e){return e>=n.expandoStartIndex}function CM(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Ps()],o=bM(n,t);wM(s,i)&&e===null&&!o&&(e=!1),e=fO(r,s,e,i),iO(r,s,e,t,o,i)}}function fO(n,e,t,i){let r=Z5(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Id(null,n,e,t,i),t=oa(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Id(r,n,e,t,i),s===null){let a=hO(n,e,i);a!==void 0&&Array.isArray(a)&&(a=Id(null,n,e,a[1],i),a=oa(a,e.attrs,i),pO(n,e,i,a))}else s=mO(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function hO(n,e,t){let i=t?e.classBindings:e.styleBindings;if(a2(i)!==0)return n[Do(i)]}function pO(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Do(r)]=i}function mO(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=oa(i,o,t)}return oa(i,e.attrs,t)}function Id(n,e,t,i,r){let s=null,o=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<o&&(s=e[c],i=oa(i,s.hostAttrs,r),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),i}function oa(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),V5(n,o,t?!0:e[++s]))}return n===void 0?null:n}function gO(n,e,t){if(t==null||t==="")return Nn;let i=[],r=pi(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function _O(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&V5(n,i,t)}function yO(n,e,t,i,r,s,o,c){r===Gn&&(r=Nn);let a=0,u=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let m=a<r.length?r[a+1]:void 0,g=u<s.length?s[u+1]:void 0,y=null,x;d===h?(a+=2,u+=2,m!==g&&(y=h,x=g)):h===null||d!==null&&d<h?(a+=2,y=d):(u+=2,y=h,x=g),y!==null&&MM(n,e,t,i,y,x,o,c),d=a<r.length?r[a]:null,h=u<s.length?s[u]:null}}function MM(n,e,t,i,r,s,o,c){if(!(e.type&3))return;let a=n.data,u=a[c+1],d=nO(u)?Kv(a,e,t,r,a2(u),o):void 0;if(!Nl(d)){Nl(s)||eO(u)&&(s=Kv(a,null,t,r,c,o));let h=zb(Ps(),t);yk(i,o,h,r,s)}}function Kv(n,e,t,i,r,s){let o=e===null,c;for(;r>0;){let a=n[r],u=Array.isArray(a),d=u?a[1]:a,h=d===null,m=t[r+1];m===Gn&&(m=h?Nn:void 0);let g=h?_d(m,i):d===i?m:void 0;if(u&&!Nl(g)&&(g=_d(a,i)),Nl(g)&&(c=g,o))return c;let y=n[r+1];r=o?Do(y):a2(y)}if(e!==null){let a=s?e.residualClasses:e.residualStyles;a!=null&&(c=_d(a,i))}return c}function Nl(n){return n!==void 0}function vO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Mn(pi(n)))),n}function wM(n,e){return(n.flags&(e?8:16))!==0}var E5=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function Sd(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function bO(n,e,t){let i,r,s=0,o=n.length-1,c=void 0;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let u=n.at(s),d=e[s],h=Sd(s,u,s,d,t);if(h!==0){h<0&&n.updateValue(s,d),s++;continue}let m=n.at(o),g=e[a],y=Sd(o,m,a,g,t);if(y!==0){y<0&&n.updateValue(o,g),o--,a--;continue}let x=t(s,u),S=t(o,m),F=t(s,d);if(Object.is(F,S)){let V=t(a,g);Object.is(V,x)?(n.swap(s,o),n.updateValue(o,g),a--,o--):n.move(o,s),n.updateValue(s,d),s++;continue}if(i??=new Pl,r??=Yv(n,s,o,t),I5(n,i,s,F))n.updateValue(s,d),s++,o++;else if(r.has(F))i.set(x,n.detach(s)),o--;else{let V=n.create(s,e[s]);n.attach(s,V),s++,o++}}for(;s<=a;)Qv(n,i,t,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let d=n.at(s),h=u.value,m=Sd(s,d,s,h,t);if(m!==0)m<0&&n.updateValue(s,h),s++,u=a.next();else{i??=new Pl,r??=Yv(n,s,o,t);let g=t(s,h);if(I5(n,i,s,g))n.updateValue(s,h),s++,o++,u=a.next();else if(!r.has(g))n.attach(s,n.create(s,h)),s++,o++,u=a.next();else{let y=t(s,d);i.set(y,n.detach(s)),o--}}}for(;!u.done;)Qv(n,i,t,n.length,u.value),u=a.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(a=>{n.destroy(a)})}function I5(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function Qv(n,e,t,i,r){if(I5(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function Yv(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var Pl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function _e(n,e){Po("NgControlFlow");let t=De(),i=Ns(),r=t[i]!==Gn?t[i]:-1,s=r!==-1?kl(t,wn+r):void 0,o=0;if(qn(t,i,n)){let c=Be(null);try{if(s!==void 0&&eM(s,o),n!==-1){let a=wn+n,u=kl(t,a),d=D5(t[Le],a),h=o2(u,d.tView.ssrId),m=fa(t,d,e,{dehydratedView:h});ha(u,m,o,s2(d,h))}}finally{Be(c)}}else if(s!==void 0){let c=JC(s,o);c!==void 0&&(c[rn]=e)}}var S5=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-sn}};function xM(n){return n}var z5=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Vr(n,e,t,i,r,s,o,c,a,u,d,h,m){Po("NgControlFlow");let g=De(),y=ht(),x=a!==void 0,S=De(),F=c?o.bind(S[$n][rn]):o,V=new z5(x,F);S[wn+n]=V,Tl(g,y,n+1,e,t,i,r,Ss(y.consts,s)),x&&Tl(g,y,n+2,a,u,d,h,Ss(y.consts,m))}var A5=class extends E5{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-sn}at(e){return this.getLView(e)[rn].$implicit}attach(e,t){let i=t[n2];this.needsIndexUpdate||=e!==this.length,ha(this.lContainer,t,e,s2(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,CO(this.lContainer,e)}create(e,t){let i=o2(this.lContainer,this.templateTNode.tView.ssrId),r=fa(this.hostLView,this.templateTNode,new S5(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Zl(e[Le],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[rn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[rn].$index=e}getLView(e){return MO(this.lContainer,e)}};function Br(n){let e=Be(null),t=Ps();try{let i=De(),r=i[Le],s=i[t],o=t+1,c=kl(i,o);if(s.liveCollection===void 0){let u=D5(r,o);s.liveCollection=new A5(c,i,u)}else s.liveCollection.reset();let a=s.liveCollection;if(bO(a,n,s.trackByFn),a.updateIndexes(),s.hasEmptyBlock){let u=Ns(),d=a.length===0;if(qn(i,u,d)){let h=t+2,m=kl(i,h);if(d){let g=D5(r,h),y=o2(m,g.tView.ssrId),x=fa(i,g,void 0,{dehydratedView:y});ha(m,x,0,s2(g,y))}else eM(m,0)}}}finally{Be(e)}}function kl(n,e){return n[e]}function CO(n,e){return ia(n,e)}function MO(n,e){return JC(n,e)}function D5(n,e){return W5(n,e)}function wO(n,e,t,i,r,s){let o=e.consts,c=Ss(o,r),a=f2(e,n,2,i,c);return vf(e,t,a,Ss(o,s)),a.attrs!==null&&zl(a,a.attrs,!1),a.mergedAttrs!==null&&zl(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function E(n,e,t,i){let r=De(),s=ht(),o=wn+n,c=r[lt],a=s.firstCreatePass?wO(o,s,r,e,t,i):s.data[o],u=xO(s,r,a,c,e,n);r[o]=u;let d=jl(a);return To(a,!0),VC(c,u,a),!KR(a)&&ql()&&Xl(s,r,u,a),kN()===0&&zs(u,r),RN(),d&&(gf(s,r,a),mf(s,a,r)),i!==null&&_f(r,a),E}function z(){let n=Kt();K5()?Q5():(n=n.parent,To(n,!1));let e=n;FN(e)&&VN(),ON();let t=ht();return t.firstCreatePass&&(Gl(t,n),q5(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&JN(e)&&L5(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eP(e)&&L5(t,e,De(),e.stylesWithoutHost,!1),z}function J(n,e,t,i){return E(n,e,t,i),z(),J}var xO=(n,e,t,i,r,s)=>(Wl(!0),zC(i,r,QN()));function LO(n,e,t,i,r){let s=e.consts,o=Ss(s,i),c=f2(e,n,8,"ng-container",o);o!==null&&zl(c,o,!0);let a=Ss(s,r);return vf(e,t,c,a),e.queries!==null&&e.queries.elementStart(e,c),c}function If(n,e,t){let i=De(),r=ht(),s=n+wn,o=r.firstCreatePass?LO(s,r,i,e,t):r.data[s];To(o,!0);let c=EO(r,i,o,n);return i[s]=c,ql()&&Xl(r,i,c,o),zs(c,i),jl(o)&&(gf(r,i,o),mf(r,o,i)),t!=null&&_f(i,o),If}function Sf(){let n=Kt(),e=ht();return K5()?Q5():(n=n.parent,To(n,!1)),e.firstCreatePass&&(Gl(e,n),q5(n)&&e.queries.elementEnd(n)),Sf}var EO=(n,e,t,i)=>(Wl(!0),rk(e[lt],""));function Ee(){return De()}function n3(n,e,t){let i=De(),r=Ns();if(qn(i,r,e)){let s=ht(),o=No();h2(s,o,i,n,e,i[lt],t,!0)}return n3}function zf(n,e,t){let i=De(),r=Ns();if(qn(i,r,e)){let s=ht(),o=No(),c=Z5(s.data),a=ZC(c,o,i);h2(s,o,i,n,e,a,t,!0)}return zf}var Rl="en-US";var IO=Rl;function SO(n){typeof n=="string"&&(IO=n.toLowerCase().replace(/_/g,"-"))}var zO=(n,e,t)=>{};function Y(n,e,t,i){let r=De(),s=ht(),o=Kt();return Df(s,r,r[lt],o,n,e,i),Y}function Af(n,e){let t=Kt(),i=De(),r=ht(),s=Z5(r.data),o=ZC(s,t,i);return Df(r,i,o,t,n,e),Af}function AO(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let c=e[_l],a=r[s+2];return c.length>a?c[a]:null}typeof o=="string"&&(s+=2)}return null}function Df(n,e,t,i,r,s,o){let c=jl(i),u=n.firstCreatePass&&YC(n),d=e[rn],h=QC(e),m=!0;if(i.type&3||o){let x=fi(i,e),S=o?o(x):x,F=h.length,V=o?X=>o(qi(X[i.index])):i.index,q=null;if(!o&&c&&(q=AO(n,e,r,i.index)),q!==null){let X=q.__ngLastListenerFn__||q;X.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=Xv(i,e,d,s),zO(x,r,s);let X=t.listen(S,r,s);h.push(s,X),u&&u.push(r,V,F,F+1)}}else s=Xv(i,e,d,s);let g=i.outputs,y;if(m&&g!==null&&(y=g[r])){let x=y.length;if(x)for(let S=0;S<x;S+=2){let F=y[S],V=y[S+1],we=e[F][V].subscribe(s),ce=h.length;h.push(s,we),u&&u.push(r,i.index,ce,-(ce+1))}}}function Zv(n,e,t,i){let r=Be(null);try{return Ui(6,e,t),t(i)!==!1}catch(s){return XC(n,s),!1}finally{Ui(7,e,t),Be(r)}}function Xv(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Ts(n.index,e):e;Mf(o,5);let c=Zv(e,t,i,s),a=r.__ngNextListenerFn__;for(;a;)c=Zv(e,t,a,s)&&c,a=a.__ngNextListenerFn__;return c}}function P(n=1){return KN(n)}function DO(n,e){let t=null,i=nN(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?hb(n,s,!0):sN(i,s))return r}return t}function p2(n){let e=De()[$n][kn];if(!e.projection){let t=n?n.length:1,i=e.projection=GT(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?DO(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function Rs(n,e=0,t,i,r,s){let o=De(),c=ht(),a=i?n+1:null;a!==null&&Tl(o,c,a,i,r,s,null,t);let u=f2(c,wn+n,16,null,t||null);u.projection===null&&(u.projection=e),Q5();let h=!o[n2]||kb();o[$n][kn].projection[u.projection]===null&&a!==null?TO(o,c,a):h&&(u.flags&32)!==32&&gk(c,o,u)}function TO(n,e,t){let i=wn+t,r=e.data[i],s=n[i],o=o2(s,r.tView.ssrId),c=fa(n,r,void 0,{dehydratedView:o});ha(s,c,0,s2(r,o))}function Tf(n,e,t){return zi(n,"",e,"",t),Tf}function zi(n,e,t,i,r){let s=De(),o=mM(s,e,t,i);if(o!==Gn){let c=ht(),a=No();h2(c,a,s,n,o,s[lt],r,!1)}return zi}function Nf(n,e,t,i,r,s,o){let c=De(),a=JR(c,e,t,i,r,s);if(a!==Gn){let u=ht(),d=No();h2(u,d,c,n,a,c[lt],o,!1)}return Nf}function Os(n,e,t){RR(n,e,t)}function Ur(n){let e=De(),t=ht(),i=Vb();X5(i+1);let r=Lf(t,i);if(n.dirty&&DN(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=VR(e,i);n.reset(s,CP),n.notifyOnChanges()}return!0}return!1}function jr(){return PR(De(),Vb())}function bt(n){let e=UN();return AN(e,wn+n)}function $(n,e=""){let t=De(),i=ht(),r=n+wn,s=i.firstCreatePass?f2(i,r,1,e,null):i.data[r],o=NO(i,t,s,e,n);t[r]=o,ql()&&Xl(i,t,o,s),To(s,!1)}var NO=(n,e,t,i,r)=>(Wl(!0),nk(e[lt],i));function cn(n){return Xi("",n,""),cn}function Xi(n,e,t){let i=De(),r=mM(i,n,e,t);return r!==Gn&&qk(i,Ps(),r),Xi}function ko(n,e,t){fM(e)&&(e=e());let i=De(),r=Ns();if(qn(i,r,e)){let s=ht(),o=No();h2(s,o,i,n,e,i[lt],t,!1)}return ko}function m2(n,e){let t=fM(n);return t&&n.set(e),t}function Ro(n,e){let t=De(),i=ht(),r=Kt();return Df(i,t,t[lt],r,n,e),Ro}function PO(n,e,t){let i=ht();if(i.firstCreatePass){let r=Ir(n);T5(t,i.data,i.blueprint,r,!0),T5(e,i.data,i.blueprint,r,!1)}}function T5(n,e,t,i,r){if(n=Cn(n),Array.isArray(n))for(let s=0;s<n.length;s++)T5(n[s],e,t,i,r);else{let s=ht(),o=De(),c=Kt(),a=t2(n)?n:Cn(n.provide),u=wb(n),d=c.providerIndexes&1048575,h=c.directiveStart,m=c.providerIndexes>>20;if(t2(n)||!n.multi){let g=new So(u,r,O),y=Ad(a,e,r?d:d+m,h);y===-1?(qd(Ml(c,o),s,a),zd(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(g),o.push(g)):(t[y]=g,o[y]=g)}else{let g=Ad(a,e,d+m,h),y=Ad(a,e,d,d+m),x=g>=0&&t[g],S=y>=0&&t[y];if(r&&!S||!r&&!x){qd(Ml(c,o),s,a);let F=OO(r?RO:kO,t.length,r,i,u);!r&&S&&(t[y].providerFactory=F),zd(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=LM(t[r?y:g],u,!r&&i);zd(s,n,g>-1?g:y,F)}!r&&i&&S&&t[y].componentProviders++}}}function zd(n,e,t,i){let r=t2(e),s=mN(e);if(r||s){let a=(s?Cn(e.useClass):e).prototype.ngOnDestroy;if(a){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[i,a]):u[d+1].push(i,a)}else u.push(t,a)}}}function LM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ad(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function kO(n,e,t,i){return N5(this.multi,[])}function RO(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=zo(t,t[Le],this.providerFactory.index,i);s=c.slice(0,o),N5(r,s);for(let a=o;a<c.length;a++)s.push(c[a])}else s=[],N5(r,s);return s}function N5(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function OO(n,e,t,i,r){let s=new So(n,t,O);return s.multi=[],s.index=e,s.componentProviders=0,LM(s,r,i&&!t),s}function Ai(n,e=[]){return t=>{t.providersResolver=(i,r)=>PO(i,r?r(n):n,e)}}var FO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=bb(!1,t.type),r=i.length>0?Ef([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(k(di))})}}return n})();function ve(n){Po("NgStandalone"),n.getStandaloneInjector=e=>e.get(FO).getOrCreateStandaloneInjector(n)}function pa(n,e,t,i){return VO(De(),Fb(),n,e,t,i)}function i3(n,e,t,i,r){return BO(De(),Fb(),n,e,t,i,r)}function EM(n,e){let t=n[e];return t===Gn?void 0:t}function VO(n,e,t,i,r,s){let o=e+t;return qn(n,o,r)?hM(n,o+1,s?i.call(s,r):i(r)):EM(n,o+1)}function BO(n,e,t,i,r,s,o){let c=e+t;return pM(n,c,r,s)?hM(n,c+2,o?i.call(o,r,s):i(r,s)):EM(n,c+2)}var Ki=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},IM=new Ki("18.2.12");var r3=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Pf=new te(""),ma=new te(""),s3=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,kf||(UO(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(k(fe),k(o3),k(ma))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),o3=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return kf?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function UO(n){kf=n}var kf;function Oo(n){return!!n&&typeof n.then=="function"}function SM(n){return!!n&&typeof n.subscribe=="function"}var zM=new te(""),AM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=U(zM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(Oo(s))t.push(s);else if(SM(s)){let o=new Promise((c,a)=>{s.subscribe({complete:c,error:a})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rf=new te("");function jO(){ky(()=>{throw new K(600,!1)})}function HO(n){return n.isBoundToModule}var $O=10;function qO(n,e,t){try{let i=t();return Oo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Ji=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(vP),this.afterRenderManager=U(XR),this.zonelessEnabled=U(xf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ne,this.afterTick=new Ne,this.componentTypes=[],this.components=[],this.isStable=U(u2).hasPendingTasks.pipe(ee(t=>!t)),this._injector=U(di)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Sl;if(!this._injector.get(AM).done){let m=!r&&gb(t),g=!1;throw new K(405,g)}let o;r?o=t:o=this._injector.get(Gi).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=HO(o)?void 0:this._injector.get(Ds),a=i||o.selector,u=o.create(vt.NULL,[],a,c),d=u.location.nativeElement,h=u.injector.get(Pf,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),dl(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new K(101,!1);let t=Be(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Be(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(As,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<$O;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)WO(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;dl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Rf,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>dl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WO(n,e,t,i){if(!t&&!Hl(n))return;iM(n,e,t&&!i?0:1)}var P5=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Of=(()=>{class n{compileModuleSync(t){return new M5(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=_b(t),s=SC(r.declarations).reduce((o,c)=>{let a=wo(c);return a&&o.push(new ra(a)),o},[]);return new P5(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GO=(()=>{class n{constructor(){this.zone=U(fe),this.changeDetectionScheduler=U(c2),this.applicationRef=U(Ji)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KO({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new fe(ae(N({},QO()),{scheduleInRootZone:t})),[{provide:fe,useFactory:n},{provide:e2,multi:!0,useFactory:()=>{let i=U(GO,{optional:!0});return()=>i.initialize()}},{provide:e2,multi:!0,useFactory:()=>{let i=U(YO);return()=>{i.initialize()}}},e===!0?{provide:cM,useValue:!0}:[],{provide:aM,useValue:t??iC}]}function QO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YO=(()=>{class n{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=U(fe),this.pendingTasks=U(u2)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ZO=(()=>{class n{constructor(){this.appRef=U(Ji),this.taskService=U(u2),this.ngZone=U(fe),this.zonelessEnabled=U(xf),this.disableScheduling=U(cM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ye,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(aM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?zv:rC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XO(){return typeof $localize<"u"&&$localize.locale||Rl}var c3=new te("",{providedIn:"root",factory:()=>U(c3,Ue.Optional|Ue.SkipSelf)||XO()});var k5=new te("");function ol(n){return!n.moduleRef}function JO(n){let e=ol(n)?n.r3Injector:n.moduleRef.injector,t=e.get(fe);return t.run(()=>{ol(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Wi,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),ol(n)){let s=()=>e.destroy(),o=n.platformInjector.get(k5);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(k5);o.add(s),n.moduleRef.onDestroy(()=>{dl(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return qO(i,t,()=>{let s=e.get(AM);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(c3,Rl);if(SO(o||Rl),ol(n)){let c=e.get(Ji);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return eF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function eF(n,e){let t=n.injector.get(Ji);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}var fl=null;function tF(n=[],e){return vt.create({name:e,providers:[{provide:Vl,useValue:"platform"},{provide:k5,useValue:new Set([()=>fl=null])},...n]})}function nF(n=[]){if(fl)return fl;let e=tF(n);return fl=e,jO(),iF(e),e}function iF(n){n.get(cf,null)?.forEach(t=>t())}var Kn=(()=>{class n{static{this.__NG_ELEMENT_ID__=rF}}return n})();function rF(n){return sF(Kt(),De(),(n&16)===16)}function sF(n,e,t){if(Ul(n)&&!t){let i=Ts(n.index,e);return new Ao(i,i)}else if(n.type&175){let i=e[$n];return new Ao(i,e)}return null}var DM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(k(Ji))}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})();function TM(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=nF(i),s=[KO({}),{provide:c2,useExisting:ZO},...t||[]],o=new Dl({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return JO({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function xn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ga(n,e){Po("NgSignals");let t=Ty(n);return e?.equal&&(t[xr].equal=e.equal),t}function Hr(n){let e=Be(null);try{return n()}finally{Be(e)}}var OM=null;function er(){return OM}function FM(n){OM??=n}var a3=class{};var Ie=new te(""),VM=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>U(aF),providedIn:"platform"})}}return n})();var aF=(()=>{class n extends VM{constructor(){super(),this._doc=U(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(t){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function BM(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function NM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Fo(n){return n&&n[0]!=="?"?"?"+n:n}var g2=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>U(UM),providedIn:"root"})}}return n})(),lF=new te(""),UM=(()=>{class n extends g2{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??U(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return BM(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Fo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Fo(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Fo(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(k(VM),k(lF,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vo=(()=>{class n{constructor(t){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=fF(NM(PM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Fo(i))}normalize(t){return n.stripTrailingSlash(dF(this._basePath,PM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Fo}static{this.joinWithSlash=BM}static{this.stripTrailingSlash=NM}static{this.\u0275fac=function(i){return new(i||n)(k(g2))}}static{this.\u0275prov=G({token:n,factory:()=>uF(),providedIn:"root"})}}return n})();function uF(){return new Vo(k(g2))}function dF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function PM(n){return n.replace(/\/index.html$/,"")}function fF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function jM(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Ff=/\s+/,kM=[],_2=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=kM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Ff):kM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ff):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Ff).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(Rn))}}static{this.\u0275dir=He({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var HM=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Vf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Si),O(Ei))}}static{this.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Vf=class{constructor(){this.$implicit=null,this.ngIf=null}};function RM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Mn(e)}'.`)}var mi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})(),Bf="browser",hF="server";function $M(n){return n===Bf}function Uf(n){return n===hF}var l3=class{};var qf=class extends a3{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wf=class n extends qf{static makeCurrent(){FM(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=pF();return t==null?null:mF(t)}resetBaseElement(){_a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jM(document.cookie,e)}},_a=null;function pF(){return _a=_a||document.querySelector("base"),_a?_a.getAttribute("href"):null}function mF(n){return new URL(n,document.baseURI).pathname}var Gf=class{addToWindow(e){ui.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new K(5103,!1);return s},ui.getAllAngularTestabilities=()=>e.getAllTestabilities(),ui.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=ui.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(c=>{c.whenStable(o)})};ui.frameworkStabilizers||(ui.frameworkStabilizers=[]),ui.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?er().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},gF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Kf=new te(""),GM=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(k(Kf),k(fe))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),u3=class{constructor(e){this._doc=e}},Hf="ng-app-id",KM=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Uf(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Hf}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Hf),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Hf,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(k(Ie),k(la),k(ua,8),k(Zi))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),$f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yf=/%COMP%/g,QM="%COMP%",_F=`_nghost-${QM}`,yF=`_ngcontent-${QM}`,vF=!0,bF=new te("",{providedIn:"root",factory:()=>vF});function CF(n){return yF.replace(Yf,n)}function MF(n){return _F.replace(Yf,n)}function YM(n,e){return e.map(t=>t.replace(Yf,n))}var d3=(()=>{class n{constructor(t,i,r,s,o,c,a,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Uf(c),this.defaultRenderer=new ya(t,o,a,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Hi.ShadowDom&&(i=ae(N({},i),{encapsulation:Hi.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof f3?r.applyToHost(t):r instanceof va&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Hi.Emulated:s=new f3(a,u,i,this.appId,d,o,c,h);break;case Hi.ShadowDom:return new Qf(a,u,t,i,o,c,this.nonce,h);default:s=new va(a,u,i,d,o,c,h);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(k(GM),k(KM),k(la),k(bF),k(Ie),k(Zi),k(fe),k(ua))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),ya=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($f[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(qM(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(qM(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new K(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=$f[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=$f[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(zr.DashCase|zr.Important)?e.style.setProperty(t,i,r&zr.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&zr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function qM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qf=class extends ya{constructor(e,t,i,r,s,o,c,a){super(e,s,o,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=YM(r.id,r.styles);for(let d of u){let h=document.createElement("style");c&&h.setAttribute("nonce",c),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},va=class extends ya{constructor(e,t,i,r,s,o,c,a){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=a?YM(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},f3=class extends va{constructor(e,t,i,r,s,o,c,a){let u=r+"-"+i.id;super(e,t,i,s,o,c,a,u),this.contentAttr=CF(u),this.hostAttr=MF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},wF=(()=>{class n extends u3{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),WM=["alt","control","meta","shift"],xF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},EF=(()=>{class n extends u3{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),WM.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),o+=u+".")}),o+=s,i.length!=0||s.length===0)return null;let a={};return a.domEventName=r,a.fullKey=o,a}static matchEventFullKeyCode(t,i){let r=xF[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),WM.forEach(o=>{if(o!==r){let c=LF[o];c(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function ZM(n,e){return TM(N({rootComponent:n},IF(e)))}function IF(n){return{appProviders:[...XM,...n?.providers??[]],platformProviders:DF}}function SF(){Wf.makeCurrent()}function zF(){return new Wi}function AF(){return dC(document),document}var DF=[{provide:Zi,useValue:Bf},{provide:cf,useValue:SF,multi:!0},{provide:Ie,useFactory:AF,deps:[]}];var TF=new te(""),NF=[{provide:ma,useClass:Gf,deps:[]},{provide:Pf,useClass:s3,deps:[fe,o3,ma]},{provide:s3,useClass:s3,deps:[fe,o3,ma]}],XM=[{provide:Vl,useValue:"root"},{provide:Wi,useFactory:zF,deps:[]},{provide:Kf,useClass:wF,multi:!0,deps:[Ie,fe,Zi]},{provide:Kf,useClass:EF,multi:!0,deps:[Ie]},d3,KM,GM,{provide:As,useExisting:d3},{provide:l3,useClass:gF,deps:[]},[]],JM=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:la,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(k(TF,12))}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({providers:[...XM,...NF],imports:[mi,DM]})}}return n})();var ew=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ba=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=k(PF),r},providedIn:"root"})}}return n})(),PF=(()=>{class n extends ba{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Ii.NONE:return i;case Ii.HTML:return Pr(i,"HTML")?pi(i):lf(this._doc,String(i)).toString();case Ii.STYLE:return Pr(i,"Style")?pi(i):i;case Ii.SCRIPT:if(Pr(i,"Script"))return pi(i);throw new K(5200,!1);case Ii.URL:return Pr(i,"URL")?pi(i):Ql(String(i));case Ii.RESOURCE_URL:if(Pr(i,"ResourceURL"))return pi(i);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(t){return mC(t)}bypassSecurityTrustStyle(t){return gC(t)}bypassSecurityTrustScript(t){return _C(t)}bypassSecurityTrustUrl(t){return yC(t)}bypassSecurityTrustResourceUrl(t){return vC(t)}static{this.\u0275fac=function(i){return new(i||n)(k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Oe="primary",Ra=Symbol("RouteTitle"),n7=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function w2(n){return new n7(n)}function kF(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],c=n[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function RF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!tr(n[t],e[t]))return!1;return!0}function tr(n,e){let t=n?i7(n):void 0,i=e?i7(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!aw(n[r],e[r]))return!1;return!0}function i7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function lw(n){return n.length>0?n[n.length-1]:null}function Vs(n){return W4(n)?n:Oo(n)?Ae(Promise.resolve(n)):se(n)}var OF={exact:dw,subset:fw},uw={exact:FF,subset:VF,ignored:()=>!0};function tw(n,e,t){return OF[t.paths](n.root,e.root,t.matrixParams)&&uw[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function FF(n,e){return tr(n,e)}function dw(n,e,t){if(!Uo(n.segments,e.segments)||!m3(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!dw(n.children[i],e.children[i],t))return!1;return!0}function VF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aw(n[t],e[t]))}function fw(n,e,t){return hw(n,e,e.segments,t)}function hw(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Uo(r,t)||e.hasChildren()||!m3(r,t,i))}else if(n.segments.length===t.length){if(!Uo(n.segments,t)||!m3(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!fw(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Uo(n.segments,r)||!m3(n.segments,r,i)||!n.children[Oe]?!1:hw(n.children[Oe],e,s,i)}}function m3(n,e,t){return e.every((i,r)=>uw[t](n[r].parameters,i.parameters))}var qr=class{constructor(e=new tt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=w2(this.queryParams),this._queryParamMap}toString(){return jF.serialize(this)}},tt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g3(this)}},Bo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=w2(this.parameters),this._parameterMap}toString(){return mw(this)}};function BF(n,e){return Uo(n,e)&&n.every((t,i)=>tr(t.parameters,e[i].parameters))}function Uo(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function UF(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Oe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Oe&&(t=t.concat(e(r,i)))}),t}var z7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>new Ia,providedIn:"root"})}}return n})(),Ia=class{parse(e){let t=new s7(e);return new qr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ca(e.root,!0)}`,i=qF(e.queryParams),r=typeof e.fragment=="string"?`#${HF(e.fragment)}`:"";return`${t}${i}${r}`}},jF=new Ia;function g3(n){return n.segments.map(e=>mw(e)).join("/")}function Ca(n,e){if(!n.hasChildren())return g3(n);if(e){let t=n.children[Oe]?Ca(n.children[Oe],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Oe&&i.push(`${r}:${Ca(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=UF(n,(i,r)=>r===Oe?[Ca(n.children[Oe],!1)]:[`${r}:${Ca(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Oe]!=null?`${g3(n)}/${t[0]}`:`${g3(n)}/(${t.join("//")})`}}function pw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function h3(n){return pw(n).replace(/%3B/gi,";")}function HF(n){return encodeURI(n)}function r7(n){return pw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _3(n){return decodeURIComponent(n)}function nw(n){return _3(n.replace(/\+/g,"%20"))}function mw(n){return`${r7(n.path)}${$F(n.parameters)}`}function $F(n){return Object.entries(n).map(([e,t])=>`;${r7(e)}=${r7(t)}`).join("")}function qF(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${h3(t)}=${h3(r)}`).join("&"):`${h3(t)}=${h3(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var WF=/^[^\/()?;#]+/;function Xf(n){let e=n.match(WF);return e?e[0]:""}var GF=/^[^\/()?;=#]+/;function KF(n){let e=n.match(GF);return e?e[0]:""}var QF=/^[^=?&#]+/;function YF(n){let e=n.match(QF);return e?e[0]:""}var ZF=/^[^&#]+/;function XF(n){let e=n.match(ZF);return e?e[0]:""}var s7=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new tt([],{}):new tt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Oe]=new tt(e,t)),i}parseSegment(){let e=Xf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Bo(_3(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=KF(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Xf(this.remaining);r&&(i=r,this.capture(i))}e[_3(t)]=_3(i)}parseQueryParam(e){let t=YF(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=XF(this.remaining);o&&(i=o,this.capture(i))}let r=nw(t),s=nw(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Xf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new K(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Oe);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Oe]:new tt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function gw(n){return n.segments.length>0?new tt([],{[Oe]:n}):n}function _w(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=_w(r);if(i===Oe&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new tt(n.segments,e);return JF(t)}function JF(n){if(n.numberOfChildren===1&&n.children[Oe]){let e=n.children[Oe];return new tt(n.segments.concat(e.segments),e.children)}return n}function jo(n){return n instanceof qr}function eV(n,e,t=null,i=null){let r=yw(n);return vw(r,e,t,i)}function yw(n){let e;function t(s){let o={};for(let a of s.children){let u=t(a);o[a.outlet]=u}let c=new tt(s.url,o);return s===n&&(e=c),c}let i=t(n.root),r=gw(i);return e??r}function vw(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Jf(r,r,r,t,i);let s=tV(e);if(s.toRoot())return Jf(r,r,new tt([],{}),t,i);let o=nV(s,r,n),c=o.processChildren?xa(o.segmentGroup,o.index,s.commands):Cw(o.segmentGroup,o.index,s.commands);return Jf(r,o.segmentGroup,c,t,i)}function y3(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Sa(n){return typeof n=="object"&&n!=null&&n.outlets}function Jf(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([a,u])=>{s[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=bw(n,e,t);let c=gw(_w(o));return new qr(c,s,r)}function bw(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=bw(s,e,t)}),new tt(n.segments,i)}var v3=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&y3(i[0]))throw new K(4003,!1);let r=i.find(Sa);if(r&&r!==lw(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new v3(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new v3(t,e,i)}var b2=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function nV(n,e,t){if(n.isAbsolute)return new b2(e,!0,0);if(!t)return new b2(e,!1,NaN);if(t.parent===null)return new b2(t,!0,0);let i=y3(n.commands[0])?0:1,r=t.segments.length-1+i;return iV(t,r,n.numberOfDoubleDots)}function iV(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new K(4005,!1);r=i.segments.length}return new b2(i,!1,r-s)}function rV(n){return Sa(n[0])?n[0].outlets:{[Oe]:n}}function Cw(n,e,t){if(n??=new tt([],{}),n.segments.length===0&&n.hasChildren())return xa(n,e,t);let i=sV(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new tt(n.segments.slice(0,i.pathIndex),{});return s.children[Oe]=new tt(n.segments.slice(i.pathIndex),n.children),xa(s,0,r)}else return i.match&&r.length===0?new tt(n.segments,{}):i.match&&!n.hasChildren()?o7(n,e,t):i.match?xa(n,0,r):o7(n,e,t)}function xa(n,e,t){if(t.length===0)return new tt(n.segments,{});{let i=rV(t),r={};if(Object.keys(i).some(s=>s!==Oe)&&n.children[Oe]&&n.numberOfChildren===1&&n.children[Oe].segments.length===0){let s=xa(n.children[Oe],e,t);return new tt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Cw(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new tt(n.segments,r)}}function sV(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],c=t[i];if(Sa(c))break;let a=`${c}`,u=i<t.length-1?t[i+1]:null;if(r>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!rw(a,u,o))return s;i+=2}else{if(!rw(a,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function o7(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Sa(s)){let a=oV(s.outlets);return new tt(i,a)}if(r===0&&y3(t[0])){let a=n.segments[e];i.push(new Bo(a.path,iw(t[0]))),r++;continue}let o=Sa(s)?s.outlets[Oe]:`${s}`,c=r<t.length-1?t[r+1]:null;o&&c&&y3(c)?(i.push(new Bo(o,iw(c))),r+=2):(i.push(new Bo(o,{})),r++)}return new tt(i,{})}function oV(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=o7(new tt([],{}),0,i))}),e}function iw(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function rw(n,e,t){return n==t.path&&tr(e,t.parameters)}var La="imperative",Yt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Yt||{}),gi=class{constructor(e,t){this.id=e,this.url=t}},za=class extends gi{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Yt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fs=class extends gi{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Yn||{}),c7=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(c7||{}),$r=class extends gi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ho=class extends gi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Yt.NavigationSkipped}},Aa=class extends gi{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},b3=class extends gi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a7=class extends gi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},l7=class extends gi{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},u7=class extends gi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},d7=class extends gi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},f7=class{constructor(e){this.route=e,this.type=Yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},h7=class{constructor(e){this.route=e,this.type=Yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},p7=class{constructor(e){this.snapshot=e,this.type=Yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},m7=class{constructor(e){this.snapshot=e,this.type=Yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g7=class{constructor(e){this.snapshot=e,this.type=Yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_7=class{constructor(e){this.snapshot=e,this.type=Yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},x2=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function cV(n,e){return n.providers&&!n._injector&&(n._injector=Ef(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Di(n){return n.outlet||Oe}function aV(n,e){let t=n.filter(i=>Di(i)===e);return t.push(...n.filter(i=>Di(i)!==e)),t}function Oa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var y7=class{get injector(){return Oa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new I3(this.rootInjector),this.attachRef=null}},I3=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new y7(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(k(di))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),C3=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=v7(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=v7(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=b7(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return b7(e,this._root).map(t=>t.value)}};function v7(n,e){if(n===e.value)return e;for(let t of e.children){let i=v7(n,t);if(i)return i}return null}function b7(n,e){if(n===e.value)return[e];for(let t of e.children){let i=b7(n,t);if(i.length)return i.unshift(e),i}return[]}var Qn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function v2(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var M3=class extends C3{constructor(e,t){super(e),this.snapshot=t,A7(this,e)}toString(){return this.snapshot.toString()}};function Mw(n){let e=lV(n),t=new Dt([new Bo("",{})]),i=new Dt({}),r=new Dt({}),s=new Dt({}),o=new Dt(""),c=new Ln(t,i,s,o,r,Oe,n,e.root);return c.snapshot=e.root,new M3(new Qn(c,[]),e)}function lV(n){let e={},t={},i={},r="",s=new C2([],e,i,r,t,Oe,n,null,{});return new x3("",new Qn(s,[]))}var Ln=class{constructor(e,t,i,r,s,o,c,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(ee(u=>u[Ra]))??se(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>w2(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>w2(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function w3(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),r?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},r&&xw(r)&&(i.resolve[Ra]=r.title),i}var C2=class{get title(){return this.data?.[Ra]}constructor(e,t,i,r,s,o,c,a,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=w2(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=w2(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},x3=class extends C3{constructor(e,t){super(t),this.url=e,A7(this,t)}toString(){return ww(this._root)}};function A7(n,e){e.value._routerState=n,e.children.forEach(t=>A7(n,t))}function ww(n){let e=n.children.length>0?` { ${n.children.map(ww).join(", ")} } `:"";return`${n.value}${e}`}function e7(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,tr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),tr(e.params,t.params)||n.paramsSubject.next(t.params),RF(e.url,t.url)||n.urlSubject.next(t.url),tr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function C7(n,e){let t=tr(n.params,e.params)&&BF(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||C7(n.parent,e.parent))}function xw(n){return typeof n.title=="string"||n.title===null}var D7=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=U(I3),this.location=U(Si),this.changeDetector=U(Kn),this.inputBinder=U(T7,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new M7(t,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:a,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bt]})}}return n})(),M7=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ln?this.route:e===I3?this.childContexts:this.parent.get(e,t)}},T7=new te("");function uV(n,e,t){let i=Ta(n,e._root,t?t._root:void 0);return new M3(i,e)}function Ta(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=dV(n,e,t);return new Qn(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ta(n,c)),o}}let i=fV(e.value),r=e.children.map(s=>Ta(n,s));return new Qn(i,r)}}function dV(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ta(n,i,r);return Ta(n,i)})}function fV(n){return new Ln(new Dt(n.url),new Dt(n.params),new Dt(n.queryParams),new Dt(n.fragment),new Dt(n.data),n.outlet,n.component,n)}var Na=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Lw="ngNavigationCancelingError";function L3(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ew(!1,Yn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Ew(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Lw]=!0,t.cancellationCode=e,t}function hV(n){return Iw(n)&&jo(n.url)}function Iw(n){return!!n&&n[Lw]}var pV=(n,e,t,i)=>ee(r=>(new w7(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),w7=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),e7(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=v2(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=v2(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=v2(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=v2(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new _7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new m7(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(e7(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),e7(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},E3=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},M2=class{constructor(e,t){this.component=e,this.route=t}};function mV(n,e,t){let i=n._root,r=e?e._root:null;return Ma(i,r,t,[i.value])}function gV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function E2(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!tb(n)?n:e.get(n):i}function Ma(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=v2(e);return n.children.forEach(o=>{_V(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Ea(c,t.getContext(o),r)),r}function _V(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=yV(o,s,s.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new E3(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ma(n,e,c?c.children:null,i,r):Ma(n,e,t,i,r),a&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new M2(c.outlet.component,o))}else o&&Ea(e,c,r),r.canActivateChecks.push(new E3(i)),s.component?Ma(n,null,c?c.children:null,i,r):Ma(n,null,t,i,r);return r}function yV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Uo(n.url,e.url)||!tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C7(n,e)||!tr(n.queryParams,e.queryParams);case"paramsChange":default:return!C7(n,e)}}function Ea(n,e,t){let i=v2(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Ea(o,e.children.getContext(s),t):Ea(o,null,t):Ea(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new M2(e.outlet.component,r)):t.canDeactivateChecks.push(new M2(null,r)):t.canDeactivateChecks.push(new M2(null,r))}function Fa(n){return typeof n=="function"}function vV(n){return typeof n=="boolean"}function bV(n){return n&&Fa(n.canLoad)}function CV(n){return n&&Fa(n.canActivate)}function MV(n){return n&&Fa(n.canActivateChild)}function wV(n){return n&&Fa(n.canDeactivate)}function xV(n){return n&&Fa(n.canMatch)}function Sw(n){return n instanceof Lr||n?.name==="EmptyError"}var p3=Symbol("INITIAL_VALUE");function L2(){return Pe(n=>si(n.map(e=>e.pipe(nn(1),bo(p3)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===p3)return p3;if(t===!1||LV(t))return t}return!0}),Lt(e=>e!==p3),nn(1)))}function LV(n){return jo(n)||n instanceof Na}function EV(n,e){return Tt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?se(ae(N({},t),{guardsResult:!0})):IV(o,i,r,n).pipe(Tt(c=>c&&vV(c)?SV(i,s,n,e):se(c)),ee(c=>ae(N({},t),{guardsResult:c})))})}function IV(n,e,t,i){return Ae(n).pipe(Tt(r=>NV(r.component,r.route,t,e,i)),ci(r=>r!==!0,!0))}function SV(n,e,t,i){return Ae(e).pipe(q1(r=>Ms(AV(r.route.parent,i),zV(r.route,i),TV(n,r.path,t),DV(n,r.route,t))),ci(r=>r!==!0,!0))}function zV(n,e){return n!==null&&e&&e(new g7(n)),se(!0)}function AV(n,e){return n!==null&&e&&e(new p7(n)),se(!0)}function DV(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return se(!0);let r=i.map(s=>Q4(()=>{let o=Oa(e)??t,c=E2(s,o),a=CV(c)?c.canActivate(e,n):Tr(o,()=>c(e,n));return Vs(a).pipe(ci())}));return se(r).pipe(L2())}function TV(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gV(o)).filter(o=>o!==null).map(o=>Q4(()=>{let c=o.guards.map(a=>{let u=Oa(o.node)??t,d=E2(a,u),h=MV(d)?d.canActivateChild(i,n):Tr(u,()=>d(i,n));return Vs(h).pipe(ci())});return se(c).pipe(L2())}));return se(s).pipe(L2())}function NV(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return se(!0);let o=s.map(c=>{let a=Oa(e)??r,u=E2(c,a),d=wV(u)?u.canDeactivate(n,e,t,i):Tr(a,()=>u(n,e,t,i));return Vs(d).pipe(ci())});return se(o).pipe(L2())}function PV(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return se(!0);let s=r.map(o=>{let c=E2(o,n),a=bV(c)?c.canLoad(e,t):Tr(n,()=>c(e,t));return Vs(a)});return se(s).pipe(L2(),zw(i))}function zw(n){return A4(Ke(e=>{if(typeof e!="boolean")throw L3(n,e)}),ee(e=>e===!0))}function kV(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return se(!0);let s=r.map(o=>{let c=E2(o,n),a=xV(c)?c.canMatch(e,t):Tr(n,()=>c(e,t));return Vs(a)});return se(s).pipe(L2(),zw(i))}var Pa=class{constructor(e){this.segmentGroup=e||null}},ka=class extends Error{constructor(e){super(),this.urlTree=e}};function y2(n){return Hn(new Pa(n))}function RV(n){return Hn(new K(4e3,!1))}function OV(n){return Hn(Ew(!1,Yn.GuardRejected))}var x7=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return se(i);if(r.numberOfChildren>1||!r.children[Oe])return RV(`${e.redirectTo}`);r=r.children[Oe]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let c=t,{queryParams:a,fragment:u,routeConfig:d,url:h,outlet:m,params:g,data:y,title:x}=r,S=Tr(s,()=>c({params:g,data:y,queryParams:a,fragment:u,routeConfig:d,url:h,outlet:m,title:x}));if(S instanceof qr)throw new ka(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new ka(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new qr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);i[r]=t[c]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,i,r)}),new tt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new K(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},L7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FV(n,e,t,i,r){let s=Aw(n,e,t);return s.matched?(i=cV(e,i),kV(i,e,t,r).pipe(ee(o=>o===!0?s:N({},L7)))):se(s)}function Aw(n,e,t){if(e.path==="**")return VV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},L7):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||kF)(t,n,e);if(!r)return N({},L7);let s={};Object.entries(r.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=r.consumed.length>0?N(N({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function VV(n){return{matched:!0,parameters:n.length>0?lw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sw(n,e,t,i){return t.length>0&&jV(n,t,i)?{segmentGroup:new tt(e,UV(i,new tt(t,n.children))),slicedSegments:[]}:t.length===0&&HV(n,t,i)?{segmentGroup:new tt(n.segments,BV(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new tt(n.segments,n.children),slicedSegments:t}}function BV(n,e,t,i){let r={};for(let s of t)if(S3(n,e,s)&&!i[Di(s)]){let o=new tt([],{});r[Di(s)]=o}return N(N({},i),r)}function UV(n,e){let t={};t[Oe]=e;for(let i of n)if(i.path===""&&Di(i)!==Oe){let r=new tt([],{});t[Di(i)]=r}return t}function jV(n,e,t){return t.some(i=>S3(n,e,i)&&Di(i)!==Oe)}function HV(n,e,t){return t.some(i=>S3(n,e,i))}function S3(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function $V(n,e,t){return e.length===0&&!n.children[t]}var E7=class{};function qV(n,e,t,i,r,s,o="emptyOnly"){return new I7(n,e,t,i,r,o,s).recognize()}var WV=31,I7=class{constructor(e,t,i,r,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new x7(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=sw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:i})=>{let r=new Qn(i,t),s=new x3("",r),o=eV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new C2([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Oe,t).pipe(ee(i=>({children:i,rootSnapshot:t})),yt(i=>{if(i instanceof ka)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Pa?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(ee(o=>o instanceof Qn?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(q1(o=>{let c=i.children[o],a=aV(t,o);return this.processSegmentGroup(e,a,c,o,r)}),J4((o,c)=>(o.push(...c),o)),ws(null),gd(),Tt(o=>{if(o===null)return y2(i);let c=Dw(o);return GV(c),se(c)}))}processSegment(e,t,i,r,s,o,c){return Ae(t).pipe(q1(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o,c).pipe(yt(u=>{if(u instanceof Pa)return se(null);throw u}))),ci(a=>!!a),yt(a=>{if(Sw(a))return $V(i,r,s)?se(new E7):y2(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,c,a){return Di(i)!==o&&(o===Oe||!S3(r,s,i))?y2(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,a):y2(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=Aw(t,r,s);if(!a)return y2(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WV&&(this.allowRedirects=!1));let g=new C2(s,u,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,ow(r),Di(r),r.component??r._loadedComponent??null,r,cw(r)),y=w3(g,c,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let x=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(r,x).pipe(Tt(S=>this.processSegment(e,i,t,S.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let c=FV(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(Pe(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Pe(({routes:u})=>{let d=i._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:g}=a,y=new C2(m,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,ow(i),Di(i),i.component??i._loadedComponent??null,i,cw(i)),x=w3(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data);let{segmentGroup:S,slicedSegments:F}=sw(t,m,g,u);if(F.length===0&&S.hasChildren())return this.processChildren(d,u,S,y).pipe(ee(q=>new Qn(y,q)));if(u.length===0&&F.length===0)return se(new Qn(y,[]));let V=Di(i)===s;return this.processSegment(d,u,S,F,V?Oe:s,!0,y).pipe(ee(q=>new Qn(y,q instanceof Qn?[q]:[])))}))):y2(t)))}getChildConfig(e,t,i){return t.children?se({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?se({routes:t._loadedRoutes,injector:t._loadedInjector}):PV(e,t,i,this.urlSerializer).pipe(Tt(r=>r?this.configLoader.loadChildren(e,t).pipe(Ke(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):OV(t))):se({routes:[],injector:e})}};function GV(n){n.sort((e,t)=>e.value.outlet===Oe?-1:t.value.outlet===Oe?1:e.value.outlet.localeCompare(t.value.outlet))}function KV(n){let e=n.value.routeConfig;return e&&e.path===""}function Dw(n){let e=[],t=new Set;for(let i of n){if(!KV(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=Dw(i.children);e.push(new Qn(i.value,r))}return e.filter(i=>!t.has(i))}function ow(n){return n.data||{}}function cw(n){return n.resolve||{}}function QV(n,e,t,i,r,s){return Tt(o=>qV(n,e,t,i,o.extractedUrl,r,s).pipe(ee(({state:c,tree:a})=>ae(N({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function YV(n,e){return Tt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return se(t);let s=new Set(r.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let u of Tw(a))o.add(u);let c=0;return Ae(o).pipe(q1(a=>s.has(a)?ZV(a,i,n,e):(a.data=w3(a,a.parent,n).resolve,se(void 0))),Ke(()=>c++),W1(1),Tt(a=>c===o.size?se(t):vn))})}function Tw(n){let e=n.children.map(t=>Tw(t)).flat();return[n,...e]}function ZV(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!xw(r)&&(s[Ra]=r.title),XV(s,n,e,i).pipe(ee(o=>(n._resolvedData=o,n.data=w3(n,n.parent,t).resolve,null)))}function XV(n,e,t,i){let r=i7(n);if(r.length===0)return se({});let s={};return Ae(r).pipe(Tt(o=>JV(n[o],e,t,i).pipe(ci(),Ke(c=>{if(c instanceof Na)throw L3(new Ia,c);s[o]=c}))),W1(1),md(s),yt(o=>Sw(o)?vn:Hn(o)))}function JV(n,e,t,i){let r=Oa(e)??i,s=E2(n,r),o=s.resolve?s.resolve(e,t):Tr(r,()=>s(e,t));return Vs(o)}function t7(n){return Pe(e=>{let t=n(e);return t?Ae(t).pipe(ee(()=>e)):se(e)})}var Nw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Oe);return i}getResolvedTitleForRoute(t){return t.data[Ra]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>U(eB),providedIn:"root"})}}return n})(),eB=(()=>{class n extends Nw{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(k(ew))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),N7=new te("",{providedIn:"root",factory:()=>({})}),tB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=pe({type:n,selectors:[["ng-component"]],standalone:!0,features:[ve],decls:1,vars:0,template:function(i,r){i&1&&J(0,"router-outlet")},dependencies:[D7],encapsulation:2})}}return n})();function P7(n){let e=n.children&&n.children.map(P7),t=e?ae(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Oe&&(t.component=tB),t}var k7=new te(""),nB=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(Of)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Vs(t.loadComponent()).pipe(ee(Pw),Ke(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Kc(()=>{this.componentLoaders.delete(t)})),r=new F1(i,()=>new Ne).pipe(O1());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=iB(i,this.compiler,t,this.onLoadEndListener).pipe(Kc(()=>{this.childrenLoaders.delete(i)})),o=new F1(s,()=>new Ne).pipe(O1());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iB(n,e,t,i){return Vs(n.loadChildren()).pipe(ee(Pw),Tt(r=>r instanceof sa||Array.isArray(r)?se(r):Ae(e.compileModuleAsync(r))),ee(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(t).injector,o=s.get(k7,[],{optional:!0,self:!0}).flat()),{routes:o.map(P7),injector:s}}))}function rB(n){return n&&typeof n=="object"&&"default"in n}function Pw(n){return rB(n)?n.default:n}var R7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>U(sB),providedIn:"root"})}}return n})(),sB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oB=new te("");var cB=new te(""),aB=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=U(nB),this.environmentInjector=U(di),this.urlSerializer=U(z7),this.rootContexts=U(I3),this.location=U(Vo),this.inputBindingEnabled=U(T7,{optional:!0})!==null,this.titleStrategy=U(Nw),this.options=U(N7,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(R7),this.createViewTransition=U(oB,{optional:!0}),this.navigationErrorHandler=U(cB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let t=r=>this.events.next(new f7(r)),i=r=>this.events.next(new h7(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ae(N(N({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),ee(s=>ae(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pe(s=>{let o=!1,c=!1;return se(s).pipe(Pe(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Yn.SupersededByNewNavigation),vn;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ae(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Ho(a.id,this.urlSerializer.serialize(a.rawUrl),h,c7.IgnoredSameUrlNavigation)),a.resolve(!1),vn}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return se(a).pipe(Pe(h=>{let m=this.transitions?.getValue();return this.events.next(new za(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?vn:Promise.resolve(h)}),QV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ae(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new b3(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:m,source:g,restoredState:y,extras:x}=a,S=new za(h,this.urlSerializer.serialize(m),g,y);this.events.next(S);let F=Mw(this.rootComponentType).snapshot;return this.currentTransition=s=ae(N({},a),{targetSnapshot:F,urlAfterRedirects:m,extras:ae(N({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,se(s)}else{let h="";return this.events.next(new Ho(a.id,this.urlSerializer.serialize(a.extractedUrl),h,c7.IgnoredByUrlHandlingStrategy)),a.resolve(!1),vn}}),Ke(a=>{let u=new a7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ee(a=>(this.currentTransition=s=ae(N({},a),{guards:mV(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),EV(this.environmentInjector,a=>this.events.next(a)),Ke(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw L3(this.urlSerializer,a.guardsResult);let u=new l7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Lt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Yn.GuardRejected),!1)),t7(a=>{if(a.guards.canActivateChecks.length)return se(a).pipe(Ke(u=>{let d=new u7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Pe(u=>{let d=!1;return se(u).pipe(YV(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Yn.NoDataFromResolver)}}))}),Ke(u=>{let d=new d7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),t7(a=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ke(m=>{d.component=m}),ee(()=>{})));for(let m of d.children)h.push(...u(m));return h};return si(u(a.targetSnapshot.root)).pipe(ws(null),nn(1))}),t7(()=>this.afterPreactivation()),Pe(()=>{let{currentSnapshot:a,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?Ae(d).pipe(ee(()=>s)):se(s)}),ee(a=>{let u=uV(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=ae(N({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ke(()=>{this.events.next(new Da)}),pV(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),nn(1),Ke({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),bn(this.transitionAbortSubject.pipe(Ke(a=>{throw a}))),Kc(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Yn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yt(a=>{if(c=!0,Iw(a))this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),hV(a)?this.events.next(new x2(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Aa(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let d=Tr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Na){let{message:h,cancellationCode:m}=L3(this.urlSerializer,d);this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),h,m)),this.events.next(new x2(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=t.errorHandler(a);s.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return vn}))}))}cancelNavigationTransition(t,i,r){let s=new $r(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lB(n){return n!==La}var uB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>U(dB),providedIn:"root"})}}return n})(),S7=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dB=(()=>{class n extends S7{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Yi(n)))(r||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:()=>U(fB),providedIn:"root"})}}return n})(),fB=(()=>{class n extends kw{constructor(){super(...arguments),this.location=U(Vo),this.urlSerializer=U(z7),this.options=U(N7,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(R7),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Mw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof za)this.stateMemento=this.createStateMemento();else if(t instanceof Ho)this.rawUrlTree=i.initialUrl;else if(t instanceof b3){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Da?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof $r&&(t.code===Yn.GuardRejected||t.code===Yn.NoDataFromResolver)?this.restoreHistory(i):t instanceof Aa?this.restoreHistory(i,!0):t instanceof Fs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof qr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=N(N({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Yi(n)))(r||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(wa||{});function hB(n,e){n.events.pipe(Lt(t=>t instanceof Fs||t instanceof $r||t instanceof Aa||t instanceof Ho),ee(t=>t instanceof Fs||t instanceof Ho?wa.COMPLETE:(t instanceof $r?t.code===Yn.Redirect||t.code===Yn.SupersededByNewNavigation:!1)?wa.REDIRECTING:wa.FAILED),Lt(t=>t!==wa.REDIRECTING),nn(1)).subscribe(()=>{e()})}function pB(n){throw n}var mB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ot=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=U(r3),this.stateManager=U(kw),this.options=U(N7,{optional:!0})||{},this.pendingTasks=U(u2),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(aB),this.urlSerializer=U(z7),this.location=U(Vo),this.urlHandlingStrategy=U(R7),this._events=new Ne,this.errorHandler=this.options.errorHandler||pB,this.navigated=!1,this.routeReuseStrategy=U(uB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(k7,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(T7,{optional:!0}),this.eventsSubscription=new Ye,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof $r&&i.code!==Yn.Redirect&&i.code!==Yn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fs)this.navigated=!0;else if(i instanceof x2){let o=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lB(r.source)},o);this.scheduleNavigation(c,La,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}yB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let a=N({},r);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(P7),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=i,u=a?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=r?r.snapshot:this.routerState.snapshot.root;h=yw(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return vw(h,t,d,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=jo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,La,null,i)}navigate(t,i={skipLocationChange:!1}){return _B(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=N({},mB):i===!1?r=N({},gB):r=i,jo(t))return tw(this.currentUrlTree,t,r);let s=this.parseUrl(t);return tw(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((h,m)=>{c=h,a=m});let d=this.pendingTasks.add();return hB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _B(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function yB(n){return!(n instanceof Da)&&!(n instanceof x2)}var jt=(()=>{class n{constructor(t,i,r,s,o,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Ne,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(jo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:EC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:jo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(O(ot),O(Ln),nf("tabindex"),O(Rn),O(Ge),O(g2))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Y("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Qt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xn],replaceUrl:[2,"replaceUrl","replaceUrl",xn],routerLink:"routerLink"},standalone:!0,features:[Or,Bt]})}}return n})();var vB=new te("");function Rw(n,...e){return Dr([{provide:k7,multi:!0,useValue:n},[],{provide:Ln,useFactory:bB,deps:[ot]},{provide:Rf,multi:!0,useFactory:CB},e.map(t=>t.\u0275providers)])}function bB(n){return n.routerState.root}function CB(){let n=U(vt);return e=>{let t=n.get(Ji);if(e!==t.components[0])return;let i=n.get(ot),r=n.get(MB);n.get(wB)===1&&i.initialNavigation(),n.get(xB,null,Ue.Optional)?.setUpPreloading(),n.get(vB,null,Ue.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var MB=new te("",{factory:()=>new Ne}),wB=new te("",{providedIn:"root",factory:()=>1});var xB=new te("");var Fw=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},LB=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],c=n[t++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,a=r+2<n.length,u=a?n[r+2]:0,d=s>>2,h=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,g=u&63;a||(g=64,o||(m=64)),i.push(t[d],t[h],t[m],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||u==null||h==null)throw new F7;let m=s<<2|c>>4;if(i.push(m),u!==64){let g=c<<4&240|u>>2;if(i.push(g),h!==64){let y=u<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},F7=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},EB=function(n){let e=Fw(n);return Vw.encodeByteArray(e,!0)},Va=function(n){return EB(n).replace(/\./g,"")},B7=function(n){try{return Vw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SB=()=>IB().__FIREBASE_DEFAULTS__,zB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&B7(n[1]);return e&&JSON.parse(e)},A3=()=>{try{return SB()||zB()||AB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},U7=n=>{var e,t;return(t=(e=A3())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},D3=n=>{let e=U7(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},j7=()=>{var n;return(n=A3())===null||n===void 0?void 0:n.config},H7=n=>{var e;return(e=A3())===null||e===void 0?void 0:e[`_${n}`]};var z3=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function T3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Va(JSON.stringify(t)),Va(JSON.stringify(o)),""].join(".")}function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function DB(){var n;let e=(n=A3())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jw(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $w(){let n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qw(){return!DB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $7(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var TB="FirebaseError",En=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=TB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gr.prototype.create)}},Gr=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?NB(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new En(r,c,i)}};function NB(n,e){return n.replace(PB,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var PB=/\{\$([^}]+)}/g;function Gw(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kr(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(Ow(s)&&Ow(o)){if(!Kr(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Ow(n){return n!==null&&typeof n=="object"}function Ba(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function I2(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function S2(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Kw(n,e){let t=new V7(n,e);return t.subscribe.bind(t)}var V7=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kB(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=O7),r.error===void 0&&(r.error=O7),r.complete===void 0&&(r.complete=O7);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function O7(){}var K2e=4*60*60*1e3;function ct(n){return n&&n._delegate?n._delegate:n}var On=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $o="[DEFAULT]";var q7=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new z3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OB(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RB(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RB(n){return n===$o?void 0:n}function OB(n){return n.instantiationMode==="EAGER"}var N3=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new q7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var FB=[],qe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qe||{}),VB={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},BB=qe.INFO,UB={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},jB=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=UB[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bs=class{constructor(e){this.name=e,this._logLevel=BB,this._logHandler=jB,this._userLogHandler=null,FB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}};var HB=(n,e)=>e.some(t=>n instanceof t),Qw,Yw;function $B(){return Qw||(Qw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qB(){return Yw||(Yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zw=new WeakMap,G7=new WeakMap,Xw=new WeakMap,W7=new WeakMap,Q7=new WeakMap;function WB(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(nr(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Zw.set(t,n)}).catch(()=>{}),Q7.set(e,n),e}function GB(n){if(G7.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});G7.set(n,e)}var K7={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return G7.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Jw(n){K7=n(K7)}function KB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(P3(this),e,...t);return Xw.set(i,e.sort?e.sort():[e]),nr(i)}:qB().includes(n)?function(...e){return n.apply(P3(this),e),nr(Zw.get(this))}:function(...e){return nr(n.apply(P3(this),e))}}function QB(n){return typeof n=="function"?KB(n):(n instanceof IDBTransaction&&GB(n),HB(n,$B())?new Proxy(n,K7):n)}function nr(n){if(n instanceof IDBRequest)return WB(n);if(W7.has(n))return W7.get(n);let e=QB(n);return e!==n&&(W7.set(n,e),Q7.set(e,n)),e}var P3=n=>Q7.get(n);function tx(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),c=nr(o);return i&&o.addEventListener("upgradeneeded",a=>{i(nr(o.result),a.oldVersion,a.newVersion,nr(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var YB=["get","getKey","getAll","getAllKeys","count"],ZB=["put","add","delete","clear"],Y7=new Map;function ex(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Y7.get(e))return Y7.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=ZB.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||YB.includes(t)))return;let s=function(o,...c){return b(this,null,function*(){let a=this.transaction(o,r?"readwrite":"readonly"),u=a.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&a.done]))[0]})};return Y7.set(e,s),s}Jw(n=>ae(N({},n),{get:(e,t,i)=>ex(e,t)||n.get(e,t,i),has:(e,t)=>!!ex(e,t)||n.has(e,t)}));var X7=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XB(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function XB(n){let e=n.getComponent();return e?.type==="VERSION"}var J7="@firebase/app",nx="0.10.13";var Qr=new Bs("@firebase/app"),JB="@firebase/app-compat",eU="@firebase/analytics-compat",tU="@firebase/analytics",nU="@firebase/app-check-compat",iU="@firebase/app-check",rU="@firebase/auth",sU="@firebase/auth-compat",oU="@firebase/database",cU="@firebase/data-connect",aU="@firebase/database-compat",lU="@firebase/functions",uU="@firebase/functions-compat",dU="@firebase/installations",fU="@firebase/installations-compat",hU="@firebase/messaging",pU="@firebase/messaging-compat",mU="@firebase/performance",gU="@firebase/performance-compat",_U="@firebase/remote-config",yU="@firebase/remote-config-compat",vU="@firebase/storage",bU="@firebase/storage-compat",CU="@firebase/firestore",MU="@firebase/vertexai-preview",wU="@firebase/firestore-compat",xU="firebase",LU="10.14.1";var eh="[DEFAULT]",EU={[J7]:"fire-core",[JB]:"fire-core-compat",[tU]:"fire-analytics",[eU]:"fire-analytics-compat",[iU]:"fire-app-check",[nU]:"fire-app-check-compat",[rU]:"fire-auth",[sU]:"fire-auth-compat",[oU]:"fire-rtdb",[cU]:"fire-data-connect",[aU]:"fire-rtdb-compat",[lU]:"fire-fn",[uU]:"fire-fn-compat",[dU]:"fire-iid",[fU]:"fire-iid-compat",[hU]:"fire-fcm",[pU]:"fire-fcm-compat",[mU]:"fire-perf",[gU]:"fire-perf-compat",[_U]:"fire-rc",[yU]:"fire-rc-compat",[vU]:"fire-gcs",[bU]:"fire-gcs-compat",[CU]:"fire-fst",[wU]:"fire-fst-compat",[MU]:"fire-vertex","fire-js":"fire-js",[xU]:"fire-js-all"};var Ua=new Map,IU=new Map,th=new Map;function ix(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ir(n){let e=n.name;if(th.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,n);for(let t of Ua.values())ix(t,n);for(let t of IU.values())ix(t,n);return!0}function qo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ti(n){return n.settings!==void 0}var SU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Gr("app","Firebase",SU);var nh=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}};var rr=LU;function sh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:eh,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Us.create("bad-app-name",{appName:String(r)});if(t||(t=j7()),!t)throw Us.create("no-options");let s=Ua.get(r);if(s){if(Kr(t,s.options)&&Kr(i,s.config))return s;throw Us.create("duplicate-app",{appName:r})}let o=new N3(r);for(let a of th.values())o.addComponent(a);let c=new nh(t,i,o);return Ua.set(r,c),c}function js(n=eh){let e=Ua.get(n);if(!e&&n===eh&&j7())return sh();if(!e)throw Us.create("no-app",{appName:n});return e}function k3(){return Array.from(Ua.values())}function It(n,e,t){var i;let r=(i=EU[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(c.join(" "));return}ir(new On(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var zU="firebase-heartbeat-database",AU=1,ja="firebase-heartbeat-store",Z7=null;function cx(){return Z7||(Z7=tx(zU,AU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ja)}catch(t){console.warn(t)}}}}).catch(n=>{throw Us.create("idb-open",{originalErrorMessage:n.message})})),Z7}function DU(n){return b(this,null,function*(){try{let t=(yield cx()).transaction(ja),i=yield t.objectStore(ja).get(ax(n));return yield t.done,i}catch(e){if(e instanceof En)Qr.warn(e.message);else{let t=Us.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}})}function rx(n,e){return b(this,null,function*(){try{let i=(yield cx()).transaction(ja,"readwrite");yield i.objectStore(ja).put(e,ax(n)),yield i.done}catch(t){if(t instanceof En)Qr.warn(t.message);else{let i=Us.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(i.message)}}})}function ax(n){return`${n.name}!${n.options.appId}`}var TU=1024,NU=30*24*60*60*1e3,ih=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new rh(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=NU}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Qr.warn(i)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=sx(),{heartbeatsToSend:i,unsentEntries:r}=PU(this._heartbeatsCache.heartbeats),s=Va(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Qr.warn(t),""}})}};function sx(){return new Date().toISOString().substring(0,10)}function PU(n,e=TU){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ox(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),ox(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var rh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return $7()?Ww().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield DU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return rx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return rx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function ox(n){return Va(JSON.stringify({version:2,heartbeats:n})).length}function kU(n){ir(new On("platform-logger",e=>new X7(e),"PRIVATE")),ir(new On("heartbeat",e=>new ih(e),"PRIVATE")),It(J7,nx,n),It(J7,nx,"esm2017"),It("fire-js","")}kU("");var RU="firebase",OU="10.14.1";It(RU,OU,"app");var Go=new Ki("ANGULARFIRE2_VERSION");function O3(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ha=(n,e)=>{let t=e?[e]:k3(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},A2=class{constructor(){return Ha(FU)}},FU="app-check";function z2(){}var R3=class{zone;delegate;constructor(e,t=fd){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},oh=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z2,{},z2,z2)),t.pipe(Ke({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},D2=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new R3(Zone.current)),this.insideAngular=t.run(()=>new R3(Zone.current,vs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(k(fe))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F3(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function VU(n){return F3().ngZone.runOutsideAngular(()=>n())}function Wo(n){return F3().ngZone.run(()=>n())}function BU(n){return UU(F3())(n)}function UU(n){return function(t){return t=t.lift(new oh(n.ngZone)),t.pipe(Cs(n.outsideAngular),bs(n.insideAngular))}}var jU=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Wo(()=>n.apply(void 0,i))},pt=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z2,{},z2,z2))),i[s]=jU(i[s],t));let r=VU(()=>n.apply(this,i));if(!e)if(r instanceof ye){let s=F3();return r.pipe(Cs(s.outsideAngular),bs(s.insideAngular))}else return Wo(()=>r);return r instanceof ye?r.pipe(BU):r instanceof Promise?Wo(()=>new Promise((s,o)=>r.then(c=>Wo(()=>s(c)),c=>Wo(()=>o(c))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Wo(()=>r)};var Yr=class{constructor(e){return e}},Ko=class{constructor(){return k3()}};function HU(n){return n&&n.length===1?n[0]:new Yr(js())}var ch=new te("angularfire2._apps"),$U={provide:Yr,useFactory:HU,deps:[[new Pn,ch]]},qU={provide:Ko,deps:[[new Pn,ch]]};function WU(n){return(e,t)=>{let i=t.get(Zi);It("angularfire",Go.full,"core"),It("angularfire",Go.full,"app"),It("angular",IM.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Yr(r)}}function lx(n,...e){return Dr([$U,qU,{provide:ch,useFactory:WU(n),multi:!0,deps:[fe,vt,D2,...e]}])}var ux=pt(sh,!0);function Ix(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Sx=Ix,zx=new Gr("auth","Firebase",Ix());var $3=new Bs("@firebase/auth");function GU(n,...e){$3.logLevel<=qe.WARN&&$3.warn(`Auth (${rr}): ${n}`,...e)}function B3(n,...e){$3.logLevel<=qe.ERROR&&$3.error(`Auth (${rr}): ${n}`,...e)}function or(n,...e){throw Ah(n,...e)}function Qo(n,...e){return Ah(n,...e)}function Ax(n,e,t){let i=Object.assign(Object.assign({},Sx()),{[e]:t});return new Gr("auth","Firebase",i).create(e,{appName:n.name})}function Jr(n){return Ax(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ah(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return zx.create(n,...e)}function be(n,e,...t){if(!n)throw Ah(e,...t)}function Zr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw B3(e),new Error(e)}function $s(n,e){n||Zr(e)}function dh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KU(){return dx()==="http:"||dx()==="https:"}function dx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function QU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KU()||jw()||"connection"in navigator)?navigator.onLine:!0}function YU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Yo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$s(t>e,"Short delay should be less than long delay!"),this.isMobile=Bw()||Hw()}get(){return QU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dh(n,e){$s(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var q3=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ZU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XU=new Yo(3e4,6e4);function qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function es(s,o,c,a){return b(this,arguments,function*(n,e,t,i,r={}){return Dx(n,r,()=>b(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let h=Ba(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},u);return Uw()||(g.referrerPolicy="no-referrer"),q3.fetch()(Tx(n,n.config.apiHost,t,h),g)}))})}function Dx(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},ZU),e);try{let r=new fh(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw V3(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw V3(n,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw V3(n,"email-already-in-use",o);if(a==="USER_DISABLED")throw V3(n,"user-disabled",o);let d=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ax(n,d,u);or(n,d)}}catch(r){if(r instanceof En)throw r;or(n,"network-request-failed",{message:String(r)})}})}function Ya(s,o,c,a){return b(this,arguments,function*(n,e,t,i,r={}){let u=yield es(n,e,t,i,r);return"mfaPendingCredential"in u&&or(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function Tx(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Dh(n.config,r):`${n.config.apiScheme}://${r}`}function JU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qo(this.auth,"network-request-failed")),XU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function V3(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Qo(n,e,i);return r.customData._tokenResponse=t,r}function fx(n){return n!==void 0&&n.enterprise!==void 0}var hh=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function ej(n,e){return b(this,null,function*(){return es(n,"GET","/v2/recaptchaConfig",qs(n,e))})}function tj(n,e){return b(this,null,function*(){return es(n,"POST","/v1/accounts:delete",e)})}function Nx(n,e){return b(this,null,function*(){return es(n,"POST","/v1/accounts:lookup",e)})}function $a(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Th(n,e=!1){return b(this,null,function*(){let t=ct(n),i=yield t.getIdToken(e),r=Nh(i);be(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:$a(ah(r.auth_time)),issuedAtTime:$a(ah(r.iat)),expirationTime:$a(ah(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ah(n){return Number(n)*1e3}function Nh(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return B3("JWT malformed, contained fewer than 3 sections"),null;try{let r=B7(t);return r?JSON.parse(r):(B3("Failed to decode base64 JWT payload"),null)}catch(r){return B3("Caught error parsing JWT payload as JSON",r?.toString()),null}}function hx(n){let e=Nh(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function T2(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof En&&nj(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function nj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ph=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wa=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function W3(n){return b(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield T2(n,Nx(t,{idToken:i}));be(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Px(s.providerUserInfo):[],c=ij(n.providerData,o),a=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!c?.length,d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Wa(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)})}function Ph(n){return b(this,null,function*(){let e=ct(n);yield W3(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ij(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Px(n){return n.map(e=>{var{providerId:t}=e,i=pd(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function rj(n,e){return b(this,null,function*(){let t=yield Dx(n,{},()=>b(this,null,function*(){let i=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=Tx(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",q3.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function sj(n,e){return b(this,null,function*(){return es(n,"POST","/v2/accounts:revokeToken",qs(n,e))})}var qa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");let t=hx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield rj(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(be(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(be(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Zr("not implemented")}};function Hs(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var N2=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ph(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield T2(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Th(this,e)}reload(){return Ph(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield W3(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Ti(this.auth.app))return Promise.reject(Jr(this.auth));let e=yield this.getIdToken();return yield T2(this,tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,c,a,u,d;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,S=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,F=(u=t.createdAt)!==null&&u!==void 0?u:void 0,V=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:q,emailVerified:X,isAnonymous:we,providerData:ce,stsTokenManager:w}=t;be(q&&w,e,"internal-error");let v=qa.fromJSON(this.name,w);be(typeof q=="string",e,"internal-error"),Hs(h,e.name),Hs(m,e.name),be(typeof X=="boolean",e,"internal-error"),be(typeof we=="boolean",e,"internal-error"),Hs(g,e.name),Hs(y,e.name),Hs(x,e.name),Hs(S,e.name),Hs(F,e.name),Hs(V,e.name);let C=new n({uid:q,auth:e,email:m,emailVerified:X,displayName:h,isAnonymous:we,photoURL:y,phoneNumber:g,tenantId:x,stsTokenManager:v,createdAt:F,lastLoginAt:V});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(L=>Object.assign({},L))),S&&(C._redirectEventId=S),C}static _fromIdTokenResponse(e,t,i=!1){return b(this,null,function*(){let r=new qa;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield W3(s),s})}static _fromGetAccountInfoResponse(e,t,i){return b(this,null,function*(){let r=t.users[0];be(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Px(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new qa;c.updateFromIdToken(i);let a=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Wa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var px=new Map;function Xr(n){$s(n instanceof Function,"Expected a class definition");let e=px.get(n);return e?($s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,px.set(n,e),e)}var oj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,i){return b(this,null,function*(){this.storage[t]=i})}_get(t){return b(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),mh=oj;function U3(n,e,t){return`firebase:${n}:${e}:${t}`}var G3=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=U3(this.userKey,r.apiKey,s),this.fullPersistenceKey=U3("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?N2._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return b(this,null,function*(){if(!t.length)return new n(Xr(mh),e,i);let r=(yield Promise.all(t.map(u=>b(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Xr(mh),o=U3(i,e.config.apiKey,e.name),c=null;for(let u of t)try{let d=yield u._get(o);if(d){let h=N2._fromJSON(e,d);u!==s&&(c=h),s=u;break}}catch{}let a=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new n(s,e,i):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(u=>b(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function mx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(Ux(e))return"Webos";if(Rx(e))return"Safari";if((e.includes("chrome/")||Ox(e))&&!e.includes("edge/"))return"Chrome";if(Vx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function kx(n=Ht()){return/firefox\//i.test(n)}function Rx(n=Ht()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ox(n=Ht()){return/crios\//i.test(n)}function Fx(n=Ht()){return/iemobile/i.test(n)}function Vx(n=Ht()){return/android/i.test(n)}function Bx(n=Ht()){return/blackberry/i.test(n)}function Ux(n=Ht()){return/webos/i.test(n)}function kh(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cj(n=Ht()){var e;return kh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aj(){return $w()&&document.documentMode===10}function jx(n=Ht()){return kh(n)||Vx(n)||Ux(n)||Bx(n)||/windows phone/i.test(n)||Fx(n)}function Hx(n,e=[]){let t;switch(n){case"Browser":t=mx(Ht());break;case"Worker":t=`${mx(Ht())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rr}/${i}`}var gh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,c)=>{try{let a=e(s);o(a)}catch(a){c(a)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function lj(t){return b(this,arguments,function*(n,e={}){return es(n,"GET","/v2/passwordPolicy",qs(n,e))})}var uj=6,_h=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:uj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(i=a.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(r=a.containsLowercaseLetter)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var yh=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K3(this),this.idTokenSubscription=new K3(this),this.beforeStateQueue=new gh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield G3.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Nx(this,{idToken:e}),i=yield N2._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(Ti(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield W3(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=YU()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(Ti(this.app))return Promise.reject(Jr(this));let t=e?ct(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Ti(this.app)?Promise.reject(Jr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ti(this.app)?Promise.reject(Jr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield lj(this),t=new _h(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield sj(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Xr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=yield G3.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let a=e.addObserver(t,i,r);return()=>{o=!0,a()}}else{let a=e.addObserver(t);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return b(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&GU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Xo(n){return ct(n)}var K3=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kw(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var t6={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dj(n){t6=n}function $x(n){return t6.loadJS(n)}function fj(){return t6.recaptchaEnterpriseScript}function hj(){return t6.gapiScript}function qx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var pj="recaptcha-enterprise",mj="NO_RECAPTCHA",vh=class{constructor(e){this.type=pj,this.auth=Xo(e)}verify(e="verify",t=!1){return b(this,null,function*(){function i(s){return b(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>b(this,null,function*(){ej(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let u=new hh(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{c(a)})}))})}function r(s,o,c){let a=window.grecaptcha;fx(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(mj)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(c=>{if(!t&&fx(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=fj();a.length!==0&&(a+=c),$x(a).then(()=>{r(c,s,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})})}};function gx(n,e,t,i=!1){return b(this,null,function*(){let r=new vh(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function bh(n,e,t,i){return b(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield gx(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>b(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield gx(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function Rh(n,e){let t=qo(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(Kr(s,e??{}))return r;or(r,"already-initialized")}return t.initialize({options:e})}function gj(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Oh(n,e,t){let i=Xo(n);be(i._canInitEmulator,i,"emulator-config-failed"),be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=Wx(e),{host:o,port:c}=_j(e),a=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${o}${a}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||yj()}function Wx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _j(n){let e=Wx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:_x(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:_x(o)}}}function _x(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function yj(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ga=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}};function vj(n,e){return b(this,null,function*(){return es(n,"POST","/v1/accounts:signUp",e)})}function bj(n,e){return b(this,null,function*(){return Ya(n,"POST","/v1/accounts:signInWithPassword",qs(n,e))})}function Cj(n,e){return b(this,null,function*(){return Ya(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,e))})}function Mj(n,e){return b(this,null,function*(){return Ya(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,e))})}var Ka=class n extends Ga{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,t,"signInWithPassword",bj);case"emailLink":return Cj(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,i,"signUpPassword",vj);case"emailLink":return Mj(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function lh(n,e){return b(this,null,function*(){return Ya(n,"POST","/v1/accounts:signInWithIdp",qs(n,e))})}function wj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xj(n){let e=I2(S2(n)).link,t=e?I2(S2(e)).deep_link_id:null,i=I2(S2(n)).deep_link_id;return(i?I2(S2(i)).link:null)||i||t||e||n}var Q3=class n{constructor(e){var t,i,r,s,o,c;let a=I2(S2(e)),u=(t=a.apiKey)!==null&&t!==void 0?t:null,d=(i=a.oobCode)!==null&&i!==void 0?i:null,h=wj((r=a.mode)!==null&&r!==void 0?r:null);be(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=a.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=xj(e);try{return new n(t)}catch{return null}}};var Gx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Ka._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Q3.parseLink(i);return be(r,"argument-error"),Ka._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Y3=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ch=class extends Y3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Lj(n,e){return b(this,null,function*(){return Ya(n,"POST","/v1/accounts:signUp",qs(n,e))})}var P2=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return b(this,null,function*(){let s=yield N2._fromIdTokenResponse(e,i,r),o=yx(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return b(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=yx(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function yx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Mh=class n extends En{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Kx(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(n,s,e,i):s})}function Ej(n,e,t=!1){return b(this,null,function*(){let i=yield T2(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return P2._forOperation(n,"link",i)})}function Ij(n,e,t=!1){return b(this,null,function*(){let{auth:i}=n;if(Ti(i.app))return Promise.reject(Jr(i));let r="reauthenticate";try{let s=yield T2(n,Kx(i,r,e,n),t);be(s.idToken,i,"internal-error");let o=Nh(s.idToken);be(o,i,"internal-error");let{sub:c}=o;return be(n.uid===c,i,"user-mismatch"),P2._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&or(i,"user-mismatch"),s}})}function Qx(n,e,t=!1){return b(this,null,function*(){if(Ti(n.app))return Promise.reject(Jr(n));let i="signIn",r=yield Kx(n,i,e),s=yield P2._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Fh(n,e){return b(this,null,function*(){return Qx(Xo(n),e)})}function Yx(n){return b(this,null,function*(){let e=Xo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Vh(n,e,t){return b(this,null,function*(){if(Ti(n.app))return Promise.reject(Jr(n));let i=Xo(n),o=yield bh(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lj).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Yx(n),a}),c=yield P2._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(c.user),c})}function Bh(n,e,t){return Ti(n.app)?Promise.reject(Jr(n)):Fh(ct(n),Gx.credential(e,t)).catch(i=>b(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Yx(n),i}))}function Sj(n,e){return b(this,null,function*(){return es(n,"POST","/v1/accounts:update",e)})}function Uh(i,r){return b(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=ct(n),c={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=yield T2(s,Sj(s.auth,c));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;let u=s.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(a)})}function jh(n,e,t,i){return ct(n).onIdTokenChanged(e,t,i)}function Hh(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function $h(n,e,t,i){return ct(n).onAuthStateChanged(e,t,i)}function qh(n){return ct(n).signOut()}var Z3="__sak";var X3=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Z3,"1"),this.storage.removeItem(Z3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zj=1e3,Aj=10,Dj=(()=>{class n extends X3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);aj()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Aj):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return b(this,null,function*(){yield ys(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return b(this,null,function*(){let i=yield ys(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return b(this,null,function*(){yield ys(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Zx=Dj;var Tj=(()=>{class n extends X3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Wh=Tj;function Nj(n){return Promise.all(n.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Pj=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,c=this.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let a=Array.from(c).map(d=>b(this,null,function*(){return d(i.origin,o)})),u=yield Nj(a);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Xx(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var wh=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=Xx("",20);r.port1.start();let d=setTimeout(()=>{a(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function sr(){return window}function kj(n){sr().location.href=n}function Jx(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}function Rj(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Oj(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Fj(){return Jx()?self:null}var eL="firebaseLocalStorageDb",Vj=1,J3="firebaseLocalStorage",tL="fbase_key",Zo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function n6(n,e){return n.transaction([J3],e?"readwrite":"readonly").objectStore(J3)}function Bj(){let n=indexedDB.deleteDatabase(eL);return new Zo(n).toPromise()}function xh(){let n=indexedDB.open(eL,Vj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(J3,{keyPath:tL})}catch(r){t(r)}}),n.addEventListener("success",()=>b(this,null,function*(){let i=n.result;i.objectStoreNames.contains(J3)?e(i):(i.close(),yield Bj(),e(yield xh()))}))})}function vx(n,e,t){return b(this,null,function*(){let i=n6(n,!0).put({[tL]:e,value:t});return new Zo(i).toPromise()})}function Uj(n,e){return b(this,null,function*(){let t=n6(n,!1).get(e),i=yield new Zo(t).toPromise();return i===void 0?null:i.value})}function bx(n,e){let t=n6(n,!0).delete(e);return new Zo(t).toPromise()}var jj=800,Hj=3,$j=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield xh(),this.db)})}_withRetries(t){return b(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>Hj)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return Jx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=Pj._getInstance(Fj()),this.receiver._subscribe("keyChanged",(t,i)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,i;if(this.activeServiceWorker=yield Rj(),!this.activeServiceWorker)return;this.sender=new wh(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Oj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield xh();return yield vx(t,Z3,"1"),yield bx(t,Z3),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>vx(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let i=yield this._withRetries(r=>Uj(r,t));return this.localCache[t]=i,i})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>bx(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(s=>{let o=n6(s,!1).getAll();return new Zo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nL=$j;var Uce=qx("rcb"),jce=new Yo(3e4,6e4);function qj(n,e){return e?Xr(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Qa=class extends Ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lh(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Wj(n){return Qx(n.auth,new Qa(n),n.bypassAuthState)}function Gj(n){let{auth:e,user:t}=n;return be(t,e,"internal-error"),Ij(t,new Qa(n),n.bypassAuthState)}function Kj(n){return b(this,null,function*(){let{auth:e,user:t}=n;return be(t,e,"internal-error"),Ej(t,new Qa(n),n.bypassAuthState)})}var Lh=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wj;case"linkViaPopup":case"linkViaRedirect":return Kj;case"reauthViaPopup":case"reauthViaRedirect":return Gj;default:or(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Hce=new Yo(2e3,1e4);var Qj="pendingRedirect",j3=new Map,Eh=class n extends Lh{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return b(this,null,function*(){let e=j3.get(this.auth._key());if(!e){try{let i=(yield Yj(this.resolver,this.auth))?yield ys(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}j3.set(this.auth._key(),e)}return this.bypassAuthState||j3.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return ys(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ys(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function Yj(n,e){return b(this,null,function*(){let t=Jj(e),i=Xj(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Zj(n,e){j3.set(n._key(),e)}function Xj(n){return Xr(n._redirectPersistence)}function Jj(n){return U3(Qj,n.config.apiKey,n.name)}function eH(n,e,t=!1){return b(this,null,function*(){if(Ti(n.app))return Promise.reject(Jr(n));let i=Xo(n),r=qj(i,e),o=yield new Eh(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var tH=10*60*1e3,Ih=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!iL(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(e))}saveEventToCache(e){this.cachedEventUids.add(Cx(e)),this.lastProcessedEventTime=Date.now()}};function Cx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iL({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function nH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iL(n);default:return!1}}function iH(t){return b(this,arguments,function*(n,e={}){return es(n,"GET","/v1/projects",e)})}var rH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sH=/^https?/;function oH(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield iH(n);for(let t of e)try{if(cH(t))return}catch{}or(n,"unauthorized-domain")})}function cH(n){let e=dh(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!sH.test(t))return!1;if(rH.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var aH=new Yo(3e4,6e4);function Mx(){let n=sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lH(n){return new Promise((e,t)=>{var i,r,s;function o(){Mx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mx(),t(Qo(n,"network-request-failed"))},timeout:aH.get()})}if(!((r=(i=sr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=sr().gapi)===null||s===void 0)&&s.load)o();else{let c=qx("iframefcb");return sr()[c]=()=>{gapi.load?o():t(Qo(n,"network-request-failed"))},$x(`${hj()}?onload=${c}`).catch(a=>t(a))}}).catch(e=>{throw H3=null,e})}var H3=null;function uH(n){return H3=H3||lH(n),H3}var dH=new Yo(5e3,15e3),fH="__/auth/iframe",hH="emulator/auth/iframe",pH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gH(n){let e=n.config;be(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Dh(e,hH):`https://${n.config.authDomain}/${fH}`,i={apiKey:e.apiKey,appName:n.name,v:rr},r=mH.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ba(i).slice(1)}`}function _H(n){return b(this,null,function*(){let e=yield uH(n),t=sr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:gH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pH,dontclear:!0},i=>new Promise((r,s)=>b(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Qo(n,"network-request-failed"),c=sr().setTimeout(()=>{s(o)},dH.get());function a(){sr().clearTimeout(c),r(i)}i.ping(a).then(a,()=>{s(o)})})))})}var yH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vH=500,bH=600,CH="_blank",MH="http://localhost",e6=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function wH(n,e,t,i=vH,r=bH){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",a=Object.assign(Object.assign({},yH),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Ht().toLowerCase();t&&(c=Ox(u)?CH:t),kx(u)&&(e=e||MH,a.scrollbars="yes");let d=Object.entries(a).reduce((m,[g,y])=>`${m}${g}=${y},`,"");if(cj(u)&&c!=="_self")return xH(e||"",c),new e6(null);let h=window.open(e||"",c,d);be(h,n,"popup-blocked");try{h.focus()}catch{}return new e6(h)}function xH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var LH="__/auth/handler",EH="emulator/auth/handler",IH=encodeURIComponent("fac");function wx(n,e,t,i,r,s){return b(this,null,function*(){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:rr,eventId:r};if(e instanceof Y3){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Gw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Ch){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let d of Object.keys(c))c[d]===void 0&&delete c[d];let a=yield n._getAppCheckToken(),u=a?`#${IH}=${encodeURIComponent(a)}`:"";return`${SH(n)}?${Ba(c).slice(1)}${u}`})}function SH({config:n}){return n.emulator?Dh(n,EH):`https://${n.authDomain}/${LH}`}var uh="webStorageSupport",Sh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wh,this._completeRedirectFn=eH,this._overrideRedirectResult=Zj}_openPopup(e,t,i,r){return b(this,null,function*(){var s;$s((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield wx(e,t,i,dh(),r);return wH(e,o,Xx())})}_openRedirect(e,t,i,r){return b(this,null,function*(){yield this._originValidation(e);let s=yield wx(e,t,i,dh(),r);return kj(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):($s(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return b(this,null,function*(){let t=yield _H(e),i=new Ih(e);return t.register("authEvent",r=>(be(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uh,{type:uh},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[uh];o!==void 0&&t(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jx()||Rx()||kh()}},rL=Sh;var xx="@firebase/auth",Lx="1.7.9";var zh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AH(n){ir(new On("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let a={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(n)},u=new yh(i,r,s,a);return gj(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ir(new On("auth-internal",e=>{let t=Xo(e.getProvider("auth").getImmediate());return(i=>new zh(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),It(xx,Lx,zH(n)),It(xx,Lx,"esm2017")}var DH=5*60,TH=H7("authIdTokenMaxAge")||DH,Ex=null,NH=n=>e=>b(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>TH)return;let r=t?.token;Ex!==r&&(Ex=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Gh(n=js()){let e=qo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Rh(n,{popupRedirectResolver:rL,persistence:[nL,Zx,Wh]}),i=H7("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=NH(s.toString());Hh(t,o,()=>o(t.currentUser)),jh(t,c=>o(c))}}let r=U7("auth");return r&&Oh(t,`http://${r}`),t}function PH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dj({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Qo("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",PH().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AH("Browser");var sL="auth",Jo=class{constructor(e){return e}},Za=class{constructor(){return Ha(sL)}};var Kh=new te("angularfire2.auth-instances");function M$(n,e){let t=O3(sL,n,e);return t&&new Jo(t)}function w$(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Jo(i)}}var x$={provide:Za,deps:[[new Pn,Kh]]},L$={provide:Jo,useFactory:M$,deps:[[new Pn,Kh],Yr]};function oL(n,...e){return It("angularfire",Go.full,"auth"),Dr([L$,x$,{provide:Kh,useFactory:w$(n),multi:!0,deps:[fe,vt,D2,Ko,[new Pn,A2],...e]}])}var cL=pt(Vh,!0);var aL=pt(Gh,!0);var lL=pt($h,!0);var uL=pt(Bh,!0);var dL=pt(qh,!0);var fL=pt(Uh,!0);var hL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pL={};var Ws,Qh;(function(){var n;function e(w,v){function C(){}C.prototype=v.prototype,w.D=v.prototype,w.prototype=new C,w.prototype.constructor=w,w.C=function(L,I,D){for(var M=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)M[mn-2]=arguments[mn];return v.prototype[I].apply(L,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,v,C){C||(C=0);var L=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)L[I]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(I=0;16>I;++I)L[I]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=w.g[0],C=w.g[1],I=w.g[2];var D=w.g[3],M=v+(D^C&(I^D))+L[0]+3614090360&4294967295;v=C+(M<<7&4294967295|M>>>25),M=D+(I^v&(C^I))+L[1]+3905402710&4294967295,D=v+(M<<12&4294967295|M>>>20),M=I+(C^D&(v^C))+L[2]+606105819&4294967295,I=D+(M<<17&4294967295|M>>>15),M=C+(v^I&(D^v))+L[3]+3250441966&4294967295,C=I+(M<<22&4294967295|M>>>10),M=v+(D^C&(I^D))+L[4]+4118548399&4294967295,v=C+(M<<7&4294967295|M>>>25),M=D+(I^v&(C^I))+L[5]+1200080426&4294967295,D=v+(M<<12&4294967295|M>>>20),M=I+(C^D&(v^C))+L[6]+2821735955&4294967295,I=D+(M<<17&4294967295|M>>>15),M=C+(v^I&(D^v))+L[7]+4249261313&4294967295,C=I+(M<<22&4294967295|M>>>10),M=v+(D^C&(I^D))+L[8]+1770035416&4294967295,v=C+(M<<7&4294967295|M>>>25),M=D+(I^v&(C^I))+L[9]+2336552879&4294967295,D=v+(M<<12&4294967295|M>>>20),M=I+(C^D&(v^C))+L[10]+4294925233&4294967295,I=D+(M<<17&4294967295|M>>>15),M=C+(v^I&(D^v))+L[11]+2304563134&4294967295,C=I+(M<<22&4294967295|M>>>10),M=v+(D^C&(I^D))+L[12]+1804603682&4294967295,v=C+(M<<7&4294967295|M>>>25),M=D+(I^v&(C^I))+L[13]+4254626195&4294967295,D=v+(M<<12&4294967295|M>>>20),M=I+(C^D&(v^C))+L[14]+2792965006&4294967295,I=D+(M<<17&4294967295|M>>>15),M=C+(v^I&(D^v))+L[15]+1236535329&4294967295,C=I+(M<<22&4294967295|M>>>10),M=v+(I^D&(C^I))+L[1]+4129170786&4294967295,v=C+(M<<5&4294967295|M>>>27),M=D+(C^I&(v^C))+L[6]+3225465664&4294967295,D=v+(M<<9&4294967295|M>>>23),M=I+(v^C&(D^v))+L[11]+643717713&4294967295,I=D+(M<<14&4294967295|M>>>18),M=C+(D^v&(I^D))+L[0]+3921069994&4294967295,C=I+(M<<20&4294967295|M>>>12),M=v+(I^D&(C^I))+L[5]+3593408605&4294967295,v=C+(M<<5&4294967295|M>>>27),M=D+(C^I&(v^C))+L[10]+38016083&4294967295,D=v+(M<<9&4294967295|M>>>23),M=I+(v^C&(D^v))+L[15]+3634488961&4294967295,I=D+(M<<14&4294967295|M>>>18),M=C+(D^v&(I^D))+L[4]+3889429448&4294967295,C=I+(M<<20&4294967295|M>>>12),M=v+(I^D&(C^I))+L[9]+568446438&4294967295,v=C+(M<<5&4294967295|M>>>27),M=D+(C^I&(v^C))+L[14]+3275163606&4294967295,D=v+(M<<9&4294967295|M>>>23),M=I+(v^C&(D^v))+L[3]+4107603335&4294967295,I=D+(M<<14&4294967295|M>>>18),M=C+(D^v&(I^D))+L[8]+1163531501&4294967295,C=I+(M<<20&4294967295|M>>>12),M=v+(I^D&(C^I))+L[13]+2850285829&4294967295,v=C+(M<<5&4294967295|M>>>27),M=D+(C^I&(v^C))+L[2]+4243563512&4294967295,D=v+(M<<9&4294967295|M>>>23),M=I+(v^C&(D^v))+L[7]+1735328473&4294967295,I=D+(M<<14&4294967295|M>>>18),M=C+(D^v&(I^D))+L[12]+2368359562&4294967295,C=I+(M<<20&4294967295|M>>>12),M=v+(C^I^D)+L[5]+4294588738&4294967295,v=C+(M<<4&4294967295|M>>>28),M=D+(v^C^I)+L[8]+2272392833&4294967295,D=v+(M<<11&4294967295|M>>>21),M=I+(D^v^C)+L[11]+1839030562&4294967295,I=D+(M<<16&4294967295|M>>>16),M=C+(I^D^v)+L[14]+4259657740&4294967295,C=I+(M<<23&4294967295|M>>>9),M=v+(C^I^D)+L[1]+2763975236&4294967295,v=C+(M<<4&4294967295|M>>>28),M=D+(v^C^I)+L[4]+1272893353&4294967295,D=v+(M<<11&4294967295|M>>>21),M=I+(D^v^C)+L[7]+4139469664&4294967295,I=D+(M<<16&4294967295|M>>>16),M=C+(I^D^v)+L[10]+3200236656&4294967295,C=I+(M<<23&4294967295|M>>>9),M=v+(C^I^D)+L[13]+681279174&4294967295,v=C+(M<<4&4294967295|M>>>28),M=D+(v^C^I)+L[0]+3936430074&4294967295,D=v+(M<<11&4294967295|M>>>21),M=I+(D^v^C)+L[3]+3572445317&4294967295,I=D+(M<<16&4294967295|M>>>16),M=C+(I^D^v)+L[6]+76029189&4294967295,C=I+(M<<23&4294967295|M>>>9),M=v+(C^I^D)+L[9]+3654602809&4294967295,v=C+(M<<4&4294967295|M>>>28),M=D+(v^C^I)+L[12]+3873151461&4294967295,D=v+(M<<11&4294967295|M>>>21),M=I+(D^v^C)+L[15]+530742520&4294967295,I=D+(M<<16&4294967295|M>>>16),M=C+(I^D^v)+L[2]+3299628645&4294967295,C=I+(M<<23&4294967295|M>>>9),M=v+(I^(C|~D))+L[0]+4096336452&4294967295,v=C+(M<<6&4294967295|M>>>26),M=D+(C^(v|~I))+L[7]+1126891415&4294967295,D=v+(M<<10&4294967295|M>>>22),M=I+(v^(D|~C))+L[14]+2878612391&4294967295,I=D+(M<<15&4294967295|M>>>17),M=C+(D^(I|~v))+L[5]+4237533241&4294967295,C=I+(M<<21&4294967295|M>>>11),M=v+(I^(C|~D))+L[12]+1700485571&4294967295,v=C+(M<<6&4294967295|M>>>26),M=D+(C^(v|~I))+L[3]+2399980690&4294967295,D=v+(M<<10&4294967295|M>>>22),M=I+(v^(D|~C))+L[10]+4293915773&4294967295,I=D+(M<<15&4294967295|M>>>17),M=C+(D^(I|~v))+L[1]+2240044497&4294967295,C=I+(M<<21&4294967295|M>>>11),M=v+(I^(C|~D))+L[8]+1873313359&4294967295,v=C+(M<<6&4294967295|M>>>26),M=D+(C^(v|~I))+L[15]+4264355552&4294967295,D=v+(M<<10&4294967295|M>>>22),M=I+(v^(D|~C))+L[6]+2734768916&4294967295,I=D+(M<<15&4294967295|M>>>17),M=C+(D^(I|~v))+L[13]+1309151649&4294967295,C=I+(M<<21&4294967295|M>>>11),M=v+(I^(C|~D))+L[4]+4149444226&4294967295,v=C+(M<<6&4294967295|M>>>26),M=D+(C^(v|~I))+L[11]+3174756917&4294967295,D=v+(M<<10&4294967295|M>>>22),M=I+(v^(D|~C))+L[2]+718787259&4294967295,I=D+(M<<15&4294967295|M>>>17),M=C+(D^(I|~v))+L[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+D&4294967295}i.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var C=v-this.blockSize,L=this.B,I=this.h,D=0;D<v;){if(I==0)for(;D<=C;)r(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<v;)if(L[I++]=w.charCodeAt(D++),I==this.blockSize){r(this,L),I=0;break}}else for(;D<v;)if(L[I++]=w[D++],I==this.blockSize){r(this,L),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var C=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=C&255,C/=256;for(this.u(w),w=Array(16),v=C=0;4>v;++v)for(var L=0;32>L;L+=8)w[C++]=this.g[v]>>>L&255;return w};function s(w,v){var C=c;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=v(w)}function o(w,v){this.h=v;for(var C=[],L=!0,I=w.length-1;0<=I;I--){var D=w[I]|0;L&&D==v||(C[I]=D,L=!1)}this.g=C}var c={};function a(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return h;if(0>w)return S(u(-w));for(var v=[],C=1,L=0;w>=C;L++)v[L]=w/C|0,C*=4294967296;return new o(v,0)}function d(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return S(d(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(v,8)),L=h,I=0;I<w.length;I+=8){var D=Math.min(8,w.length-I),M=parseInt(w.substring(I,I+D),v);8>D?(D=u(Math.pow(v,D)),L=L.j(D).add(u(M))):(L=L.j(C),L=L.add(u(M)))}return L}var h=a(0),m=a(1),g=a(16777216);n=o.prototype,n.m=function(){if(x(this))return-S(this).m();for(var w=0,v=1,C=0;C<this.g.length;C++){var L=this.i(C);w+=(0<=L?L:4294967296+L)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(y(this))return"0";if(x(this))return"-"+S(this).toString(w);for(var v=u(Math.pow(w,6)),C=this,L="";;){var I=X(C,v).g;C=F(C,I.j(v));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(w);if(C=I,y(C))return D+L;for(;6>D.length;)D="0"+D;L=D+L}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function y(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function x(w){return w.h==-1}n.l=function(w){return w=F(this,w),x(w)?-1:y(w)?0:1};function S(w){for(var v=w.g.length,C=[],L=0;L<v;L++)C[L]=~w.g[L];return new o(C,~w.h).add(m)}n.abs=function(){return x(this)?S(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],L=0,I=0;I<=v;I++){var D=L+(this.i(I)&65535)+(w.i(I)&65535),M=(D>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);L=M>>>16,D&=65535,M&=65535,C[I]=M<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(S(v))}n.j=function(w){if(y(this)||y(w))return h;if(x(this))return x(w)?S(this).j(S(w)):S(S(this).j(w));if(x(w))return S(this.j(S(w)));if(0>this.l(g)&&0>w.l(g))return u(this.m()*w.m());for(var v=this.g.length+w.g.length,C=[],L=0;L<2*v;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var I=0;I<w.g.length;I++){var D=this.i(L)>>>16,M=this.i(L)&65535,mn=w.i(I)>>>16,Vi=w.i(I)&65535;C[2*L+2*I]+=M*Vi,V(C,2*L+2*I),C[2*L+2*I+1]+=D*Vi,V(C,2*L+2*I+1),C[2*L+2*I+1]+=M*mn,V(C,2*L+2*I+1),C[2*L+2*I+2]+=D*mn,V(C,2*L+2*I+2)}for(L=0;L<v;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=v;L<2*v;L++)C[L]=0;return new o(C,0)};function V(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function q(w,v){this.g=w,this.h=v}function X(w,v){if(y(v))throw Error("division by zero");if(y(w))return new q(h,h);if(x(w))return v=X(S(w),v),new q(S(v.g),S(v.h));if(x(v))return v=X(w,S(v)),new q(S(v.g),v.h);if(30<w.g.length){if(x(w)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var C=m,L=v;0>=L.l(w);)C=we(C),L=we(L);var I=ce(C,1),D=ce(L,1);for(L=ce(L,2),C=ce(C,2);!y(L);){var M=D.add(L);0>=M.l(w)&&(I=I.add(C),D=M),L=ce(L,1),C=ce(C,1)}return v=F(w,I.j(v)),new q(I,v)}for(I=h;0<=w.l(v);){for(C=Math.max(1,Math.floor(w.m()/v.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),D=u(C),M=D.j(v);x(M)||0<M.l(w);)C-=L,D=u(C),M=D.j(v);y(D)&&(D=m),I=I.add(D),w=F(w,M)}return new q(I,w)}n.A=function(w){return X(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],L=0;L<v;L++)C[L]=this.i(L)&w.i(L);return new o(C,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],L=0;L<v;L++)C[L]=this.i(L)|w.i(L);return new o(C,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],L=0;L<v;L++)C[L]=this.i(L)^w.i(L);return new o(C,this.h^w.h)};function we(w){for(var v=w.g.length+1,C=[],L=0;L<v;L++)C[L]=w.i(L)<<1|w.i(L-1)>>>31;return new o(C,w.h)}function ce(w,v){var C=v>>5;v%=32;for(var L=w.g.length-C,I=[],D=0;D<L;D++)I[D]=0<v?w.i(D+C)>>>v|w.i(D+C+1)<<32-v:w.i(D+C);return new o(I,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Qh=pL.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ws=pL.Integer=o}).apply(typeof hL<"u"?hL:typeof self<"u"?self:typeof window<"u"?window:{});var i6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ts={};var Yh,I$,k2,Zh,Xa,r6,Xh,Jh,ep;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,p){return l==Array.prototype||l==Object.prototype||(l[f]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof i6=="object"&&i6];for(var f=0;f<l.length;++f){var p=l[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=t(this);function r(l,f){if(f)e:{var p=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var A=l[_];if(!(A in p))break e;p=p[A]}l=l[l.length-1],_=p[l],f=f(_),f!=_&&f!=null&&e(p,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var p=0,_=!1,A={next:function(){if(!_&&p<l.length){var T=p++;return{value:f(T,l[T]),done:!1}}return _=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}r("Array.prototype.values",function(l){return l||function(){return s(this,function(f,p){return p})}});var o=o||{},c=this||self;function a(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,p){return l.call.apply(l.bind,arguments)}function h(l,f,p){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,_),l.apply(f,A)}}return function(){return l.apply(f,arguments)}}function m(l,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function g(l,f){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,f){function p(){}p.prototype=f.prototype,l.aa=f.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(_,A,T){for(var Z=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Z[rt-2]=arguments[rt];return f.prototype[A].apply(_,Z)}}function x(l){let f=l.length;if(0<f){let p=Array(f);for(let _=0;_<f;_++)p[_]=l[_];return p}return[]}function S(l,f){for(let p=1;p<arguments.length;p++){let _=arguments[p];if(a(_)){let A=l.length||0,T=_.length||0;l.length=A+T;for(let Z=0;Z<T;Z++)l[A+Z]=_[Z]}else l.push(_)}}class F{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function V(l){return/^[\s\xa0]*$/.test(l)}function q(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function X(l){return X[" "](l),l}X[" "]=function(){};var we=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ce(l,f,p){for(let _ in l)f.call(p,l[_],_,l)}function w(l,f){for(let p in l)f.call(void 0,l[p],p,l)}function v(l){let f={};for(let p in l)f[p]=l[p];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(l,f){let p,_;for(let A=1;A<arguments.length;A++){_=arguments[A];for(p in _)l[p]=_[p];for(let T=0;T<C.length;T++)p=C[T],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function I(l){var f=1;l=l.split(":");let p=[];for(;0<f&&l.length;)p.push(l.shift()),f--;return l.length&&p.push(l.join(":")),p}function D(l){c.setTimeout(()=>{throw l},0)}function M(){var l=xe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class mn{constructor(){this.h=this.g=null}add(f,p){let _=Vi.get();_.set(f,p),this.h?this.h.next=_:this.g=_,this.h=_}}var Vi=new F(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,xe=new mn,it=()=>{let l=c.Promise.resolve(void 0);oe=()=>{l.then(ri)}};var ri=()=>{for(var l;l=M();){try{l.h.call(l.g)}catch(p){D(p)}var f=Vi;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ue=!1};function Mt(){this.s=this.s,this.C=this.C}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};c.addEventListener("test",p,f),c.removeEventListener("test",p,f)}catch{}return l}();function hs(l,f){if(ut.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(we){e:{try{X(f.nodeName);var A=!0;break e}catch{}A=!1}A||(f=null)}}else p=="mouseover"?f=l.fromElement:p=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:x8[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&hs.aa.h.call(this)}}y(hs,ut);var x8={2:"touch",3:"pen",4:"mouse"};hs.prototype.h=function(){hs.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),br=0;function Dn(l,f,p,_,A){this.listener=l,this.proxy=null,this.src=f,this.type=p,this.capture=!!_,this.ha=A,this.key=++br,this.da=this.fa=!1}function Cr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ps(l){this.src=l,this.g={},this.h=0}ps.prototype.add=function(l,f,p,_,A){var T=l.toString();l=this.g[T],l||(l=this.g[T]=[],this.h++);var Z=E8(l,f,_,A);return-1<Z?(f=l[Z],p||(f.fa=!1)):(f=new Dn(f,this.src,T,!!_,A),f.fa=p,l.push(f)),f};function L8(l,f){var p=f.type;if(p in l.g){var _=l.g[p],A=Array.prototype.indexOf.call(_,f,void 0),T;(T=0<=A)&&Array.prototype.splice.call(_,A,1),T&&(Cr(f),l.g[p].length==0&&(delete l.g[p],l.h--))}}function E8(l,f,p,_){for(var A=0;A<l.length;++A){var T=l[A];if(!T.da&&T.listener==f&&T.capture==!!p&&T.ha==_)return A}return-1}var I8="closure_lm_"+(1e6*Math.random()|0),S8={};function b_(l,f,p,_,A){if(_&&_.once)return M_(l,f,p,_,A);if(Array.isArray(f)){for(var T=0;T<f.length;T++)b_(l,f[T],p,_,A);return null}return p=T8(p),l&&l[wt]?l.K(f,p,u(_)?!!_.capture:!!_,A):C_(l,f,p,!1,_,A)}function C_(l,f,p,_,A,T){if(!f)throw Error("Invalid event type");var Z=u(A)?!!A.capture:!!A,rt=A8(l);if(rt||(l[I8]=rt=new ps(l)),p=rt.add(f,p,_,Z,T),p.proxy)return p;if(_=uD(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)dt||(A=Z),A===void 0&&(A=!1),l.addEventListener(f.toString(),_,A);else if(l.attachEvent)l.attachEvent(x_(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function uD(){function l(p){return f.call(l.src,l.listener,p)}let f=dD;return l}function M_(l,f,p,_,A){if(Array.isArray(f)){for(var T=0;T<f.length;T++)M_(l,f[T],p,_,A);return null}return p=T8(p),l&&l[wt]?l.L(f,p,u(_)?!!_.capture:!!_,A):C_(l,f,p,!0,_,A)}function w_(l,f,p,_,A){if(Array.isArray(f))for(var T=0;T<f.length;T++)w_(l,f[T],p,_,A);else _=u(_)?!!_.capture:!!_,p=T8(p),l&&l[wt]?(l=l.i,f=String(f).toString(),f in l.g&&(T=l.g[f],p=E8(T,p,_,A),-1<p&&(Cr(T[p]),Array.prototype.splice.call(T,p,1),T.length==0&&(delete l.g[f],l.h--)))):l&&(l=A8(l))&&(f=l.g[f.toString()],l=-1,f&&(l=E8(f,p,_,A)),(p=-1<l?f[l]:null)&&z8(p))}function z8(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[wt])L8(f.i,l);else{var p=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(p,_,l.capture):f.detachEvent?f.detachEvent(x_(p),_):f.addListener&&f.removeListener&&f.removeListener(_),(p=A8(f))?(L8(p,l),p.h==0&&(p.src=null,f[I8]=null)):Cr(l)}}}function x_(l){return l in S8?S8[l]:S8[l]="on"+l}function dD(l,f){if(l.da)l=!0;else{f=new hs(f,this);var p=l.listener,_=l.ha||l.src;l.fa&&z8(l),l=p.call(_,f)}return l}function A8(l){return l=l[I8],l instanceof ps?l:null}var D8="__closure_events_fn_"+(1e9*Math.random()>>>0);function T8(l){return typeof l=="function"?l:(l[D8]||(l[D8]=function(f){return l.handleEvent(f)}),l[D8])}function Jt(){Mt.call(this),this.i=new ps(this),this.M=this,this.F=null}y(Jt,Mt),Jt.prototype[wt]=!0,Jt.prototype.removeEventListener=function(l,f,p,_){w_(this,l,f,p,_)};function gn(l,f){var p,_=l.F;if(_)for(p=[];_;_=_.F)p.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new ut(f,l);else if(f instanceof ut)f.target=f.target||l;else{var A=f;f=new ut(_,l),L(f,A)}if(A=!0,p)for(var T=p.length-1;0<=T;T--){var Z=f.g=p[T];A=r4(Z,_,!0,f)&&A}if(Z=f.g=l,A=r4(Z,_,!0,f)&&A,A=r4(Z,_,!1,f)&&A,p)for(T=0;T<p.length;T++)Z=f.g=p[T],A=r4(Z,_,!1,f)&&A}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var p=l.g[f],_=0;_<p.length;_++)Cr(p[_]);delete l.g[f],l.h--}}this.F=null},Jt.prototype.K=function(l,f,p,_){return this.i.add(String(l),f,!1,p,_)},Jt.prototype.L=function(l,f,p,_){return this.i.add(String(l),f,!0,p,_)};function r4(l,f,p,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var A=!0,T=0;T<f.length;++T){var Z=f[T];if(Z&&!Z.da&&Z.capture==p){var rt=Z.listener,Gt=Z.ha||Z.src;Z.fa&&L8(l.i,Z),A=rt.call(Gt,_)!==!1&&A}}return A&&!_.defaultPrevented}function L_(l,f,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(l,f||0)}function E_(l){l.g=L_(()=>{l.g=null,l.i&&(l.i=!1,E_(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class fD extends Mt{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:E_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ic(l){Mt.call(this),this.h=l,this.g={}}y(Ic,Mt);var I_=[];function S_(l){ce(l.g,function(f,p){this.g.hasOwnProperty(p)&&z8(f)},l),l.g={}}Ic.prototype.N=function(){Ic.aa.N.call(this),S_(this)},Ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var N8=c.JSON.stringify,hD=c.JSON.parse,pD=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function P8(){}P8.prototype.h=null;function z_(l){return l.h||(l.h=l.i())}function A_(){}var Sc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function k8(){ut.call(this,"d")}y(k8,ut);function R8(){ut.call(this,"c")}y(R8,ut);var fo={},D_=null;function s4(){return D_=D_||new Jt}fo.La="serverreachability";function T_(l){ut.call(this,fo.La,l)}y(T_,ut);function zc(l){let f=s4();gn(f,new T_(f))}fo.STAT_EVENT="statevent";function N_(l,f){ut.call(this,fo.STAT_EVENT,l),this.stat=f}y(N_,ut);function _n(l){let f=s4();gn(f,new N_(f,l))}fo.Ma="timingevent";function P_(l,f){ut.call(this,fo.Ma,l),this.size=f}y(P_,ut);function Ac(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},f)}function Dc(){this.g=!0}Dc.prototype.xa=function(){this.g=!1};function mD(l,f,p,_,A,T){l.info(function(){if(l.g)if(T)for(var Z="",rt=T.split("&"),Gt=0;Gt<rt.length;Gt++){var Je=rt[Gt].split("=");if(1<Je.length){var en=Je[0];Je=Je[1];var tn=en.split("_");Z=2<=tn.length&&tn[1]=="type"?Z+(en+"="+Je+"&"):Z+(en+"=redacted&")}}else Z=null;else Z=T;return"XMLHTTP REQ ("+_+") [attempt "+A+"]: "+f+`
`+p+`
`+Z})}function gD(l,f,p,_,A,T,Z){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+A+"]: "+f+`
`+p+`
`+T+" "+Z})}function S1(l,f,p,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+yD(l,p)+(_?" "+_:"")})}function _D(l,f){l.info(function(){return"TIMEOUT: "+f})}Dc.prototype.info=function(){};function yD(l,f){if(!l.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var _=p[l];if(!(2>_.length)){var A=_[1];if(Array.isArray(A)&&!(1>A.length)){var T=A[0];if(T!="noop"&&T!="stop"&&T!="close")for(var Z=1;Z<A.length;Z++)A[Z]=""}}}}return N8(p)}catch{return f}}var o4={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},k_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},O8;function c4(){}y(c4,P8),c4.prototype.g=function(){return new XMLHttpRequest},c4.prototype.i=function(){return{}},O8=new c4;function ms(l,f,p,_){this.j=l,this.i=f,this.l=p,this.R=_||1,this.U=new Ic(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new R_}function R_(){this.i=null,this.g="",this.h=!1}var O_={},F8={};function V8(l,f,p){l.L=1,l.v=d4(Mr(f)),l.m=p,l.P=!0,F_(l,null)}function F_(l,f){l.F=Date.now(),a4(l),l.A=Mr(l.v);var p=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),X_(p.i,"t",_),l.C=0,p=l.j.J,l.h=new R_,l.g=gy(l.j,p?f:null,!l.m),0<l.O&&(l.M=new fD(m(l.Y,l,l.g),l.O)),f=l.U,p=l.g,_=l.ca;var A="readystatechange";Array.isArray(A)||(A&&(I_[0]=A.toString()),A=I_);for(var T=0;T<A.length;T++){var Z=b_(p,A[T],_||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),zc(),mD(l.i,l.u,l.A,l.l,l.R,l.m)}ms.prototype.ca=function(l){l=l.target;let f=this.M;f&&wr(l)==3?f.j():this.Y(l)},ms.prototype.Y=function(l){try{if(l==this.g)e:{let tn=wr(this.g);var f=this.g.Ba();let D1=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||sy(this.g)))){this.J||tn!=4||f==7||(f==8||0>=D1?zc(3):zc(2)),B8(this);var p=this.g.Z();this.X=p;t:if(V_(this)){var _=sy(this.g);l="";var A=_.length,T=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),Tc(this);var Z="";break t}this.h.i=new c.TextDecoder}for(f=0;f<A;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(T&&f==A-1)});_.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=p==200,gD(this.i,this.u,this.A,this.l,this.R,tn,p),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Gt=this.g;if((rt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(rt)){var Je=rt;break t}}Je=null}if(p=Je)S1(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,U8(this,p);else{this.o=!1,this.s=3,_n(12),ho(this),Tc(this);break e}}if(this.P){p=!0;let Ci;for(;!this.J&&this.C<Z.length;)if(Ci=vD(this,Z),Ci==F8){tn==4&&(this.s=4,_n(14),p=!1),S1(this.i,this.l,null,"[Incomplete Response]");break}else if(Ci==O_){this.s=4,_n(15),S1(this.i,this.l,Z,"[Invalid Chunk]"),p=!1;break}else S1(this.i,this.l,Ci,null),U8(this,Ci);if(V_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||Z.length!=0||this.h.h||(this.s=1,_n(16),p=!1),this.o=this.o&&p,!p)S1(this.i,this.l,Z,"[Invalid Chunked Response]"),ho(this),Tc(this);else if(0<Z.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),G8(en),en.M=!0,_n(11))}}else S1(this.i,this.l,Z,null),U8(this,Z);tn==4&&ho(this),this.o&&!this.J&&(tn==4?fy(this.j,this):(this.o=!1,a4(this)))}else RD(this.g),p==400&&0<Z.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),ho(this),Tc(this)}}}catch{}finally{}};function V_(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function vD(l,f){var p=l.C,_=f.indexOf(`
`,p);return _==-1?F8:(p=Number(f.substring(p,_)),isNaN(p)?O_:(_+=1,_+p>f.length?F8:(f=f.slice(_,_+p),l.C=_+p,f)))}ms.prototype.cancel=function(){this.J=!0,ho(this)};function a4(l){l.S=Date.now()+l.I,B_(l,l.I)}function B_(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ac(m(l.ba,l),f)}function B8(l){l.B&&(c.clearTimeout(l.B),l.B=null)}ms.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(_D(this.i,this.A),this.L!=2&&(zc(),_n(17)),ho(this),this.s=2,Tc(this)):B_(this,this.S-l)};function Tc(l){l.j.G==0||l.J||fy(l.j,l)}function ho(l){B8(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,S_(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function U8(l,f){try{var p=l.j;if(p.G!=0&&(p.g==l||j8(p.h,l))){if(!l.K&&j8(p.h,l)&&p.G==3){try{var _=p.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var A=_;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)g4(p),p4(p);else break e;W8(p),_n(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ac(m(p.Za,p),6e3));if(1>=H_(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mo(p,11)}else if((l.K||p.g==l)&&g4(p),!V(f))for(A=p.Da.g.parse(f),f=0;f<A.length;f++){let Je=A[f];if(p.T=Je[0],Je=Je[1],p.G==2)if(Je[0]=="c"){p.K=Je[1],p.ia=Je[2];let en=Je[3];en!=null&&(p.la=en,p.j.info("VER="+p.la));let tn=Je[4];tn!=null&&(p.Aa=tn,p.j.info("SVER="+p.Aa));let D1=Je[5];D1!=null&&typeof D1=="number"&&0<D1&&(_=1.5*D1,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;let Ci=l.g;if(Ci){let y4=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y4){var T=_.h;T.g||y4.indexOf("spdy")==-1&&y4.indexOf("quic")==-1&&y4.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(H8(T,T.h),T.h=null))}if(_.D){let K8=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;K8&&(_.ya=K8,ft(_.I,_.D,K8))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var Z=l;if(_.qa=my(_,_.J?_.ia:null,_.W),Z.K){$_(_.h,Z);var rt=Z,Gt=_.L;Gt&&(rt.I=Gt),rt.B&&(B8(rt),a4(rt)),_.g=Z}else uy(_);0<p.i.length&&m4(p)}else Je[0]!="stop"&&Je[0]!="close"||mo(p,7);else p.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?mo(p,7):q8(p):Je[0]!="noop"&&p.l&&p.l.ta(Je),p.v=0)}}zc(4)}catch{}}var bD=class{constructor(l,f){this.g=l,this.map=f}};function U_(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function j_(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function H_(l){return l.h?1:l.g?l.g.size:0}function j8(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function H8(l,f){l.g?l.g.add(f):l.h=f}function $_(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}U_.prototype.cancel=function(){if(this.i=q_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function q_(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let p of l.g.values())f=f.concat(p.D);return f}return x(l.i)}function CD(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(a(l)){for(var f=[],p=l.length,_=0;_<p;_++)f.push(l[_]);return f}f=[],p=0;for(_ in l)f[p++]=l[_];return f}function MD(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(a(l)||typeof l=="string"){var f=[];l=l.length;for(var p=0;p<l;p++)f.push(p);return f}f=[],p=0;for(let _ in l)f[p++]=_;return f}}}function W_(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(a(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var p=MD(l),_=CD(l),A=_.length,T=0;T<A;T++)f.call(void 0,_[T],p&&p[T],l)}var G_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wD(l,f){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var _=l[p].indexOf("="),A=null;if(0<=_){var T=l[p].substring(0,_);A=l[p].substring(_+1)}else T=l[p];f(T,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function po(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof po){this.h=l.h,l4(this,l.j),this.o=l.o,this.g=l.g,u4(this,l.s),this.l=l.l;var f=l.i,p=new kc;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),K_(this,p),this.m=l.m}else l&&(f=String(l).match(G_))?(this.h=!1,l4(this,f[1]||"",!0),this.o=Nc(f[2]||""),this.g=Nc(f[3]||"",!0),u4(this,f[4]),this.l=Nc(f[5]||"",!0),K_(this,f[6]||"",!0),this.m=Nc(f[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}po.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Pc(f,Q_,!0),":");var p=this.g;return(p||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Pc(f,Q_,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Pc(p,p.charAt(0)=="/"?ED:LD,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Pc(p,SD)),l.join("")};function Mr(l){return new po(l)}function l4(l,f,p){l.j=p?Nc(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function u4(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function K_(l,f,p){f instanceof kc?(l.i=f,zD(l.i,l.h)):(p||(f=Pc(f,ID)),l.i=new kc(f,l.h))}function ft(l,f,p){l.i.set(f,p)}function d4(l){return ft(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Nc(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pc(l,f,p){return typeof l=="string"?(l=encodeURI(l).replace(f,xD),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xD(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Q_=/[#\/\?@]/g,LD=/[#\?:]/g,ED=/[#\?]/g,ID=/[#\?@]/g,SD=/#/g;function kc(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function gs(l){l.g||(l.g=new Map,l.h=0,l.i&&wD(l.i,function(f,p){l.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}n=kc.prototype,n.add=function(l,f){gs(this),this.i=null,l=z1(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(f),this.h+=1,this};function Y_(l,f){gs(l),f=z1(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Z_(l,f){return gs(l),f=z1(l,f),l.g.has(f)}n.forEach=function(l,f){gs(this),this.g.forEach(function(p,_){p.forEach(function(A){l.call(f,A,_,this)},this)},this)},n.na=function(){gs(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let _=0;_<f.length;_++){let A=l[_];for(let T=0;T<A.length;T++)p.push(f[_])}return p},n.V=function(l){gs(this);let f=[];if(typeof l=="string")Z_(this,l)&&(f=f.concat(this.g.get(z1(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)f=f.concat(l[p])}return f},n.set=function(l,f){return gs(this),this.i=null,l=z1(this,l),Z_(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function X_(l,f,p){Y_(l,f),0<p.length&&(l.i=null,l.g.set(z1(l,f),x(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var _=f[p];let T=encodeURIComponent(String(_)),Z=this.V(_);for(_=0;_<Z.length;_++){var A=T;Z[_]!==""&&(A+="="+encodeURIComponent(String(Z[_]))),l.push(A)}}return this.i=l.join("&")};function z1(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function zD(l,f){f&&!l.j&&(gs(l),l.i=null,l.g.forEach(function(p,_){var A=_.toLowerCase();_!=A&&(Y_(this,_),X_(this,A,p))},l)),l.j=f}function AD(l,f){let p=new Dc;if(c.Image){let _=new Image;_.onload=g(_s,p,"TestLoadImage: loaded",!0,f,_),_.onerror=g(_s,p,"TestLoadImage: error",!1,f,_),_.onabort=g(_s,p,"TestLoadImage: abort",!1,f,_),_.ontimeout=g(_s,p,"TestLoadImage: timeout",!1,f,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function DD(l,f){let p=new Dc,_=new AbortController,A=setTimeout(()=>{_.abort(),_s(p,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(T=>{clearTimeout(A),T.ok?_s(p,"TestPingServer: ok",!0,f):_s(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(A),_s(p,"TestPingServer: error",!1,f)})}function _s(l,f,p,_,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),_(p)}catch{}}function TD(){this.g=new pD}function ND(l,f,p){let _=p||"";try{W_(l,function(A,T){let Z=A;u(A)&&(Z=N8(A)),f.push(_+T+"="+encodeURIComponent(Z))})}catch(A){throw f.push(_+"type="+encodeURIComponent("_badmap")),A}}function Rc(l){this.l=l.Ub||null,this.j=l.eb||!1}y(Rc,P8),Rc.prototype.g=function(){return new f4(this.l,this.j)},Rc.prototype.i=function(l){return function(){return l}}({});function f4(l,f){Jt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(f4,Jt),n=f4.prototype,n.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Fc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;J_(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function J_(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Oc(this):Fc(this),this.readyState==3&&J_(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Oc(this))},n.Qa=function(l){this.g&&(this.response=l,Oc(this))},n.ga=function(){this.g&&Oc(this)};function Oc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Fc(l)}n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=f.next();return l.join(`\r
`)};function Fc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(f4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ey(l){let f="";return ce(l,function(p,_){f+=_,f+=":",f+=p,f+=`\r
`}),f}function $8(l,f,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=ey(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):ft(l,f,p))}function xt(l){Jt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(xt,Jt);var PD=/^https?$/i,kD=["POST","PUT"];n=xt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,f,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():O8.g(),this.v=this.o?z_(this.o):z_(O8),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(T){ty(this,T);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var A in _)p.set(A,_[A]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let T of _.keys())p.set(T,_.get(T));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(T=>T.toLowerCase()=="content-type"),A=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(kD,f,void 0))||_||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,Z]of p)this.g.setRequestHeader(T,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ry(this),this.u=!0,this.g.send(l),this.u=!1}catch(T){ty(this,T)}};function ty(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ny(l),h4(l)}function ny(l){l.A||(l.A=!0,gn(l,"complete"),gn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gn(this,"complete"),gn(this,"abort"),h4(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),h4(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?iy(this):this.bb())},n.bb=function(){iy(this)};function iy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||wr(l)!=4||l.Z()!=2)){if(l.u&&wr(l)==4)L_(l.Ea,0,l);else if(gn(l,"readystatechange"),wr(l)==4){l.h=!1;try{let Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var _;if(_=Z===0){var A=String(l.D).match(G_)[1]||null;!A&&c.self&&c.self.location&&(A=c.self.location.protocol.slice(0,-1)),_=!PD.test(A?A.toLowerCase():"")}p=_}if(p)gn(l,"complete"),gn(l,"success");else{l.m=6;try{var T=2<wr(l)?l.g.statusText:""}catch{T=""}l.l=T+" ["+l.Z()+"]",ny(l)}}finally{h4(l)}}}}function h4(l,f){if(l.g){ry(l);let p=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||gn(l,"ready");try{p.onreadystatechange=_}catch{}}}function ry(l){l.I&&(c.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function wr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),hD(f)}};function sy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function RD(l){let f={};l=(l.g&&2<=wr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(V(l[_]))continue;var p=I(l[_]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let T=f[A]||[];f[A]=T,T.push(p)}w(f,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(l,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||f}function oy(l){this.Aa=0,this.i=[],this.j=new Dc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,l),this.cb=Vc("retryDelaySeedMs",1e4,l),this.Wa=Vc("forwardChannelMaxRetries",2,l),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new U_(l&&l.concurrentRequestLimit),this.Da=new TD,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oy.prototype,n.la=8,n.G=1,n.connect=function(l,f,p,_){_n(0),this.W=l,this.H=f||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=my(this,null,this.W),m4(this)};function q8(l){if(cy(l),l.G==3){var f=l.U++,p=Mr(l.I);if(ft(p,"SID",l.K),ft(p,"RID",f),ft(p,"TYPE","terminate"),Bc(l,p),f=new ms(l,l.j,f),f.L=2,f.v=d4(Mr(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=f.v,p=!0),p||(f.g=gy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),a4(f)}py(l)}function p4(l){l.g&&(G8(l),l.g.cancel(),l.g=null)}function cy(l){p4(l),l.u&&(c.clearTimeout(l.u),l.u=null),g4(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function m4(l){if(!j_(l.h)&&!l.s){l.s=!0;var f=l.Ga;oe||it(),ue||(oe(),ue=!0),xe.add(f,l),l.B=0}}function OD(l,f){return H_(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ac(m(l.Ga,l,f),hy(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let A=new ms(this,this.j,l),T=this.o;if(this.S&&(T?(T=v(T),L(T,this.S)):T=this.S),this.m!==null||this.O||(A.H=T,T=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=ly(this,A,f),p=Mr(this.I),ft(p,"RID",l),ft(p,"CVER",22),this.D&&ft(p,"X-HTTP-Session-Id",this.D),Bc(this,p),T&&(this.O?f="headers="+encodeURIComponent(String(ey(T)))+"&"+f:this.m&&$8(p,this.m,T)),H8(this.h,A),this.Ua&&ft(p,"TYPE","init"),this.P?(ft(p,"$req",f),ft(p,"SID","null"),A.T=!0,V8(A,p,null)):V8(A,p,f),this.G=2}}else this.G==3&&(l?ay(this,l):this.i.length==0||j_(this.h)||ay(this))};function ay(l,f){var p;f?p=f.l:p=l.U++;let _=Mr(l.I);ft(_,"SID",l.K),ft(_,"RID",p),ft(_,"AID",l.T),Bc(l,_),l.m&&l.o&&$8(_,l.m,l.o),p=new ms(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),f&&(l.i=f.D.concat(l.i)),f=ly(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),H8(l.h,p),V8(p,_,f)}function Bc(l,f){l.H&&ce(l.H,function(p,_){ft(f,_,p)}),l.l&&W_({},function(p,_){ft(f,_,p)})}function ly(l,f,p){p=Math.min(l.i.length,p);var _=l.l?m(l.l.Na,l.l,l):null;e:{var A=l.i;let T=-1;for(;;){let Z=["count="+p];T==-1?0<p?(T=A[0].g,Z.push("ofs="+T)):T=0:Z.push("ofs="+T);let rt=!0;for(let Gt=0;Gt<p;Gt++){let Je=A[Gt].g,en=A[Gt].map;if(Je-=T,0>Je)T=Math.max(0,A[Gt].g-100),rt=!1;else try{ND(en,Z,"req"+Je+"_")}catch{_&&_(en)}}if(rt){_=Z.join("&");break e}}}return l=l.i.splice(0,p),f.D=l,_}function uy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;oe||it(),ue||(oe(),ue=!0),xe.add(f,l),l.v=0}}function W8(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ac(m(l.Fa,l),hy(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,dy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ac(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),p4(this),dy(this))};function G8(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function dy(l){l.g=new ms(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Mr(l.qa);ft(f,"RID","rpc"),ft(f,"SID",l.K),ft(f,"AID",l.T),ft(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&ft(f,"TO",l.ja),ft(f,"TYPE","xmlhttp"),Bc(l,f),l.m&&l.o&&$8(f,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=d4(Mr(f)),p.m=null,p.P=!0,F_(p,l)}n.Za=function(){this.C!=null&&(this.C=null,p4(this),W8(this),_n(19))};function g4(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function fy(l,f){var p=null;if(l.g==f){g4(l),G8(l),l.g=null;var _=2}else if(j8(l.h,f))p=f.D,$_(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var A=l.B;_=s4(),gn(_,new P_(_,p)),m4(l)}else uy(l);else if(A=f.s,A==3||A==0&&0<f.X||!(_==1&&OD(l,f)||_==2&&W8(l)))switch(p&&0<p.length&&(f=l.h,f.i=f.i.concat(p)),A){case 1:mo(l,5);break;case 4:mo(l,10);break;case 3:mo(l,6);break;default:mo(l,2)}}}function hy(l,f){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*f}function mo(l,f){if(l.j.info("Error code "+f),f==2){var p=m(l.fb,l),_=l.Xa;let A=!_;_=new po(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||l4(_,"https"),d4(_),A?AD(_.toString(),p):DD(_.toString(),p)}else _n(2);l.G=0,l.l&&l.l.sa(f),py(l),cy(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function py(l){if(l.G=0,l.ka=[],l.l){let f=q_(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ka,f),S(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function my(l,f,p){var _=p instanceof po?Mr(p):new po(p);if(_.g!="")f&&(_.g=f+"."+_.g),u4(_,_.s);else{var A=c.location;_=A.protocol,f=f?f+"."+A.hostname:A.hostname,A=+A.port;var T=new po(null);_&&l4(T,_),f&&(T.g=f),A&&u4(T,A),p&&(T.l=p),_=T}return p=l.D,f=l.ya,p&&f&&ft(_,p,f),ft(_,"VER",l.la),Bc(l,_),_}function gy(l,f,p){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new xt(new Rc({eb:p})):new xt(l.pa),f.Ha(l.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _y(){}n=_y.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _4(){}_4.prototype.g=function(l,f){return new jn(l,f)};function jn(l,f){Jt.call(this),this.g=new oy(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!V(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!V(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new A1(this)}y(jn,Jt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){q8(this.g)},jn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=N8(l),l=p);f.i.push(new bD(f.Ya++,l)),f.G==3&&m4(f)},jn.prototype.N=function(){this.g.l=null,delete this.j,q8(this.g),delete this.g,jn.aa.N.call(this)};function yy(l){k8.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let p in f){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}y(yy,k8);function vy(){R8.call(this),this.status=1}y(vy,R8);function A1(l){this.g=l}y(A1,_y),A1.prototype.ua=function(){gn(this.g,"a")},A1.prototype.ta=function(l){gn(this.g,new yy(l))},A1.prototype.sa=function(l){gn(this.g,new vy)},A1.prototype.ra=function(){gn(this.g,"b")},_4.prototype.createWebChannel=_4.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,ep=ts.createWebChannelTransport=function(){return new _4},Jh=ts.getStatEventTarget=function(){return s4()},Xh=ts.Event=fo,r6=ts.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},o4.NO_ERROR=0,o4.TIMEOUT=8,o4.HTTP_ERROR=6,Xa=ts.ErrorCode=o4,k_.COMPLETE="complete",Zh=ts.EventType=k_,A_.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,k2=ts.WebChannel=A_,I$=ts.FetchXmlHttpFactory=Rc,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,Yh=ts.XhrIo=xt}).apply(typeof i6<"u"?i6:typeof self<"u"?self:typeof window<"u"?window:{});var mL="@firebase/firestore";var $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");var ec="10.14.0";var i1=new Bs("@firebase/firestore");function Ja(){return i1.logLevel}function le(n,...e){if(i1.logLevel<=qe.DEBUG){let t=e.map(F9);i1.debug(`Firestore (${ec}): ${n}`,...t)}}function ns(n,...e){if(i1.logLevel<=qe.ERROR){let t=e.map(F9);i1.error(`Firestore (${ec}): ${n}`,...t)}}function j2(n,...e){if(i1.logLevel<=qe.WARN){let t=e.map(F9);i1.warn(`Firestore (${ec}): ${n}`,...t)}}function F9(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Ce(n="Unexpected state"){let e=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: `+n;throw ns(e),new Error(e)}function nt(n,e){n||Ce()}function Se(n,e){return n}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=class extends En{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ar=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var l6=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}},op=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},cp=class{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let i=this.i,r=a=>this.i!==i?(i=this.i,t(a)):Promise.resolve(),s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let a=s;e.enqueueRetryable(()=>b(this,null,function*(){yield a.promise,yield r(this.currentUser)}))},c=a=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>c(a)),setTimeout(()=>{if(!this.auth){let a=this.t.getImmediate({optional:!0});a?c(a):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string"),new l6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new $t(e)}},ap=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},lp=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ap(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},up=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dp=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);let i=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new up(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function S$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var u6=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=S$(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function et(n,e){return n<e?-1:n>e?1:0}function H2(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Zt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ke=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Zt(0,0))}static max(){return new n(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var d6=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ct=class n extends d6{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xn=class n extends d6{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return z$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let a=e[r+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=a,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var me=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ct.fromString(e))}static fromName(e){return new n(Ct.fromString(e).popFirst(5))}static empty(){return new n(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ct(e.slice()))}};var fp=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};fp.UNKNOWN_ID=-1;function A$(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(i===1e9?new Zt(t+1,0):new Zt(t,i));return new r1(r,me.empty(),e)}function D$(n){return new r1(n.readTime,n.key,-1)}var r1=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ke.min(),me.empty(),-1)}static max(){return new n(ke.max(),me.empty(),-1)}};function T$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}var N$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function b0(n){return b(this,null,function*(){if(n.code!==B.FAILED_PRECONDITION||n.message!==N$)throw n;le("LocalStore","Unexpectedly lost primary lease")})}var Q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&t()},a=>i(a))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),c=0;for(let a=0;a<s;a++){let u=a;t(e[u]).next(d=>{o[u]=d,++c,c===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function P$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function C0(n){return n.name==="IndexedDbTransactionError"}var YL=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function $6(n){return n==null}function s0(n){return n===0&&1/n==-1/0}function k$(n){return typeof n=="number"&&Number.isInteger(n)&&!s0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var R$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fae=[...R$,"documentOverlays"],O$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],F$=O$,V$=[...F$,"indexConfiguration","indexState","indexEntries"];var Vae=[...V$,"globals"];function gL(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function l1(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var St=class n{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new V2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new V2(this.root,e,this.comparator,!1)}getReverseIterator(){return new V2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new V2(this.root,e,this.comparator,!0)}},V2=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lr=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();let e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}};lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,r,s){return this}insert(e,t,i){return new lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ln=class n{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new f6(this.data.getIterator())}getIteratorFrom(e){return new f6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},f6=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _i=class n{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new n([])}unionWith(e){let t=new ln(Xn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return H2(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var h6=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var un=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new h6("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};un.EMPTY_BYTE_STRING=new un("");var B$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(n){if(nt(!!n),typeof n=="string"){let e=0,t=B$.exec(n);if(nt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ks(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}function V9(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function B9(n){let e=n.mapValue.fields.__previous_value__;return V9(e)?B9(e):e}function o0(n){let e=is(n.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}var pp=class{constructor(e,t,i,r,s,o,c,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=a,this.useFetchStreams=u}},p6=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var s6={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function s1(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?V9(n)?4:JL(n)?9007199254740991:XL(n)?10:11:Ce()}function hr(n,e){if(n===e)return!0;let t=s1(n);if(t!==s1(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return o0(n).isEqual(o0(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=is(r.timestampValue),c=is(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Ks(r.bytesValue).isEqual(Ks(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return gt(r.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return gt(r.integerValue)===gt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=gt(r.doubleValue),c=gt(s.doubleValue);return o===c?s0(o)===s0(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return H2(n.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(gL(o)!==gL(c))return!1;for(let a in o)if(o.hasOwnProperty(a)&&(c[a]===void 0||!hr(o[a],c[a])))return!1;return!0}(n,e);default:return Ce()}}function c0(n,e){return(n.values||[]).find(t=>hr(t,e))!==void 0}function $2(n,e){if(n===e)return 0;let t=s1(n),i=s1(e);if(t!==i)return et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=gt(s.integerValue||s.doubleValue),a=gt(o.integerValue||o.doubleValue);return c<a?-1:c>a?1:c===a?0:isNaN(c)?isNaN(a)?0:-1:1}(n,e);case 3:return _L(n.timestampValue,e.timestampValue);case 4:return _L(o0(n),o0(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(s,o){let c=Ks(s),a=Ks(o);return c.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),a=o.split("/");for(let u=0;u<c.length&&u<a.length;u++){let d=et(c[u],a[u]);if(d!==0)return d}return et(c.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=et(gt(s.latitude),gt(o.latitude));return c!==0?c:et(gt(s.longitude),gt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yL(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,a,u,d;let h=s.fields||{},m=o.fields||{},g=(c=h.value)===null||c===void 0?void 0:c.arrayValue,y=(a=m.value)===null||a===void 0?void 0:a.arrayValue,x=et(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=y?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:yL(g,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===s6.mapValue&&o===s6.mapValue)return 0;if(s===s6.mapValue)return 1;if(o===s6.mapValue)return-1;let c=s.fields||{},a=Object.keys(c),u=o.fields||{},d=Object.keys(u);a.sort(),d.sort();for(let h=0;h<a.length&&h<d.length;++h){let m=et(a[h],d[h]);if(m!==0)return m;let g=$2(c[a[h]],u[d[h]]);if(g!==0)return g}return et(a.length,d.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function _L(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);let t=is(n),i=is(e),r=et(t.seconds,i.seconds);return r!==0?r:et(t.nanos,i.nanos)}function yL(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=$2(t[r],i[r]);if(s)return s}return et(t.length,i.length)}function q2(n){return mp(n)}function mp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=is(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ks(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=mp(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${mp(t.fields[o])}`;return r+"}"}(n.mapValue):Ce()}function vL(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gp(n){return!!n&&"integerValue"in n}function U9(n){return!!n&&"arrayValue"in n}function bL(n){return!!n&&"nullValue"in n}function CL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function c6(n){return!!n&&"mapValue"in n}function XL(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function t0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return l1(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=t0(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=t0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Zn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!c6(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=t0(t)}setAll(e){let t=Xn.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let a=this.getFieldsMap(t);this.applyChanges(a,i,r),i={},r=[],t=c.popLast()}o?i[c.lastSegment()]=t0(o):r.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());c6(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];c6(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){l1(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(t0(this.value))}};function eE(n){let e=[];return l1(n.fields,(t,i)=>{let r=new Xn([t]);if(c6(i)){let s=eE(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new _i(e)}var Ni=class n{constructor(e,t,i,r,s,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ke.min(),ke.min(),ke.min(),Zn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ke.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ke.min(),ke.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ke.min(),ke.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var W2=class{constructor(e,t){this.position=e,this.inclusive=t}};function ML(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=me.comparator(me.fromName(o.referenceValue),t.key):i=$2(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function wL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hr(n.position[t],e.position[t]))return!1;return!0}var o1=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function U$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var m6=class{},Ot=class n extends m6{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new yp(e,t,i):t==="array-contains"?new Cp(e,i):t==="in"?new Mp(e,i):t==="not-in"?new wp(e,i):t==="array-contains-any"?new xp(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new vp(e,i):new bp(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($2(t,this.value)):t!==null&&s1(this.value)===s1(t)&&this.matchesComparison($2(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pi=class n extends m6{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return tE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tE(n){return n.op==="and"}function nE(n){return j$(n)&&tE(n)}function j$(n){for(let e of n.filters)if(e instanceof Pi)return!1;return!0}function _p(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+q2(n.value);if(nE(n))return n.filters.map(e=>_p(e)).join(",");{let e=n.filters.map(t=>_p(t)).join(",");return`${n.op}(${e})`}}function iE(n,e){return n instanceof Ot?function(i,r){return r instanceof Ot&&i.op===r.op&&i.field.isEqual(r.field)&&hr(i.value,r.value)}(n,e):n instanceof Pi?function(i,r){return r instanceof Pi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&iE(o,r.filters[c]),!0):!1}(n,e):void Ce()}function rE(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${q2(t.value)}`}(n):n instanceof Pi?function(t){return t.op.toString()+" {"+t.getFilters().map(rE).join(" ,")+"}"}(n):"Filter"}var yp=class extends Ot{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){let t=me.comparator(e.key,this.key);return this.matchesComparison(t)}},vp=class extends Ot{constructor(e,t){super(e,"in",t),this.keys=sE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},bp=class extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=sE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function sE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>me.fromName(i.referenceValue))}var Cp=class extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return U9(t)&&c0(t.arrayValue,this.value)}},Mp=class extends Ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&c0(this.value.arrayValue,t)}},wp=class extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(c0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!c0(this.value.arrayValue,t)}},xp=class extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!U9(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>c0(this.value.arrayValue,i))}};var Lp=class{constructor(e,t=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function xL(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Lp(n,e,t,i,r,s,o)}function j9(n){let e=Se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>_p(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),$6(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>q2(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>q2(i)).join(",")),e.ue=t}return e.ue}function H9(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!U$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wL(n.startAt,e.startAt)&&wL(n.endAt,e.endAt)}function Ep(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Qs=class{constructor(e,t=null,i=[],r=[],s=null,o="F",c=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function H$(n,e,t,i,r,s,o,c){return new Qs(n,e,t,i,r,s,o,c)}function $9(n){return new Qs(n)}function LL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oE(n){return n.collectionGroup!==null}function n0(n){let e=Se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ln(Xn.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new o1(s,i))}),t.has(Xn.keyField().canonicalString())||e.ce.push(new o1(Xn.keyField(),i))}return e.ce}function ur(n){let e=Se(n);return e.le||(e.le=$$(e,n0(n))),e.le}function $$(n,e){if(n.limitType==="F")return xL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new o1(r.field,s)});let t=n.endAt?new W2(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new W2(n.startAt.position,n.startAt.inclusive):null;return xL(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ip(n,e){let t=n.filters.concat([e]);return new Qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function g6(n,e,t){return new Qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function q6(n,e){return H9(ur(n),ur(e))&&n.limitType===e.limitType}function cE(n){return`${j9(ur(n))}|lt:${n.limitType}`}function R2(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>rE(r)).join(", ")}]`),$6(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>q2(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>q2(r)).join(",")),`Target(${i})`}(ur(n))}; limitType=${n.limitType})`}function W6(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):me.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of n0(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,c,a){let u=ML(o,c,a);return o.inclusive?u<=0:u<0}(i.startAt,n0(i),r)||i.endAt&&!function(o,c,a){let u=ML(o,c,a);return o.inclusive?u>=0:u>0}(i.endAt,n0(i),r))}(n,e)}function q$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aE(n){return(e,t)=>{let i=!1;for(let r of n0(n)){let s=W$(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function W$(n,e,t){let i=n.field.isKeyField()?me.comparator(e.key,t.key):function(s,o,c){let a=o.data.field(s),u=c.data.field(s);return a!==null&&u!==null?$2(a,u):Ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}var Ys=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){l1(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return ZL(this.inner)}size(){return this.innerSize}};var G$=new St(me.comparator);function rs(){return G$}var lE=new St(me.comparator);function e0(...n){let e=lE;for(let t of n)e=e.insert(t.key,t);return e}function uE(n){let e=lE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function e1(){return i0()}function dE(){return i0()}function i0(){return new Ys(n=>n.toString(),(n,e)=>n.isEqual(e))}var K$=new St(me.comparator),Q$=new ln(me.comparator);function We(...n){let e=Q$;for(let t of n)e=e.add(t);return e}var Y$=new ln(et);function Z$(){return Y$}function q9(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s0(e)?"-0":e}}function fE(n){return{integerValue:""+n}}function X$(n,e){return k$(e)?fE(e):q9(n,e)}var G2=class{constructor(){this._=void 0}};function J$(n,e,t){return n instanceof K2?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&V9(s)&&(s=B9(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Zs?pE(n,e):n instanceof Xs?mE(n,e):function(r,s){let o=hE(r,s),c=EL(o)+EL(r.Pe);return gp(o)&&gp(r.Pe)?fE(c):q9(r.serializer,c)}(n,e)}function eq(n,e,t){return n instanceof Zs?pE(n,e):n instanceof Xs?mE(n,e):t}function hE(n,e){return n instanceof Q2?function(i){return gp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var K2=class extends G2{},Zs=class extends G2{constructor(e){super(),this.elements=e}};function pE(n,e){let t=gE(e);for(let i of n.elements)t.some(r=>hr(r,i))||t.push(i);return{arrayValue:{values:t}}}var Xs=class extends G2{constructor(e){super(),this.elements=e}};function mE(n,e){let t=gE(e);for(let i of n.elements)t=t.filter(r=>!hr(r,i));return{arrayValue:{values:t}}}var Q2=class extends G2{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function EL(n){return gt(n.integerValue||n.doubleValue)}function gE(n){return U9(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var _6=class{constructor(e,t){this.field=e,this.transform=t}};function tq(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Zs&&r instanceof Zs||i instanceof Xs&&r instanceof Xs?H2(i.elements,r.elements,hr):i instanceof Q2&&r instanceof Q2?hr(i.Pe,r.Pe):i instanceof K2&&r instanceof K2}(n.transform,e.transform)}var Sp=class{constructor(e,t){this.version=e,this.transformResults=t}},dr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function a6(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Y2=class{};function _E(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new a0(n.key,dr.none()):new c1(n.key,n.data,dr.none());{let t=n.data,i=Zn.empty(),r=new ln(Xn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new pr(n.key,i,new _i(r.toArray()),dr.none())}}function nq(n,e,t){n instanceof c1?function(r,s,o){let c=r.value.clone(),a=SL(r.fieldTransforms,s,o.transformResults);c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof pr?function(r,s,o){if(!a6(r.precondition,s))return void s.convertToUnknownDocument(o.version);let c=SL(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(yE(r)),a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function r0(n,e,t,i){return n instanceof c1?function(s,o,c,a){if(!a6(s.precondition,o))return c;let u=s.value.clone(),d=zL(s.fieldTransforms,a,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof pr?function(s,o,c,a){if(!a6(s.precondition,o))return c;let u=zL(s.fieldTransforms,a,o),d=o.data;return d.setAll(yE(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,c){return a6(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function iq(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=hE(i.transform,r||null);s!=null&&(t===null&&(t=Zn.empty()),t.set(i.field,s))}return t||null}function IL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&H2(i,r,(s,o)=>tq(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var c1=class extends Y2{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},pr=class extends Y2{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function yE(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function SL(n,e,t){let i=new Map;nt(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,eq(o,c,t[r]))}return i}function zL(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,J$(s,o,e))}return i}var a0=class extends Y2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},zp=class extends Y2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ap=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&nq(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=r0(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=r0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=dE();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;let a=_E(o,c);a!==null&&i.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&H2(this.mutations,e.mutations,(t,i)=>IL(t,i))&&H2(this.baseMutations,e.baseMutations,(t,i)=>IL(t,i))}},Dp=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){nt(e.mutations.length===i.length);let r=function(){return K$}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var Tp=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Np=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var kt,Qe;function rq(n){switch(n){default:return Ce();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function vE(n){if(n===void 0)return ns("GRPC error has no .code"),B.UNKNOWN;switch(n){case kt.OK:return B.OK;case kt.CANCELLED:return B.CANCELLED;case kt.UNKNOWN:return B.UNKNOWN;case kt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case kt.INTERNAL:return B.INTERNAL;case kt.UNAVAILABLE:return B.UNAVAILABLE;case kt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case kt.NOT_FOUND:return B.NOT_FOUND;case kt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case kt.ABORTED:return B.ABORTED;case kt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case kt.DATA_LOSS:return B.DATA_LOSS;default:return Ce()}}(Qe=kt||(kt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";var AL=null;function sq(){return new TextEncoder}var oq=new Ws([4294967295,4294967295],0);function DL(n){let e=sq().encode(n),t=new Qh;return t.update(e),new Uint8Array(t.digest())}function TL(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ws([t,i],0),new Ws([r,s],0)]}var Pp=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new t1(`Invalid padding: ${t}`);if(i<0)throw new t1(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new t1(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new t1(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ws.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Ws.fromNumber(i)));return r.compare(oq)===1&&(r=new Ws([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=DL(e),[i,r]=TL(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=DL(e),[i,r]=TL(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},t1=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var y6=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,l0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ke.min(),r,new St(et),rs(),We())}},l0=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,We(),We(),We())}};var B2=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},v6=class{constructor(e,t){this.targetId=e,this.me=t}},b6=class{constructor(e,t,i=un.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},C6=class{constructor(){this.fe=0,this.ge=PL(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),i=We();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ce()}}),new l0(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=PL()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},kp=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=rs(),this.qe=NL(),this.Qe=new St(et)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Ep(s))if(i===0){let o=new me(s.path);this.Ue(t,o,Ni.newNoDocument(o,ke.min()))}else nt(i===1);else{let o=this.Ye(t);if(o!==i){let c=this.Ze(e),a=c?this.Xe(c,e,o):1;if(a!==0){this.je(t);let u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}AL?.et(function(d,h,m,g,y){var x,S,F,V,q,X;let we={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},ce=h.unchangedNames;return ce&&(we.bloomFilter={applied:y===0,hashCount:(x=ce?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(V=(F=(S=ce?.bits)===null||S===void 0?void 0:S.bitmap)===null||F===void 0?void 0:F.length)!==null&&V!==void 0?V:0,padding:(X=(q=ce?.bits)===null||q===void 0?void 0:q.padding)!==null&&X!==void 0?X:0,mightContain:w=>{var v;return(v=g?.mightContain(w))!==null&&v!==void 0&&v}}),we}(o,e.me,this.Le.tt(),c,a))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,c;try{o=Ks(i).toUint8Array()}catch(a){if(a instanceof h6)return j2("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{c=new Pp(o,r,s)}catch(a){return j2(a instanceof t1?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return c.Ie===0?null:c}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&Ep(c.target)){let a=new me(c.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,Ni.newNoDocument(a,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=We();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(a=>{let u=this.Je(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new y6(e,t,this.Qe,this.ke,i);return this.ke=rs(),this.qe=NL(),this.Qe=new St(et),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new C6,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ln(et),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new C6),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function NL(){return new St(me.comparator)}function PL(){return new St(me.comparator)}var cq={asc:"ASCENDING",desc:"DESCENDING"},aq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lq={and:"AND",or:"OR"},Rp=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Op(n,e){return n.useProto3Json||$6(e)?e:{value:e}}function M6(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uq(n,e){return M6(n,e.toTimestamp())}function fr(n){return nt(!!n),ke.fromTimestamp(function(t){let i=is(t);return new Zt(i.seconds,i.nanos)}(n))}function W9(n,e){return Fp(n,e).canonicalString()}function Fp(n,e){let t=function(r){return new Ct(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CE(n){let e=Ct.fromString(n);return nt(EE(e)),e}function Vp(n,e){return W9(n.databaseId,e.path)}function tp(n,e){let t=CE(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(wE(t))}function ME(n,e){return W9(n.databaseId,e)}function dq(n){let e=CE(n);return e.length===4?Ct.emptyPath():wE(e)}function Bp(n){return new Ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wE(n){return nt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function kL(n,e,t){return{name:Vp(n,e),fields:t.value.mapValue.fields}}function fq(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(nt(d===void 0||typeof d=="string"),un.fromBase64String(d||"")):(nt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),un.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let d=u.code===void 0?B.UNKNOWN:vE(u.code);return new ne(d,u.message||"")}(o);t=new b6(i,r,s,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=tp(n,i.document.name),s=fr(i.document.updateTime),o=i.document.createTime?fr(i.document.createTime):ke.min(),c=new Zn({mapValue:{fields:i.document.fields}}),a=Ni.newFoundDocument(r,s,o,c),u=i.targetIds||[],d=i.removedTargetIds||[];t=new B2(u,d,a.key,a)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=tp(n,i.document),s=i.readTime?fr(i.readTime):ke.min(),o=Ni.newNoDocument(r,s),c=i.removedTargetIds||[];t=new B2([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=tp(n,i.document),s=i.removedTargetIds||[];t=new B2([],s,r,null)}else{if(!("filter"in e))return Ce();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Np(r,s),c=i.targetId;t=new v6(c,o)}}return t}function hq(n,e){let t;if(e instanceof c1)t={update:kL(n,e.key,e.value)};else if(e instanceof a0)t={delete:Vp(n,e.key)};else if(e instanceof pr)t={update:kL(n,e.key,e.data),updateMask:Mq(e.fieldMask)};else{if(!(e instanceof zp))return Ce();t={verify:Vp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let c=o.transform;if(c instanceof K2)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Q2)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:uq(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(n,e.precondition)),t}function pq(n,e){return n&&n.length>0?(nt(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?fr(r.updateTime):fr(s);return o.isEqual(ke.min())&&(o=fr(s)),new Sp(o,r.transformResults||[])}(t,e))):[]}function mq(n,e){return{documents:[ME(n,e.path)]}}function gq(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ME(n,r);let s=function(u){if(u.length!==0)return LE(Pi.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:O2(m.field),direction:vq(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=Op(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function _q(n){let e=dq(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){nt(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(h){let m=xE(h);return m instanceof Pi&&nE(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(m=>function(y){return new o1(F2(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(h){let m;return m=typeof h=="object"?h.value:h,$6(m)?null:m}(t.limit));let a=null;t.startAt&&(a=function(h){let m=!!h.before,g=h.values||[];return new W2(g,m)}(t.startAt));let u=null;return t.endAt&&(u=function(h){let m=!h.before,g=h.values||[];return new W2(g,m)}(t.endAt)),H$(e,r,o,s,c,"F",a,u)}function yq(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=F2(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=F2(t.unaryFilter.field);return Ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=F2(t.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=F2(t.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(F2(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pi.create(t.compositeFilter.filters.map(i=>xE(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function vq(n){return cq[n]}function bq(n){return aq[n]}function Cq(n){return lq[n]}function O2(n){return{fieldPath:n.canonicalString()}}function F2(n){return Xn.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof Ot?function(t){if(t.op==="=="){if(CL(t.value))return{unaryFilter:{field:O2(t.field),op:"IS_NAN"}};if(bL(t.value))return{unaryFilter:{field:O2(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CL(t.value))return{unaryFilter:{field:O2(t.field),op:"IS_NOT_NAN"}};if(bL(t.value))return{unaryFilter:{field:O2(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O2(t.field),op:bq(t.op),value:t.value}}}(n):n instanceof Pi?function(t){let i=t.getFilters().map(r=>LE(r));return i.length===1?i[0]:{compositeFilter:{op:Cq(t.op),filters:i}}}(n):Ce()}function Mq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var u0=class n{constructor(e,t,i,r,s=ke.min(),o=ke.min(),c=un.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=a}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Up=class{constructor(e){this.ct=e}};function wq(n){let e=_q({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?g6(e,e.limit,"L"):e}var w6=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gt(e.integerValue));else if("doubleValue"in e){let i=gt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),s0(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=is(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ks(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?JL(e)?this.dt(t,Number.MAX_SAFE_INTEGER):XL(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",c=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(gt(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),me.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};w6.vt=new w6;var jp=class{constructor(){this.un=new Hp}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(r1.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(r1.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}},Hp=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ln(Ct.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ln(Ct.comparator)).toArray()}};var Uae=new Uint8Array(0);var cr=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var d0=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var $p=class{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qp=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Wp=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&r0(i.mutation,r,_i.empty(),Zt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){let r=e1();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=e0();return s.forEach((c,a)=>{o=o.insert(c,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=e1();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,i,r){let s=rs(),o=i0(),c=function(){return i0()}();return t.forEach((a,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof pr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),r0(d.mutation,u,d.mutation.getFieldMask(),Zt.now())):o.set(u.key,_i.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var h;return c.set(u,new qp(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),c))}recalculateAndSaveOverlays(e,t){let i=i0(),r=new St((o,c)=>o-c),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(a=>{let u=t.get(a);if(u===null)return;let d=i.get(a)||_i.empty();d=c.applyToLocalView(u,d),i.set(a,d);let h=(r.get(c.batchId)||We()).add(a);r=r.insert(c.batchId,h)})}).next(()=>{let o=[],c=r.getReverseIterator();for(;c.hasNext();){let a=c.getNext(),u=a.key,d=a.value,h=dE();d.forEach(m=>{if(!s.has(m)){let g=_E(t.get(m),i.get(m));g!==null&&h.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Q.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Q.resolve(e1()),c=-1,a=s;return o.next(u=>Q.forEach(u,(d,h)=>(c<h.largestBatchId&&(c=h.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{a=a.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,a,u,We())).next(d=>({batchId:c,changes:uE(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(i=>{let r=e0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=e0();return this.indexManager.getCollectionParents(e,s).next(c=>Q.forEach(c,a=>{let u=function(h,m){return new Qs(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((a,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ni.newInvalidDocument(d)))});let c=e0();return o.forEach((a,u)=>{let d=s.get(a);d!==void 0&&r0(d.mutation,u,_i.empty(),Zt.now()),W6(t,u)&&(c=c.insert(a,u))}),c})}};var Gp=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:fr(r.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:wq(r.bundledQuery),readTime:fr(r.readTime)}}(t)),Q.resolve()}};var Kp=class{constructor(){this.overlays=new St(me.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let i=e1();return Q.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){let r=e1(),s=t.length+1,o=new me(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let a=c.getNext().value,u=a.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>i&&r.set(a.getKey(),a)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new St((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=e1(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let c=e1(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=r)););return Q.resolve(c)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Tp(t,i));let s=this.Ir.get(t);s===void 0&&(s=We(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var Qp=class{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}};var f0=class{constructor(){this.Tr=new ln(Rt.Er),this.dr=new ln(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Rt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Rt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new me(new Ct([])),i=new Rt(t,e),r=new Rt(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new me(new Ct([])),i=new Rt(t,e),r=new Rt(t,e+1),s=We();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Rt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Rt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return me.comparator(e.key,t.key)||et(e.wr,t.wr)}static Ar(e,t){return et(e.wr,t.wr)||me.comparator(e.key,t.key)}};var Yp=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ln(Rt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ap(s,t,i,r);this.mutationQueue.push(o);for(let c of r)this.br=this.br.add(new Rt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Rt(t,0),r=new Rt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let c=this.Dr(o.wr);s.push(c)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ln(et);return t.forEach(r=>{let s=new Rt(r,0),o=new Rt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{i=i.add(c.wr)})}),Q.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;me.isDocumentKey(s)||(s=s.child(""));let o=new Rt(new me(s),0),c=new ln(et);return this.br.forEachWhile(a=>{let u=a.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(c=c.add(a.wr)),!0)},o),Q.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){nt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Q.forEach(t.mutations,r=>{let s=new Rt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Rt(t,0),r=this.br.firstAfterOrEqual(i);return Q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Zp=class{constructor(e){this.Mr=e,this.docs=function(){return new St(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():Ni.newInvalidDocument(t))}getEntries(e,t){let i=rs();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ni.newInvalidDocument(r))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=rs(),o=t.path,c=new me(o.child("")),a=this.docs.getIteratorFrom(c);for(;a.hasNext();){let{key:u,value:{document:d}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||T$(D$(d),i)<=0||(r.has(d.key)||W6(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Ce()}Or(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Xp(this)}getSize(e){return Q.resolve(this.size)}},Xp=class extends $p{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Jp=class{constructor(e){this.persistence=e,this.Nr=new Ys(t=>j9(t),H9),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new f0,this.targetCount=0,this.kr=d0.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new d0(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),Q.waitFor(s).next(()=>r)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}};var e9=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new YL(0),this.Kr=!1,this.Kr=!0,this.$r=new Qp,this.referenceDelegate=e(this),this.Ur=new Jp(this),this.indexManager=new jp,this.remoteDocumentCache=function(r){return new Zp(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Up(t),this.Gr=new Gp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new Yp(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);let r=new t9(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return Q.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},t9=class extends hp{constructor(e){super(),this.currentSequenceNumber=e}},n9=class n{constructor(e){this.persistence=e,this.Jr=new f0,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,i=>{let r=me.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,ke.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var i9=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=We(),r=We();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var r9=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var s9=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qw()?8:P$(Ht())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new r9;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Ja()<=qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",R2(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Ja()<=qe.DEBUG&&le("QueryEngine","Query:",R2(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ja()<=qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",R2(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):Q.resolve())}Yi(e,t){if(LL(t))return Q.resolve(null);let i=ur(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=g6(t,null,"F"),i=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=We(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(a=>{let u=this.ts(t,c);return this.ns(t,u,o,a.readTime)?this.Yi(e,g6(t,null,"F")):this.rs(e,u,t,a)}))})))}Zi(e,t,i,r){return LL(t)||r.isEqual(ke.min())?Q.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?Q.resolve(null):(Ja()<=qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),R2(t)),this.rs(e,o,t,A$(r,-1)).next(c=>c))})}ts(e,t){let i=new ln(aE(e));return t.forEach((r,s)=>{W6(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return Ja()<=qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",R2(t)),this.Ji.getDocumentsMatchingQuery(e,t,r1.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var o9=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new St(et),this._s=new Ys(s=>j9(s),H9),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function xq(n,e,t,i){return new o9(n,e,t,i)}function IE(n,e){return b(this,null,function*(){let t=Se(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],c=[],a=We();for(let u of r){o.push(u.batchId);for(let d of u.mutations)a=a.add(d.key)}for(let u of s){c.push(u.batchId);for(let d of u.mutations)a=a.add(d.key)}return t.localDocuments.getDocuments(i,a).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:c}))})})})}function Lq(n,e){let t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,a,u,d){let h=u.batch,m=h.keys(),g=Q.resolve();return m.forEach(y=>{g=g.next(()=>d.getEntry(a,y)).next(x=>{let S=u.docVersions.get(y);nt(S!==null),x.version.compareTo(S)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>c.mutationQueue.removeMutationBatch(a,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let a=We();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(a=a.add(c.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function SE(n){let e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Eq(n,e){let t=Se(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let c=[];e.targetChanges.forEach((d,h)=>{let m=r.get(h);if(!m)return;c.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,h)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(un.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(h,g),function(x,S,F){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,g,d)&&c.push(t.Ur.updateTargetData(s,g))});let a=rs(),u=We();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(Iq(s,o,e.documentUpdates).next(d=>{a=d.Ps,u=d.Is})),!i.isEqual(ke.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(d)}return Q.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(t.os=r,s))}function Iq(n,e,t){let i=We(),r=We();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=rs();return t.forEach((c,a)=>{let u=s.get(c);a.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(c)),a.isNoDocument()&&a.version.isEqual(ke.min())?(e.removeEntry(c,a.readTime),o=o.insert(c,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(c,a)):le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",a.version)}),{Ps:o,Is:r}})}function Sq(n,e){let t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zq(n,e){let t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,Q.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new u0(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function c9(n,e,t){return b(this,null,function*(){let i=Se(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!C0(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function RL(n,e,t){let i=Se(n),r=ke.min(),s=We();return i.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,d){let h=Se(a),m=h._s.get(d);return m!==void 0?Q.resolve(h.os.get(m)):h.Ur.getTargetData(u,d)}(i,o,ur(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,c.targetId).next(a=>{s=a})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:ke.min(),t?s:We())).next(c=>(Aq(i,q$(e),c),{documents:c,Ts:s})))}function Aq(n,e,t){let i=n.us.get(e)||ke.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var x6=class{constructor(){this.activeTargetIds=Z$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var a9=class{constructor(){this.so=new x6,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new x6,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var l9=class{_o(e){}shutdown(){}};var L6=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var o6=null;function np(){return o6===null?o6=function(){return 268435456+Math.round(2147483648*Math.random())}():o6++,"0x"+o6.toString(16)}var Dq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var u9=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var an="WebChannelConnection",d9=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let c=np(),a=this.xo(t,i.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${c}:`,a,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,a,u,r).then(d=>(le("RestConnection",`Received RPC '${t}' ${c}: `,d),d),d=>{throw j2("RestConnection",`RPC '${t}' ${c} failed with error: `,d,"url: ",a,"request:",r),d})}Lo(t,i,r,s,o,c){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ec}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=Dq[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=np();return new Promise((o,c)=>{let a=new Yh;a.setWithCredentials(!0),a.listenOnce(Zh.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Xa.NO_ERROR:let d=a.getResponseJson();le(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Xa.TIMEOUT:le(an,`RPC '${e}' ${s} timed out`),c(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:let h=a.getStatus();if(le(an,`RPC '${e}' ${s} failed with status:`,h,"response text:",a.getResponseText()),h>0){let m=a.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let y=function(S){let F=S.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(F)>=0?F:B.UNKNOWN}(g.status);c(new ne(y,g.message))}else c(new ne(B.UNKNOWN,"Server responded with status "+a.getStatus()))}else c(new ne(B.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{le(an,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);le(an,`RPC '${e}' ${s} sending request:`,r),a.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=np(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ep(),c=Jh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,i),a.encodeInitMessageHeaders=!0;let d=s.join("");le(an,`Creating RPC '${e}' stream ${r}: ${d}`,a);let h=o.createWebChannel(d,a),m=!1,g=!1,y=new u9({Io:S=>{g?le(an,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(le(an,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),le(an,`RPC '${e}' stream ${r} sending:`,S),h.send(S))},To:()=>h.close()}),x=(S,F,V)=>{S.listen(F,q=>{try{V(q)}catch(X){setTimeout(()=>{throw X},0)}})};return x(h,k2.EventType.OPEN,()=>{g||(le(an,`RPC '${e}' stream ${r} transport opened.`),y.yo())}),x(h,k2.EventType.CLOSE,()=>{g||(g=!0,le(an,`RPC '${e}' stream ${r} transport closed`),y.So())}),x(h,k2.EventType.ERROR,S=>{g||(g=!0,j2(an,`RPC '${e}' stream ${r} transport errored:`,S),y.So(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),x(h,k2.EventType.MESSAGE,S=>{var F;if(!g){let V=S.data[0];nt(!!V);let q=V,X=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(X){le(an,`RPC '${e}' stream ${r} received error:`,X);let we=X.status,ce=function(C){let L=kt[C];if(L!==void 0)return vE(L)}(we),w=X.message;ce===void 0&&(ce=B.INTERNAL,w="Unknown error status: "+we+" with message "+X.message),g=!0,y.So(new ne(ce,w)),h.close()}else le(an,`RPC '${e}' stream ${r} received:`,V),y.bo(V)}}),x(c,Xh.STAT_EVENT,S=>{S.stat===r6.PROXY?le(an,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===r6.NOPROXY&&le(an,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}};function ip(){return typeof document<"u"?document:null}function G6(n){return new Rp(n,!0)}var E6=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var I6=class{constructor(e,t,i,r,s,o,c,a){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new E6(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(ns(t.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new ne(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},f9=class extends I6{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=fq(this.serializer,e),i=function(s){if(!("targetChange"in s))return ke.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?fr(o.readTime):ke.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=Bp(this.serializer),t.addTarget=function(s,o){let c,a=o.target;if(c=Ep(a)?{documents:mq(s,a)}:{query:gq(s,a)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=bE(s,o.resumeToken);let u=Op(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ke.min())>0){c.readTime=M6(s,o.snapshotVersion.toTimestamp());let u=Op(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let i=yq(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=Bp(this.serializer),t.removeTarget=e,this.a_(t)}},h9=class extends I6{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=pq(e.writeResults,e.commitTime),i=fr(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=Bp(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>hq(this.serializer,i))};this.a_(t)}};var p9=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fp(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(B.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Fp(t,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},m9=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ns(t),this.D_=!1):le("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var g9=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>b(this,null,function*(){u1(this)&&(le("RemoteStore","Restarting streams for network reachability change."),yield function(a){return b(this,null,function*(){let u=Se(a);u.L_.add(4),yield M0(u),u.q_.set("Unknown"),u.L_.delete(4),yield K6(u)})}(this))}))}),this.q_=new m9(i,r)}};function K6(n){return b(this,null,function*(){if(u1(n))for(let e of n.B_)yield e(!0)})}function M0(n){return b(this,null,function*(){for(let e of n.B_)yield e(!1)})}function zE(n,e){let t=Se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Y9(t)?Q9(t):tc(t).r_()&&K9(t,e))}function G9(n,e){let t=Se(n),i=tc(t);t.N_.delete(e),i.r_()&&AE(t,e),t.N_.size===0&&(i.r_()?i.o_():u1(t)&&t.q_.set("Unknown"))}function K9(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tc(n).A_(e)}function AE(n,e){n.Q_.xe(e),tc(n).R_(e)}function Q9(n){n.Q_=new kp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),tc(n).start(),n.q_.v_()}function Y9(n){return u1(n)&&!tc(n).n_()&&n.N_.size>0}function u1(n){return Se(n).L_.size===0}function DE(n){n.Q_=void 0}function Tq(n){return b(this,null,function*(){n.q_.set("Online")})}function Nq(n){return b(this,null,function*(){n.N_.forEach((e,t)=>{K9(n,e)})})}function Pq(n,e){return b(this,null,function*(){DE(n),Y9(n)?(n.q_.M_(e),Q9(n)):n.q_.set("Unknown")})}function kq(n,e,t){return b(this,null,function*(){if(n.q_.set("Online"),e instanceof b6&&e.state===2&&e.cause)try{yield function(r,s){return b(this,null,function*(){let o=s.cause;for(let c of s.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.N_.delete(c),r.Q_.removeTarget(c))})}(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield S6(n,i)}else if(e instanceof B2?n.Q_.Ke(e):e instanceof v6?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ke.min()))try{let i=yield SE(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(a.resumeToken,o))}}),c.targetMismatches.forEach((a,u)=>{let d=s.N_.get(a);if(!d)return;s.N_.set(a,d.withResumeToken(un.EMPTY_BYTE_STRING,d.snapshotVersion)),AE(s,a);let h=new u0(d.target,a,u,d.sequenceNumber);K9(s,h)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield S6(n,i)}})}function S6(n,e,t){return b(this,null,function*(){if(!C0(e))throw e;n.L_.add(1),yield M0(n),n.q_.set("Offline"),t||(t=()=>SE(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield K6(n)}))})}function TE(n,e){return e().catch(t=>S6(n,t,e))}function Q6(n){return b(this,null,function*(){let e=Se(n),t=Js(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Rq(e);)try{let r=yield Sq(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,Oq(e,r)}catch(r){yield S6(e,r)}NE(e)&&PE(e)})}function Rq(n){return u1(n)&&n.O_.length<10}function Oq(n,e){n.O_.push(e);let t=Js(n);t.r_()&&t.V_&&t.m_(e.mutations)}function NE(n){return u1(n)&&!Js(n).n_()&&n.O_.length>0}function PE(n){Js(n).start()}function Fq(n){return b(this,null,function*(){Js(n).p_()})}function Vq(n){return b(this,null,function*(){let e=Js(n);for(let t of n.O_)e.m_(t.mutations)})}function Bq(n,e,t){return b(this,null,function*(){let i=n.O_.shift(),r=Dp.from(i,e,t);yield TE(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Q6(n)})}function Uq(n,e){return b(this,null,function*(){e&&Js(n).V_&&(yield function(i,r){return b(this,null,function*(){if(function(o){return rq(o)&&o!==B.ABORTED}(r.code)){let s=i.O_.shift();Js(i).s_(),yield TE(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Q6(i)}})}(n,e)),NE(n)&&PE(n)})}function OL(n,e){return b(this,null,function*(){let t=Se(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");let i=u1(t);t.L_.add(3),yield M0(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield K6(t)})}function jq(n,e){return b(this,null,function*(){let t=Se(n);e?(t.L_.delete(2),yield K6(t)):e||(t.L_.add(2),yield M0(t),t.q_.set("Unknown"))})}function tc(n){return n.K_||(n.K_=function(t,i,r){let s=Se(t);return s.w_(),new f9(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:Tq.bind(null,n),Ro:Nq.bind(null,n),mo:Pq.bind(null,n),d_:kq.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.K_.s_(),Y9(n)?Q9(n):n.q_.set("Unknown")):(yield n.K_.stop(),DE(n))}))),n.K_}function Js(n){return n.U_||(n.U_=function(t,i,r){let s=Se(t);return s.w_(),new h9(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Fq.bind(null,n),mo:Uq.bind(null,n),f_:Vq.bind(null,n),g_:Bq.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.U_.s_(),yield Q6(n)):(yield n.U_.stop(),n.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var _9=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,c=new n(e,t,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Z9(n,e){if(ns("AsyncQueue",`${e}: ${n}`),C0(n))return new ne(B.UNAVAILABLE,`${e}: ${n}`);throw n}var z6=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=e0(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var A6=class{constructor(){this.W_=new St(me.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Z2=class n{constructor(e,t,i,r,s,o,c,a,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,z6.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&q6(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var y9=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},v9=class{constructor(){this.queries=FL(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=Se(t),s=r.queries;r.queries=FL(),s.forEach((o,c)=>{for(let a of c.j_)a.onError(i)})})(this,new ne(B.ABORTED,"Firestore shutting down"))}};function FL(){return new Ys(n=>cE(n),q6)}function kE(n,e){return b(this,null,function*(){let t=Se(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new y9,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let c=Z9(o,`Initialization of query '${R2(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&X9(t)})}function RE(n,e){return b(this,null,function*(){let t=Se(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function Hq(n,e){let t=Se(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(r)&&(i=!0);o.z_=r}}i&&X9(t)}function $q(n,e,t){let i=Se(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function X9(n){n.Y_.forEach(e=>{e.next()})}var b9,VL;(VL=b9||(b9={})).ea="default",VL.Cache="cache";var D6=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Z2(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Z2.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==b9.Cache}};var T6=class{constructor(e){this.key=e}},N6=class{constructor(e){this.key=e}},C9=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=We(),this.mutatedKeys=We(),this.Aa=aE(e),this.Ra=new z6(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new A6,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1,a=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let m=r.get(d),g=W6(this.query,h)?h:null,y=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),S=!1;m&&g?m.data.isEqual(g.data)?y!==x&&(i.track({type:3,doc:g}),S=!0):this.ga(m,g)||(i.track({type:2,doc:g}),S=!0,(a&&this.Aa(g,a)>0||u&&this.Aa(g,u)<0)&&(c=!0)):!m&&g?(i.track({type:0,doc:g}),S=!0):m&&!g&&(i.track({type:1,doc:m}),S=!0,(a||u)&&(c=!0)),S&&(g?(o=o.add(g),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,h)=>function(g,y){let x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return x(g)-x(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(i),r=r!=null&&r;let c=t&&!r?this.ya():[],a=this.da.size===0&&this.current&&!r?1:0,u=a!==this.Ea;return this.Ea=a,o.length!==0||u?{snapshot:new Z2(this.query,e.Ra,s,o,e.mutatedKeys,a===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new A6,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=We(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new N6(i))}),this.da.forEach(i=>{e.has(i)||t.push(new T6(i))}),t}ba(e){this.Ta=e.Ts,this.da=We();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Z2.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},M9=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},w9=class{constructor(e){this.key=e,this.va=!1}},x9=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ys(c=>cE(c),q6),this.Ma=new Map,this.xa=new Set,this.Oa=new St(me.comparator),this.Na=new Map,this.La=new f0,this.Ba={},this.ka=new Map,this.qa=d0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function qq(n,e,t=!0){return b(this,null,function*(){let i=jE(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield OE(i,e,t,!0),r})}function Wq(n,e){return b(this,null,function*(){let t=jE(n);yield OE(t,e,!0,!1)})}function OE(n,e,t,i){return b(this,null,function*(){let r=yield zq(n.localStore,ur(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return i&&(c=yield Gq(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&zE(n.remoteStore,r),c})}function Gq(n,e,t,i,r){return b(this,null,function*(){n.Ka=(h,m,g)=>function(x,S,F,V){return b(this,null,function*(){let q=S.view.ma(F);q.ns&&(q=yield RL(x.localStore,S.query,!1).then(({documents:w})=>S.view.ma(w,q)));let X=V&&V.targetChanges.get(S.targetId),we=V&&V.targetMismatches.get(S.targetId)!=null,ce=S.view.applyChanges(q,x.isPrimaryClient,X,we);return UL(x,S.targetId,ce.wa),ce.snapshot})}(n,h,m,g);let s=yield RL(n.localStore,e,!0),o=new C9(e,s.Ts),c=o.ma(s.documents),a=l0.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(c,n.isPrimaryClient,a);UL(n,t,u.wa);let d=new M9(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function Kq(n,e,t){return b(this,null,function*(){let i=Se(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!q6(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield c9(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&G9(i.remoteStore,r.targetId),L9(i,r.targetId)}).catch(b0))):(L9(i,r.targetId),yield c9(i.localStore,r.targetId,!0))})}function Qq(n,e){return b(this,null,function*(){let t=Se(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),G9(t.remoteStore,i.targetId))})}function Yq(n,e,t){return b(this,null,function*(){let i=iW(n);try{let r=yield function(o,c){let a=Se(o),u=Zt.now(),d=c.reduce((g,y)=>g.add(y.key),We()),h,m;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=rs(),x=We();return a.cs.getEntries(g,d).next(S=>{y=S,y.forEach((F,V)=>{V.isValidDocument()||(x=x.add(F))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,y)).next(S=>{h=S;let F=[];for(let V of c){let q=iq(V,h.get(V.key).overlayedDocument);q!=null&&F.push(new pr(V.key,q,eE(q.value.mapValue),dr.exists(!0)))}return a.mutationQueue.addMutationBatch(g,u,F,c)}).next(S=>{m=S;let F=S.applyToLocalDocumentSet(h,x);return a.documentOverlayCache.saveOverlays(g,S.batchId,F)})}).then(()=>({batchId:m.batchId,changes:uE(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,a){let u=o.Ba[o.currentUser.toKey()];u||(u=new St(et)),u=u.insert(c,a),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,t),yield w0(i,r.changes),yield Q6(i.remoteStore)}catch(r){let s=Z9(r,"Failed to persist write");t.reject(s)}})}function FE(n,e){return b(this,null,function*(){let t=Se(n);try{let i=yield Eq(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?nt(o.va):r.removedDocuments.size>0&&(nt(o.va),o.va=!1))}),yield w0(t,i,e)}catch(i){yield b0(i)}})}function BL(n,e,t){let i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){let a=Se(o);a.onlineState=c;let u=!1;a.queries.forEach((d,h)=>{for(let m of h.j_)m.Z_(c)&&(u=!0)}),u&&X9(a)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Zq(n,e,t){return b(this,null,function*(){let i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new St(me.comparator);o=o.insert(s,Ni.newNoDocument(s,ke.min()));let c=We().add(s),a=new y6(ke.min(),new Map,new St(et),o,c);yield FE(i,a),i.Oa=i.Oa.remove(s),i.Na.delete(e),J9(i)}else yield c9(i.localStore,e,!1).then(()=>L9(i,e,t)).catch(b0)})}function Xq(n,e){return b(this,null,function*(){let t=Se(n),i=e.batch.batchId;try{let r=yield Lq(t.localStore,e);BE(t,i,null),VE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield w0(t,r)}catch(r){yield b0(r)}})}function Jq(n,e,t){return b(this,null,function*(){let i=Se(n);try{let r=yield function(o,c){let a=Se(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return a.mutationQueue.lookupMutationBatch(u,c).next(h=>(nt(h!==null),d=h.keys(),a.mutationQueue.removeMutationBatch(u,h))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>a.localDocuments.getDocuments(u,d))})}(i.localStore,e);BE(i,e,t),VE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield w0(i,r)}catch(r){yield b0(r)}})}function VE(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function BE(n,e,t){let i=Se(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function L9(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||UE(n,i)})}function UE(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(G9(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),J9(n))}function UL(n,e,t){for(let i of t)i instanceof T6?(n.La.addReference(i.key,e),eW(n,i)):i instanceof N6?(le("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||UE(n,i.key)):Ce()}function eW(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(le("SyncEngine","New document in limbo: "+t),n.xa.add(i),J9(n))}function J9(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new me(Ct.fromString(e)),i=n.qa.next();n.Na.set(i,new w9(t)),n.Oa=n.Oa.insert(t,i),zE(n.remoteStore,new u0(ur($9(t.path)),i,"TargetPurposeLimboResolution",YL.oe))}}function w0(n,e,t){return b(this,null,function*(){let i=Se(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((c,a)=>{o.push(i.Ka(a,e,t).then(u=>{var d;if((u||t)&&i.isPrimaryClient){let h=u?!u.fromCache:(d=t?.targetChanges.get(a.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(a.targetId,h?"current":"not-current")}if(u){r.push(u);let h=i9.Wi(a.targetId,u);s.push(h)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(a,u){return b(this,null,function*(){let d=Se(a);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(u,m=>Q.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>Q.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!C0(h))throw h;le("LocalStore","Failed to update sequence numbers: "+h)}for(let h of u){let m=h.targetId;if(!h.fromCache){let g=d.os.get(m),y=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(m,x)}}})}(i.localStore,s))})}function tW(n,e){return b(this,null,function*(){let t=Se(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());let i=yield IE(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(a=>{a.reject(new ne(B.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield w0(t,i.hs)}})}function nW(n,e){let t=Se(n),i=t.Na.get(e);if(i&&i.va)return We().add(i.key);{let r=We(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let c=t.Fa.get(o);r=r.unionWith(c.view.Va)}return r}}function jE(n){let e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zq.bind(null,e),e.Ca.d_=Hq.bind(null,e.eventManager),e.Ca.$a=$q.bind(null,e.eventManager),e}function iW(n){let e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jq.bind(null,e),e}var jL=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=G6(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return xq(this.persistence,new s9,t.initialUser,this.serializer)}Ga(t){return new e9(n9.Zr,this.serializer)}Wa(t){return new a9}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var rW=(()=>{class n{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tW.bind(null,this.syncEngine),yield jq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new v9}()}createDatastore(t){let i=G6(t.databaseInfo.databaseId),r=function(o){return new d9(o)}(t.databaseInfo);return function(o,c,a,u){return new p9(o,c,a,u)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,c,a){return new g9(r,s,o,c,a)}(this.localStore,this.datastore,t.asyncQueue,i=>BL(this.syncEngine,i,0),function(){return L6.D()?new L6:new l9}())}createSyncEngine(t,i){return function(s,o,c,a,u,d,h){let m=new x9(s,o,c,a,u,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t,i;yield function(s){return b(this,null,function*(){let o=Se(s);le("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield M0(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var P6=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var E9=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=$t.UNAUTHENTICATED,this.clientId=u6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>b(this,null,function*(){le("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Z9(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function rp(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>b(this,null,function*(){i.isEqual(r)||(yield IE(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function HL(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield sW(n);le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>OL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>OL(e.remoteStore,r)),n._onlineComponents=e})}function sW(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rp(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;j2("Error using user provided cache. Falling back to memory cache: "+t),yield rp(n,new jL)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield rp(n,new jL);return n._offlineComponents})}function HE(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield HL(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield HL(n,new rW))),n._onlineComponents})}function oW(n){return HE(n).then(e=>e.syncEngine)}function I9(n){return b(this,null,function*(){let e=yield HE(n),t=e.eventManager;return t.onListen=qq.bind(null,e.syncEngine),t.onUnlisten=Kq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Qq.bind(null,e.syncEngine),t})}function cW(n,e,t={}){let i=new ar;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(s,o,c,a,u){let d=new P6({next:m=>{d.Za(),o.enqueueAndForget(()=>RE(s,h)),m.fromCache&&a.source==="server"?u.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new D6(c,d,{includeMetadataChanges:!0,_a:!0});return kE(s,h)}(yield I9(n),n.asyncQueue,e,t,i)})),i.promise}function $E(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $L=new Map;function qE(n,e,t){if(!t)throw new ne(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aW(n,e,t,i){if(e===!0&&i===!0)throw new ne(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qL(n){if(!me.isDocumentKey(n))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WL(n){if(me.isDocumentKey(n))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y6(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function yi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Y6(n);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lW(n,e){if(e<=0)throw new ne(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var k6=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},X2=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k6({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k6(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new sp;switch(i.type){case"firstParty":return new lp(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=$L.get(t);i&&(le("ComponentProvider","Removing Datastore"),$L.delete(t),i.terminate())}(this),Promise.resolve()}};function WE(n,e,t,i={}){var r;let s=(n=yi(n,X2))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&j2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,a;if(typeof i.mockUserToken=="string")c=i.mockUserToken,a=$t.MOCK_USER;else{c=T3(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new $t(u)}n._authCredentials=new op(new l6(c,a))}}var ss=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},In=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Gs=class n extends ss{constructor(e,t,i){super(e,t,$9(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new me(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function GE(n,e,...t){if(n=ct(n),qE("collection","path",e),n instanceof X2){let i=Ct.fromString(e,...t);return WL(i),new Gs(n,null,i)}{if(!(n instanceof In||n instanceof Gs))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ct.fromString(e,...t));return WL(i),new Gs(n.firestore,null,i)}}function em(n,e,...t){if(n=ct(n),arguments.length===1&&(e=u6.newId()),qE("doc","path",e),n instanceof X2){let i=Ct.fromString(e,...t);return qL(i),new In(n,null,new me(i))}{if(!(n instanceof In||n instanceof Gs))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ct.fromString(e,...t));return qL(i),new In(n.firestore,n instanceof Gs?n.converter:null,new me(i))}}var R6=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new E6(this,"async_queue_retry"),this.Vu=()=>{let i=ip();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new ar;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!C0(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(i);throw ns("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=_9.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function GL(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var mr=class extends X2{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new R6,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new R6(e),this._firestoreClient=void 0,yield e}})}};function KE(n,e){let t=typeof n=="object"?n:js(),i=typeof n=="string"?n:e||"(default)",r=qo(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=D3("firestore");s&&WE(r,...s)}return r}function tm(n){if(n._terminated)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uW(n),n._firestoreClient}function uW(n){var e,t,i;let r=n._freezeSettings(),s=function(c,a,u,d){return new pp(c,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$E(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new E9(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let a=c?._online.build();return{_offline:c?._offline.build(a),_online:a}}(n._componentsProvider))}var h0=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(un.fromBase64String(e))}catch(t){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var J2=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var a1=class{constructor(e){this._methodName=e}};var p0=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}};var m0=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var dW=/^__.*__$/,S9=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,t,this.fieldTransforms):new c1(e,this.data,t,this.fieldTransforms)}},O6=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new pr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function QE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}var F6=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return V6(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QE(this.Cu)&&dW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},z9=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||G6(e)}Qu(e,t,i,r=!1){return new F6({Cu:e,methodName:t,qu:i,path:Xn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Z6(n){let e=n._freezeSettings(),t=G6(n._databaseId);return new z9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YE(n,e,t,i,r,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);nm("Data must be an object, but it was:",o,i);let c=XE(i,o),a,u;if(s.merge)a=new _i(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=T9(e,h,t);if(!o.contains(m))throw new ne(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eI(d,m)||d.push(m)}a=new _i(d),u=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,u=o.fieldTransforms;return new S9(new Zn(c),a,u)}var g0=class n extends a1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function ZE(n,e,t){return new F6({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var A9=class n extends a1{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=ZE(this,e,!0),i=this.Ku.map(s=>d1(s,t)),r=new Zs(i);return new _6(e.path,r)}isEqual(e){return e instanceof n&&Kr(this.Ku,e.Ku)}},D9=class n extends a1{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=ZE(this,e,!0),i=this.Ku.map(s=>d1(s,t)),r=new Xs(i);return new _6(e.path,r)}isEqual(e){return e instanceof n&&Kr(this.Ku,e.Ku)}};function fW(n,e,t,i){let r=n.Qu(1,e,t);nm("Data must be an object, but it was:",r,i);let s=[],o=Zn.empty();l1(i,(a,u)=>{let d=im(e,a,t);u=ct(u);let h=r.Nu(d);if(u instanceof g0)s.push(d);else{let m=d1(u,h);m!=null&&(s.push(d),o.set(d,m))}});let c=new _i(s);return new O6(o,c,r.fieldTransforms)}function hW(n,e,t,i,r,s){let o=n.Qu(1,e,t),c=[T9(e,i,t)],a=[r];if(s.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(T9(e,s[m])),a.push(s[m+1]);let u=[],d=Zn.empty();for(let m=c.length-1;m>=0;--m)if(!eI(u,c[m])){let g=c[m],y=a[m];y=ct(y);let x=o.Nu(g);if(y instanceof g0)u.push(g);else{let S=d1(y,x);S!=null&&(u.push(g),d.set(g,S))}}let h=new _i(u);return new O6(d,h,o.fieldTransforms)}function pW(n,e,t,i=!1){return d1(t,n.Qu(i?4:3,e))}function d1(n,e){if(JE(n=ct(n)))return nm("Unsupported field value:",e,n),XE(n,e);if(n instanceof a1)return function(i,r){if(!QE(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let c of i){let a=d1(c,r.Lu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return X$(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Zt.fromDate(i);return{timestampValue:M6(r.serializer,s)}}if(i instanceof Zt){let s=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:M6(r.serializer,s)}}if(i instanceof p0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof h0)return{bytesValue:bE(r.serializer,i._byteString)};if(i instanceof In){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:W9(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof m0)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw c.Bu("VectorValues must only contain numeric values.");return q9(c.serializer,a)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Y6(i)}`)}(n,e)}function XE(n,e){let t={};return ZL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):l1(n,(i,r)=>{let s=d1(r,e.Mu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function JE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof p0||n instanceof h0||n instanceof In||n instanceof a1||n instanceof m0)}function nm(n,e,t){if(!JE(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Y6(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function T9(n,e,t){if((e=ct(e))instanceof J2)return e._internalPath;if(typeof e=="string")return im(n,e);throw V6("Field path arguments must be of type string or ",n,!1,void 0,t)}var mW=new RegExp("[~\\*/\\[\\]]");function im(n,e,t){if(e.search(mW)>=0)throw V6(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new J2(...e.split("."))._internalPath}catch{throw V6(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function V6(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${i}`),o&&(a+=` in document ${r}`),a+=")"),new ne(B.INVALID_ARGUMENT,c+n+a)}function eI(n,e){return n.some(t=>t.isEqual(e))}var B6=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(X6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},N9=class extends B6{data(){return super.data()}};function X6(n,e){return typeof e=="string"?im(n,e):e instanceof J2?e._internalPath:e._delegate._internalPath}function tI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _0=class{},y0=class extends _0{};function nI(n,e,...t){let i=[];e instanceof _0&&i.push(e),i=i.concat(t),function(s){let o=s.filter(a=>a instanceof P9).length,c=s.filter(a=>a instanceof U6).length;if(o>1||o>0&&c>0)throw new ne(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var U6=class n extends y0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return sI(e._query,t),new ss(e.firestore,e.converter,Ip(e._query,t))}_parse(e){let t=Z6(e.firestore);return function(s,o,c,a,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){QL(h,d);let g=[];for(let y of h)g.push(KL(a,s,y));m={arrayValue:{values:g}}}else m=KL(a,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||QL(h,d),m=pW(c,o,h,d==="in"||d==="not-in");return Ot.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function iI(n,e,t){let i=e,r=X6("where",n);return U6._create(r,i,t)}var P9=class n extends _0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Pi.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,c=s.getFlattenedFilters();for(let a of c)sI(o,a),o=Ip(o,a)}(e._query,t),new ss(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var k9=class n extends y0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,o){if(r.startAt!==null)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new o1(s,o)}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Qs(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function rI(n,e="asc"){let t=e,i=X6("orderBy",n);return k9._create(i,t)}var R9=class n extends y0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new ss(e.firestore,e.converter,g6(e._query,this._limit,this._limitType))}};function rm(n){return lW("limit",n),R9._create("limit",n,"F")}function KL(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oE(e)&&t.indexOf("/")!==-1)throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Ct.fromString(t));if(!me.isDocumentKey(i))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vL(n,new me(i))}if(t instanceof In)return vL(n,t._key);throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y6(t)}.`)}function QL(n,e){if(!Array.isArray(n)||n.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sI(n,e){let t=function(r,s){for(let o of r)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ne(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var O9=class{convertValue(e,t="none"){switch(s1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return l1(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>gt(o.doubleValue));return new m0(s)}convertGeoPoint(e){return new p0(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=B9(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(o0(e));default:return null}}convertTimestamp(e){let t=is(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Ct.fromString(e);nt(EE(i));let r=new p6(i.get(1),i.get(3)),s=new me(i.popFirst(5));return r.isEqual(t)||ns(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function oI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var n1=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},j6=class extends B6{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new U2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(X6("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},U2=class extends j6{data(e={}){return super.data(e)}},H6=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new n1(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new U2(this._firestore,this._userDataWriter,i.key,i,new n1(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{let a=new U2(r._firestore,r._userDataWriter,c.doc.key,c.doc,new n1(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let a=new U2(r._firestore,r._userDataWriter,c.doc.key,c.doc,new n1(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:gW(c.type),doc:a,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function gW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}var v0=class extends O9{constructor(e){super(),this.firestore=e}convertBytes(e){return new h0(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}};function cI(n){n=yi(n,ss);let e=yi(n.firestore,mr),t=tm(e),i=new v0(e);return tI(n._query),cW(t,n._query).then(r=>new H6(e,i,n,r))}function aI(n,e,t){n=yi(n,In);let i=yi(n.firestore,mr),r=oI(n.converter,e,t);return J6(i,[YE(Z6(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,dr.none())])}function os(n,e,t,...i){n=yi(n,In);let r=yi(n.firestore,mr),s=Z6(r),o;return o=typeof(e=ct(e))=="string"||e instanceof J2?hW(s,"updateDoc",n._key,e,t,i):fW(s,"updateDoc",n._key,e),J6(r,[o.toMutation(n._key,dr.exists(!0))])}function lI(n){return J6(yi(n.firestore,mr),[new a0(n._key,dr.none())])}function uI(n,e){let t=yi(n.firestore,mr),i=em(n),r=oI(n.converter,e);return J6(t,[YE(Z6(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,dr.exists(!1))]).then(()=>i)}function sm(n,...e){var t,i,r;n=ct(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||GL(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(GL(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let a,u,d;if(n instanceof In)u=yi(n.firestore,mr),d=$9(n._key.path),a={next:h=>{e[o]&&e[o](_W(u,n,h))},error:e[o+1],complete:e[o+2]};else{let h=yi(n,ss);u=yi(h.firestore,mr),d=h._query;let m=new v0(u);a={next:g=>{e[o]&&e[o](new H6(u,m,h,g))},error:e[o+1],complete:e[o+2]},tI(n._query)}return function(m,g,y,x){let S=new P6(x),F=new D6(g,S,y);return m.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return kE(yield I9(m),F)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return RE(yield I9(m),F)}))}}(tm(u),d,c,a)}function J6(n,e){return function(i,r){let s=new ar;return i.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Yq(yield oW(i),r,s)})),s.promise}(tm(n),e)}function _W(n,e,t){let i=t.docs.get(e._key),r=new v0(n);return new j6(n,r,e._key,i,new n1(t.hasPendingWrites,t.fromCache),e.converter)}function om(){return new g0("deleteField")}function eu(...n){return new A9("arrayUnion",n)}function tu(...n){return new D9("arrayRemove",n)}(function(e,t=!0){(function(r){ec=r})(rr),ir(new On("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),c=new mr(new cp(i.getProvider("auth-internal")),new dp(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new p6(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),It(mL,"4.7.3",e),It(mL,"4.7.3","esm2017")})();var nu=function(){return nu=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},nu.apply(this,arguments)};var CW={includeMetadataChanges:!1};function cm(n,e){return e===void 0&&(e=CW),new ye(function(t){var i=sm(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function dI(n){return cm(n,{includeMetadataChanges:!0})}function fI(n,e){return e===void 0&&(e={}),dI(n).pipe(ee(function(t){return am(t,e)}))}function am(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:nu(nu({},i),(t={},t[e.idField]=n.id,t))}function hI(n){return cm(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function pI(n,e){return e===void 0&&(e={}),hI(n).pipe(ee(function(t){return t.map(function(i){return am(i,e)})}))}var cs=class{constructor(e){return e}},mI="firestore",lm=class{constructor(){return Ha(mI)}};var um=new te("angularfire2.firestore-instances");function MW(n,e){let t=O3(mI,n,e);return t&&new cs(t)}function wW(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new cs(i)}}var xW={provide:lm,deps:[[new Pn,um]]},LW={provide:cs,useFactory:MW,deps:[[new Pn,um],Yr]};function gI(n,...e){return It("angularfire",Go.full,"fst"),Dr([LW,xW,{provide:um,useFactory:wW(n),multi:!0,deps:[fe,vt,D2,Ko,[new Pn,Za],[new Pn,A2],...e]}])}var dm=pt(pI,!0);var nc=pt(fI,!0);var fm=pt(uI,!0);var _I=pt(tu,!0),yI=pt(eu,!0);var ic=pt(GE,!0);var hm=pt(lI,!0);var qt=pt(em,!0);var vI=pt(cI,!0);var bI=pt(KE,!0);var pm=pt(rI,!0);var iu=pt(nI,!0);var CI=pt(aI,!0);var ru=pt(os,!0);var MI=pt(iI,!0);var dn=class n{constructor(e){this.router=e}username="";userPfp="";uid="";goToProfile(){this.router.navigate(["/profile",this.uid])}static \u0275fac=function(t){return new(t||n)(O(ot))};static \u0275cmp=pe({type:n,selectors:[["app-user-badge"]],inputs:{username:"username",userPfp:"userPfp",uid:"uid"},standalone:!0,features:[ve],decls:4,vars:2,consts:[[1,"user",3,"click"],["alt","user",3,"src"]],template:function(t,i){t&1&&(E(0,"div",0),Y("click",function(){return i.goToProfile()}),J(1,"img",1),E(2,"span"),$(3),z()()),t&2&&(R(),Tf("src",i.userPfp,Wn),R(2),cn(i.username))},styles:[".user[_ngcontent-%COMP%]{display:flex;flex-direction:row;cursor:pointer;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}#user-info[_nghost-%COMP%]{display:flex;align-items:center;margin:20% 0;font-size:30px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}#user-info-profile[_nghost-%COMP%]{display:flex;align-items:center;font-size:30px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}@media (max-width: 1200px){#user-info[_nghost-%COMP%]{font-size:25px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}#user-info-profile[_nghost-%COMP%]{font-size:25px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 992px){#user-info[_nghost-%COMP%]{font-size:20px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#user-info-profile[_nghost-%COMP%]{font-size:20px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}}@media (max-width: 768px){#user-info[_nghost-%COMP%]{font-size:18px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:45px}#user-info-profile[_nghost-%COMP%]{font-size:18px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:45px}}@media (max-width: 576px){#user-info[_nghost-%COMP%]{font-size:16px}#user-info[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}#user-info-profile[_nghost-%COMP%]{font-size:16px}#user-info-profile[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}}"]})};function EW(n,e,t){return(e=SW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function W(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(t),!0).forEach(function(i){EW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xI(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SW(n){var e=IW(n,"string");return typeof e=="symbol"?e:e+""}var LI=()=>{},Om={},ZI={},XI=null,JI={mark:LI,measure:LI};try{typeof window<"u"&&(Om=window),typeof document<"u"&&(ZI=document),typeof MutationObserver<"u"&&(XI=MutationObserver),typeof performance<"u"&&(JI=performance)}catch{}var{userAgent:EI=""}=Om.navigator||{},to=Om,mt=ZI,II=XI,su=JI,a4e=!!to.document,us=!!mt.documentElement&&!!mt.head&&typeof mt.addEventListener=="function"&&typeof mt.createElement=="function",eS=~EI.indexOf("MSIE")||~EI.indexOf("Trident/"),zW=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,AW=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,tS={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},DW={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},nS=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],fn="classic",du="duotone",TW="sharp",NW="sharp-duotone",iS=[fn,du,TW,NW],PW={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},kW={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},RW=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),OW={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},FW=["fak","fa-kit","fakd","fa-kit-duotone"],SI={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},VW=["kit"],BW={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},UW=["fak","fakd"],jW={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},zI={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ou={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},HW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],$W=["fak","fa-kit","fakd","fa-kit-duotone"],qW={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},WW={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},GW={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},bm={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},KW=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Cm=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...HW,...KW],QW=["solid","regular","light","thin","duotone","brands"],rS=[1,2,3,4,5,6,7,8,9,10],YW=rS.concat([11,12,13,14,15,16,17,18,19,20]),ZW=[...Object.keys(GW),...QW,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ou.GROUP,ou.SWAP_OPACITY,ou.PRIMARY,ou.SECONDARY].concat(rS.map(n=>"".concat(n,"x"))).concat(YW.map(n=>"w-".concat(n))),XW={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},as="___FONT_AWESOME___",Mm=16,sS="fa",oS="svg-inline--fa",h1="data-fa-i2svg",wm="data-fa-pseudo-element",JW="data-fa-pseudo-element-pending",Fm="data-prefix",Vm="data-icon",AI="fontawesome-i2svg",eG="async",tG=["HTML","HEAD","STYLE","SCRIPT"],cS=(()=>{try{return!0}catch{return!1}})();function z0(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[fn]}})}var aS=W({},tS);aS[fn]=W(W(W(W({},{"fa-duotone":"duotone"}),tS[fn]),SI.kit),SI["kit-duotone"]);var nG=z0(aS),xm=W({},OW);xm[fn]=W(W(W(W({},{duotone:"fad"}),xm[fn]),zI.kit),zI["kit-duotone"]);var DI=z0(xm),Lm=W({},bm);Lm[fn]=W(W({},Lm[fn]),jW.kit);var Bm=z0(Lm),Em=W({},WW);Em[fn]=W(W({},Em[fn]),BW.kit);var l4e=z0(Em),iG=zW,lS="fa-layers-text",rG=AW,sG=W({},PW),u4e=z0(sG),oG=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],mm=DW,cG=[...VW,...ZW],L0=to.FontAwesomeConfig||{};function aG(n){var e=mt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function lG(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}mt&&typeof mt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e,r=lG(aG(t));r!=null&&(L0[i]=r)});var uS={styleDefault:"solid",familyDefault:fn,cssPrefix:sS,replacementClass:oS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};L0.familyPrefix&&(L0.cssPrefix=L0.familyPrefix);var oc=W(W({},uS),L0);oc.autoReplaceSvg||(oc.observeMutations=!1);var de={};Object.keys(uS).forEach(n=>{Object.defineProperty(de,n,{enumerable:!0,set:function(e){oc[n]=e,E0.forEach(t=>t(de))},get:function(){return oc[n]}})});Object.defineProperty(de,"familyPrefix",{enumerable:!0,set:function(n){oc.cssPrefix=n,E0.forEach(e=>e(de))},get:function(){return oc.cssPrefix}});to.FontAwesomeConfig=de;var E0=[];function uG(n){return E0.push(n),()=>{E0.splice(E0.indexOf(n),1)}}var eo=Mm,gr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function dG(n){if(!n||!us)return;let e=mt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;let t=mt.head.childNodes,i=null;for(let r=t.length-1;r>-1;r--){let s=t[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return mt.head.insertBefore(e,i),n}var fG="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function I0(){let n=12,e="";for(;n-- >0;)e+=fG[Math.random()*62|0];return e}function cc(n){let e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Um(n){return n.classList?cc(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function dS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hG(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(dS(n[t]),'" '),"").trim()}function fu(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function jm(n){return n.size!==gr.size||n.x!==gr.x||n.y!==gr.y||n.rotate!==gr.rotate||n.flipX||n.flipY}function pG(n){let{transform:e,containerWidth:t,iconWidth:i}=n,r={transform:"translate(".concat(t/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(s," ").concat(o," ").concat(c)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:a,path:u}}function mG(n){let{transform:e,width:t=Mm,height:i=Mm,startCentered:r=!1}=n,s="";return r&&eS?s+="translate(".concat(e.x/eo-t/2,"em, ").concat(e.y/eo-i/2,"em) "):r?s+="translate(calc(-50% + ".concat(e.x/eo,"em), calc(-50% + ").concat(e.y/eo,"em)) "):s+="translate(".concat(e.x/eo,"em, ").concat(e.y/eo,"em) "),s+="scale(".concat(e.size/eo*(e.flipX?-1:1),", ").concat(e.size/eo*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var gG=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function fS(){let n=sS,e=oS,t=de.cssPrefix,i=de.replacementClass,r=gG;if(t!==n||i!==e){let s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(c,".".concat(i))}return r}var TI=!1;function gm(){de.autoAddCss&&!TI&&(dG(fS()),TI=!0)}var _G={mixout(){return{dom:{css:fS,insertCss:gm}}},hooks(){return{beforeDOMElementCreation(){gm()},beforeI2svg(){gm()}}}},ls=to||{};ls[as]||(ls[as]={});ls[as].styles||(ls[as].styles={});ls[as].hooks||(ls[as].hooks={});ls[as].shims||(ls[as].shims=[]);var _r=ls[as],hS=[],pS=function(){mt.removeEventListener("DOMContentLoaded",pS),lu=1,hS.map(n=>n())},lu=!1;us&&(lu=(mt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(mt.readyState),lu||mt.addEventListener("DOMContentLoaded",pS));function yG(n){us&&(lu?setTimeout(n,0):hS.push(n))}function A0(n){let{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?dS(n):"<".concat(e," ").concat(hG(t),">").concat(i.map(A0).join(""),"</").concat(e,">")}function NI(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var vG=function(e,t){return function(i,r,s,o){return e.call(t,i,r,s,o)}},_m=function(e,t,i,r){var s=Object.keys(e),o=s.length,c=r!==void 0?vG(t,r):t,a,u,d;for(i===void 0?(a=1,d=e[s[0]]):(a=0,d=i);a<o;a++)u=s[a],d=c(d,e[u],u,e);return d};function bG(n){let e=[],t=0,i=n.length;for(;t<i;){let r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){let s=n.charCodeAt(t++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}function Im(n){let e=bG(n);return e.length===1?e[0].toString(16):null}function CG(n,e){let t=n.length,i=n.charCodeAt(e),r;return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function PI(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function Sm(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=t,r=PI(e);typeof _r.hooks.addPack=="function"&&!i?_r.hooks.addPack(n,PI(e)):_r.styles[n]=W(W({},_r.styles[n]||{}),r),n==="fas"&&Sm("fa",e)}var{styles:S0,shims:MG}=_r,mS=Object.keys(Bm),wG=mS.reduce((n,e)=>(n[e]=Object.keys(Bm[e]),n),{}),Hm=null,gS={},_S={},yS={},vS={},bS={};function xG(n){return~cG.indexOf(n)}function LG(n,e){let t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i===n&&r!==""&&!xG(r)?r:null}var CS=()=>{let n=i=>_m(S0,(r,s,o)=>(r[o]=_m(s,i,{}),r),{});gS=n((i,r,s)=>(r[3]&&(i[r[3]]=s),r[2]&&r[2].filter(c=>typeof c=="number").forEach(c=>{i[c.toString(16)]=s}),i)),_S=n((i,r,s)=>(i[s]=s,r[2]&&r[2].filter(c=>typeof c=="string").forEach(c=>{i[c]=s}),i)),bS=n((i,r,s)=>{let o=r[2];return i[s]=s,o.forEach(c=>{i[c]=s}),i});let e="far"in S0||de.autoFetchSvg,t=_m(MG,(i,r)=>{let s=r[0],o=r[1],c=r[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(i.names[s]={prefix:o,iconName:c}),typeof s=="number"&&(i.unicodes[s.toString(16)]={prefix:o,iconName:c}),i},{names:{},unicodes:{}});yS=t.names,vS=t.unicodes,Hm=hu(de.styleDefault,{family:de.familyDefault})};uG(n=>{Hm=hu(n.styleDefault,{family:de.familyDefault})});CS();function $m(n,e){return(gS[n]||{})[e]}function EG(n,e){return(_S[n]||{})[e]}function f1(n,e){return(bS[n]||{})[e]}function MS(n){return yS[n]||{prefix:null,iconName:null}}function IG(n){let e=vS[n],t=$m("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function no(){return Hm}var wS=()=>({prefix:null,iconName:null,rest:[]});function SG(n){let e=fn,t=mS.reduce((i,r)=>(i[r]="".concat(de.cssPrefix,"-").concat(r),i),{});return iS.forEach(i=>{(n.includes(t[i])||n.some(r=>wG[i].includes(r)))&&(e=i)}),e}function hu(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:t=fn}=e,i=nG[t][n];if(t===du&&!n)return"fad";let r=DI[t][n]||DI[t][i],s=n in _r.styles?n:null;return r||s||null}function zG(n){let e=[],t=null;return n.forEach(i=>{let r=LG(de.cssPrefix,i);r?t=r:i&&e.push(i)}),{iconName:t,rest:e}}function kI(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function pu(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:t=!1}=e,i=null,r=Cm.concat($W),s=kI(n.filter(h=>r.includes(h))),o=kI(n.filter(h=>!Cm.includes(h))),c=s.filter(h=>(i=h,!nS.includes(h))),[a=null]=c,u=SG(s),d=W(W({},zG(o)),{},{prefix:hu(a,{family:u})});return W(W(W({},d),NG({values:n,family:u,styles:S0,config:de,canonical:d,givenPrefix:i})),AG(t,i,d))}function AG(n,e,t){let{prefix:i,iconName:r}=t;if(n||!i||!r)return{prefix:i,iconName:r};let s=e==="fa"?MS(r):{},o=f1(i,r);return r=s.iconName||o||r,i=s.prefix||i,i==="far"&&!S0.far&&S0.fas&&!de.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var DG=iS.filter(n=>n!==fn||n!==du),TG=Object.keys(bm).filter(n=>n!==fn).map(n=>Object.keys(bm[n])).flat();function NG(n){let{values:e,family:t,canonical:i,givenPrefix:r="",styles:s={},config:o={}}=n,c=t===du,a=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",d=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(a||u||d)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&DG.includes(t)&&(Object.keys(s).find(m=>TG.includes(m))||o.autoFetchSvg)){let m=RW.get(t).defaultShortPrefixId;i.prefix=m,i.iconName=f1(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=no()||"fas"),i}var zm=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach(s=>{this.definitions[s]=W(W({},this.definitions[s]||{}),r[s]),Sm(s,r[s]);let o=Bm[fn][s];o&&Sm(o,r[s]),CS()})}reset(){this.definitions={}}_pullDefinitions(e,t){let i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(r=>{let{prefix:s,iconName:o,icon:c}=i[r],a=c[2];e[s]||(e[s]={}),a.length>0&&a.forEach(u=>{typeof u=="string"&&(e[s][u]=c)}),e[s][o]=c}),e}},RI=[],rc={},sc={},PG=Object.keys(sc);function kG(n,e){let{mixoutsTo:t}=e;return RI=n,rc={},Object.keys(sc).forEach(i=>{PG.indexOf(i)===-1&&delete sc[i]}),RI.forEach(i=>{let r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(s=>{typeof r[s]=="function"&&(t[s]=r[s]),typeof r[s]=="object"&&Object.keys(r[s]).forEach(o=>{t[s]||(t[s]={}),t[s][o]=r[s][o]})}),i.hooks){let s=i.hooks();Object.keys(s).forEach(o=>{rc[o]||(rc[o]=[]),rc[o].push(s[o])})}i.provides&&i.provides(sc)}),t}function Am(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return(rc[n]||[]).forEach(o=>{e=o.apply(null,[e,...i])}),e}function p1(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(rc[n]||[]).forEach(s=>{s.apply(null,t)})}function io(){let n=arguments[0],e=Array.prototype.slice.call(arguments,1);return sc[n]?sc[n].apply(null,e):void 0}function Dm(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n,t=n.prefix||no();if(e)return e=f1(t,e)||e,NI(xS.definitions,t,e)||NI(_r.styles,t,e)}var xS=new zm,RG=()=>{de.autoReplaceSvg=!1,de.observeMutations=!1,p1("noAuto")},OG={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return us?(p1("beforeI2svg",n),io("pseudoElements2svg",n),io("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=n;de.autoReplaceSvg===!1&&(de.autoReplaceSvg=!0),de.observeMutations=!0,yG(()=>{VG({autoReplaceSvgRoot:e}),p1("watch",n)})}},FG={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:f1(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=hu(n[0]);return{prefix:t,iconName:f1(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(de.cssPrefix,"-"))>-1||n.match(iG))){let e=pu(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||no(),iconName:f1(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){let e=no();return{prefix:e,iconName:f1(e,n)||n}}}},Jn={noAuto:RG,config:de,dom:OG,parse:FG,library:xS,findIconDefinition:Dm,toHtml:A0},VG=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=mt}=n;(Object.keys(_r.styles).length>0||de.autoFetchSvg)&&us&&de.autoReplaceSvg&&Jn.dom.i2svg({node:e})};function mu(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>A0(t))}}),Object.defineProperty(n,"node",{get:function(){if(!us)return;let t=mt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function BG(n){let{children:e,main:t,mask:i,attributes:r,styles:s,transform:o}=n;if(jm(o)&&t.found&&!i.found){let{width:c,height:a}=t,u={x:c/a/2,y:.5};r.style=fu(W(W({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function UG(n){let{prefix:e,iconName:t,children:i,attributes:r,symbol:s}=n,o=s===!0?"".concat(e,"-").concat(de.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:W(W({},r),{},{id:o}),children:i}]}]}function qm(n){let{icons:{main:e,mask:t},prefix:i,iconName:r,transform:s,symbol:o,title:c,maskId:a,titleId:u,extra:d,watchable:h=!1}=n,{width:m,height:g}=t.found?t:e,y=UW.includes(i),x=[de.replacementClass,r?"".concat(de.cssPrefix,"-").concat(r):""].filter(we=>d.classes.indexOf(we)===-1).filter(we=>we!==""||!!we).concat(d.classes).join(" "),S={children:[],attributes:W(W({},d.attributes),{},{"data-prefix":i,"data-icon":r,class:x,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},F=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};h&&(S.attributes[h1]=""),c&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(u||I0())},children:[c]}),delete S.attributes.title);let V=W(W({},S),{},{prefix:i,iconName:r,main:e,mask:t,maskId:a,transform:s,symbol:o,styles:W(W({},F),d.styles)}),{children:q,attributes:X}=t.found&&e.found?io("generateAbstractMask",V)||{children:[],attributes:{}}:io("generateAbstractIcon",V)||{children:[],attributes:{}};return V.children=q,V.attributes=X,o?UG(V):BG(V)}function OI(n){let{content:e,width:t,height:i,transform:r,title:s,extra:o,watchable:c=!1}=n,a=W(W(W({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(a[h1]="");let u=W({},o.styles);jm(r)&&(u.transform=mG({transform:r,startCentered:!0,width:t,height:i}),u["-webkit-transform"]=u.transform);let d=fu(u);d.length>0&&(a.style=d);let h=[];return h.push({tag:"span",attributes:a,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function jG(n){let{content:e,title:t,extra:i}=n,r=W(W(W({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=fu(i.styles);s.length>0&&(r.style=s);let o=[];return o.push({tag:"span",attributes:r,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}var{styles:ym}=_r;function Tm(n){let e=n[0],t=n[1],[i]=n.slice(4),r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(de.cssPrefix,"-").concat(mm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(de.cssPrefix,"-").concat(mm.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(de.cssPrefix,"-").concat(mm.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:r}}var HG={found:!1,width:512,height:512};function $G(n,e){!cS&&!de.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Nm(n,e){let t=e;return e==="fa"&&de.styleDefault!==null&&(e=no()),new Promise((i,r)=>{if(t==="fa"){let s=MS(n)||{};n=s.iconName||n,e=s.prefix||e}if(n&&e&&ym[e]&&ym[e][n]){let s=ym[e][n];return i(Tm(s))}$G(n,e),i(W(W({},HG),{},{icon:de.showMissingIcons&&n?io("missingIconAbstract")||{}:{}}))})}var FI=()=>{},Pm=de.measurePerformance&&su&&su.mark&&su.measure?su:{mark:FI,measure:FI},x0='FA "6.7.1"',qG=n=>(Pm.mark("".concat(x0," ").concat(n," begins")),()=>LS(n)),LS=n=>{Pm.mark("".concat(x0," ").concat(n," ends")),Pm.measure("".concat(x0," ").concat(n),"".concat(x0," ").concat(n," begins"),"".concat(x0," ").concat(n," ends"))},Wm={begin:qG,end:LS},cu=()=>{};function VI(n){return typeof(n.getAttribute?n.getAttribute(h1):null)=="string"}function WG(n){let e=n.getAttribute?n.getAttribute(Fm):null,t=n.getAttribute?n.getAttribute(Vm):null;return e&&t}function GG(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(de.replacementClass)}function KG(){return de.autoReplaceSvg===!0?au.replace:au[de.autoReplaceSvg]||au.replace}function QG(n){return mt.createElementNS("http://www.w3.org/2000/svg",n)}function YG(n){return mt.createElement(n)}function ES(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:t=n.tag==="svg"?QG:YG}=e;if(typeof n=="string")return mt.createTextNode(n);let i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(s){i.setAttribute(s,n.attributes[s])}),(n.children||[]).forEach(function(s){i.appendChild(ES(s,{ceFn:t}))}),i}function ZG(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var au={replace:function(n){let e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(ES(t),e)}),e.getAttribute(h1)===null&&de.keepOriginalSource){let t=mt.createComment(ZG(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){let e=n[0],t=n[1];if(~Um(e).indexOf(de.replacementClass))return au.replace(n);let i=new RegExp("".concat(de.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){let s=t[0].attributes.class.split(" ").reduce((o,c)=>(c===de.replacementClass||c.match(i)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});t[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let r=t.map(s=>A0(s)).join(`
`);e.setAttribute(h1,""),e.innerHTML=r}};function BI(n){n()}function IS(n,e){let t=typeof e=="function"?e:cu;if(n.length===0)t();else{let i=BI;de.mutateApproach===eG&&(i=to.requestAnimationFrame||BI),i(()=>{let r=KG(),s=Wm.begin("mutate");n.map(r),s(),t()})}}var Gm=!1;function SS(){Gm=!0}function km(){Gm=!1}var uu=null;function UI(n){if(!II||!de.observeMutations)return;let{treeCallback:e=cu,nodeCallback:t=cu,pseudoElementsCallback:i=cu,observeMutationsRoot:r=mt}=n;uu=new II(s=>{if(Gm)return;let o=no();cc(s).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!VI(c.addedNodes[0])&&(de.searchPseudoElements&&i(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&de.searchPseudoElements&&i(c.target.parentNode),c.type==="attributes"&&VI(c.target)&&~oG.indexOf(c.attributeName))if(c.attributeName==="class"&&WG(c.target)){let{prefix:a,iconName:u}=pu(Um(c.target));c.target.setAttribute(Fm,a||o),u&&c.target.setAttribute(Vm,u)}else GG(c.target)&&t(c.target)})}),us&&uu.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function XG(){uu&&uu.disconnect()}function JG(n){let e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce((i,r)=>{let s=r.split(":"),o=s[0],c=s.slice(1);return o&&c.length>0&&(i[o]=c.join(":").trim()),i},{})),t}function eK(n){let e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=pu(Um(n));return r.prefix||(r.prefix=no()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=EG(r.prefix,n.innerText)||$m(r.prefix,Im(n.innerText))),!r.iconName&&de.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function tK(n){let e=cc(n.attributes).reduce((r,s)=>(r.name!=="class"&&r.name!=="style"&&(r[s.name]=s.value),r),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return de.autoA11y&&(t?e["aria-labelledby"]="".concat(de.replacementClass,"-title-").concat(i||I0()):(e["aria-hidden"]="true",e.focusable="false")),e}function nK(){return{iconName:null,title:null,titleId:null,prefix:null,transform:gr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function jI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:t,prefix:i,rest:r}=eK(n),s=tK(n),o=Am("parseNodeAttributes",{},n),c=e.styleParser?JG(n):[];return W({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:gr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:c,attributes:s}},o)}var{styles:iK}=_r;function zS(n){let e=de.autoReplaceSvg==="nest"?jI(n,{styleParser:!1}):jI(n);return~e.extra.classes.indexOf(lS)?io("generateLayersText",n,e):io("generateSvgReplacementMutation",n,e)}function rK(){return[...FW,...Cm]}function HI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!us)return Promise.resolve();let t=mt.documentElement.classList,i=d=>t.add("".concat(AI,"-").concat(d)),r=d=>t.remove("".concat(AI,"-").concat(d)),s=de.autoFetchSvg?rK():nS.concat(Object.keys(iK));s.includes("fa")||s.push("fa");let o=[".".concat(lS,":not([").concat(h1,"])")].concat(s.map(d=>".".concat(d,":not([").concat(h1,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=cc(n.querySelectorAll(o))}catch{}if(c.length>0)i("pending"),r("complete");else return Promise.resolve();let a=Wm.begin("onTree"),u=c.reduce((d,h)=>{try{let m=zS(h);m&&d.push(m)}catch(m){cS||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,h)=>{Promise.all(u).then(m=>{IS(m,()=>{i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),a(),d()})}).catch(m=>{a(),h(m)})})}function sK(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zS(n).then(t=>{t&&IS([t],e)})}function oK(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:Dm(e||{}),{mask:r}=t;return r&&(r=(r||{}).icon?r:Dm(r||{})),n(i,W(W({},t),{},{mask:r}))}}var cK=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=gr,symbol:i=!1,mask:r=null,maskId:s=null,title:o=null,titleId:c=null,classes:a=[],attributes:u={},styles:d={}}=e;if(!n)return;let{prefix:h,iconName:m,icon:g}=n;return mu(W({type:"icon"},n),()=>(p1("beforeDOMElementCreation",{iconDefinition:n,params:e}),de.autoA11y&&(o?u["aria-labelledby"]="".concat(de.replacementClass,"-title-").concat(c||I0()):(u["aria-hidden"]="true",u.focusable="false")),qm({icons:{main:Tm(g),mask:r?Tm(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:m,transform:W(W({},gr),t),symbol:i,title:o,maskId:s,titleId:c,extra:{attributes:u,styles:d,classes:a}})))},aK={mixout(){return{icon:oK(cK)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=HI,n.nodeCallback=sK,n}}},provides(n){n.i2svg=function(e){let{node:t=mt,callback:i=()=>{}}=e;return HI(t,i)},n.generateSvgReplacementMutation=function(e,t){let{iconName:i,title:r,titleId:s,prefix:o,transform:c,symbol:a,mask:u,maskId:d,extra:h}=t;return new Promise((m,g)=>{Promise.all([Nm(i,o),u.iconName?Nm(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(y=>{let[x,S]=y;m([e,qm({icons:{main:x,mask:S},prefix:o,iconName:i,transform:c,symbol:a,maskId:d,title:r,titleId:s,extra:h,watchable:!0})])}).catch(g)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:r,transform:s,styles:o}=e,c=fu(o);c.length>0&&(i.style=c);let a;return jm(s)&&(a=io("generateAbstractTransformGrouping",{main:r,transform:s,containerWidth:r.width,iconWidth:r.width})),t.push(a||r.icon),{children:t,attributes:i}}}},lK={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:t=[]}=e;return mu({type:"layer"},()=>{p1("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(r=>{Array.isArray(r)?r.map(s=>{i=i.concat(s.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(de.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},uK={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:t=null,classes:i=[],attributes:r={},styles:s={}}=e;return mu({type:"counter",content:n},()=>(p1("beforeDOMElementCreation",{content:n,params:e}),jG({content:n.toString(),title:t,extra:{attributes:r,styles:s,classes:["".concat(de.cssPrefix,"-layers-counter"),...i]}})))}}}},dK={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=gr,title:i=null,classes:r=[],attributes:s={},styles:o={}}=e;return mu({type:"text",content:n},()=>(p1("beforeDOMElementCreation",{content:n,params:e}),OI({content:n,transform:W(W({},gr),t),title:i,extra:{attributes:s,styles:o,classes:["".concat(de.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(e,t){let{title:i,transform:r,extra:s}=t,o=null,c=null;if(eS){let a=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/a,c=u.height/a}return de.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,OI({content:e.innerHTML,width:o,height:c,transform:r,title:i,extra:s,watchable:!0})])}}},fK=new RegExp('"',"ug"),$I=[1105920,1112319],qI=W(W(W(W({},{FontAwesome:{normal:"fas",400:"fas"}}),kW),XW),qW),Rm=Object.keys(qI).reduce((n,e)=>(n[e.toLowerCase()]=qI[e],n),{}),hK=Object.keys(Rm).reduce((n,e)=>{let t=Rm[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function pK(n){let e=n.replace(fK,""),t=CG(e,0),i=t>=$I[0]&&t<=$I[1],r=e.length===2?e[0]===e[1]:!1;return{value:Im(r?e[0]:e),isSecondary:i||r}}function mK(n,e){let t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),r=isNaN(i)?"normal":i;return(Rm[t]||{})[r]||hK[t]}function WI(n,e){let t="".concat(JW).concat(e.replace(":","-"));return new Promise((i,r)=>{if(n.getAttribute(t)!==null)return i();let o=cc(n.children).filter(m=>m.getAttribute(wm)===e)[0],c=to.getComputedStyle(n,e),a=c.getPropertyValue("font-family"),u=a.match(rG),d=c.getPropertyValue("font-weight"),h=c.getPropertyValue("content");if(o&&!u)return n.removeChild(o),i();if(u&&h!=="none"&&h!==""){let m=c.getPropertyValue("content"),g=mK(a,d),{value:y,isSecondary:x}=pK(m),S=u[0].startsWith("FontAwesome"),F=$m(g,y),V=F;if(S){let q=IG(y);q.iconName&&q.prefix&&(F=q.iconName,g=q.prefix)}if(F&&!x&&(!o||o.getAttribute(Fm)!==g||o.getAttribute(Vm)!==V)){n.setAttribute(t,V),o&&n.removeChild(o);let q=nK(),{extra:X}=q;X.attributes[wm]=e,Nm(F,g).then(we=>{let ce=qm(W(W({},q),{},{icons:{main:we,mask:wS()},prefix:g,iconName:V,extra:X,watchable:!0})),w=mt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(w,n.firstChild):n.appendChild(w),w.outerHTML=ce.map(v=>A0(v)).join(`
`),n.removeAttribute(t),i()}).catch(r)}else i()}else i()})}function gK(n){return Promise.all([WI(n,"::before"),WI(n,"::after")])}function _K(n){return n.parentNode!==document.head&&!~tG.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(wm)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function GI(n){if(us)return new Promise((e,t)=>{let i=cc(n.querySelectorAll("*")).filter(_K).map(gK),r=Wm.begin("searchPseudoElements");SS(),Promise.all(i).then(()=>{r(),km(),e()}).catch(()=>{r(),km(),t()})})}var yK={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=GI,n}}},provides(n){n.pseudoElements2svg=function(e){let{node:t=mt}=e;de.searchPseudoElements&&GI(t)}}},KI=!1,vK={mixout(){return{dom:{unwatch(){SS(),KI=!0}}}},hooks(){return{bootstrap(){UI(Am("mutationObserverCallbacks",{}))},noAuto(){XG()},watch(n){let{observeMutationsRoot:e}=n;KI?km():UI(Am("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},QI=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{let r=i.toLowerCase().split("-"),s=r[0],o=r.slice(1).join("-");if(s&&o==="h")return t.flipX=!0,t;if(s&&o==="v")return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(s){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o;break}return t},e)},bK={mixout(){return{parse:{transform:n=>QI(n)}}},hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-transform");return t&&(n.transform=QI(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:r,iconWidth:s}=e,o={transform:"translate(".concat(r/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),a="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(c," ").concat(a," ").concat(u)},h={transform:"translate(".concat(s/2*-1," -256)")},m={outer:o,inner:d,path:h};return{tag:"g",attributes:W({},m.outer),children:[{tag:"g",attributes:W({},m.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:W(W({},t.icon.attributes),m.path)}]}]}}}},vm={x:0,y:0,width:"100%",height:"100%"};function YI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function CK(n){return n.tag==="g"?n.children:[n]}var MK={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-mask"),i=t?pu(t.split(" ").map(r=>r.trim())):wS();return i.prefix||(i.prefix=no()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:r,mask:s,maskId:o,transform:c}=e,{width:a,icon:u}=r,{width:d,icon:h}=s,m=pG({transform:c,containerWidth:d,iconWidth:a}),g={tag:"rect",attributes:W(W({},vm),{},{fill:"white"})},y=u.children?{children:u.children.map(YI)}:{},x={tag:"g",attributes:W({},m.inner),children:[YI(W({tag:u.tag,attributes:W(W({},u.attributes),m.path)},y))]},S={tag:"g",attributes:W({},m.outer),children:[x]},F="mask-".concat(o||I0()),V="clip-".concat(o||I0()),q={tag:"mask",attributes:W(W({},vm),{},{id:F,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,S]},X={tag:"defs",children:[{tag:"clipPath",attributes:{id:V},children:CK(h)},q]};return t.push(X,{tag:"rect",attributes:W({fill:"currentColor","clip-path":"url(#".concat(V,")"),mask:"url(#".concat(F,")")},vm)}),{children:t,attributes:i}}}},wK={provides(n){let e=!1;to.matchMedia&&(e=to.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let t=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:W(W({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=W(W({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:W(W({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:W(W({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:W(W({},s),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:W(W({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:W(W({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:W(W({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:W(W({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},xK={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},LK=[_G,aK,lK,uK,dK,yK,vK,bK,MK,wK,xK];kG(LK,{mixoutsTo:Jn});var d4e=Jn.noAuto,AS=Jn.config,f4e=Jn.library,DS=Jn.dom,TS=Jn.parse,h4e=Jn.findIconDefinition,p4e=Jn.toHtml,NS=Jn.icon,m4e=Jn.layer,EK=Jn.text,IK=Jn.counter;var SK=["*"],zK=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},AK=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},DK=n=>{let e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:n.rotate!==null,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)},Km=new WeakSet,PS="fa-auto-css";function TK(n,e){if(!e.autoAddCss||Km.has(n))return;if(n.getElementById(PS)!=null){e.autoAddCss=!1,Km.add(n);return}let t=n.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",PS),t.innerHTML=DS.css();let i=n.head.childNodes,r=null;for(let s=i.length-1;s>-1;s--){let o=i[s],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(r=o)}n.head.insertBefore(t,r),e.autoAddCss=!1,Km.add(n)}var NK=n=>n.prefix!==void 0&&n.iconName!==void 0,PK=(n,e)=>NK(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:e,iconName:n},kK=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(t){AS.autoAddCss=t,this._autoAddCss=t}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),RK=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(let i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let r of i.icon[2])typeof r=="string"&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(let i of t){let r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OK=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Bt]})}}return n})(),FK=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(t.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),t.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}static{this.\u0275fac=function(i){return new(i||n)(O(Rn),O(Ge))}}static{this.\u0275cmp=pe({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Bt,ve],ngContentSelectors:SK,decls:1,vars:0,template:function(i,r){i&1&&(p2(),Rs(0))},encapsulation:2})}}return n})(),hn=(()=>{class n{constructor(t,i,r,s,o){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.document=U(Ie),o!=null&&s==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(this.icon==null&&this.config.fallbackIcon==null){AK();return}if(t){let i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(i!=null){let r=this.buildParams();TK(this.document,this.config);let s=NS(i,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(t){let i=PK(t,this.config.defaultPrefix);if("icon"in i)return i;let r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return r??(zK(i),null)}buildParams(){let t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?TS.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:DK(t),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(i){return new(i||n)(O(ba),O(kK),O(RK),O(OK,8),O(FK,8))}}static{this.\u0275cmp=pe({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){i&2&&(n3("innerHTML",r.renderedIconHTML,LC),Qt("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Bt,ve],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();var _t=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})();var ac={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z"]};var gu={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"]};var kS={prefix:"far",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48C0 21.5 21.5 0 48 0l0 48 0 393.4 130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4 336 48 48 48 48 0 336 0c26.5 0 48 21.5 48 48l0 440c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488L0 48z"]};var VK={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM200 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},RS=VK,lc={prefix:"far",iconName:"image",icon:[512,512,[],"f03e","M448 80c8.8 0 16 7.2 16 16l0 319.8-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3L48 96c0-8.8 7.2-16 16-16l384 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]};var BK={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 151.2c-4.2-4.6-10.1-7.2-16.4-7.2C266 144 256 154 256 166.3l0 41.7-96 0c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l96 0 0 41.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.4-7.2l84-91c3.5-3.8 5.4-8.7 5.4-13.9s-1.9-10.1-5.4-13.9l-84-91z"]},_u=BK;var OS={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]};var FS={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"]};var VS={prefix:"far",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376l0 103.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"]};var BS={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]},US=BS,jS=BS;var ZS=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(O(Rn),O(Ge))}}static{this.\u0275dir=He({type:n})}}return n})(),UK=(()=>{class n extends ZS{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Yi(n)))(r||n)}})()}static{this.\u0275dir=He({type:n,features:[Ut]})}}return n})(),XS=new te("");var jK={provide:XS,useExisting:Ar(()=>pn),multi:!0};function HK(){let n=er()?er().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var $K=new te(""),pn=(()=>{class n extends ZS{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HK())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(O(Rn),O(Ge),O($K,8))}}static{this.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Y("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ai([jK]),Ut]})}}return n})();function Ym(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function qK(n){return n!=null&&typeof n.length=="number"}var O0=new te(""),JS=new te(""),WK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function GK(n){return Ym(n.value)?{required:!0}:null}function KK(n){return Ym(n.value)||WK.test(n.value)?null:{email:!0}}function QK(n){return e=>Ym(e.value)||!qK(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function HS(n){return null}function ez(n){return n!=null}function tz(n){return Oo(n)?Ae(n):n}function nz(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function iz(n,e){return e.map(t=>t(n))}function YK(n){return!n.validate}function rz(n){return n.map(e=>YK(e)?e:t=>e.validate(t))}function ZK(n){if(!n)return null;let e=n.filter(ez);return e.length==0?null:function(t){return nz(iz(t,e))}}function Zm(n){return n!=null?ZK(rz(n)):null}function XK(n){if(!n)return null;let e=n.filter(ez);return e.length==0?null:function(t){let i=iz(t,e).map(tz);return Wc(i).pipe(ee(nz))}}function Xm(n){return n!=null?XK(rz(n)):null}function $S(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JK(n){return n._rawValidators}function eQ(n){return n._rawAsyncValidators}function Qm(n){return n?Array.isArray(n)?n:[n]:[]}function vu(n,e){return Array.isArray(n)?n.includes(e):n===e}function qS(n,e){let t=Qm(e);return Qm(n).forEach(r=>{vu(t,r)||t.push(r)}),t}function WS(n,e){return Qm(e).filter(t=>!vu(n,t))}var bu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},fc=class extends bu{get formDirective(){return null}get path(){return null}},R0=class extends bu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tQ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},H4e=ae(N({},tQ),{"[class.ng-submitted]":"isSubmitted"}),Fn=(()=>{class n extends Cu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(O(R0,2))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Et("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ut]})}}return n})(),Vn=(()=>{class n extends Cu{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(O(fc,10))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Et("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ut]})}}return n})();var D0="VALID",yu="INVALID",uc="PENDING",T0="DISABLED",hc=class{},Mu=class extends hc{constructor(e,t){super(),this.value=e,this.source=t}},P0=class extends hc{constructor(e,t){super(),this.pristine=e,this.source=t}},k0=class extends hc{constructor(e,t){super(),this.touched=e,this.source=t}},dc=class extends hc{constructor(e,t){super(),this.status=e,this.source=t}};function sz(n){return(Lu(n)?n.validators:n)||null}function nQ(n){return Array.isArray(n)?Zm(n):n||null}function oz(n,e){return(Lu(e)?e.asyncValidators:n)||null}function iQ(n){return Array.isArray(n)?Xm(n):n||null}function Lu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function rQ(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new K(1e3,"");if(!i[t])throw new K(1001,"")}function sQ(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new K(1002,"")})}var wu=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ga(()=>this.statusReactive()),this.statusReactive=Rr(void 0),this._pristine=ga(()=>this.pristineReactive()),this.pristineReactive=Rr(!0),this._touched=ga(()=>this.touchedReactive()),this.touchedReactive=Rr(!1),this._events=new Ne,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hr(this.statusReactive)}set status(e){Hr(()=>this.statusReactive.set(e))}get valid(){return this.status===D0}get invalid(){return this.status===yu}get pending(){return this.status==uc}get disabled(){return this.status===T0}get enabled(){return this.status!==T0}get pristine(){return Hr(this.pristineReactive)}set pristine(e){Hr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Hr(this.touchedReactive)}set touched(e){Hr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WS(e,this._rawAsyncValidators))}hasValidator(e){return vu(this._rawValidators,e)}hasAsyncValidator(e){return vu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new k0(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new k0(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new P0(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new P0(!0,i))}markAsPending(e={}){this.status=uc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=T0,this.errors=null,this._forEachChild(r=>{r.disable(ae(N({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mu(this.value,i)),this._events.next(new dc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=D0,this._forEachChild(i=>{i.enable(ae(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===D0||this.status===uc)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mu(this.value,t)),this._events.next(new dc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T0:D0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=uc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=tz(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new dc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?T0:this.errors?yu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uc)?uc:this._anyControlsHaveStatus(yu)?yu:D0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new P0(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new k0(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iQ(this._rawAsyncValidators)}},xu=class extends wu{constructor(e,t,i){super(sz(t),oz(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sQ(this,!0,e),Object.keys(e).forEach(i=>{rQ(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Jm=new te("CallSetDisabledState",{providedIn:"root",factory:()=>eg}),eg="always";function oQ(n,e){return[...e.path,n]}function cz(n,e,t=eg){az(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),aQ(n,e),uQ(n,e),lQ(n,e),cQ(n,e)}function GS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cQ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function az(n,e){let t=JK(n);e.validator!==null?n.setValidators($S(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=eQ(n);e.asyncValidator!==null?n.setAsyncValidators($S(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();GS(e._rawValidators,r),GS(e._rawAsyncValidators,r)}function aQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&lz(n,e)})}function lQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&lz(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function lz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uQ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function dQ(n,e){n==null,az(n,e)}function fQ(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function hQ(n){return Object.getPrototypeOf(n.constructor)===UK}function pQ(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function mQ(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===pn?t=s:hQ(s)?i=s:r=s}),r||i||t||null}var gQ={provide:fc,useExisting:Ar(()=>Sn)},N0=Promise.resolve(),Sn=(()=>{class n extends fc{get submitted(){return Hr(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=ga(()=>this.submittedReactive()),this.submittedReactive=Rr(!1),this._directives=new Set,this.ngSubmit=new je,this.form=new xu({},Zm(t),Xm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){N0.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),cz(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){N0.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){N0.then(()=>{let i=this._findContainer(t.path),r=new xu({});dQ(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){N0.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){N0.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),pQ(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(O(O0,10),O(JS,10),O(Jm,8))}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Y("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ai([gQ]),Ut]})}}return n})();function KS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var _Q=class extends wu{constructor(e=null,t,i){super(sz(t),oz(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(QS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yQ={provide:R0,useExisting:Ar(()=>zn)},YS=Promise.resolve(),zn=(()=>{class n extends R0{constructor(t,i,r,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new _Q,this._registered=!1,this.name="",this.update=new je,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=mQ(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fQ(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cz(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){YS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&xn(i);YS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?oQ(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(O(fc,9),O(O0,10),O(JS,10),O(XS,10),O(Kn,8),O(Jm,8))}}static{this.\u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ai([yQ]),Ut,Bt]})}}return n})(),Bn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();function vQ(n){return typeof n=="number"?n:parseInt(n,10)}var tg=(()=>{class n{constructor(){this._validator=HS}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):HS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,features:[Bt]})}}return n})();var bQ={provide:O0,useExisting:Ar(()=>An),multi:!0};var An=(()=>{class n extends tg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xn,this.createValidator=t=>GK}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Yi(n)))(r||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Qt("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ai([bQ]),Ut]})}}return n})();var CQ={provide:O0,useExisting:Ar(()=>ng),multi:!0},ng=(()=>{class n extends tg{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=xn,this.createValidator=t=>KK}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Yi(n)))(r||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ai([CQ]),Ut]})}}return n})(),MQ={provide:O0,useExisting:Ar(()=>m1),multi:!0},m1=(()=>{class n extends tg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>vQ(t),this.createValidator=t=>QK(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Yi(n)))(r||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Qt("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[Ai([MQ]),Ut]})}}return n})();var wQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})();var Un=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jm,useValue:t.callSetDisabledState??eg}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({imports:[wQ]})}}return n})();var xQ=["wrapper"],LQ=["sourceImage"];function EQ(n,e){if(n&1){let t=Ee();E(0,"img",5,0),Y("load",function(){j(t);let r=P();return H(r.imageLoadedInView())})("mousedown",function(r){j(t);let s=P();return H(s.startMove(r,s.moveTypes.Drag))})("touchstart",function(r){j(t);let s=P();return H(s.startMove(r,s.moveTypes.Drag))})("error",function(r){j(t);let s=P();return H(s.loadImageError(r))}),z()}if(n&2){let t=e.ngIf,i=P();Fr("visibility",i.imageVisible?"visible":"hidden")("transform",i.safeTransformStyle()),Et("ngx-ic-draggable",!i.disabled&&i.allowMoveImage),ie("src",t,Wn),Qt("alt",i.imageAltText)}}function IQ(n,e){if(n&1){let t=Ee();If(0),E(1,"span",9),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"topleft"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"topleft"))}),J(2,"span",10),z(),E(3,"span",11),J(4,"span",10),z(),E(5,"span",12),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"topright"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"topright"))}),J(6,"span",10),z(),E(7,"span",13),J(8,"span",10),z(),E(9,"span",14),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"bottomright"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"bottomright"))}),J(10,"span",10),z(),E(11,"span",15),J(12,"span",10),z(),E(13,"span",16),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"bottomleft"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"bottomleft"))}),J(14,"span",10),z(),E(15,"span",17),J(16,"span",10),z(),E(17,"span",18),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"top"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"top"))}),z(),E(18,"span",19),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"right"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"right"))}),z(),E(19,"span",20),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"bottom"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"bottom"))}),z(),E(20,"span",21),Y("mousedown",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"left"))})("touchstart",function(r){j(t);let s=P(2);return H(s.startMove(r,s.moveTypes.Resize,"left"))}),z(),Sf()}}function SQ(n,e){if(n&1){let t=Ee();E(0,"div",6),Y("keydown",function(r){j(t);let s=P();return H(s.keyboardAccess(r))}),E(1,"div",7),Y("mousedown",function(r){j(t);let s=P();return H(s.startMove(r,s.moveTypes.Move))})("touchstart",function(r){j(t);let s=P();return H(s.startMove(r,s.moveTypes.Move))}),z(),he(2,IQ,21,0,"ng-container",8),z()}if(n&2){let t=P();Fr("top",t.state.cropper().y1,"px")("left",t.state.cropper().x1,"px")("width",t.state.cropper().x2-t.state.cropper().x1,"px")("height",t.state.cropper().y2-t.state.cropper().y1,"px")("margin-left",t.state.options.alignImage==="center"?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),Et("ngx-ic-round",t.state.options.roundCropper),Qt("aria-label",t.state.options.cropperFrameAriaLabel),R(2),ie("ngIf",!t.state.options.hideResizeSquares&&!(t.state.options.cropperStaticWidth&&t.state.options.cropperStaticHeight))}}function F0(n,e,t){return n=zQ(n,e),Eu(n,e,t)}function zQ(n,e){let t=n.x2-n.x1,i=n.y2-n.y1,r=n.x1+t/2,s=n.y1+i/2;e.options.cropperStaticHeight&&e.options.cropperStaticWidth?(t=e.maxSize.width>e.options.cropperStaticWidth?e.options.cropperStaticWidth:e.maxSize.width,i=e.maxSize.height>e.options.cropperStaticHeight?e.options.cropperStaticHeight:e.maxSize.height):(t=Math.max(e.cropperScaledMinWidth,Math.min(t,e.cropperScaledMaxWidth,e.maxSize.width)),i=Math.max(e.cropperScaledMinHeight,Math.min(i,e.cropperScaledMaxHeight,e.maxSize.height)),e.options.maintainAspectRatio&&(e.maxSize.width/e.options.aspectRatio<e.maxSize.height?i=t/e.options.aspectRatio:t=i*e.options.aspectRatio));let o=r-t/2,c=o+t,a=s-i/2,u=a+i;return{x1:o,x2:c,y1:a,y2:u}}function Eu(n,e,t=!1){return n.x1<0&&(n=ae(N({},n),{x1:0,x2:n.x2-(t?n.x1:0)})),n.y1<0&&(n=ae(N({},n),{y2:n.y2-(t?n.y1:0),y1:0})),n.x2>e.maxSize.width&&(n=ae(N({},n),{x1:n.x1-(t?n.x2-e.maxSize.width:0),x2:e.maxSize.width})),n.y2>e.maxSize.height&&(n=ae(N({},n),{y1:n.y1-(t?n.y2-e.maxSize.height:0),y2:e.maxSize.height})),n}function AQ(n,e){let t=Iu(n)-e.clientX,i=Su(n)-e.clientY;return{x1:e.cropper.x1+t,y1:e.cropper.y1+i,x2:e.cropper.x2+t,y2:e.cropper.y2+i}}function uz(n,e,t){let i=N({},t.cropper()),r=Iu(n)-e.clientX,s=Su(n)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.cropper.x1+r,i.x2-t.cropperScaledMaxWidth),i.x2-t.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.cropper.x1+r,i.x2-t.cropperScaledMaxWidth),i.x2-t.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.cropper.y1+s,i.y2-t.cropperScaledMaxHeight),i.y2-t.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.cropper.y1+s,i.y2-t.cropperScaledMaxHeight),i.y2-t.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.cropper.x2+r,i.x1+t.cropperScaledMaxWidth),i.x1+t.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.cropper.y1+s,i.y2-t.cropperScaledMaxHeight),i.y2-t.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.cropper.x2+r,i.x1+t.cropperScaledMaxWidth),i.x1+t.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.cropper.x2+r,i.x1+t.cropperScaledMaxWidth),i.x1+t.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.cropper.y2+s,i.y1+t.cropperScaledMaxHeight),i.y1+t.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.cropper.y2+s,i.y1+t.cropperScaledMaxHeight),i.y1+t.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.cropper.x1+r,i.x2-t.cropperScaledMaxWidth),i.x2-t.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.cropper.y2+s,i.y1+t.cropperScaledMaxHeight),i.y1+t.cropperScaledMinHeight);break;case"center":let o="scale"in n?n.scale:1,c=Math.min(Math.max(t.cropperScaledMinWidth,Math.abs(e.cropper.x2-e.cropper.x1)*o),t.cropperScaledMaxWidth),a=Math.min(Math.max(t.cropperScaledMinHeight,Math.abs(e.cropper.y2-e.cropper.y1)*o),t.cropperScaledMaxHeight);i.x1=e.clientX-c/2,i.x2=e.clientX+c/2,i.y1=e.clientY-a/2,i.y2=e.clientY+a/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>t.maxSize.width&&(i.x1-=i.x2-t.maxSize.width,i.x2=t.maxSize.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>t.maxSize.height&&(i.y1-=i.y2-t.maxSize.height,i.y2=t.maxSize.height);break}return t.options.maintainAspectRatio?DQ(e.position,i,t):i}function DQ(n,e,t){e=N({},e);let i=0,r=0;switch(n){case"top":e.x2=e.x1+(e.y2-e.y1)*t.options.aspectRatio,i=Math.max(e.x2-t.maxSize.width,0),r=Math.max(0-e.y1,0),(i>0||r>0)&&(e.x2-=r*t.options.aspectRatio>i?r*t.options.aspectRatio:i,e.y1+=r*t.options.aspectRatio>i?r:i/t.options.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*t.options.aspectRatio,i=Math.max(e.x2-t.maxSize.width,0),r=Math.max(e.y2-t.maxSize.height,0),(i>0||r>0)&&(e.x2-=r*t.options.aspectRatio>i?r*t.options.aspectRatio:i,e.y2-=r*t.options.aspectRatio>i?r:i/t.options.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/t.options.aspectRatio,i=Math.max(0-e.x1,0),r=Math.max(0-e.y1,0),(i>0||r>0)&&(e.x1+=r*t.options.aspectRatio>i?r*t.options.aspectRatio:i,e.y1+=r*t.options.aspectRatio>i?r:i/t.options.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/t.options.aspectRatio,i=Math.max(e.x2-t.maxSize.width,0),r=Math.max(0-e.y1,0),(i>0||r>0)&&(e.x2-=r*t.options.aspectRatio>i?r*t.options.aspectRatio:i,e.y1+=r*t.options.aspectRatio>i?r:i/t.options.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/t.options.aspectRatio,i=Math.max(e.x2-t.maxSize.width,0),r=Math.max(e.y2-t.maxSize.height,0),(i>0||r>0)&&(e.x2-=r*t.options.aspectRatio>i?r*t.options.aspectRatio:i,e.y2-=r*t.options.aspectRatio>i?r:i/t.options.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/t.options.aspectRatio,i=Math.max(0-e.x1,0),r=Math.max(e.y2-t.maxSize.height,0),(i>0||r>0)&&(e.x1+=r*t.options.aspectRatio>i?r*t.options.aspectRatio:i,e.y2-=r*t.options.aspectRatio>i?r:i/t.options.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*t.options.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/t.options.aspectRatio;let s=Math.max(0-e.x1,0),o=Math.max(e.x2-t.maxSize.width,0),c=Math.max(e.y2-t.maxSize.height,0),a=Math.max(0-e.y1,0);(s>0||o>0||c>0||a>0)&&(e.x1+=c*t.options.aspectRatio>s?c*t.options.aspectRatio:s,e.x2-=a*t.options.aspectRatio>o?a*t.options.aspectRatio:o,e.y1+=a*t.options.aspectRatio>o?a:o/t.options.aspectRatio,e.y2-=c*t.options.aspectRatio>s?c:s/t.options.aspectRatio);break}return e}function Iu(n){return"touches"in n&&n.touches[0]?n.touches[0].clientX:"clientX"in n?n.clientX:0}function Su(n){return"touches"in n&&n.touches[0]?n.touches[0].clientY:"clientX"in n?n.clientY:0}var ig=class{constructor(){this.cropper=Rr({x1:0,x2:0,y1:0,y2:0}),this.transform={},this.options={format:"png",output:"blob",autoCrop:!0,maintainAspectRatio:!0,aspectRatio:1,resetCropOnAspectRatioChange:!0,resizeToWidth:0,resizeToHeight:0,cropperMinWidth:0,cropperMinHeight:0,cropperMaxHeight:0,cropperMaxWidth:0,cropperStaticWidth:0,cropperStaticHeight:0,canvasRotation:0,roundCropper:!1,onlyScaleDown:!1,imageQuality:92,backgroundColor:null,containWithinAspectRatio:!1,hideResizeSquares:!1,alignImage:"center",cropperFrameAriaLabel:void 0,checkImageType:!0},this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=3}setOptionsFromChanges(e){e.options?.currentValue&&this.setOptions(e.options.currentValue);let t=Object.entries(e).filter(([i])=>i in this.options).reduce((i,[r,s])=>ae(N({},i),{[r]:s.currentValue}),{});Object.keys(t).length>0&&this.setOptions(t)}setOptions(e){if(this.options=N(N({},this.options),e||{}),this.validateOptions(),!this.loadedImage?.transformed.image.complete||!this.maxSize)return;let t=!1;this.options.maintainAspectRatio&&e.aspectRatio||e.maintainAspectRatio?(this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.options.maintainAspectRatio&&(this.options.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(this.cropper.set(this.maxSizeCropperPosition()),t=!0)):((e.cropperMinWidth||e.cropperMinHeight)&&(this.setCropperScaledMinSize(),t=!0),(e.cropperMaxWidth||e.cropperMaxHeight)&&(this.setCropperScaledMaxSize(),t=!0),(e.cropperStaticWidth||e.cropperStaticHeight)&&(t=!0)),t&&this.cropper.update(i=>F0(i,this,!1))}validateOptions(){if(this.options.maintainAspectRatio&&!this.options.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}setMaxSize(e,t){this.maxSize={width:e,height:t},this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}setCropperScaledMinSize(){this.loadedImage?.transformed.size?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.options.cropperMinWidth>0?Math.max(20,this.options.cropperMinWidth/this.loadedImage.transformed.size.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.options.maintainAspectRatio?this.cropperScaledMinHeight=Math.max(20,this.cropperScaledMinWidth/this.options.aspectRatio):this.options.cropperMinHeight>0?this.cropperScaledMinHeight=Math.max(20,this.options.cropperMinHeight/this.loadedImage.transformed.size.height*this.maxSize.height):this.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed.size){let e=this.loadedImage.transformed.size.width/this.maxSize.width;this.cropperScaledMaxWidth=this.options.cropperMaxWidth>20?this.options.cropperMaxWidth/e:this.maxSize.width,this.cropperScaledMaxHeight=this.options.cropperMaxHeight>20?this.options.cropperMaxHeight/e:this.maxSize.height,this.options.maintainAspectRatio&&(this.cropperScaledMaxWidth>this.cropperScaledMaxHeight*this.options.aspectRatio?this.cropperScaledMaxWidth=this.cropperScaledMaxHeight*this.options.aspectRatio:this.cropperScaledMaxWidth<this.cropperScaledMaxHeight*this.options.aspectRatio&&(this.cropperScaledMaxHeight=this.cropperScaledMaxWidth/this.options.aspectRatio))}else this.cropperScaledMaxWidth=this.maxSize.width,this.cropperScaledMaxHeight=this.maxSize.height}equalsCropperPosition(e){let t=this.cropper();return t==null&&e==null||t!=null&&e!=null&&t.x1.toFixed(3)===e.x1.toFixed(3)&&t.y1.toFixed(3)===e.y1.toFixed(3)&&t.x2.toFixed(3)===e.x2.toFixed(3)&&t.y2.toFixed(3)===e.y2.toFixed(3)}equalsTransformTranslate(e){return(this.transform.translateH??0)===(e.translateH??0)&&(this.transform.translateV??0)===(e.translateV??0)}equalsTransform(e){return this.equalsTransformTranslate(e)&&(this.transform.scale??1)===(e.scale??1)&&(this.transform.rotate??0)===(e.rotate??0)&&(this.transform.flipH??!1)===(e.flipH??!1)&&(this.transform.flipV??!1)===(e.flipV??!1)}aspectRatioIsCorrect(){let e=this.cropper();return(e.x2-e.x1)/(e.y2-e.y1)===this.options.aspectRatio}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&this.cropper.update(t=>({x1:t.x1*this.maxSize.width/e.width,x2:t.x2*this.maxSize.width/e.width,y1:t.y1*this.maxSize.height/e.height,y2:t.y2*this.maxSize.height/e.height}))}maxSizeCropperPosition(){return{x1:0,y1:0,x2:this.maxSize.width,y2:this.maxSize.height}}},ei=function(n){return n.Drag="drag",n.Move="move",n.Resize="resize",n.Pinch="pinch",n}(ei||{});function TQ(n,e,t){let i=n.width,r=n.height;e=Math.round(e),t=Math.round(t);let s=i/e,o=r/t,c=Math.ceil(s/2),a=Math.ceil(o/2),u=n.getContext("2d");if(u){let d=u.getImageData(0,0,i,r),h=u.createImageData(e,t),m=d.data,g=h.data;for(let y=0;y<t;y++)for(let x=0;x<e;x++){let S=(x+y*e)*4,F=y*o,V=0,q=0,X=0,we=0,ce=0,w=0,v=0,C=Math.floor(x*s),L=Math.floor(y*o),I=Math.ceil((x+1)*s),D=Math.ceil((y+1)*o);I=Math.min(I,i),D=Math.min(D,r);for(let M=L;M<D;M++){let mn=Math.abs(F-M)/a,Vi=x*s,re=mn*mn;for(let oe=C;oe<I;oe++){let ue=Math.abs(Vi-oe)/c,xe=Math.sqrt(re+ue*ue);if(xe>=1)continue;V=2*xe*xe*xe-3*xe*xe+1;let it=4*(oe+M*i);v+=V*m[it+3],X+=V,m[it+3]<255&&(V=V*m[it+3]/250),we+=V*m[it],ce+=V*m[it+1],w+=V*m[it+2],q+=V}}g[S]=we/q,g[S+1]=ce/q,g[S+2]=w/q,g[S+3]=v/X}n.width=e,n.height=t,u.putImageData(h,0,0)}}function dz(n,e){return n/100*e}var rg=class{crop(e,t){let i=this.getImagePosition(e),r=i.x2-i.x1,s=i.y2-i.y1,o=document.createElement("canvas");o.width=r,o.height=s;let c=o.getContext("2d");if(!c)return null;e.options.backgroundColor!=null&&(c.fillStyle=e.options.backgroundColor,c.fillRect(0,0,r,s));let a=(e.transform.scale||1)*(e.transform.flipH?-1:1),u=(e.transform.scale||1)*(e.transform.flipV?-1:1),{translateH:d,translateV:h}=this.getCanvasTranslate(e),m=e.loadedImage.transformed;c.setTransform(a,0,0,u,m.size.width/2+d,m.size.height/2+h),c.translate(-i.x1/a,-i.y1/u),c.rotate((e.transform.rotate||0)*Math.PI/180),c.drawImage(m.image,-m.size.width/2,-m.size.height/2);let g={width:r,height:s,imagePosition:i,cropperPosition:N({},e.cropper())};e.options.containWithinAspectRatio&&(g.offsetImagePosition=this.getOffsetImagePosition(e));let y=this.getResizeRatio(r,s,e.options);return y!==1&&(g.width=Math.round(r*y),g.height=e.options.maintainAspectRatio?Math.round(g.width/e.options.aspectRatio):Math.round(s*y),TQ(o,g.width,g.height)),t==="blob"?this.cropToBlob(g,o,e):(g.base64=o.toDataURL("image/"+e.options.format,this.getQuality(e.options)),g)}cropToBlob(e,t,i){return b(this,null,function*(){return e.blob=yield new Promise(r=>t.toBlob(r,"image/"+i.options.format,this.getQuality(i.options))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})}getCanvasTranslate(e){if(e.transform.translateUnit==="px"){let t=this.getRatio(e);return{translateH:(e.transform.translateH||0)*t,translateV:(e.transform.translateV||0)*t}}else return{translateH:e.transform.translateH?dz(e.transform.translateH,e.loadedImage.transformed.size.width):0,translateV:e.transform.translateV?dz(e.transform.translateV,e.loadedImage.transformed.size.height):0}}getRatio(e){return e.loadedImage.transformed.size.width/e.maxSize.width}getImagePosition(e){let t=this.getRatio(e),i=e.cropper(),r={x1:Math.round(i.x1*t),y1:Math.round(i.y1*t),x2:Math.round(i.x2*t),y2:Math.round(i.y2*t)};return e.options.containWithinAspectRatio||(r.x1=Math.max(r.x1,0),r.y1=Math.max(r.y1,0),r.x2=Math.min(r.x2,e.loadedImage.transformed.size.width),r.y2=Math.min(r.y2,e.loadedImage.transformed.size.height)),r}getOffsetImagePosition(e){let t=e.options.canvasRotation+e.loadedImage.exifTransform.rotate,i=this.getRatio(e),r,s;t%2?(r=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.height)/2,s=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.width)/2):(r=(e.loadedImage.transformed.size.width-e.loadedImage.original.size.width)/2,s=(e.loadedImage.transformed.size.height-e.loadedImage.original.size.height)/2);let o=e.cropper(),c={x1:Math.round(o.x1*i)-r,y1:Math.round(o.y1*i)-s,x2:Math.round(o.x2*i)-r,y2:Math.round(o.y2*i)-s};return e.options.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.loadedImage.transformed.size.width),c.y2=Math.min(c.y2,e.loadedImage.transformed.size.height)),c}getResizeRatio(e,t,i){let r=i.resizeToWidth/e,s=i.resizeToHeight/t,o=new Array;i.resizeToWidth>0&&o.push(r),i.resizeToHeight>0&&o.push(s);let c=o.length===0?1:Math.min(...o);return c>1&&!i.onlyScaleDown?c:Math.min(c,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}},NQ="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function PQ(){return new Promise(n=>{let e=new Image;e.onload=()=>{let t=e.width===1&&e.height===2;n(t)},e.src=NQ})}function kQ(n){switch(typeof n=="object"&&(n=RQ(n)),n){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function RQ(n){let e=new DataView(n);if(e.getUint16(0,!1)!==65496)return-2;let t=e.byteLength,i=2;for(;i<t;){if(e.getUint16(i+2,!1)<=8)return-1;let r=e.getUint16(i,!1);if(i+=2,r==65505){if(e.getUint32(i+=2,!1)!==1165519206)return-1;let s=e.getUint16(i+=6,!1)==18761;i+=e.getUint32(i+4,s);let o=e.getUint16(i,s);i+=2;for(let c=0;c<o;c++)if(e.getUint16(i+c*12,s)==274)return e.getUint16(i+c*12+8,s)}else{if((r&65280)!==65280)break;i+=e.getUint16(i,!1)}}return-1}var sg=class{constructor(){this.autoRotateSupported=PQ()}loadImageFile(e,t){return b(this,null,function*(){let i=yield e.arrayBuffer();return t.options.checkImageType?yield this.checkImageTypeAndLoadImageFromArrayBuffer(i,e.type,t):yield this.loadImageFromArrayBuffer(i,t)})}checkImageTypeAndLoadImageFromArrayBuffer(e,t,i){return this.isValidImageType(t)?this.loadImageFromArrayBuffer(e,i,t):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,t){return b(this,null,function*(){let r=yield(yield fetch(e)).blob(),s=yield r.arrayBuffer();return yield this.loadImageFromArrayBuffer(s,t,r.type)})}loadBase64Image(e,t){let i=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(i,t)}base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gmi,"");let t=atob(e),i=t.length,r=new Uint8Array(i);for(let s=0;s<i;s++)r[s]=t.charCodeAt(s);return r.buffer}loadImageFromArrayBuffer(e,t,i){return b(this,null,function*(){let r=yield new Promise((s,o)=>b(this,null,function*(){try{let c=new Blob([e],i?{type:i}:void 0),a=URL.createObjectURL(c),u=new Image,h=i==="image/svg+xml"?yield this.getSvgImageSize(c):void 0;u.onload=()=>s({originalImage:u,originalImageSize:h,originalObjectUrl:a,originalArrayBuffer:e}),u.onerror=o,u.src=a}catch(c){o(c)}}));return yield this.transformImageFromArrayBuffer(r,t,r.originalImageSize!=null)})}getSvgImageSize(e){return b(this,null,function*(){let r=new DOMParser().parseFromString(yield e.text(),"image/svg+xml").querySelector("svg");if(!r)throw Error("Failed to parse SVG image");let s=r.getAttribute("width"),o=r.getAttribute("height");if(s&&o)return null;let c=r.getAttribute("viewBox")||r.getAttribute("viewbox");if(c){let a=c.split(" ");return{width:+a[2],height:+a[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(e,t,i=!1){return b(this,null,function*(){let r=yield this.autoRotateSupported,s=kQ(r?-1:e.originalArrayBuffer);if(!e.originalImage||!e.originalImage.complete)return Promise.reject(new Error("No image loaded"));let o={original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:e.originalImageSize??{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:s};return this.transformLoadedImage(o,t,i)})}transformLoadedImage(e,t,i=!1){return b(this,null,function*(){let r=t.options.canvasRotation+e.exifTransform.rotate,s=e.original.size;if(!i&&r===0&&!e.exifTransform.flip&&!t.options.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:N({},s)},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:N({},s)},exifTransform:e.exifTransform};let o=this.getTransformedSize(s,e.exifTransform,t),c=document.createElement("canvas");c.width=o.width,c.height=o.height;let a=c.getContext("2d");a?.setTransform(e.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),a?.rotate(Math.PI*(r/2)),a?.drawImage(e.original.image,-s.width/2,-s.height/2);let u=yield new Promise(m=>c.toBlob(m,t.options.format));if(!u)throw new Error("Failed to get Blob for transformed image.");let d=URL.createObjectURL(u),h=yield this.loadImageFromObjectUrl(d);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:N({},s)},transformed:{objectUrl:d,image:h,size:{width:h.width,height:h.height}},exifTransform:e.exifTransform}})}loadImageFromObjectUrl(e){return new Promise((t,i)=>{let r=new Image;r.onload=()=>t(r),r.onerror=i,r.src=e})}getTransformedSize(e,t,i){let r=i.options.canvasRotation+t.rotate;if(i.options.containWithinAspectRatio)if(r%2){let s=e.width*i.options.aspectRatio,o=e.height/i.options.aspectRatio;return{width:Math.max(e.height,s),height:Math.max(e.width,o)}}else{let s=e.height*i.options.aspectRatio,o=e.width/i.options.aspectRatio;return{width:Math.max(e.width,s),height:Math.max(e.height,o)}}return r%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}};function OQ(n){switch(n){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function FQ(n){switch(n){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function VQ(n,e){switch(n){case"ArrowUp":return{clientX:0,clientY:e*-1};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:e*-1,clientY:0}}}var fz=(()=>{class n{get alignImageStyle(){return this.state.options.alignImage}constructor(t){this.sanitizer=t,this.pinchStart$=new Ne,this.cropService=new rg,this.loadImageService=new sg,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.moveTypes=ei,this.state=new ig,this.safeImgDataUrl=Rr(void 0),this.safeTransformStyle=Rr(void 0),this.marginLeft="0px",this.imageVisible=!1,this.allowMoveImage=!1,this.checkImageType=!0,this.disabled=!1,this.hidden=!1,this.imageCropped=ks(),this.startCropImage=ks(),this.imageLoaded=ks(),this.cropperReady=ks(),this.loadImageFailed=ks(),this.transformChange=ks(),this.cropperChange=ks(),this.reset()}ngOnInit(){this.state.stepSize=this.initialStepSize||this.state.stepSize}ngOnChanges(t){let i=this.state.cropper(),r=this.state.transform,s=this.state.options.backgroundColor;if(this.state.setOptionsFromChanges(t),this.onChangesInputImage(t),t.transform&&this.transform&&(this.state.transform=this.transform,this.setCssTransform()),!this.state.loadedImage?.transformed.image.complete||!this.state.maxSize)return;if(this.containWithinAspectRatio&&t.aspectRatio||t.containWithinAspectRatio||t.canvasRotation){this.loadImageService.transformLoadedImage(this.state.loadedImage,this.state).then(c=>this.setLoadedImage(c)).catch(c=>this.loadImageError(c));return}t.cropper&&this.cropper&&this.state.cropper.set(F0(this.cropper,this.state,!0));let o=!this.state.equalsCropperPosition(i);o&&(!this.cropper||!this.state.equalsCropperPosition(this.cropper))&&this.cropperChange.emit(this.state.cropper()),(o||!this.state.equalsTransform(r)||this.state.options.backgroundColor!==s)&&this.doAutoCrop(),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){let t=this.imageChangedEvent?.target?.files;return t instanceof FileList&&t.length>0}reset(){this.safeImgDataUrl.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="),this.state.loadedImage=void 0,this.state.maxSize=void 0,this.imageVisible=!1}loadImageFile(t){this.loadImageService.loadImageFile(t,this.state).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.state).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.state).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.state.loadedImage=t,this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.objectUrl))}loadImageError(t){console.error(t),this.loadImageFailed.emit()}setCssTransform(){let t=this.state.transform?.translateUnit||"%";this.safeTransformStyle.set(this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH||0}${t}, ${this.state.transform.translateV||0}${t}) scaleX(`+(this.state.transform.scale||1)*(this.state.transform.flipH?-1:1)+") scaleY("+(this.state.transform.scale||1)*(this.state.transform.flipV?-1:1)+") rotate("+(this.state.transform.rotate||0)+"deg)"))}imageLoadedInView(){this.state.loadedImage!=null&&(this.imageLoaded.emit(this.state.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.cropper&&(!this.maintainAspectRatio||this.state.aspectRatioIsCorrect())?(this.state.cropper.set(F0(this.cropper,this.state,!0)),this.emitCropperPositionChange(this.cropper)):(this.state.cropper.set(F0(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())),this.imageVisible=!0,this.cropperReady.emit(N({},this.state.maxSize)),this.doAutoCrop()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>1}onResize(){if(this.state.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let t=N({},this.state.maxSize);this.setMaxSize(),this.state.resizeCropperPosition(t)}}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){let i=+t.key;i>=1&&i<=9&&(this.state.stepSize=i)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;let r=t.shiftKey?ei.Resize:ei.Move,s=t.altKey?FQ(t.key):OQ(t.key),o=VQ(t.key,this.state.stepSize);t.preventDefault(),t.stopPropagation(),this.moveStart={type:r,position:s,clientX:0,clientY:0,transform:this.state.transform,cropper:this.state.cropper()},this.handleMouseMove(o),this.handleMouseUp()}startMove(t,i,r=null){this.disabled||this.moveStart&&this.moveStart.type===ei.Pinch||i===ei.Drag&&!this.allowMoveImage||("preventDefault"in t&&t.preventDefault(),this.moveStart={type:i,position:r,clientX:Iu(t),clientY:Su(t),transform:this.state.transform,cropper:this.state.cropper()},this.initMouseMove())}initMouseMove(){$1(oi(document,"mousemove"),oi(document,"touchmove")).pipe(bn($1(oi(document,"mouseup"),oi(document,"touchend"),this.pinchStart$).pipe(ci()))).subscribe({next:t=>this.handleMouseMove(t),complete:()=>this.handleMouseUp()})}handleMouseMove(t){if(this.moveStart){if("stopPropagation"in t&&t.stopPropagation(),"preventDefault"in t&&t.preventDefault(),this.moveStart.type===ei.Move)this.state.cropper.set(Eu(AQ(t,this.moveStart),this.state,!0));else if(this.moveStart.type===ei.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(Eu(uz(t,this.moveStart,this.state),this.state,!1));else if(this.moveStart.type===ei.Drag){let i=Iu(t)-this.moveStart.clientX,r=Su(t)-this.moveStart.clientY;this.state.transform=ae(N({},this.state.transform),{translateH:(this.moveStart.transform?.translateH||0)+i,translateV:(this.moveStart.transform?.translateV||0)+r}),this.setCssTransform()}}}handleMouseUp(){!this.moveStart||this.moveStart.type===ei.Pinch||((!this.state.equalsCropperPosition(this.moveStart.cropper)||this.moveStart.transform&&!this.state.equalsTransform(this.moveStart.transform))&&(this.moveStart.type===ei.Drag?this.transformChange.emit(this.state.transform):this.cropperChange.emit(this.state.cropper()),this.doAutoCrop()),this.moveStart=void 0)}startPinch(t){if(this.disabled||!this.sourceImageLoaded()||t.touches.length<2)return;"preventDefault"in t&&t.preventDefault();let i=this.state.cropper();this.moveStart={type:ei.Pinch,position:"center",clientX:i.x1+(i.x2-i.x1)/2,clientY:i.y1+(i.y2-i.y1)/2,cropper:i},this.initPinch()}initPinch(){this.pinchStart$.next(),oi(document,"touchmove").pipe(bn(oi(document,"touchend"))).subscribe({next:t=>this.handlePinchMove(t),complete:()=>this.handlePinchStop()})}handlePinchMove(t){this.moveStart&&(t.preventDefault&&t.preventDefault(),this.moveStart.type===ei.Pinch&&!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.state.cropper.set(Eu(uz(t,this.moveStart,this.state),this.state,!1)))}handlePinchStop(){this.moveStart&&(this.state.equalsCropperPosition(this.moveStart.cropper)||(this.emitCropperPositionChange(this.moveStart.cropper),this.doAutoCrop()),this.moveStart=void 0)}setMaxSize(){if(this.sourceImage){let t=getComputedStyle(this.sourceImage.nativeElement);this.state.setMaxSize(parseFloat(t.width),parseFloat(t.height)),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.state.maxSize.width/2+"px)")}}emitCropperPositionChange(t){this.state.equalsCropperPosition(t)||this.cropperChange.emit(this.state.cropper())}doAutoCrop(){this.state.options.autoCrop&&this.crop()}crop(t=this.state.options.output){if(this.state.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),t==="blob")return this.cropToBlob();if(t==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((t,i)=>b(this,null,function*(){let r=yield this.cropService.crop(this.state,"blob");r?(this.imageCropped.emit(r),t(r)):i("Crop image failed")}))}cropToBase64(){let t=this.cropService.crop(this.state,"base64");return t?(this.imageCropped.emit(t),t):null}resetCropperPosition(){this.state.cropper.set(F0(this.state.maxSizeCropperPosition(),this.state,!0)),this.cropperChange.emit(this.state.cropper())}ngOnDestroy(){this.pinchStart$.complete()}static{this.\u0275fac=function(i){return new(i||n)(O(ba))}}static{this.\u0275cmp=pe({type:n,selectors:[["image-cropper"]],viewQuery:function(i,r){if(i&1&&(Os(xQ,7),Os(LQ,5)),i&2){let s;Ur(s=jr())&&(r.wrapper=s.first),Ur(s=jr())&&(r.sourceImage=s.first)}},hostVars:6,hostBindings:function(i,r){i&1&&Y("resize",function(){return r.onResize()},!1,IC),i&2&&(Fr("text-align",r.alignImageStyle),Et("disabled",r.disabled)("ngx-ic-hidden",r.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",options:"options",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",autoCrop:"autoCrop",cropper:"cropper",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",checkImageType:"checkImageType",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange",cropperChange:"cropperChange"},standalone:!0,features:[Bt,ve],decls:4,vars:10,consts:[["sourceImage",""],[3,"touchstart"],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(i,r){i&1&&(E(0,"div",1),Y("touchstart",function(o){return r.startPinch(o)}),he(1,EQ,2,8,"img",2),J(2,"div",3),he(3,SQ,3,16,"div",4),z()),i&2&&(Fr("background",r.imageVisible&&r.state.options.backgroundColor),R(),ie("ngIf",r.safeImgDataUrl()),R(),Fr("width",(r.state.maxSize==null?null:r.state.maxSize.width)||0,"px")("height",(r.state.maxSize==null?null:r.state.maxSize.height)||0,"px")("margin-left",r.alignImage==="center"?r.marginLeft:null),R(),ie("ngIf",r.imageVisible))},dependencies:[HM],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0})}}return n})();function BQ(n,e){if(n&1){let t=Ee();E(0,"div",1)(1,"div",2)(2,"div",3)(3,"image-cropper",4),Y("imageCropped",function(r){j(t);let s=P();return H(s.onImageCropped(r))}),z(),E(4,"div",5)(5,"button",6),Y("click",function(){j(t);let r=P();return H(r.saveCroppedImage())}),$(6,"Save"),z(),E(7,"button",7),Y("click",function(){j(t);let r=P();return H(r.cancelCropper())}),$(8,"Cancel"),z()()()()()}if(n&2){let t=P();R(3),ie("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1/1)("resizeToWidth",256)}}var so=class n{imageChangedEvent=null;imageCropped=new je;cropCancelled=new je;cropSaved=new je;croppedImage=void 0;format="png";maintainAspectRatio=!0;aspectRatio=1;resizeToWidth=256;roundCropper=!1;showCropperCross=!0;canvasRotation=0;onImageCropped(e){e.base64?this.croppedImage=e.base64:e.blob?this.convertBlobToBase64(e.blob).then(t=>{this.croppedImage=t}).catch(t=>{console.error("Failed to convert blob to base64:",t)}):console.warn("No base64 image available")}saveCroppedImage(){if(!this.croppedImage){console.warn("No cropped image available");return}this.imageCropped.emit(this.croppedImage),this.cropSaved.emit()}cancelCropper(){this.cropCancelled.emit()}convertBlobToBase64(e){return new Promise((t,i)=>{let r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=i,r.readAsDataURL(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-image-cropper"]],inputs:{imageChangedEvent:"imageChangedEvent"},outputs:{imageCropped:"imageCropped",cropCancelled:"cropCancelled",cropSaved:"cropSaved"},standalone:!0,features:[ve],decls:2,vars:1,consts:[[1,"image-cropper-container"],[1,"popup-overlay"],[1,"popup-container"],[1,"cropper-section"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth"],[1,"actions"],[1,"btn-save",3,"click"],[1,"btn-cancel",3,"click"]],template:function(t,i){t&1&&(E(0,"div",0),he(1,BQ,9,4,"div",1),z()),t&2&&(R(),_e(i.imageChangedEvent?1:-1))},dependencies:[mi,fz],styles:[".popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;padding:1rem}.popup-container[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:10px;box-shadow:0 0 10px #00000080;width:100%;max-width:500px;display:flex;flex-direction:column;align-items:center;text-align:center}.file-input[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}.file-upload-label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:.5rem;font-size:1rem}.file-upload-input[_ngcontent-%COMP%]{display:block;margin:0 auto;font-size:.9rem}.actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}.btn-save[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s ease}.btn-save[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-cancel[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s ease}.btn-save[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#c82333}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{padding:1rem}.btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem}.file-upload-label[_ngcontent-%COMP%]{font-size:.9rem}.file-upload-input[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{width:100%;padding:.75rem}.btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;font-size:.9rem}.actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};var cg;try{cg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cg=!1}var zt=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$M(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||cg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(k(Zi))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var V0;function UQ(){if(V0==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>V0=!0}))}finally{V0=V0||!1}return V0}function pc(n){return UQ()?n:!!n.capture}var _1;function hz(){if(_1==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _1=!1,_1;if("scrollBehavior"in document.documentElement.style)_1=!0;else{let n=Element.prototype.scrollTo;n?_1=!/\{\s*\[native code\]\s*\}/.test(n.toString()):_1=!1}}return _1}var og;function jQ(){if(og==null){let n=typeof document<"u"?document.head:null;og=!!(n&&(n.createShadowRoot||n.attachShadow))}return og}function pz(n){if(jQ()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ki(n){return n.composedPath?n.composedPath()[0]:n.target}function B0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Re||{}),yr="*";function mz(n,e){return{type:Re.Trigger,name:n,definitions:e,options:{}}}function ag(n,e=null){return{type:Re.Animate,styles:e,timings:n}}function gz(n,e=null){return{type:Re.Sequence,steps:n,options:e}}function v1(n){return{type:Re.Style,styles:n,offset:null}}function lg(n,e,t){return{type:Re.State,name:n,styles:e,options:t}}function ug(n,e,t=null){return{type:Re.Transition,expr:n,animation:e,options:t}}var oo=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},U0=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},zu="!";function _z(n){return new K(3e3,!1)}function HQ(){return new K(3100,!1)}function $Q(){return new K(3101,!1)}function qQ(n){return new K(3001,!1)}function WQ(n){return new K(3003,!1)}function GQ(n){return new K(3004,!1)}function KQ(n,e){return new K(3005,!1)}function QQ(){return new K(3006,!1)}function YQ(){return new K(3007,!1)}function ZQ(n,e){return new K(3008,!1)}function XQ(n){return new K(3002,!1)}function JQ(n,e,t,i,r){return new K(3010,!1)}function eY(){return new K(3011,!1)}function tY(){return new K(3012,!1)}function nY(){return new K(3200,!1)}function iY(){return new K(3202,!1)}function rY(){return new K(3013,!1)}function sY(n){return new K(3014,!1)}function oY(n){return new K(3015,!1)}function cY(n){return new K(3016,!1)}function aY(n,e){return new K(3404,!1)}function lY(n){return new K(3502,!1)}function uY(n){return new K(3503,!1)}function dY(){return new K(3300,!1)}function fY(n){return new K(3504,!1)}function hY(n){return new K(3301,!1)}function pY(n,e){return new K(3302,!1)}function mY(n){return new K(3303,!1)}function gY(n,e){return new K(3400,!1)}function _Y(n){return new K(3401,!1)}function yY(n){return new K(3402,!1)}function vY(n,e){return new K(3505,!1)}function co(n){switch(n.length){case 0:return new oo;case 1:return n[0];default:return new U0(n)}}function Dz(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,c=null;if(e.forEach(a=>{let u=a.get("offset"),d=u==o,h=d&&c||new Map;a.forEach((m,g)=>{let y=g,x=m;if(g!=="offset")switch(y=n.normalizePropertyName(y,r),x){case zu:x=t.get(g);break;case yr:x=i.get(g);break;default:x=n.normalizeStyleValue(g,y,x,r);break}h.set(y,x)}),d||s.push(h),c=h,o=u}),r.length)throw lY(r);return s}function Ng(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&dg(t,"start",n)));break;case"done":n.onDone(()=>i(t&&dg(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&dg(t,"destroy",n)));break}}function dg(n,e,t){let i=t.totalTime,r=!!t.disabled,s=Pg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function Pg(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function ni(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function yz(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var bY=typeof document>"u"?null:document.documentElement;function kg(n){let e=n.parentNode||n.host||null;return e===bY?null:e}function CY(n){return n.substring(1,6)=="ebkit"}var b1=null,vz=!1;function MY(n){b1||(b1=wY()||{},vz=b1.style?"WebkitAppearance"in b1.style:!1);let e=!0;return b1.style&&!CY(n)&&(e=n in b1.style,!e&&vz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in b1.style)),e}function wY(){return typeof document<"u"?document.body:null}function Tz(n,e){for(;e;){if(e===n)return!0;e=kg(e)}return!1}function Nz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var Rg=(()=>{class n{validateStyleProperty(t){return MY(t)}containsElement(t,i){return Tz(t,i)}getParentElement(t){return kg(t)}query(t,i,r){return Nz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,c=[],a){return new oo(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),w1=class{static{this.NOOP=new Rg}},x1=class{};var xY=1e3,Pz="{{",LY="}}",kz="ng-enter",_g="ng-leave",Au="ng-trigger",ku=".ng-trigger",bz="ng-animating",yg=".ng-animating";function ds(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vg(parseFloat(e[1]),e[2])}function vg(n,e){switch(e){case"s":return n*xY;default:return n}}function Ru(n,e,t){return n.hasOwnProperty("duration")?n:EY(n,e,t)}function EY(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let c=n.match(i);if(c===null)return e.push(_z(n)),{duration:0,delay:0,easing:""};r=vg(parseFloat(c[1]),c[2]);let a=c[3];a!=null&&(s=vg(parseFloat(a),c[4]));let u=c[5];u&&(o=u)}else r=n;if(!t){let c=!1,a=e.length;r<0&&(e.push(HQ()),c=!0),s<0&&(e.push($Q()),c=!0),c&&e.splice(a,0,_z(n))}return{duration:r,delay:s,easing:o}}function IY(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function vr(n,e,t){e.forEach((i,r)=>{let s=Og(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function M1(n,e){e.forEach((t,i)=>{let r=Og(i);n.style[r]=""})}function j0(n){return Array.isArray(n)?n.length==1?n[0]:gz(n):n}function SY(n,e,t){let i=e.params||{},r=Rz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(qQ(s))})}var bg=new RegExp(`${Pz}\\s*(.+?)\\s*${LY}`,"g");function Rz(n){let e=[];if(typeof n=="string"){let t;for(;t=bg.exec(n);)e.push(t[1]);bg.lastIndex=0}return e}function $0(n,e,t){let i=`${n}`,r=i.replace(bg,(s,o)=>{let c=e[o];return c==null&&(t.push(WQ(o)),c=""),c.toString()});return r==i?n:r}var zY=/-+([a-z0-9])/g;function Og(n){return n.replace(zY,(...e)=>e[1].toUpperCase())}function AY(n,e){return n===0||e===0}function DY(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(c=>o.set(c,Fg(n,c)))}}return e}function ti(n,e,t){switch(e.type){case Re.Trigger:return n.visitTrigger(e,t);case Re.State:return n.visitState(e,t);case Re.Transition:return n.visitTransition(e,t);case Re.Sequence:return n.visitSequence(e,t);case Re.Group:return n.visitGroup(e,t);case Re.Animate:return n.visitAnimate(e,t);case Re.Keyframes:return n.visitKeyframes(e,t);case Re.Style:return n.visitStyle(e,t);case Re.Reference:return n.visitReference(e,t);case Re.AnimateChild:return n.visitAnimateChild(e,t);case Re.AnimateRef:return n.visitAnimateRef(e,t);case Re.Query:return n.visitQuery(e,t);case Re.Stagger:return n.visitStagger(e,t);default:throw GQ(e.type)}}function Fg(n,e){return window.getComputedStyle(n)[e]}var TY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ou=class extends x1{normalizePropertyName(e,t){return Og(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(TY.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&r.push(KQ(e,i))}return o+s}};var Fu="*";function NY(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>PY(i,t,e)):t.push(n),t}function PY(n,e,t){if(n[0]==":"){let a=kY(n,t);if(typeof a=="function"){e.push(a);return}n=a}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(oY(n)),e;let r=i[1],s=i[2],o=i[3];e.push(Cz(r,o));let c=r==Fu&&o==Fu;s[0]=="<"&&!c&&e.push(Cz(o,r))}function kY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(cY(n)),"* => *"}}var Du=new Set(["true","1"]),Tu=new Set(["false","0"]);function Cz(n,e){let t=Du.has(n)||Tu.has(n),i=Du.has(e)||Tu.has(e);return(r,s)=>{let o=n==Fu||n==r,c=e==Fu||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?Du.has(n):Tu.has(n)),!c&&i&&typeof s=="boolean"&&(c=s?Du.has(e):Tu.has(e)),o&&c}}var Oz=":self",RY=new RegExp(`s*${Oz}s*,?`,"g");function Fz(n,e,t,i){return new Cg(n).build(e,t,i)}var Mz="",Cg=class{constructor(e){this._driver=e}build(e,t,i){let r=new Mg(t);return this._resetContextStyleTimingState(r),ti(this,j0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Mz,e.collectedStyles=new Map,e.collectedStyles.set(Mz,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(QQ()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),c.type==Re.State){let a=c,u=a.name;u.toString().split(/\s*,\s*/).forEach(d=>{a.name=d,s.push(this.visitState(a,t))}),a.name=u}else if(c.type==Re.Transition){let a=this.visitTransition(c,t);i+=a.queryCount,r+=a.depCount,o.push(a)}else t.errors.push(YQ())}),{type:Re.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(a=>{Rz(a).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&t.errors.push(ZQ(e.name,[...s.values()]))}return{type:Re.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=ti(this,j0(e.animation),t),r=NY(e.expr,t.errors);return{type:Re.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:C1(e.options)}}visitSequence(e,t){return{type:Re.Sequence,steps:e.steps.map(i=>ti(this,i,t)),options:C1(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let c=ti(this,o,t);return r=Math.max(r,t.currentTime),c});return t.currentTime=r,{type:Re.Group,steps:s,options:C1(e.options)}}visitAnimate(e,t){let i=BY(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:v1({});if(s.type==Re.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,c=!1;if(!o){c=!0;let u={};i.easing&&(u.easing=i.easing),o=v1(u)}t.currentTime+=i.duration+i.delay;let a=this.visitStyle(o,t);a.isEmptyStep=c,r=a}return t.currentAnimateTimings=null,{type:Re.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of r)typeof c=="string"?c===yr?i.push(c):t.errors.push(XQ(c)):i.push(new Map(Object.entries(c)));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s)){for(let a of c.values())if(a.toString().indexOf(Pz)>=0){s=!0;break}}}),{type:Re.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((c,a)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(a),h=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(JQ(a,d.startTime,d.endTime,s,r)),h=!1),s=d.startTime),h&&u.set(a,{startTime:s,endTime:r}),t.options&&SY(c,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Re.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(eY()),i;let r=1,s=0,o=[],c=!1,a=!1,u=0,d=e.steps.map(F=>{let V=this._makeStyleAst(F,t),q=V.offset!=null?V.offset:VY(V.styles),X=0;return q!=null&&(s++,X=V.offset=q),a=a||X<0||X>1,c=c||X<u,u=X,o.push(X),V});a&&t.errors.push(tY()),c&&t.errors.push(nY());let h=e.steps.length,m=0;s>0&&s<h?t.errors.push(iY()):s==0&&(m=r/(h-1));let g=h-1,y=t.currentTime,x=t.currentAnimateTimings,S=x.duration;return d.forEach((F,V)=>{let q=m>0?V==g?1:m*V:o[V],X=q*S;t.currentTime=y+x.delay+X,x.duration=X,this._validateStyleAst(F,t),F.offset=q,i.styles.push(F)}),i}visitReference(e,t){return{type:Re.Reference,animation:ti(this,j0(e.animation),t),options:C1(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Re.AnimateChild,options:C1(e.options)}}visitAnimateRef(e,t){return{type:Re.AnimateRef,animation:this.visitReference(e.animation,t),options:C1(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=OY(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ni(t.collectedStyles,t.currentQuerySelector,new Map);let c=ti(this,j0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Re.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:e.selector,options:C1(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(rY());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ru(e.timings,t.errors,!0);return{type:Re.Stagger,animation:ti(this,j0(e.animation),t),timings:i,options:null}}};function OY(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Oz);return e&&(n=n.replace(RY,"")),n=n.replace(/@\*/g,ku).replace(/@\w+/g,t=>ku+"-"+t.slice(1)).replace(/:animating/g,yg),[n,e]}function FY(n){return n?N({},n):null}var Mg=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function VY(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function BY(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Ru(n,e).duration;return fg(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=fg(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Ru(t,e);return fg(r.duration,r.delay,r.easing)}function C1(n){return n?(n=N({},n),n.params&&(n.params=FY(n.params))):n={},n}function fg(n,e,t){return{duration:n,delay:e,easing:t}}function Vg(n,e,t,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}var q0=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},UY=1,jY=":enter",HY=new RegExp(jY,"g"),$Y=":leave",qY=new RegExp($Y,"g");function Vz(n,e,t,i,r,s=new Map,o=new Map,c,a,u=[]){return new wg().buildKeyframes(n,e,t,i,r,s,o,c,a,u)}var wg=class{buildKeyframes(e,t,i,r,s,o,c,a,u,d=[]){u=u||new q0;let h=new xg(e,t,u,r,s,d,[]);h.options=a;let m=a.delay?ds(a.delay):0;h.currentTimeline.delayNextStep(m),h.currentTimeline.setStyles([o],null,h.errors,a),ti(this,i,h);let g=h.timelines.filter(y=>y.containsAnimation());if(g.length&&c.size){let y;for(let x=g.length-1;x>=0;x--){let S=g[x];if(S.element===t){y=S;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([c],null,h.errors,a)}return g.length?g.map(y=>y.buildKeyframes()):[Vg(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:ds($0(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?ds(i.duration):null,c=i.delay!=null?ds(i.delay):null;return o!==0&&e.forEach(a=>{let u=t.appendInstructionToTimeline(a,o,c);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ti(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Re.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Vu);let o=ds(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ti(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ds(e.options.delay):0;e.steps.forEach(o=>{let c=t.createSubContext(e.options);s&&c.delayNextStep(s),ti(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?$0(i,t.params,t.errors):i;return Ru(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Re.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,c=t.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(a=>{let u=a.offset||0;c.forwardTime(u*s),c.setStyles(a.styles,a.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ds(r.delay):0;s&&(t.previousNode.type===Re.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vu);let o=i,c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=c.length;let a=null;c.forEach((u,d)=>{t.currentQueryIndex=d;let h=t.createSubContext(e.options,u);s&&h.delayNextStep(s),u===t.element&&(a=h.currentTimeline),ti(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let m=h.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),c=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=c-a;break;case"full":a=i.currentStaggerTime;break}let d=t.currentTimeline;a&&d.delayNextStep(a);let h=d.currentTime;ti(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Vu={},xg=class n{constructor(e,t,i,r,s,o,c,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Bu(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ds(i.duration)),i.delay!=null&&(r.delay=ds(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!o.hasOwnProperty(c))&&(o[c]=$0(s[c],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Vu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Lg(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let c=[];if(r&&c.push(this.element),e.length>0){e=e.replace(HY,"."+this._enterClassName),e=e.replace(qY,"."+this._leaveClassName);let a=i!=1,u=this._driver.query(this.element,e,a);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),c.push(...u)}return!s&&c.length==0&&o.push(sY(t)),c}},Bu=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=UY,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||yr),this._currentKeyframe.set(t,yr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=WY(e,this._globalTimelineStyles);for(let[c,a]of o){let u=$0(a,s,i);this._pendingStyles.set(c,u),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??yr),this._updateStyle(c,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((c,a)=>{let u=new Map([...this._backFill,...c]);u.forEach((d,h)=>{d===zu?e.add(h):d===yr&&t.add(h)}),i||u.set("offset",a/this.duration),r.push(u)});let s=[...e.values()],o=[...t.values()];if(i){let c=r[0],a=new Map(c);c.set("offset",0),a.set("offset",1),r=[c,a]}return Vg(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Lg=class extends Bu{constructor(e,t,i,r,s,o,c=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,c=t/o,a=new Map(e[0]);a.set("offset",0),s.push(a);let u=new Map(e[0]);u.set("offset",wz(c)),s.push(u);let d=e.length-1;for(let h=1;h<=d;h++){let m=new Map(e[h]),g=m.get("offset"),y=t+g*i;m.set("offset",wz(y/o)),s.push(m)}i=o,t=0,r="",e=s}return Vg(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function wz(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function WY(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,yr)}else for(let[s,o]of r)t.set(s,o)}),t}function xz(n,e,t,i,r,s,o,c,a,u,d,h,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:a,preStyleProps:u,postStyleProps:d,totalTime:h,errors:m}}var hg={},Uu=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return GY(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,c,a,u,d){let h=[],m=this.ast.options&&this.ast.options.params||hg,g=c&&c.params||hg,y=this.buildStyles(i,g,h),x=a&&a.params||hg,S=this.buildStyles(r,x,h),F=new Set,V=new Map,q=new Map,X=r==="void",we={params:Bz(x,m),delay:this.ast.options?.delay},ce=d?[]:Vz(e,t,this.ast.animation,s,o,y,S,we,u,h),w=0;return ce.forEach(v=>{w=Math.max(v.duration+v.delay,w)}),h.length?xz(t,this._triggerName,i,r,X,y,S,[],[],V,q,w,h):(ce.forEach(v=>{let C=v.element,L=ni(V,C,new Set);v.preStyleProps.forEach(D=>L.add(D));let I=ni(q,C,new Set);v.postStyleProps.forEach(D=>I.add(D)),C!==t&&F.add(C)}),xz(t,this._triggerName,i,r,X,y,S,ce,[...F.values()],V,q,w))}};function GY(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function Bz(n,e){let t=N({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var Eg=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=Bz(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,c)=>{o&&(o=$0(o,r,t));let a=this.normalizer.normalizePropertyName(c,t);o=this.normalizer.normalizeStyleValue(c,a,o,t),i.set(c,o)})}),i}};function KY(n,e,t){return new Ig(n,e,t)}var Ig=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Eg(r.style,s,i))}),Lz(this.states,"true","1"),Lz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Uu(e,r,this.states))}),this.fallbackTransition=QY(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function QY(n,e,t){let i=[(o,c)=>!0],r={type:Re.Sequence,steps:[],options:null},s={type:Re.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Uu(n,s,e)}function Lz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var YY=new q0,Sg=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=Fz(this._driver,t,i,r);if(i.length)throw uY(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=Dz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,c=new Map;if(s?(o=Vz(this._driver,t,s,kz,_g,new Map,new Map,i,YY,r),o.forEach(d=>{let h=ni(c,d.element,new Map);d.postStyleProps.forEach(m=>h.set(m,null))})):(r.push(dY()),o=[]),r.length)throw fY(r);c.forEach((d,h)=>{d.forEach((m,g)=>{d.set(g,this._driver.computeStyle(h,g,yr))})});let a=o.map(d=>{let h=c.get(d.element);return this._buildPlayer(d,new Map,h)}),u=co(a);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw hY(e);return t}listen(e,t,i,r){let s=Pg(t,"","","");return Ng(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Ez="ng-animate-queued",ZY=".ng-animate-queued",pg="ng-animate-disabled",XY=".ng-animate-disabled",JY="ng-star-inserted",eZ=".ng-star-inserted",tZ=[],Uz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ri="__ng_removed",W0=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=rZ(r),i){let s=e,{value:o}=s,c=wy(s,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},H0="void",mg=new W0(H0),zg=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vi(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw pY(i,t);if(i==null||i.length==0)throw mY(t);if(!sZ(i))throw gY(i,t);let s=ni(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let c=ni(this._engine.statesByElement,e,new Map);return c.has(t)||(vi(e,Au),vi(e,Au+"-"+t),c.set(t,mg)),()=>{this._engine.afterFlush(()=>{let a=s.indexOf(o);a>=0&&s.splice(a,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw _Y(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new G0(this.id,t,e),c=this._engine.statesByElement.get(e);c||(vi(e,Au),vi(e,Au+"-"+t),this._engine.statesByElement.set(e,c=new Map));let a=c.get(t),u=new W0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),c.set(t,u),a||(a=mg),!(u.value===H0)&&a.value===u.value){if(!aZ(a.params,u.params)){let x=[],S=s.matchStyles(a.value,a.params,x),F=s.matchStyles(u.value,u.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{M1(e,S),vr(e,F)})}return}let m=ni(this._engine.playersByElement,e,[]);m.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let g=s.matchTransition(a.value,u.value,e,u.params),y=!1;if(!g){if(!r)return;g=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:a,toState:u,player:o,isFallbackTransition:y}),y||(vi(e,Ez),o.onStart(()=>{mc(e,Ez)})),o.onDone(()=>{let x=this.players.indexOf(o);x>=0&&this.players.splice(x,1);let S=this._engine.playersByElement.get(e);if(S){let F=S.indexOf(o);F>=0&&S.splice(F,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,ku,!0);i.forEach(r=>{if(r[Ri])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let c=[];if(s.forEach((a,u)=>{if(o.set(u,a.value),this._triggers.has(u)){let d=this.trigger(e,u,H0,r);d&&c.push(d)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&co(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let a=this._triggers.get(o).fallbackTransition,u=i.get(o)||mg,d=new W0(H0),h=new G0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:a,fromState:u,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Ri];(!s||s===Uz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){vi(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){let a=Pg(s,i.triggerName,i.fromState.value,i.toState.value);a._data=e,Ng(i.player,c.phase,a,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ag=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new zg(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(t);for(;c;){let a=r.get(c);if(a){let u=i.indexOf(a);i.splice(u+1,0,e),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Nu(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Nu(t))return;let s=t[Ri];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vi(e,pg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mc(e,pg))}removeNode(e,t,i){if(Nu(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Ri]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Nu(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ku,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,yg,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return co(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ri];if(t&&t.setForRemoval){if(e[Ri]=Uz,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(pg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,XY,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];vi(r,JY)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?co(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw yY(e)}_flushAnimations(e,t){let i=new q0,r=[],s=new Map,o=[],c=new Map,a=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(re=>{d.add(re);let oe=this.driver.query(re,ZY,!0);for(let ue=0;ue<oe.length;ue++)d.add(oe[ue])});let h=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=zz(m,this.collectedEnterElements),y=new Map,x=0;g.forEach((re,oe)=>{let ue=kz+x++;y.set(oe,ue),re.forEach(xe=>vi(xe,ue))});let S=[],F=new Set,V=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let oe=this.collectedLeaveElements[re],ue=oe[Ri];ue&&ue.setForRemoval&&(S.push(oe),F.add(oe),ue.hasAnimation?this.driver.query(oe,eZ,!0).forEach(xe=>F.add(xe)):V.add(oe))}let q=new Map,X=zz(m,Array.from(F));X.forEach((re,oe)=>{let ue=_g+x++;q.set(oe,ue),re.forEach(xe=>vi(xe,ue))}),e.push(()=>{g.forEach((re,oe)=>{let ue=y.get(oe);re.forEach(xe=>mc(xe,ue))}),X.forEach((re,oe)=>{let ue=q.get(oe);re.forEach(xe=>mc(xe,ue))}),S.forEach(re=>{this.processLeaveNode(re)})});let we=[],ce=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(t).forEach(ue=>{let xe=ue.player,it=ue.element;if(we.push(xe),this.collectedEnterElements.length){let wt=it[Ri];if(wt&&wt.setForMove){if(wt.previousTriggersValues&&wt.previousTriggersValues.has(ue.triggerName)){let br=wt.previousTriggersValues.get(ue.triggerName),Dn=this.statesByElement.get(ue.element);if(Dn&&Dn.has(ue.triggerName)){let Cr=Dn.get(ue.triggerName);Cr.value=br,Dn.set(ue.triggerName,Cr)}}xe.destroy();return}}let ri=!h||!this.driver.containsElement(h,it),Mt=q.get(it),ut=y.get(it),dt=this._buildInstruction(ue,i,ut,Mt,ri);if(dt.errors&&dt.errors.length){ce.push(dt);return}if(ri){xe.onStart(()=>M1(it,dt.fromStyles)),xe.onDestroy(()=>vr(it,dt.toStyles)),r.push(xe);return}if(ue.isFallbackTransition){xe.onStart(()=>M1(it,dt.fromStyles)),xe.onDestroy(()=>vr(it,dt.toStyles)),r.push(xe);return}let hs=[];dt.timelines.forEach(wt=>{wt.stretchStartingKeyframe=!0,this.disabledNodes.has(wt.element)||hs.push(wt)}),dt.timelines=hs,i.append(it,dt.timelines);let x8={instruction:dt,player:xe,element:it};o.push(x8),dt.queriedElements.forEach(wt=>ni(c,wt,[]).push(xe)),dt.preStyleProps.forEach((wt,br)=>{if(wt.size){let Dn=a.get(br);Dn||a.set(br,Dn=new Set),wt.forEach((Cr,ps)=>Dn.add(ps))}}),dt.postStyleProps.forEach((wt,br)=>{let Dn=u.get(br);Dn||u.set(br,Dn=new Set),wt.forEach((Cr,ps)=>Dn.add(ps))})});if(ce.length){let re=[];ce.forEach(oe=>{re.push(vY(oe.triggerName,oe.errors))}),we.forEach(oe=>oe.destroy()),this.reportError(re)}let w=new Map,v=new Map;o.forEach(re=>{let oe=re.element;i.has(oe)&&(v.set(oe,oe),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,w))}),r.forEach(re=>{let oe=re.element;this._getPreviousPlayers(oe,!1,re.namespaceId,re.triggerName,null).forEach(xe=>{ni(w,oe,[]).push(xe),xe.destroy()})});let C=S.filter(re=>Az(re,a,u)),L=new Map;Sz(L,this.driver,V,u,yr).forEach(re=>{Az(re,a,u)&&C.push(re)});let D=new Map;g.forEach((re,oe)=>{Sz(D,this.driver,new Set(re),a,zu)}),C.forEach(re=>{let oe=L.get(re),ue=D.get(re);L.set(re,new Map([...oe?.entries()??[],...ue?.entries()??[]]))});let M=[],mn=[],Vi={};o.forEach(re=>{let{element:oe,player:ue,instruction:xe}=re;if(i.has(oe)){if(d.has(oe)){ue.onDestroy(()=>vr(oe,xe.toStyles)),ue.disabled=!0,ue.overrideTotalTime(xe.totalTime),r.push(ue);return}let it=Vi;if(v.size>1){let Mt=oe,ut=[];for(;Mt=Mt.parentNode;){let dt=v.get(Mt);if(dt){it=dt;break}ut.push(Mt)}ut.forEach(dt=>v.set(dt,it))}let ri=this._buildAnimation(ue.namespaceId,xe,w,s,D,L);if(ue.setRealPlayer(ri),it===Vi)M.push(ue);else{let Mt=this.playersByElement.get(it);Mt&&Mt.length&&(ue.parentPlayer=co(Mt)),r.push(ue)}}else M1(oe,xe.fromStyles),ue.onDestroy(()=>vr(oe,xe.toStyles)),mn.push(ue),d.has(oe)&&r.push(ue)}),mn.forEach(re=>{let oe=s.get(re.element);if(oe&&oe.length){let ue=co(oe);re.setRealPlayer(ue)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<S.length;re++){let oe=S[re],ue=oe[Ri];if(mc(oe,_g),ue&&ue.hasAnimation)continue;let xe=[];if(c.size){let ri=c.get(oe);ri&&ri.length&&xe.push(...ri);let Mt=this.driver.query(oe,yg,!0);for(let ut=0;ut<Mt.length;ut++){let dt=c.get(Mt[ut]);dt&&dt.length&&xe.push(...dt)}}let it=xe.filter(ri=>!ri.destroyed);it.length?oZ(this,oe,it):this.processLeaveNode(oe)}return S.length=0,M.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let oe=this.players.indexOf(re);this.players.splice(oe,1)}),re.play()}),M}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let c=this.playersByQueriedElement.get(e);c&&(o=c)}else{let c=this.playersByElement.get(e);if(c){let a=!s||s==H0;c.forEach(u=>{u.queued||!a&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:r;for(let a of t.timelines){let u=a.element,d=u!==s,h=ni(i,u,[]);this._getPreviousPlayers(u,d,o,c,t.toState).forEach(g=>{let y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),h.push(g)})}M1(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let c=t.triggerName,a=t.element,u=[],d=new Set,h=new Set,m=t.timelines.map(y=>{let x=y.element;d.add(x);let S=x[Ri];if(S&&S.removedBeforeQueried)return new oo(y.duration,y.delay);let F=x!==a,V=cZ((i.get(x)||tZ).map(w=>w.getRealPlayer())).filter(w=>{let v=w;return v.element?v.element===x:!1}),q=s.get(x),X=o.get(x),we=Dz(this._normalizer,y.keyframes,q,X),ce=this._buildPlayer(y,we,V);if(y.subTimeline&&r&&h.add(x),F){let w=new G0(e,c,x);w.setRealPlayer(ce),u.push(w)}return ce});u.forEach(y=>{ni(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>iZ(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>vi(y,bz));let g=co(m);return g.onDestroy(()=>{d.forEach(y=>mc(y,bz)),vr(a,t.toStyles)}),h.forEach(y=>{ni(r,y,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new oo(e.duration,e.delay)}},G0=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new oo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Ng(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ni(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function iZ(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function rZ(n){return n??null}function Nu(n){return n&&n.nodeType===1}function sZ(n){return n=="start"||n=="done"}function Iz(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Sz(n,e,t,i,r){let s=[];t.forEach(a=>s.push(Iz(a)));let o=[];i.forEach((a,u)=>{let d=new Map;a.forEach(h=>{let m=e.computeStyle(u,h,r);d.set(h,m),(!m||m.length==0)&&(u[Ri]=nZ,o.push(u))}),n.set(u,d)});let c=0;return t.forEach(a=>Iz(a,s[c++])),o}function zz(n,e){let t=new Map;if(n.forEach(c=>t.set(c,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(c){if(!c)return i;let a=s.get(c);if(a)return a;let u=c.parentNode;return t.has(u)?a=u:r.has(u)?a=i:a=o(u),s.set(c,a),a}return e.forEach(c=>{let a=o(c);a!==i&&t.get(a).push(c)}),t}function vi(n,e){n.classList?.add(e)}function mc(n,e){n.classList?.remove(e)}function oZ(n,e,t){co(t).onDone(()=>n.processLeaveNode(e))}function cZ(n){let e=[];return jz(n,e),e}function jz(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof U0?jz(i.players,e):e.push(i)}}function aZ(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function Az(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var gc=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ag(e.body,t,i),this._timelineEngine=new Sg(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,c=this._triggerCache[o];if(!c){let a=[],u=[],d=Fz(this._driver,s,a,u);if(a.length)throw aY(r,a);u.length&&void 0,c=KY(r,d,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(t,r,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=yz(i),c=r;this._timelineEngine.command(s,t,o,c)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,c]=yz(i);return this._timelineEngine.listen(o,t,c,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function lZ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=gg(e[0]),e.length>1&&(i=gg(e[e.length-1]))):e instanceof Map&&(t=gg(e)),t||i?new Dg(n,t,i):null}var Dg=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vr(this._element,this._initialStyles),this._endStyles&&(vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(M1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(M1(this._element,this._endStyles),this._endStyles=null),vr(this._element,this._initialStyles),this._state=3)}};function gg(n){let e=null;return n.forEach((t,i)=>{uZ(i)&&(e=e||new Map,e.set(i,t))}),e}function uZ(n){return n==="display"||n==="position"}var ju=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Fg(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Hu=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Tz(e,t)}getParentElement(e){return kg(e)}query(e,t,i){return Nz(e,t,i)}computeStyle(e,t,i){return Fg(e,t)}animate(e,t,i,r,s,o=[]){let c=r==0?"both":"forwards",a={duration:i,delay:r,fill:c};s&&(a.easing=s);let u=new Map,d=o.filter(g=>g instanceof ju);AY(i,r)&&d.forEach(g=>{g.currentSnapshot.forEach((y,x)=>u.set(x,y))});let h=IY(t).map(g=>new Map(g));h=DY(e,h,u);let m=lZ(e,h);return new ju(e,h,a,m)}};var Pu="@",Hz="@.disabled",$u=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Pu&&t==Hz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Tg=class extends $u{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Pu?t.charAt(1)=="."&&t==Hz?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Pu){let r=dZ(e),s=t.slice(1),o="";return s.charAt(0)!=Pu&&([s,o]=fZ(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{let a=c._data||-1;this.factory.scheduleListenerCallback(a,i,c)})}return this.delegate.listen(e,t,i)}};function dZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function fZ(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var qu=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(r);if(!d){let h=()=>u.delete(r);d=new $u(i,r,this.engine,h),u.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,o,e,u.name,u)};return t.data.animation.forEach(c),new Tg(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var pZ=(()=>{class n extends gc{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(k(Ie),k(w1),k(x1))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function mZ(){return new Ou}function gZ(n,e,t){return new qu(n,e,t)}var qz=[{provide:x1,useFactory:mZ},{provide:gc,useClass:pZ},{provide:As,useFactory:gZ,deps:[d3,gc,fe]}],$z=[{provide:w1,useFactory:()=>new Hu},{provide:hi,useValue:"BrowserAnimations"},...qz],_Z=[{provide:w1,useClass:Rg},{provide:hi,useValue:"NoopAnimations"},...qz],Wz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_Z:$z}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({providers:$z,imports:[JM]})}}return n})();function _c(n){return Array.isArray(n)?n:[n]}function Nt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function fs(n){return n instanceof Ge?n.nativeElement:n}var Gz=new Set,L1,yZ=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bZ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&vZ(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(k(zt),k(ua,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vZ(n,e){if(!Gz.has(n))try{L1||(L1=document.createElement("style"),e&&(L1.nonce=e),L1.setAttribute("type","text/css"),document.head.appendChild(L1)),L1.sheet&&(L1.sheet.insertRule(`@media ${n} {body{ }}`,0),Gz.add(n))}catch(t){console.error(t)}}function bZ(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Wu=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ne}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Kz(_c(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=Kz(_c(t)).map(o=>this._registerQuery(o).observable),s=si(r);return s=Ms(s.pipe(nn(1)),s.pipe(Qc(1),Z4(0))),s.pipe(ee(o=>{let c={matches:!1,breakpoints:{}};return o.forEach(({matches:a,query:u})=>{c.matches=c.matches||a,c.breakpoints[u]=a}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),s={observable:new ye(o=>{let c=a=>this._zone.run(()=>o.next(a));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(bo(i),ee(({matches:o})=>({query:t,matches:o})),bn(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static{this.\u0275fac=function(i){return new(i||n)(k(yZ),k(fe))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Kz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Qz={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Ug(n){return n.buttons===0||n.detail===0}function jg(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var MZ=new te("cdk-input-modality-detector-options"),wZ={ignoreKeys:[18,17,224,91,16]},Xz=650,yc=pc({passive:!0,capture:!0}),xZ=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Dt(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ki(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<Xz||(this._modality.next(Ug(o)?"keyboard":"mouse"),this._mostRecentTarget=ki(o))},this._onTouchstart=o=>{if(jg(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ki(o)},this._options=N(N({},wZ),s),this.modalityDetected=this._modality.pipe(Qc(1)),this.modalityChanged=this.modalityDetected.pipe(Gc()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,yc),r.addEventListener("mousedown",this._onMousedown,yc),r.addEventListener("touchstart",this._onTouchstart,yc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yc),document.removeEventListener("mousedown",this._onMousedown,yc),document.removeEventListener("touchstart",this._onTouchstart,yc))}static{this.\u0275fac=function(i){return new(i||n)(k(zt),k(fe),k(Ie),k(MZ,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LZ=new te("liveAnnouncerElement",{providedIn:"root",factory:EZ});function EZ(){return null}var IZ=new te("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),SZ=0,Jz=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){let r=this._defaultOptions,s,o;return i.length===1&&typeof i[0]=="number"?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),o==null&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${SZ++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],o=s.getAttribute("aria-owns");o?o.indexOf(t)===-1&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static{this.\u0275fac=function(i){return new(i||n)(k(LZ,8),k(fe),k(Ie),k(IZ,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zZ=new te("cdk-focus-monitor-default-options"),Gu=pc({passive:!0,capture:!0}),eA=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne,this._rootNodeFocusAndBlurListener=c=>{let a=ki(c);for(let u=a;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){let r=fs(t);if(!this._platform.isBrowser||r.nodeType!==1)return se();let s=pz(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;let c={checkChildren:i,subject:new Ne,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let i=fs(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let s=fs(t),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([c,a])=>this._originChanged(c,i,a)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===1||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===0){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Xz:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),s=ki(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gu)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(k(fe),k(zt),k(xZ),k(Ie,8),k(zZ,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yz="cdk-high-contrast-black-on-white",Zz="cdk-high-contrast-white-on-black",Bg="cdk-high-contrast-active",tA=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=U(Wu).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Bg,Yz,Zz),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===1?t.add(Bg,Yz):i===2&&t.add(Bg,Zz)}}static{this.\u0275fac=function(i){return new(i||n)(k(zt),k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var AZ=new te("cdk-dir-doc",{providedIn:"root",factory:DZ});function DZ(){return U(Ie)}var TZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function NZ(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?TZ.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var iA=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new je,t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=NZ(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(k(AZ,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ao=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})();function RZ(){return!0}var OZ=new te("mat-sanity-checks",{providedIn:"root",factory:RZ}),lo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return B0()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||n)(k(tA),k(OZ,8),k(Ie))}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({imports:[ao,ao]})}}return n})();var qg=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},rA=pc({passive:!0,capture:!0}),Wg=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=ki(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){let s=this._events.get(t);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,rA)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let s=r.get(t);s&&(s.delete(i),s.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rA)))}},sA={enterDuration:225,exitDuration:150},FZ=800,oA=pc({passive:!0,capture:!0}),cA=["mousedown","touchstart"],aA=["mouseup","mouseleave","touchend","touchcancel"],Gg=class n{static{this._eventManager=new Wg}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fs(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=N(N({},sA),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let o=i.radius||VZ(e,t,r),c=e-r.left,a=t-r.top,u=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${c-o}px`,d.style.top=`${a-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),m=h.transitionProperty,g=h.transitionDuration,y=m==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,x=new qg(this,d,i,y);d.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let S=null;return!y&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>this._finishRippleTransition(x),V=()=>this._destroyRipple(x);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",V),S={onTransitionEnd:F,onTransitionCancel:V}}),this._activeRipples.set(x,S),(y||!u)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===2||e.state===3)return;let t=e.element,i=N(N({},sA),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=fs(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,cA.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aA.forEach(t=>{this._triggerElement.addEventListener(t,this,oA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){let t=Ug(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+FZ;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!jg(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(cA.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&aA.forEach(t=>e.removeEventListener(t,this,oA)))}};function VZ(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var fA=new te("mat-ripple-global-options"),BZ=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Gg(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:N(N(N({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,N(N({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,N(N({},this.rippleConfig),t))}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(fe),O(zt),O(fA,8),O(hi,8))}}static{this.\u0275dir=He({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Et("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),hA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({imports:[lo,lo]})}}return n})();var lA={capture:!0},uA=["focus","click","mouseenter","touchstart"],Hg="mat-ripple-loader-uninitialized",$g="mat-ripple-loader-class-name",dA="mat-ripple-loader-centered",Ku="mat-ripple-loader-disabled",pA=(()=>{class n{constructor(){this._document=U(Ie,{optional:!0}),this._animationMode=U(hi,{optional:!0}),this._globalRippleOptions=U(fA,{optional:!0}),this._platform=U(zt),this._ngZone=U(fe),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;let r=t.target.closest(`[${Hg}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(let t of uA)this._document?.addEventListener(t,this._onInteraction,lA)})}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);for(let i of uA)this._document?.removeEventListener(i,this._onInteraction,lA)}configureRipple(t,i){t.setAttribute(Hg,""),(i.className||!t.hasAttribute($g))&&t.setAttribute($g,i.className||""),i.centered&&t.setAttribute(dA,""),i.disabled&&t.setAttribute(Ku,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){let r=this._hosts.get(t);if(r){r.disabled=i;return}i?t.setAttribute(Ku,""):t.removeAttribute(Ku)}_createRipple(t){if(!this._document)return;let i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute($g)),t.append(r);let s=new BZ(new Ge(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(dA),s.disabled=t.hasAttribute(Ku),this.attachRipple(t,s),s}attachRipple(t,i){t.removeAttribute(Hg),this._hosts.set(t,i)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var UZ=["mat-button",""],jZ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],HZ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var $Z=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],qZ=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=U(eA),this._rippleLoader=U(pA),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let o=this._elementRef.nativeElement,c=o.classList;for(let{attribute:a,mdcClasses:u}of $Z)o.hasAttribute(a)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){pf()}}static{this.\u0275dir=He({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",xn],disabled:[2,"disabled","disabled",xn]},features:[Or]})}}return n})();var mA=(()=>{class n extends qZ{constructor(t,i,r,s){super(t,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(zt),O(fe),O(hi,8))}}static{this.\u0275cmp=pe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){i&2&&(Qt("disabled",r.disabled||null),yM(r.color?"mat-"+r.color:""),Et("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ut],attrs:UZ,ngContentSelectors:HZ,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(p2(jZ),J(0,"span",0),Rs(1),E(2,"span",1),Rs(3,1),z(),Rs(4,2),J(5,"span",2)(6,"span",3)),i&2&&Et("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var Kg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({imports:[lo,hA,lo]})}}return n})();var K0=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},vc=class extends K0{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},bc=class extends K0{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Qg=class extends K0{constructor(e){super(),this.element=e instanceof Ge?e.nativeElement:e}},Cc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof vc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof bc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Qg)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Qu=class extends Cc{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let c=o.element;c.parentNode;let a=this._document.createComment("dom-portal");c.parentNode.insertBefore(a,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(c,a)})},this._document=s}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||vt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Yu=(()=>{class n extends Cc{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new je,this.attachDomPortal=s=>{this._document;let o=s.element;o.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(O(Gi),O(Si),O(Ie))}}static{this.\u0275dir=He({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ut]})}}return n})();var Q0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})();var KZ=20,_A=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ne,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=KZ){return this._platform.isBrowser?new ye(i=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(Y4(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):se()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Lt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=fs(i),s=t.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return oi(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(k(fe),k(zt),k(Ie,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QZ=20,Yg=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ne,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect(),o=-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,c=-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:o,left:c}}change(t=QZ){return t>0?this._change.pipe(Y4(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(k(zt),k(fe),k(Ie,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({})}}return n})(),Zg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({imports:[ao,gA,ao,gA]})}}return n})();var yA=hz(),Xg=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Nt(-this._previousScrollPosition.left),e.style.top=Nt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yA&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yA&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var Jg=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Lt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Zu=class{enable(){}disable(){}attach(){}};function e_(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,s=n.right<t.left,o=n.left>t.right;return i||r||s||o})}function vA(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,s=n.left<t.left,o=n.right>t.right;return i||r||s||o})}var t_=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();e_(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ZZ=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Zu,this.close=o=>new Jg(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Xg(this._viewportRuler,this._document),this.reposition=o=>new t_(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(k(_A),k(Yg),k(fe),k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Y0=class{constructor(e){if(this.scrollStrategy=new Zu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var n_=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var xA=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XZ=(()=>{class n extends xA{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{let s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){let c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(k(Ie),k(fe,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JZ=(()=>{class n extends xA{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ki(s)},this._clickListener=s=>{let o=ki(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let u=a.length-1;u>-1;u--){let d=a[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(c))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(k(Ie),k(zt),k(fe,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LA=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||B0()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let i=this._document.createElement("div");i.classList.add(t),B0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(k(Ie),k(zt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),i_=class{constructor(e,t,i,r,s,o,c,a,u,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=a,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Ne,this._attachments=new Ne,this._detachments=new Ne,this._locationChanges=Ye.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Ne,this._outsidePointerEvents=new Ne,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=N(N({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ae(N({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Nt(this._config.width),e.height=Nt(this._config.height),e.minWidth=Nt(this._config.minWidth),e.minHeight=Nt(this._config.minHeight),e.maxWidth=Nt(this._config.maxWidth),e.maxHeight=Nt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){let r=_c(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(bn($1(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},bA="cdk-overlay-connected-position-bounding-box",eX=/([A-Za-z%]+)$/,r_=class{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne,this._resizeSubscription=Ye.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(bA),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let c of this._preferredPositions){let a=this._getOriginPoint(e,r,c),u=this._getOverlayPoint(a,t,c),d=this._getOverlayFit(u,t,i,c);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,a);return}if(this._canFitWithFlexibleDimensions(d,u,i)){s.push({position:c,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,c)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:u,originPoint:a,position:c,overlayRect:t})}if(s.length){let c=null,a=-1;for(let u of s){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>a&&(a=d,c=u)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&E1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r=i.originX=="start"?o:c}t.left<0&&(r-=t.left);let s;return i.originY=="center"?s=e.top+e.height/2:s=i.originY=="top"?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let s;return i.overlayY=="center"?s=-t.height/2:s=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){let s=MA(t),{x:o,y:c}=e,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(o+=a),u&&(c+=u);let d=0-o,h=o+s.width-i.width,m=0-c,g=c+s.height-i.height,y=this._subtractOverflows(s.width,d,h),x=this._subtractOverflows(s.height,m,g),S=y*x;return{visibleArea:S,isCompletelyWithinViewport:s.width*s.height===S,fitsInViewportVertically:x===s.height,fitsInViewportHorizontally:y==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,s=i.right-t.x,o=CA(this._overlayRef.getConfig().minHeight),c=CA(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportVertically||o!=null&&o<=r,u=e.fitsInViewportHorizontally||c!=null&&c<=s;return a&&u}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=MA(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),c=Math.max(e.y+r.height-s.height,0),a=Math.max(s.top-i.top-e.y,0),u=Math.max(s.left-i.left-e.x,0),d=0,h=0;return r.width<=s.width?d=u||-o:d=e.x<this._viewportMargin?s.left-i.left-e.x:0,r.height<=s.height?h=a||-c:h=e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:d,y:h},{x:e.x+d,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){let i=this._getScrollVisibility(),r=new n_(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),s,o,c;if(t.overlayY==="top")o=e.y,s=i.height-o+this._viewportMargin;else if(t.overlayY==="bottom")c=i.height-e.y+this._viewportMargin*2,s=i.height-c+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),y=this._lastBoundingBoxSize.height;s=g*2,o=e.y-g,s>y&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-y/2)}let a=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,u=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,d,h,m;if(u)m=i.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if(a)h=e.x,d=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),y=this._lastBoundingBoxSize.width;d=g*2,h=e.x-g,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-y/2)}return{top:o,left:h,bottom:c,right:m,width:d,height:s}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Nt(i.height),r.top=Nt(i.top),r.bottom=Nt(i.bottom),r.width=Nt(i.width),r.left=Nt(i.left),r.right=Nt(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=Nt(s)),o&&(r.maxWidth=Nt(o))}this._lastBoundingBoxSize=i,E1(this._boundingBox.style,r)}_resetBoundingBoxStyles(){E1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){E1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();E1(i,this._getExactOverlayY(t,e,d)),E1(i,this._getExactOverlayX(t,e,d))}else i.position="static";let c="",a=this._getOffset(t,"x"),u=this._getOffset(t,"y");a&&(c+=`translateX(${a}px) `),u&&(c+=`translateY(${u}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=Nt(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Nt(o.maxWidth):s&&(i.maxWidth="")),E1(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=Nt(s.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(s.x+this._overlayRect.width)}px`}else r.left=Nt(s.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vA(e,i),isOriginOutsideView:e_(e,i),isOverlayClipped:vA(t,i),isOverlayOutsideView:e_(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&_c(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ge)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function E1(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CA(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(eX);return!t||t==="px"?parseFloat(e):null}return n||null}function MA(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}var wA="cdk-global-overlay-wrapper",s_=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wA),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,a=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!c||c==="100%"||c==="100vh"),d=this._xPosition,h=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",y="",x="";a?x="flex-start":d==="center"?(x="center",m?y=h:g=h):m?d==="left"||d==="end"?(x="flex-end",g=h):(d==="right"||d==="start")&&(x="flex-start",y=h):d==="left"||d==="start"?(x="flex-start",g=h):(d==="right"||d==="end")&&(x="flex-end",y=h),e.position=this._cssPosition,e.marginLeft=a?"0":g,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=a?"0":y,t.justifyContent=x,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(wA),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},tX=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new s_}flexibleConnectedTo(t){return new r_(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(k(Yg),k(Ie),k(zt),k(LA))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nX=0,Z0=(()=>{class n{constructor(t,i,r,s,o,c,a,u,d,h,m,g){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=a,this._document=u,this._directionality=d,this._location=h,this._outsideClickDispatcher=m,this._animationsModuleType=g}create(t){let i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Y0(t);return o.direction=o.direction||this._directionality.value,new i_(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${nX++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ji)),new Qu(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(k(ZZ),k(LA),k(Gi),k(tX),k(XZ),k(vt),k(fe),k(Ie),k(iA),k(Vo),k(JZ),k(hi,8))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var iX=new te("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=U(Z0);return()=>n.scrollStrategies.reposition()}});function rX(n){return()=>n.scrollStrategies.reposition()}var sX={provide:iX,deps:[Z0],useFactory:rX},EA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({providers:[Z0,sX],imports:[ao,Q0,Zg,Zg]})}}return n})();function cX(n,e){if(n&1){let t=Ee();E(0,"div",1)(1,"button",2),Y("click",function(){j(t);let r=P();return H(r.action())}),$(2),z()()}if(n&2){let t=P();R(2),Xi(" ",t.data.action," ")}}var aX=["label"];function lX(n,e){}var uX=Math.pow(2,31)-1,X0=class{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Ne,this._afterOpened=new Ne,this._onAction=new Ne,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,uX))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Xu=new te("MatSnackBarData"),Mc=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},dX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return n})(),fX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return n})(),hX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=He({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return n})(),IA=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||n)(O(X0),O(Xu))}}static{this.\u0275cmp=pe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[ve],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(E(0,"div",0),$(1),z(),he(2,cX,3,1,"div",1)),i&2&&(R(),Xi(" ",r.data.message,`
`),R(),_e(r.hasAction?2:-1))},dependencies:[Kg,mA,dX,fX,hX,mi],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})(),pX={snackBarState:mz("state",[lg("void, hidden",v1({transform:"scale(0.8)",opacity:0})),lg("visible",v1({transform:"scale(1)",opacity:1})),ug("* => visible",ag("150ms cubic-bezier(0, 0, 0.2, 1)")),ug("* => void, * => hidden",ag("75ms cubic-bezier(0.4, 0.0, 1, 1)",v1({opacity:0})))])},mX=0,SA=(()=>{class n extends Cc{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=U(Ie),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ne,this._onExit=new Ne,this._onEnter=new Ne,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${mX++}`,this.attachDomPortal=c=>{this._assertNotAttached();let a=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),a},o.politeness==="assertive"&&!o.announcementMessage?this._live="assertive":o.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){let{fromState:i,toState:r}=t;if((r==="void"&&i!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>t.classList.add(o)):t.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){let t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?o.indexOf(t)===-1&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let i=t.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||n)(O(fe),O(Ge),O(Kn),O(zt),O(Mc))}}static{this.\u0275cmp=pe({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(Os(Yu,7),Os(aX,7)),i&2){let s;Ur(s=jr())&&(r._portalOutlet=s.first),Ur(s=jr())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){i&1&&Af("@state.done",function(o){return r.onAnimationEnd(o)}),i&2&&zf("@state",r._animationState)},standalone:!0,features:[Ut,ve],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(E(0,"div",1)(1,"div",2,0)(3,"div",3),he(4,lX,0,0,"ng-template",4),z(),J(5,"div"),z()()),i&2&&(R(5),Qt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Q0,Yu],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[pX.snackBarState]}})}}return n})();function gX(){return new Mc}var _X=new te("mat-snack-bar-default-options",{providedIn:"root",factory:gX}),o_=(()=>{class n{get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,o,c){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=c,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=IA,this.snackBarContainerComponent=SA,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){let s=N(N({},this._defaultConfig),r);return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,s=vt.create({parent:r||this._injector,providers:[{provide:Mc,useValue:i}]}),o=new vc(this.snackBarContainerComponent,i.viewContainerRef,s),c=t.attach(o);return c.instance.snackBarConfig=i,c.instance}_attach(t,i){let r=N(N(N({},new Mc),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),c=new X0(o,s);if(t instanceof Ei){let a=new bc(t,null,{$implicit:r.data,snackBarRef:c});c.instance=o.attachTemplatePortal(a)}else{let a=this._createInjector(r,c),u=new vc(t,void 0,a),d=o.attachComponentPortal(u);c.instance=d.instance}return this._breakpointObserver.observe(Qz.HandsetPortrait).pipe(bn(s.detachments())).subscribe(a=>{s.overlayElement.classList.toggle(this.handsetCssClass,a.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(c,r),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){let i=new Y0;i.direction=t.direction;let r=this._overlay.position().global(),s=t.direction==="rtl",o=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!s||t.horizontalPosition==="end"&&s,c=!o&&t.horizontalPosition!=="center";return o?r.left("0"):c?r.right("0"):r.centerHorizontally(),t.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector;return vt.create({parent:r||this._injector,providers:[{provide:X0,useValue:i},{provide:Xu,useValue:t.data}]})}static{this.\u0275fac=function(i){return new(i||n)(k(Z0),k(Jz),k(vt),k(Wu),k(n,12),k(_X))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Ze({providers:[o_],imports:[EA,Q0,Kg,lo,IA,SA,lo]})}}return n})();var Ju=class n{constructor(e){this.data=e}static \u0275fac=function(t){return new(t||n)(O(Xu))};static \u0275cmp=pe({type:n,selectors:[["app-error"]],standalone:!0,features:[ve],decls:5,vars:1,consts:[[1,"error-container"],[1,"error-icon"],[1,"error-message"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"span",1),$(2,"\u26A0\uFE0F"),z(),E(3,"span",2),$(4),z()()),t&2&&(R(4),cn(i.data))},dependencies:[mi,zA],styles:[".error-container[_ngcontent-%COMP%]{display:flex;height:50px;width:100%;padding:0;align-items:center;justify-content:center;background-color:#f8d7da;color:#721c24;border-radius:4px;font-size:16px;font-weight:700;font-family:Arial,sans-serif}.error-icon[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px}.error-message[_ngcontent-%COMP%]{flex:1}"]})};var bi=class n{constructor(e){this.snackBar=e}showError(e){this.snackBar.openFromComponent(Ju,{data:e,duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}static \u0275fac=function(t){return new(t||n)(k(o_))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var $e=class n{constructor(e,t,i){this.auth=e;this.firestore=t;this.errorHandler=i}currentUserSubject=new Dt(null);register(e){let{email:t,username:i,password:r,img:s}=e;return Ae(cL(this.auth,t,r)).pipe(Pe(o=>{let c=o.user;return fL(c,{displayName:i,photoURL:s}).then(()=>{let a=qt(this.firestore,`users/${c.uid}`),u={uid:c.uid,email:c.email,displayName:i,photoURL:s,createdAt:new Date().toISOString(),savedPosts:[]};return CI(a,u)})}),yt(o=>{throw console.error("Error during registration:",o),new Error("Registration failed")}))}login(e,t){return Ae(uL(this.auth,e,t)).pipe(Pe(i=>{let r=i.user;return se({uid:r.uid,displayName:r.displayName||"No Name"})}),yt(i=>{throw console.error(i.code),new Error(i.code)}))}logout(){return Ae(dL(this.auth)).pipe(yt(e=>{throw console.error("Error during logout:",e),new Error("Logout failed")}))}getUser(){return new ye(e=>{lL(this.auth,t=>{t?this.getUserFromFirestore(t.uid).pipe(yt(i=>(console.error("Error fetching user from Firestore:",i),se(null)))).subscribe(i=>{this.currentUserSubject.next(i),e.next(i)}):(this.currentUserSubject.next(null),e.next(null))})})}getUserById(e){return new ye(t=>{this.getUserFromFirestore(e).pipe(yt(i=>(console.error("Error fetching user by ID:",i),se(null)))).subscribe(i=>{t.next(i),t.complete()})})}getUserFromFirestore(e){let t=qt(this.firestore,`users/${e}`);return nc(t,{idField:"uid"}).pipe(yt(i=>(console.error("Error fetching user from Firestore:",i),se(null))))}getUserByReference(e){return nc(e,{idField:"uid"}).pipe(yt(t=>(console.error("Error fetching user by reference:",t),se(null))))}savePost(e,t){let i=qt(this.firestore,`users/${e}`);return Ae(ru(i,{savedPosts:yI(t)})).pipe(yt(r=>{throw console.error("Error saving post:",r),new Error("Failed to save post")}))}unsavePost(e,t){let i=qt(this.firestore,`users/${e}`);return Ae(ru(i,{savedPosts:_I(t)})).pipe(yt(r=>{throw console.error("Error unsaving post:",r),new Error("Failed to unsave post")}))}updateProfile(e,t){let i=qt(this.firestore,`users/${e}`);return Ae(ru(i,t)).pipe(yt(r=>(console.error("Error updating profile:",r),Hn(()=>new Error("Failed to update profile")))))}static \u0275fac=function(t){return new(t||n)(k(Jo),k(cs),k(bi))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var RA="firebasestorage.googleapis.com",OA="storageBucket",vX=2*60*1e3,bX=10*60*1e3;var At=class n extends En{constructor(e,t,i=0){super(c_(e),`Firebase Storage: ${t} (${c_(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return c_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Pt||{});function c_(n){return"storage/"+n}function h_(){let n="An unknown error occurred, please check the error payload for server response.";return new At(Pt.UNKNOWN,n)}function CX(n){return new At(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function MX(n){return new At(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wX(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(Pt.UNAUTHENTICATED,n)}function xX(){return new At(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LX(n){return new At(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function EX(){return new At(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IX(){return new At(Pt.CANCELED,"User canceled the upload/download.")}function SX(n){return new At(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function zX(n){return new At(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function AX(){return new At(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OA+"' property when initializing the app?")}function DX(){return new At(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TX(){return new At(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NX(n){return new At(Pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function a_(n){return new At(Pt.INVALID_ARGUMENT,n)}function FA(){return new At(Pt.APP_DELETED,"The Firebase app was deleted.")}function PX(n){return new At(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function t4(n,e){return new At(Pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function e4(n){throw new At(Pt.INTERNAL_ERROR,"Internal error: "+n)}var Oi=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw zX(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),a={bucket:1,path:3};function u(X){X.path_=decodeURIComponent(X.path)}let d="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),y={bucket:1,path:3},x=t===RA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",F=new RegExp(`^https?://${x}/${r}/${S}`,"i"),q=[{regex:c,indices:a,postModify:s},{regex:g,indices:y,postModify:u},{regex:F,indices:{bucket:1,path:2},postModify:u}];for(let X=0;X<q.length;X++){let we=q[X],ce=we.regex.exec(e);if(ce){let w=ce[we.indices.bucket],v=ce[we.indices.path];v||(v=""),i=new n(w,v),we.postModify(i);break}}if(i==null)throw SX(e);return i}},l_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function kX(n,e,t){let i=1,r=null,s=null,o=!1,c=0;function a(){return c===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){r=setTimeout(()=>{r=null,n(g,a())},S)}function m(){s&&clearTimeout(s)}function g(S,...F){if(u){m();return}if(S){m(),d.call(null,S,...F);return}if(a()||o){m(),d.call(null,S,...F);return}i<64&&(i*=2);let q;c===1?(c=2,q=0):q=(i+Math.random())*1e3,h(q)}let y=!1;function x(S){y||(y=!0,m(),!u&&(r!==null?(S||(c=2),clearTimeout(r),h(0)):S||(c=1)))}return h(0),s=setTimeout(()=>{o=!0,x(!0)},t),x}function RX(n){n(!1)}function OX(n){return n!==void 0}function FX(n){return typeof n=="object"&&!Array.isArray(n)}function p_(n){return typeof n=="string"||n instanceof String}function AA(n){return m_()&&n instanceof Blob}function m_(){return typeof Blob<"u"}function DA(n,e,t,i){if(i<e)throw a_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw a_(`Invalid value for '${n}'. Expected ${t} or less.`)}function g_(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function VA(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var xc=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(xc||{});function VX(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}var u_=class{constructor(e,t,i,r,s,o,c,a,u,d,h,m=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new wc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let a=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===xc.NO_ERROR,a=s.getStatus();if(!c||VX(a,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===xc.ABORT;i(!1,new wc(!1,null,d));return}let u=this.successCodes_.indexOf(a)!==-1;i(!0,new wc(u,s))})},t=(i,r)=>{let s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());OX(a)?s(a):s()}catch(a){o(a)}else if(c!==null){let a=h_();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(r.canceled){let a=this.appDelete_?FA():IX();o(a)}else{let a=EX();o(a)}};this.canceled_?t(!1,new wc(!1,null,!0)):this.backoffId_=kX(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},wc=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function BX(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function UX(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jX(n,e){e&&(n["X-Firebase-GMPID"]=e)}function HX(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $X(n,e,t,i,r,s,o=!0){let c=VA(n.urlParams),a=n.url+c,u=Object.assign({},n.headers);return jX(u,e),BX(u,t),UX(u,s),HX(u,i),new u_(a,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}function qX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WX(...n){let e=qX();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(m_())return new Blob(n);throw new At(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GX(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function KX(n){if(typeof atob>"u")throw NX("base-64");return atob(n)}var Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},n4=class{constructor(e,t){this.data=e,this.contentType=t||null}};function BA(n,e){switch(n){case Fi.RAW:return new n4(UA(e));case Fi.BASE64:case Fi.BASE64URL:return new n4(jA(n,e));case Fi.DATA_URL:return new n4(YX(e),ZX(e))}throw h_()}function UA(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=n.charCodeAt(++t);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function QX(n){let e;try{e=decodeURIComponent(n)}catch{throw t4(Fi.DATA_URL,"Malformed data URL.")}return UA(e)}function jA(n,e){switch(n){case Fi.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw t4(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw t4(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=KX(e)}catch(r){throw r.message.includes("polyfill")?r:t4(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var t8=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw t4(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=XX(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function YX(n){let e=new t8(n);return e.base64?jA(Fi.BASE64,e.rest):QX(e.rest)}function ZX(n){return new t8(n).contentType}function XX(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var n8=class n{constructor(e,t){let i=0,r="";AA(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(AA(this.data_)){let i=this.data_,r=GX(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(m_()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(WX.apply(null,t))}else{let t=e.map(o=>p_(o)?BA(Fi.RAW,o).data:o.data_),i=0;t.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return t.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new n(r,!0)}}uploadData(){return this.data_}};function HA(n){let e;try{e=JSON.parse(n)}catch{return null}return FX(e)?e:null}function JX(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function eJ(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function $A(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function tJ(n,e){return e}var Xt=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||tJ}},e8=null;function nJ(n){return!p_(n)||n.length<2?n:$A(n)}function qA(){if(e8)return e8;let n=[];n.push(new Xt("bucket")),n.push(new Xt("generation")),n.push(new Xt("metageneration")),n.push(new Xt("name","fullPath",!0));function e(s,o){return nJ(o)}let t=new Xt("name");t.xform=e,n.push(t);function i(s,o){return o!==void 0?Number(o):o}let r=new Xt("size");return r.xform=i,n.push(r),n.push(new Xt("timeCreated")),n.push(new Xt("updated")),n.push(new Xt("md5Hash",null,!0)),n.push(new Xt("cacheControl",null,!0)),n.push(new Xt("contentDisposition",null,!0)),n.push(new Xt("contentEncoding",null,!0)),n.push(new Xt("contentLanguage",null,!0)),n.push(new Xt("contentType",null,!0)),n.push(new Xt("metadata","customMetadata",!0)),e8=n,e8}function iJ(n,e){function t(){let i=n.bucket,r=n.fullPath,s=new Oi(i,r);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function rJ(n,e,t){let i={};i.type="file";let r=t.length;for(let s=0;s<r;s++){let o=t[s];i[o.local]=o.xform(i,e[o.server])}return iJ(i,n),i}function WA(n,e,t){let i=HA(e);return i===null?null:rJ(n,i,t)}function sJ(n,e,t,i){let r=HA(e);if(r===null||!p_(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let d=n.bucket,h=n.fullPath,m="/b/"+o(d)+"/o/"+o(h),g=g_(m,t,i),y=VA({alt:"media",token:u});return g+y})[0]}function oJ(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var i8=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function GA(n){if(!n)throw h_()}function cJ(n,e){function t(i,r){let s=WA(n,r,e);return GA(s!==null),s}return t}function aJ(n,e){function t(i,r){let s=WA(n,r,e);return GA(s!==null),sJ(s,r,n.host,n._protocol)}return t}function KA(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=xX():r=wX():t.getStatus()===402?r=MX(n.bucket):t.getStatus()===403?r=LX(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function lJ(n){let e=KA(n);function t(i,r){let s=e(i,r);return i.getStatus()===404&&(s=CX(n.path)),s.serverResponse=r.serverResponse,s}return t}function uJ(n,e,t){let i=e.fullServerUrl(),r=g_(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,c=new i8(r,s,aJ(n,t),o);return c.errorHandler=lJ(e),c}function dJ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function fJ(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=dJ(null,e)),i}function hJ(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let q="";for(let X=0;X<2;X++)q=q+Math.random().toString().slice(2);return q}let a=c();o["Content-Type"]="multipart/related; boundary="+a;let u=fJ(e,i,r),d=oJ(u,t),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+a+"--",g=n8.getBlob(h,i,m);if(g===null)throw DX();let y={name:u.fullPath},x=g_(s,n.host,n._protocol),S="POST",F=n.maxUploadRetryTime,V=new i8(x,S,cJ(n,t),F);return V.urlParams=y,V.headers=o,V.body=g.uploadData(),V.errorHandler=KA(e),V}var fue=256*1024;var TA=null,d_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw e4("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw e4("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw e4("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw e4("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw e4("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},f_=class extends d_{initXhr(){this.xhr_.responseType="text"}};function QA(){return TA?TA():new f_}var Lc=class n{constructor(e,t){this._service=e,t instanceof Oi?this._location=t:this._location=Oi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $A(this._location.path)}get storage(){return this._service}get parent(){let e=JX(this._location.path);if(e===null)return null;let t=new Oi(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw PX(e)}};function pJ(n,e,t){n._throwIfRoot("uploadBytes");let i=hJ(n.storage,n._location,qA(),new n8(e,!0),t);return n.storage.makeRequestWithTokens(i,QA).then(r=>({metadata:r,ref:n}))}function mJ(n,e,t=Fi.RAW,i){n._throwIfRoot("uploadString");let r=BA(t,e),s=Object.assign({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),pJ(n,r.data,s)}function gJ(n){n._throwIfRoot("getDownloadURL");let e=uJ(n.storage,n._location,qA());return n.storage.makeRequestWithTokens(e,QA).then(t=>{if(t===null)throw TX();return t})}function _J(n,e){let t=eJ(n._location.path,e),i=new Oi(n._location.bucket,t);return new Lc(n.storage,i)}function yJ(n){return/^[A-Za-z]+:\/\//.test(n)}function vJ(n,e){return new Lc(n,e)}function YA(n,e){if(n instanceof i4){let t=n;if(t._bucket==null)throw AX();let i=new Lc(t,t._bucket);return e!=null?YA(i,e):i}else return e!==void 0?_J(n,e):n}function bJ(n,e){if(e&&yJ(e)){if(n instanceof i4)return vJ(n,e);throw a_("To use ref(service, url), the first argument must be a Storage instance.")}else return YA(n,e)}function NA(n,e){let t=e?.[OA];return t==null?null:Oi.makeFromBucketSpec(t,n)}function CJ(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:T3(r,n.app.options.projectId))}var i4=class{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=RA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vX,this._maxUploadRetryTime=bX,this._requests=new Set,r!=null?this._bucket=Oi.makeFromBucketSpec(r,this._host):this._bucket=NA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=NA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lc(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new l_(FA());{let o=$X(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return b(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},PA="@firebase/storage",kA="0.13.2";var ZA="storage";function XA(n,e,t,i){return n=ct(n),mJ(n,e,t,i)}function JA(n){return n=ct(n),gJ(n)}function eD(n,e){return n=ct(n),bJ(n,e)}function tD(n=js(),e){n=ct(n);let i=qo(n,ZA).getImmediate({identifier:e}),r=D3("storage");return r&&MJ(i,...r),i}function MJ(n,e,t,i={}){CJ(n,e,t,i)}function wJ(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new i4(t,i,r,e,rr)}function xJ(){ir(new On(ZA,wJ,"PUBLIC").setMultipleInstances(!0)),It(PA,kA,""),It(PA,kA,"esm2017")}xJ();var Ft=class n{constructor(e,t){this.firestore=e;this.userService=t}getPosts(){let e=ic(this.firestore,"post"),t=iu(e,pm("createdAt","desc"),rm(100));return dm(t,{idField:"_id"}).pipe(ee(i=>i))}getPost(e){let t=qt(this.firestore,`post/${e}`);return nc(t,{idField:"_id"}).pipe(Lt(i=>i!==null))}uploadImageToFirebase(e){if(!e)return Hn(()=>new Error("No image provided"));try{let t=tD(),i=`images/${Date.now()}.png`,r=eD(t,i);return Ae(XA(r,e,"data_url")).pipe(Pe(()=>JA(r)),yt(s=>(console.error("Upload failed:",s),Hn(()=>new Error("Failed to upload image")))))}catch(t){return console.error("Image processing failed:",t),Hn(()=>new Error("Failed to process image"))}}createPost(e,t,i){let r=ic(this.firestore,"post"),s=qt(this.firestore,`users/${t}`),o=this.formatDate(new Date),c={content:e,creator:s,date:o,likes:[],createdAt:new Date,_id:"",uid:t,commentAmount:0};return i&&(c.img=i),Ae(fm(r,c)).pipe(ee(a=>ae(N({},c),{_id:a.id})))}updatePost(e,t,i){let r=qt(this.firestore,`post/${e}`),s={content:t};return i===null?Ae(os(r,{content:t,img:om()})):(i!==void 0&&(s.img=i),Ae(os(r,s)))}deletePost(e){let t=qt(this.firestore,`post/${e}`);return Ae(hm(t))}getPostsByUser(e){let t=ic(this.firestore,"post"),i=qt(this.firestore,`users/${e}`),r=iu(t,MI("creator","==",i));return new ye(s=>{vI(r).then(o=>{let c=o.docs.map(a=>{let u=a.data();return ae(N({},u),{_id:a.id})});s.next(c),s.complete()}).catch(o=>{console.error("Error fetching posts for user:",o),s.next([]),s.complete()})})}getPostById(e){let t=qt(this.firestore,`post/${e}`);return nc(t,{idField:"_id"}).pipe(nn(1),ee(i=>{if(!i)throw new Error("Post not found");return ae(N({},i),{_id:e})}),yt(i=>(console.error("Error fetching post:",i),Hn(()=>new Error("Failed to fetch post")))))}likePost(e,t){return this.getPostById(e).pipe(Pe(i=>{let r=qt(this.firestore,`post/${e}`);return(i?.likes||[]).includes(t)?Ae(os(r,{likes:tu(t)})):Ae(os(r,{likes:eu(t)}))}),yt(i=>{throw console.error("Error updating likes:",i),i}))}getSavedPosts(e){if(!e||e.length===0)return se([]);let t=e.map(i=>this.getPost(i).pipe(Lt(r=>r!==null),Pe(r=>this.userService.getUserByReference(r.creator).pipe(ee(s=>ae(N({},r),{creatorName:s.displayName,creatorPfp:s.photoURL,uid:s.uid}))))));return si(t).pipe(ee(i=>i.filter(r=>r!==null)))}addComment(e,t,i,r,s){let o=ic(this.firestore,`post/${e}/comments`),c=this.formatDate(new Date),a=qt(this.firestore,`users/${i}`),u={_id:"",content:t,creator:a,uid:i,createdAt:new Date,date:c};return Ae(fm(o,u)).pipe(Pe(d=>this.getComments(e).pipe(Ke(h=>{let m=h.length;this.updateCommentAmount(e,m).subscribe()}),ee(()=>ae(N({},u),{_id:d.id})))))}deleteComment(e,t){let i=qt(this.firestore,`post/${e}/comments/${t}`);return Ae(hm(i))}updateComment(e,t,i){let r=qt(this.firestore,`post/${e}/comments/${t}`);return Ae(os(r,{content:i}))}getComments(e){let t=ic(this.firestore,`post/${e}/comments`),i=iu(t,pm("createdAt","desc"));return dm(i,{idField:"_id"}).pipe(Pe(r=>{let s=r.map(o=>this.userService.getUserByReference(o.creator).pipe(ee(c=>ae(N({},o),{createdAt:o.createdAt.toDate(),_id:o._id||"",displayName:c.displayName||"Unknown User",userPfp:c.photoURL||""}))));return si(s)}),Ke(r=>{this.updateCommentAmount(e,r.length).subscribe()}))}formatDate(e){let t=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear().toString().slice(-2),s=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${t}.${i}.${r} at ${s}:${o}`}updateCommentAmount(e,t){let i=qt(this.firestore,`post/${e}`);return Ae(os(i,{commentAmount:t}))}static \u0275fac=function(t){return new(t||n)(k(cs),k($e))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var LJ=(n,e)=>({"image-icon-selected":n,"image-icon":e});function EJ(n,e){if(n&1&&(E(0,"div",6),$(1),z()),n&2){let t=P();R(),cn(t.errorMessage)}}function IJ(n,e){if(n&1){let t=Ee();E(0,"div",19)(1,"app-image-cropper",20),Y("imageCropped",function(r){j(t);let s=P();return H(s.onImageCropped(r))})("cropSaved",function(){j(t);let r=P();return H(r.onCropSaved())})("cropCancelled",function(){j(t);let r=P();return H(r.onCropCancelled())}),z()()}if(n&2){let t=P();R(),ie("imageChangedEvent",t.selectedFileEvent)}}var r8=class n{constructor(e,t,i){this.userService=e;this.postService=t;this.errorHandler=i}faImage=lc;faArrow=_u;faPlus=RS;faTimes=US;username="";userId="";userPfp="";errorMessage="";selectedImage=null;showCropper=!1;selectedFileEvent=null;ngOnInit(){this.userService.getUser().subscribe({next:e=>{this.username=e?.displayName||"",this.userId=e?.uid||"",this.userPfp=e?.photoURL||""},error:e=>{console.error("Failed to load user:",e),this.errorMessage="Failed to load user data"}})}onFileSelected(e){this.selectedFileEvent=e,this.showCropper=!0}onImageCropped(e){this.selectedImage=e}onCropSaved(){this.showCropper=!1}onCropCancelled(){this.selectedFileEvent=null,this.selectedImage=null,this.showCropper=!1}createPost(e){if(!e.valid||!this.userId){this.errorHandler.showError("Content is required!");return}let t=e.value.postContent;this.selectedImage?this.postService.uploadImageToFirebase(this.selectedImage).subscribe({next:i=>{this.submitPost(t,i)},error:i=>{console.error("Failed to upload image:",i),this.errorMessage="Failed to upload image: "+i.message}}):this.submitPost(t),e.resetForm(),this.selectedImage=null,this.selectedFileEvent=null}submitPost(e,t){this.postService.createPost(e,this.userId,t).subscribe({next:i=>{this.errorMessage="",this.showCropper=!1,this.selectedImage=null,this.selectedFileEvent=null},error:i=>{let r="Error occurred during post creation";if(i.code)switch(i.code){case"post/invalid-data":r="Invalid post data.";break;case"post/creation-failed":r="Post creation failed. Please try again.";break;default:r=i.message;break}this.errorHandler.showError(r)}})}removeSelectedFile(){this.selectedImage=null}static \u0275fac=function(t){return new(t||n)(O($e),O(Ft),O(bi))};static \u0275cmp=pe({type:n,selectors:[["app-create-post-aside"]],standalone:!0,features:[ve],decls:25,vars:12,consts:[["form","ngForm"],["postContent","ngModel"],["fileInput",""],["id","create-post"],[1,"cp-header"],[3,"icon"],[1,"error-message"],[1,"cp-body"],["id","cp-user"],[3,"uid","username","userPfp"],[1,"cp-form"],[3,"ngSubmit"],["name","postContent","ngModel","","id","postContent","cols","30","rows","10","required","","placeholder","Write here..."],[1,"cp-buttons"],["type","button",3,"click"],[1,"image-icon","icon-interactive",3,"ngClass","icon"],["type","submit"],[1,"arrow-icon","icon-interactive",3,"icon"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"cropper-modal"],[3,"imageCropped","cropSaved","cropCancelled","imageChangedEvent"]],template:function(t,i){if(t&1){let r=Ee();E(0,"aside")(1,"section",3)(2,"div",4),J(3,"fa-icon",5),E(4,"h3"),$(5,"Create Post"),z()(),he(6,EJ,2,1,"div",6),E(7,"div",7)(8,"div",8),J(9,"app-user-badge",9),z(),E(10,"div",10)(11,"form",11,0),Y("ngSubmit",function(){j(r);let o=bt(12);return H(i.createPost(o))}),E(13,"textarea",12,1),$(15,"          "),z(),E(16,"div",13)(17,"div")(18,"button",14),Y("click",function(){j(r);let o=bt(23);return H(o.click())}),J(19,"fa-icon",15),z()(),E(20,"button",16),J(21,"fa-icon",17),z()()()()()(),E(22,"input",18,2),Y("change",function(o){return j(r),H(i.onFileSelected(o))}),z(),he(24,IJ,2,1,"div",19),z()}t&2&&(R(3),ie("icon",i.faPlus),R(3),_e(i.errorMessage?6:-1),R(3),ie("uid",i.userId)("username",i.username)("userPfp",i.userPfp),R(10),ie("ngClass",i3(9,LJ,i.selectedImage,!i.selectedImage))("icon",i.faImage),R(2),ie("icon",i.faArrow),R(3),_e(i.showCropper?24:-1))},dependencies:[mi,_2,dn,_t,hn,Un,Bn,pn,Fn,Vn,An,zn,Sn,so],styles:["#create-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;position:fixed;top:30%;left:0;padding-left:50px;width:400px;background-color:#fff;border-radius:10px;z-index:1000;transition:all .3s ease}.cp-header[_ngcontent-%COMP%]{display:flex;align-items:center}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;padding:10px}#cp-user[_ngcontent-%COMP%]{margin:20px 0}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:60px;padding:17px 20px;box-sizing:border-box;border:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;border-radius:25px;background-color:#e3e3e3;font-size:16px;resize:none}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none}.cp-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:10px 0}.cp-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;transition:transform .2s ease}.cp-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.image-icon-selected[_ngcontent-%COMP%]{color:green}.cp-body[_ngcontent-%COMP%]{width:90%}@media (max-width: 1350px){#create-post[_ngcontent-%COMP%]{width:400px;padding-left:60px}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1250px){#create-post[_ngcontent-%COMP%]{width:300px;padding-left:60px}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 900px){#create-post[_ngcontent-%COMP%]{position:absolute;left:50%;top:0;transform:translate(-50%);width:400px;padding:20px;align-items:center;z-index:1}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){#create-post[_ngcontent-%COMP%]{position:absolute;left:50%;top:0;transform:translate(-50%);width:90%;padding:20px;align-items:center;z-index:1}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 320px){#create-post[_ngcontent-%COMP%]{width:100%;padding:10px}.cp-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.cp-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:12px}}"]})};var s8={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]};var o8={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]};var nD={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]};var SJ={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},c8=SJ;function zJ(n,e){n&1&&(E(0,"div",6),$(1,"Loading saved posts..."),z())}function AJ(n,e){n&1&&(E(0,"div",7),$(1,"No saved posts yet"),z())}function DJ(n,e){if(n&1&&J(0,"img",15),n&2){let t=P().$implicit;ie("src",t.img,Wn)}}function TJ(n,e){if(n&1){let t=Ee();E(0,"div",8)(1,"div",9)(2,"div",10),J(3,"app-user-badge",11),z(),E(4,"fa-icon",12),Y("click",function(){let r=j(t).$implicit,s=P(2);return H(s.unsavePost(r._id))}),z()(),E(5,"div",13)(6,"div",14),he(7,DJ,1,1,"img",15),E(8,"div",16),$(9),z()(),E(10,"div",17)(11,"span"),$(12),z()()()()}if(n&2){let t=e.$implicit,i=P(2);R(3),ie("username",t.creatorName||"")("userPfp",t.creatorPfp||"")("uid",t.uid||""),R(),ie("icon",i.faXmark),R(),zi("routerLink","/post/",t._id,""),R(2),_e(t.img?7:-1),R(2),Xi(" ",t.content," "),R(3),cn(t.date)}}function NJ(n,e){if(n&1&&Vr(0,TJ,13,9,"div",8,xM),n&2){let t=P();Br(t.savedPosts)}}var a8=class n{constructor(e,t){this.userService=e;this.postService=t}faBookmark=s8;faXmark=jS;savedPosts=[];isLoading=!0;currentUser=null;subscriptions=new Ye;ngOnInit(){let e=this.userService.getUser().pipe(Pe(t=>t?(this.currentUser={uid:t.uid,username:t.displayName||"Unknown User",userPfp:t.photoURL||"",savedPosts:t.savedPosts||[],displayName:t.displayName||void 0,photoURL:t.photoURL||void 0,email:t.email||void 0,createdAt:t.createdAt},this.postService.getSavedPosts(this.currentUser.savedPosts)):se([]))).subscribe({next:t=>{this.savedPosts=t,this.isLoading=!1},error:t=>{console.error("Error fetching saved posts:",t),this.isLoading=!1}});this.subscriptions.add(e)}unsavePost(e){if(!this.currentUser?.uid)return;let t=this.userService.unsavePost(this.currentUser.uid,e).subscribe({next:()=>{this.savedPosts=this.savedPosts.filter(i=>i._id!==e),this.currentUser&&(this.currentUser.savedPosts=this.currentUser.savedPosts.filter(i=>i!==e))},error:i=>console.error("Error unsaving post:",i)});this.subscriptions.add(t)}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(t){return new(t||n)(O($e),O(Ft))};static \u0275cmp=pe({type:n,selectors:[["app-saved-posts-aside"]],standalone:!0,features:[ve],decls:12,vars:5,consts:[["id","saved-posts"],["id","user-info",3,"uid","username","userPfp"],[1,"sv-posts"],[1,"sv-header"],[3,"icon"],[1,"sv-body"],[1,"loading"],[1,"no-posts"],[1,"post","sv-post"],[1,"upper-header"],["id","sv-user"],[3,"username","userPfp","uid"],[1,"icon-close","icon-interactive",3,"click","icon"],[3,"routerLink"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-text-content"],[1,"post-time"]],template:function(t,i){t&1&&(E(0,"aside")(1,"section",0),J(2,"app-user-badge",1),E(3,"div",2)(4,"div",3),J(5,"fa-icon",4),E(6,"h3"),$(7,"saved posts"),z()(),E(8,"div",5),he(9,zJ,2,0,"div",6)(10,AJ,2,0,"div",7)(11,NJ,2,0),z()()()()),t&2&&(R(2),ie("uid",(i.currentUser==null?null:i.currentUser.uid)||"")("username",(i.currentUser==null?null:i.currentUser.displayName)||"")("userPfp",(i.currentUser==null?null:i.currentUser.photoURL)||""),R(3),ie("icon",i.faBookmark),R(4),_e(i.isLoading?9:i.savedPosts.length===0?10:11))},dependencies:[dn,_t,hn,jt],styles:["#saved-posts[_ngcontent-%COMP%]{position:fixed;top:10%;right:0;width:450px;padding-right:10px;border-radius:10px;overflow-y:auto;max-height:80vh;background-color:#fff;transition:transform .3s ease,opacity .3s ease}#user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px 0;font-size:30px}#user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:20px}.sv-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px}.sv-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;padding:10px}.sv-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin-top:20px;overflow-y:scroll;scroll-behavior:smooth;height:400px}.sv-posts[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px}.sv-post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:45px;padding:20px;cursor:pointer;transition:background-color .1s ease}.sv-post[_ngcontent-%COMP%]:hover{background-color:#e3e3e3;border-radius:15px}.post-time[_ngcontent-%COMP%]{font-size:15px;color:#363540;text-align:right}.upper-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.post-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;border-radius:15px;margin-top:15px}.post-text-content[_ngcontent-%COMP%]{width:80%;margin-left:20px}.loading[_ngcontent-%COMP%], .no-posts[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666}.icon-close[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease}.icon-close[_ngcontent-%COMP%]:hover{color:#f44}@media (max-width: 1200px){#saved-posts[_ngcontent-%COMP%]{width:350px}#user-info[_ngcontent-%COMP%]{font-size:25px}#user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.sv-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}.post-text-content[_ngcontent-%COMP%]{width:75%}}@media (max-width: 900px){#saved-posts[_ngcontent-%COMP%]{width:100%;bottom:0;top:auto;transform:translateY(100%);opacity:0}#saved-posts.active[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}#saved-posts-toggle[_ngcontent-%COMP%]{display:block;position:fixed;bottom:10px;right:10px;z-index:1100;background-color:#4caf50;color:#fff;border:none;padding:10px 15px;border-radius:50%;box-shadow:0 4px 6px #0000001a;cursor:pointer}}@media (max-width: 480px){#user-info[_ngcontent-%COMP%]{font-size:20px}#user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}.post-text-content[_ngcontent-%COMP%]{width:70%}}"]})};var PJ=n=>({"no-ellipsis":n}),kJ=(n,e)=>({liked:n,changing:e}),RJ=n=>({saved:n});function OJ(n,e){if(n&1){let t=Ee();E(0,"fa-icon",10),Y("click",function(r){j(t);let s=P(2);return H(s.toggleOptionsMenu.emit({postId:s.post==null?null:s.post._id,event:r}))}),z()}if(n&2){let t=P(2);ie("icon",t.faEllipsisH)}}function FJ(n,e){if(n&1&&he(0,OJ,1,1,"fa-icon",9),n&2){let t=P();_e(t.showEllipsis?0:-1)}}function VJ(n,e){if(n&1){let t=Ee();E(0,"div",11)(1,"div",12),J(2,"fa-icon",13),$(3," Edit "),z(),E(4,"div",14),Y("click",function(){j(t);let r=P();return H(r.deletePost.emit(r.post==null?null:r.post._id))}),J(5,"fa-icon",13),$(6," Delete "),z()()}if(n&2){let t=P();Et("active",t.activePopupId===(t.post==null?null:t.post._id)),R(),zi("routerLink","/post/",t.post==null?null:t.post._id,"/edit"),R(),ie("icon",t.faPenToSquare),R(3),ie("icon",t.faTrash)}}function BJ(n,e){if(n&1&&J(0,"img",7),n&2){let t=P();ie("src",t.post==null?null:t.post.img,Wn)}}function UJ(n,e){n&1&&(E(0,"span",17),$(1,"\u2665"),z())}function jJ(n,e){n&1&&(E(0,"div",20),$(1,"Copied to clipboard!"),z())}function HJ(n,e){if(n&1){let t=Ee();E(0,"div",8)(1,"div")(2,"p",15),$(3),z(),E(4,"fa-icon",16),Y("click",function(){j(t);let r=P();return H(r.likePost.emit(r.post==null?null:r.post._id))}),z(),he(5,UJ,2,0,"span",17),z(),E(6,"div")(7,"p",18),$(8),z(),J(9,"fa-icon",19),z(),he(10,jJ,2,0,"div",20),E(11,"fa-icon",21),Y("click",function(){j(t);let r=P();return H(r.sharePost.emit(r.post==null?null:r.post._id))}),z(),E(12,"fa-icon",22),Y("click",function(){j(t);let r=P();return H(r.savePost.emit(r.post==null?null:r.post._id))}),z()()}if(n&2){let t=P();R(3),cn((t.post==null||t.post.likes==null?null:t.post.likes.length)||0),R(),ie("icon",t.isLiked(t.post)?t.faHeartSolid:t.faHeart)("ngClass",i3(12,kJ,t.isLiked(t.post),t.isLiked(t.post)!==t.prevLikedState)),R(),_e(t.likeBubbles[t.post==null?null:t.post._id]?5:-1),R(3),cn((t.post==null?null:t.post.commentAmount)||0),R(),zi("routerLink","/post/",t.post==null?null:t.post._id,""),ie("icon",t.faComment),R(),_e(t.showCopyPopup&&t.copiedPostId===(t.post==null?null:t.post._id)?10:-1),R(),ie("icon",t.faShare),R(),ie("icon",t.isSaved(t.post==null?null:t.post._id)?t.faBookmarkSolid:t.faBookmark)("ngClass",pa(15,RJ,t.isSaved(t.post==null?null:t.post._id)))}}var uo=class n{post=null;user=null;isAuthenticated=!1;likeBubbles={};prevLikedState=!1;prevSavedState=!1;showCopyPopup=!1;copiedPostId=null;activePopupId=null;showOptionsMenu=!1;showEllipsisMenu=!0;currentUserId;userProfile=!1;likePost=new je;savePost=new je;sharePost=new je;toggleOptionsMenu=new je;closeOptionsMenu=new je;deletePost=new je;faShare=VS;faComment=FS;faHeart=OS;faHeartSolid=nD;faBookmark=kS;faBookmarkSolid=s8;faEllipsisH=c8;faPenToSquare=gu;faTrash=ac;isCurrentUserAuthor(){return this.user?.uid===this.post?.uid}isLiked(e){return!this.isAuthenticated||!this.user?!1:e.likes?.includes(this.user.uid)??!1}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}onDeletePost(){this.post&&this.deletePost.emit(this.post._id)}get showEllipsis(){return this.showEllipsisMenu&&this.isAuthenticated&&this.userProfile&&this.post?.username===this.user?.username}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-post-box"]],inputs:{post:"post",user:"user",isAuthenticated:"isAuthenticated",likeBubbles:"likeBubbles",prevLikedState:"prevLikedState",prevSavedState:"prevSavedState",showCopyPopup:"showCopyPopup",copiedPostId:"copiedPostId",activePopupId:"activePopupId",showOptionsMenu:"showOptionsMenu",showEllipsisMenu:"showEllipsisMenu",currentUserId:"currentUserId",userProfile:"userProfile"},outputs:{likePost:"likePost",savePost:"savePost",sharePost:"sharePost",toggleOptionsMenu:"toggleOptionsMenu",closeOptionsMenu:"closeOptionsMenu",deletePost:"deletePost"},standalone:!0,features:[ve],decls:14,vars:12,consts:[[1,"post"],[1,"upper-header"],[3,"username","userPfp","uid"],[1,"post-time",3,"ngClass"],[1,"options-menu",3,"active"],[1,"post-box"],[1,"post-content"],["alt","Post Image",3,"src"],[1,"post-actions"],["id","faEllipsisH",1,"icon-interactive",3,"icon"],["id","faEllipsisH",1,"icon-interactive",3,"click","icon"],[1,"options-menu"],[1,"option-item",3,"routerLink"],[3,"icon"],[1,"option-item","delete",3,"click"],["id","likes"],[1,"heart-icon","icon-interactive",3,"click","icon","ngClass"],[1,"like-bubble"],["id","comments"],[1,"comment-icon","icon-interactive",3,"icon","routerLink"],[1,"copy-popup"],[1,"share-icon","icon-interactive",3,"click","icon"],[1,"bookmark-icon","icon-interactive",3,"click","icon","ngClass"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"div",1),J(2,"app-user-badge",2),E(3,"div",3)(4,"span"),$(5),z(),he(6,FJ,1,1)(7,VJ,7,6,"div",4),z()(),E(8,"div",5)(9,"div",6)(10,"p"),$(11),z(),he(12,BJ,1,1,"img",7),z(),he(13,HJ,13,17,"div",8),z()()),t&2&&(R(2),ie("username",(i.post==null?null:i.post.username)||"")("userPfp",(i.post==null?null:i.post.userPfp)||"")("uid",(i.post==null?null:i.post.uid)||""),R(),ie("ngClass",pa(10,PJ,!i.showEllipsis)),R(2),cn(i.post==null?null:i.post.date),R(),_e(i.isAuthenticated&&(i.post==null?null:i.post.username)===(i.user==null?null:i.user.username)&&i.isCurrentUserAuthor()?6:-1),R(),_e(i.activePopupId===(i.post==null?null:i.post._id)?7:-1),R(4),cn(i.post==null?null:i.post.content),R(),_e(i.post!=null&&i.post.img?12:-1),R(),_e(i.isAuthenticated?13:-1))},dependencies:[_t,hn,jt,dn,_2],styles:[".post[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px;background-color:#e3e3e3;border-radius:15px;margin-bottom:2rem}.upper-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.post-time[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;position:relative}.post-time[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-left:auto;font-size:.9rem;color:gray;white-space:nowrap}.post-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:1rem}.post-time.no-ellipsis[_ngcontent-%COMP%]{justify-content:flex-end}.post-time.no-ellipsis[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-left:0}.options-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:100%;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;min-width:150px;z-index:1000;opacity:0;visibility:hidden;transform:translateY(-10px) scale(.95);transition:all .2s cubic-bezier(.4,0,.2,1)}.options-menu.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0) scale(1)}.option-item[_ngcontent-%COMP%]{padding:.75rem 1rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;opacity:0;transform:translate(-10px)}.options-menu.active[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.options-menu.active[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:nth-child(1){transition-delay:.1s}.options-menu.active[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:nth-child(2){transition-delay:.15s}.option-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.option-item.delete[_ngcontent-%COMP%]:hover{color:#dc3545;background-color:#ffeaea}.post-content[_ngcontent-%COMP%]{margin:1.5rem 0}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:15px;margin-top:1rem}.post-box[_ngcontent-%COMP%]{margin:1rem 0;border-radius:15px;padding:0 1rem}.post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.heart-icon[_ngcontent-%COMP%]{transition:transform .3s ease-in-out,color .3s ease-in-out}#likes[_ngcontent-%COMP%], #comments[_ngcontent-%COMP%]{position:absolute;font-family:monospace;margin:0 0 0 30px}.liked[_ngcontent-%COMP%]{color:red;animation:_ngcontent-%COMP%_like-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_like-animation{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.like-bubble[_ngcontent-%COMP%]{position:absolute;color:red;font-size:1.25rem;pointer-events:none;animation:_ngcontent-%COMP%_float-to-likes .8s ease-out forwards}@keyframes _ngcontent-%COMP%_float-to-likes{0%{opacity:1;transform:translate(0) scale(1)}50%{opacity:.8;transform:translate(15px,-15px) scale(.8)}to{opacity:0;transform:translate(30px,-35px) scale(.5)}}.bookmark-icon[_ngcontent-%COMP%]{transition:color .2s ease;cursor:pointer;color:#262626}.bookmark-icon.saved[_ngcontent-%COMP%]{color:#f6d100;animation:_ngcontent-%COMP%_save-animation .4s ease-in-out}@keyframes _ngcontent-%COMP%_save-animation{0%{transform:scale(1) rotate(0)}25%{transform:scale(1.1) rotate(-10deg)}50%{transform:scale(1.2) rotate(10deg)}75%{transform:scale(1.1) rotate(-10deg)}to{transform:scale(1) rotate(0)}}.copy-popup[_ngcontent-%COMP%]{position:absolute;background:#009c60;color:#fff;padding:.5rem .75rem;border-radius:4px;right:1%;top:1%;font-size:.875rem;transform:translate(-50%);animation:_ngcontent-%COMP%_fadeInOut 2s ease-in-out;z-index:10001}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translate(-50%) translateY(10px)}15%{opacity:1;transform:translate(-50%) translateY(0)}85%{opacity:1;transform:translate(-50%) translateY(0)}to{opacity:0;transform:translate(-50%) translateY(-10px)}}@media (max-width: 1024px){.post[_ngcontent-%COMP%]{padding:15px}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px}.option-item[_ngcontent-%COMP%]{padding:10px}}@media (max-width: 480px){.post[_ngcontent-%COMP%]{padding:10px;margin-bottom:1.5rem}.post-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:8px}.copy-popup[_ngcontent-%COMP%]{font-size:.75rem}}"]})};var __=class{constructor(e,t){this._document=t;let i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let e=this._textarea,t=!1;try{if(e){let i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){let e=this._textarea;e&&(e.remove(),this._textarea=void 0)}},l8=(()=>{class n{constructor(t){this._document=t}copy(t){let i=this.beginCopy(t),r=i.copy();return i.destroy(),r}beginCopy(t){return new __(t,this._document)}static{this.\u0275fac=function(i){return new(i||n)(k(Ie))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $J=(n,e)=>e._id,qJ=n=>({"margin-top":n});function WJ(n,e){n&1&&(E(0,"div",1)(1,"p"),$(2,"Login to interact with posts"),z()())}function GJ(n,e){if(n&1){let t=Ee();E(0,"app-post-box",3),Y("likePost",function(r){j(t);let s=P();return H(s.likePost(r))})("savePost",function(r){j(t);let s=P();return H(s.savePost(r))})("sharePost",function(r){j(t);let s=P();return H(s.sharePost(r))}),z()}if(n&2){let t=e.$implicit,i=P();ie("post",t)("user",i.user)("isAuthenticated",i.isAuthenticated)("likeBubbles",i.likeBubbles)("prevLikedState",i.prevLikedState)("prevSavedState",i.prevSavedState)("showCopyPopup",i.showCopyPopup)("copiedPostId",i.copiedPostId)("showEllipsisMenu",!1)}}var u8=class n{constructor(e,t,i){this.postService=e;this.userService=t;this.clipboard=i}likeBubbles={};posts=[];user=null;prevLikedState=!1;prevSavedState=!1;showCopyPopup=!1;copiedPostId=null;isAuthenticated=!1;ngOnInit(){let e=this.postService.getPosts().pipe(Pe(i=>{let r=i.map(s=>this.userService.getUserByReference(s.creator).pipe(ee(o=>ae(N({},s),{uid:o?.uid||"unknown",username:o?.displayName||"Unknown User",userPfp:o?.photoURL||"default-profile-pic-url",savedPosts:o?.savedPosts||[]}))));return si(r)})),t=this.userService.getUser().pipe(Ke(i=>{if(this.isAuthenticated=!!i,i){let r={uid:i.uid,username:i.displayName||"Unknown User",userPfp:i.photoURL||"",savedPosts:Array.isArray(i.savedPosts)?i.savedPosts:[],displayName:i.displayName||void 0,photoURL:i.photoURL||void 0,email:i.email||void 0};this.user=r}else this.user=null}));si([e,t]).subscribe({next:([i,r])=>{this.posts=i},error:i=>{console.error("Error loading data:",i),this.posts=[]}})}likePost(e){if(!this.isAuthenticated||!this.user)return;let t=this.posts.find(i=>i._id===e);t&&(this.prevLikedState=this.isLiked(t),this.prevLikedState||(this.likeBubbles[e]=!0),this.postService.likePost(e,this.user.uid).subscribe({next:()=>{this.prevLikedState?t.likes=t.likes.filter(i=>i!==this.user.uid):(t.likes=t.likes||[],t.likes.push(this.user.uid),setTimeout(()=>{this.likeBubbles[e]=!1},800))},error:i=>console.error("Error liking post:",i)}))}savePost(e){if(!this.isAuthenticated||!this.user)return;let t=this.isSaved(e);this.prevSavedState=t,(t?this.userService.unsavePost(this.user.uid,e):this.userService.savePost(this.user.uid,e)).subscribe({next:()=>{this.user&&(t?this.user.savedPosts=this.user.savedPosts.filter(r=>r!==e):this.user.savedPosts=[...this.user.savedPosts||[],e],this.posts=[...this.posts])},error:r=>console.error("Error saving/unsaving post:",r)})}isLiked(e){return!this.isAuthenticated||!this.user?!1:e.likes?.includes(this.user.uid)??!1}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}sharePost(e){let i=`${window.location.href.replace("/home","")}/post/${e}`;this.clipboard.copy(i),this.copiedPostId=e,this.showCopyPopup=!0,setTimeout(()=>{this.showCopyPopup=!1,this.copiedPostId=null},1e3)}static \u0275fac=function(t){return new(t||n)(O(Ft),O($e),O(l8))};static \u0275cmp=pe({type:n,selectors:[["app-post-flow"]],standalone:!0,features:[ve],decls:5,vars:4,consts:[["id","main-flow",3,"ngClass"],["routerLink","/login",1,"auth-prompt"],[3,"post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","showEllipsisMenu"],[3,"likePost","savePost","sharePost","post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","showEllipsisMenu"]],template:function(t,i){t&1&&(E(0,"main")(1,"section",0),he(2,WJ,3,0,"div",1),Vr(3,GJ,1,9,"app-post-box",2,$J),z()()),t&2&&(R(),ie("ngClass",pa(2,qJ,i.isAuthenticated)),R(),_e(i.isAuthenticated?-1:2),R(),Br(i.posts))},dependencies:[_t,uo,_2,jt],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;min-height:100vh;justify-content:center;padding:1rem;box-sizing:border-box;width:100%;flex-direction:column}.auth-prompt[_ngcontent-%COMP%]{font-family:Offside,sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#ec9100b7;padding:2%;border-radius:10px;color:#fff;font-size:20px;margin-bottom:20px;cursor:pointer;transition:.3s ease;height:100%;width:100%}.auth-prompt[_ngcontent-%COMP%]:hover{background-color:#ff9d00cc}#main-flow[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 1rem;margin-right:100px;width:500px;box-sizing:border-box}.margin-top[_ngcontent-%COMP%]{margin-top:50px}app-post-box[_ngcontent-%COMP%]{width:100%}@media (max-width: 1350px){#main-flow[_ngcontent-%COMP%]{margin-right:70px;width:400px}}@media (max-width: 900px){#main-flow[_ngcontent-%COMP%]{margin-right:0;padding:0 10px;width:400px}main[_ngcontent-%COMP%]{padding:0}.margin-top[_ngcontent-%COMP%]{margin-top:290px}}@media (max-width: 768px){#main-flow[_ngcontent-%COMP%]{margin-right:0;max-width:500px}.margin-top[_ngcontent-%COMP%]{margin-top:290px}}@media (max-width: 480px){#main-flow[_ngcontent-%COMP%]{margin-right:0;max-width:100%}.margin-top[_ngcontent-%COMP%]{margin-top:290px}}"]})};function KJ(n,e){n&1&&J(0,"app-create-post-aside")}function QJ(n,e){n&1&&J(0,"app-saved-posts-aside")}var d8=class n{constructor(e){this.userService=e}user=null;isAuthenticated=!1;subscription=new Ye;ngOnInit(){let e=this.userService.getUser().pipe(Ke(t=>{this.isAuthenticated=!!t,t?this.user={uid:t.uid,username:t.displayName||"Unknown User",userPfp:t.photoURL||"",savedPosts:Array.isArray(t.savedPosts)?t.savedPosts:[],displayName:t.displayName||void 0,photoURL:t.photoURL||void 0,email:t.email||void 0}:this.user=null})).subscribe();this.subscription.add(e)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(O($e))};static \u0275cmp=pe({type:n,selectors:[["app-home"]],standalone:!0,features:[ve],decls:4,vars:2,consts:[["id","home"]],template:function(t,i){t&1&&(E(0,"div",0),he(1,KJ,1,0,"app-create-post-aside"),J(2,"app-post-flow"),he(3,QJ,1,0,"app-saved-posts-aside"),z()),t&2&&(R(),_e(i.isAuthenticated?1:-1),R(2),_e(i.isAuthenticated?3:-1))},dependencies:[r8,a8,u8],styles:["#home[_ngcontent-%COMP%]{position:relative;top:8vh;display:flex;justify-content:space-around;min-height:90vh;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;width:100%}"]})};var f8=class n{constructor(e,t,i){this.userService=e;this.router=t;this.errorHandler=i}faUser=o8;regExp=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{1,}$");login(e){if(!e.valid){if(e.value.email===""){this.errorHandler.showError("Email is required");return}if(!e.value.email.match(this.regExp)){this.errorHandler.showError("Invalid email format");return}if(e.value.password===""){this.errorHandler.showError("Password is required");return}return}let t={email:e.value.email,password:e.value.password};this.userService.login(t.email,t.password).subscribe({next:()=>{this.router.navigate(["/home"])},error:i=>{let r="An unknown error occurred. Please try again later.";if(i.message)switch(i.message){case"auth/invalid-credential":r="Wrong email or password.";break;case"auth/user-disabled":r="The user account has been disabled.";break;case"auth/user-not-found":r="No user found with this email.";break;case"auth/wrong-password":r="Wrong password.";break;case"auth/email-already-in-use":r="The email address is already in use by another account.";break;case"auth/operation-not-allowed":r="Operation not allowed. Please contact support.";break;case"auth/weak-password":r="The password is too weak.";break;case"auth/invalid-email":r="The email address is not valid.";break;default:r=i.message;break}this.errorHandler.showError(r)}})}static \u0275fac=function(t){return new(t||n)(O($e),O(ot),O(bi))};static \u0275cmp=pe({type:n,selectors:[["app-login"]],standalone:!0,features:[ve],decls:27,vars:1,consts:[["form","ngForm"],["email","ngModel"],["password","ngModel"],["id","login"],[1,"login-box"],[1,"login-header"],[3,"icon"],[1,"login-form"],[3,"ngSubmit"],[1,"input-box"],["for","email"],["type","email","name","email","id","email","placeholder","Email","required","","ngModel",""],["for","password"],["type","password","name","password","id","password","placeholder","Password","required","","ngModel",""],["id","register-call"],["routerLink","/register"],["type","submit","id","login-button"]],template:function(t,i){if(t&1){let r=Ee();E(0,"main")(1,"section",3)(2,"div",4)(3,"div",5),J(4,"fa-icon",6),E(5,"h1"),$(6,"Login"),z()(),E(7,"div",7)(8,"form",8,0),Y("ngSubmit",function(){j(r);let o=bt(9);return H(i.login(o))}),E(10,"div",9)(11,"label",10),$(12,"Email"),z(),J(13,"input",11,1),E(15,"label",12),$(16,"Password"),z(),J(17,"input",13,2),E(19,"p",14)(20,"i"),$(21,"Don't have an account yet?"),z(),E(22,"span")(23,"a",15),$(24,"Register now"),z()()(),E(25,"button",16),$(26,"Login"),z()()()()()()()}t&2&&(R(4),ie("icon",i.faUser))},dependencies:[jt,Un,Bn,pn,Fn,Vn,An,zn,Sn,_t,hn],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh;margin-top:60px}.login-header[_ngcontent-%COMP%]{position:relative;bottom:60px;display:flex;flex-direction:column;align-items:center}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500;font-family:Offside,sans-serif;color:#363540}.login-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding:20px 25px;margin-bottom:30px;border-radius:50%;border:#363540 3px solid;font-size:50px;background-color:#fff;color:#363540}.login-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:#363540 3px solid;border-radius:15px;margin-top:15px;width:25%;transition:.2s ease-in-out}.login-box[_ngcontent-%COMP%]:focus-within{box-shadow:10px 10px 15px #656375f3}.input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:40px;width:100%}.input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:10px 0}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0 10px 10px;padding:10px;border-radius:5px;border:1px solid #363540;outline:none}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #363540}.input-box[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:25px}.login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;width:100%}#register-call[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;margin-bottom:20px}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;font-family:Offside,sans-serif;color:#363540;text-decoration:none;margin-left:10px;transition:.1s ease-in-out}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9a9a9a}#login-button[_ngcontent-%COMP%]{background-color:#363540;color:#fff;border:none;padding:10px 50px;border-radius:5px;font-size:20px;font-weight:500;font-family:Offside,sans-serif;cursor:pointer;transition:.2s ease-in-out}#login-button[_ngcontent-%COMP%]:hover{background-color:#b5b5b5;color:#363540}.error-message[_ngcontent-%COMP%]{color:red;font-size:15px;font-weight:500;font-family:Offside,sans-serif;margin-top:10px}@media (max-width: 1200px){.login-box[_ngcontent-%COMP%]{width:35%}}@media (max-width: 992px){.login-box[_ngcontent-%COMP%]{width:50%}}@media (max-width: 768px){.login-box[_ngcontent-%COMP%]{width:70%}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.login-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:40px}#login-button[_ngcontent-%COMP%]{padding:10px 30px;font-size:18px}}@media (max-width: 576px){.login-box[_ngcontent-%COMP%]{width:90%}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px}.login-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:30px}#login-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}}"]})};var rD="https://cdn.pixabay.com/photo/2018/11/13/21/43/avatar-3814049_1280.png";var h8=class n{constructor(e,t,i){this.userService=e;this.router=t;this.errorHandler=i}faUser=o8;regExp=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{1,}$");register(e){if(!e.valid){if(e.value.username===""){this.errorHandler.showError("Username is required");return}if(e.value.email===""){this.errorHandler.showError("Email is required");return}if(!e.value.email.match(this.regExp)){this.errorHandler.showError("Email is invalid");return}if(e.value.password===""){this.errorHandler.showError("Password is required");return}if(e.value.password.length<6){this.errorHandler.showError("Password must be at least 6 characters long");return}e.value.rePassword===""&&this.errorHandler.showError("Please re-enter your password");return}if(e.value.password!==e.value.rePassword){this.errorHandler.showError("Passwords do not match");return}let t={username:e.value.username,email:e.value.email,password:e.value.password,img:rD,id:"",savedPosts:[]};this.userService.register(t).subscribe({next:()=>{this.router.navigate(["/home"])},error:i=>{let r="Error occurred during registration";if(i.code)switch(i.code){case"auth/email-already-in-use":r="The email address is already in use by another account.";break;case"auth/invalid-email":r="The email address is not valid.";break;case"auth/operation-not-allowed":r="Operation not allowed. Please contact support.";break;case"auth/weak-password":r="The password is too weak.";break;default:r=i.message;break}this.errorHandler.showError(r)}})}static \u0275fac=function(t){return new(t||n)(O($e),O(ot),O(bi))};static \u0275cmp=pe({type:n,selectors:[["app-register"]],standalone:!0,features:[ve],decls:35,vars:1,consts:[["form","ngForm"],["username","ngModel"],["email","ngModel"],["password","ngModel"],["rePassword","ngModel"],["id","register"],[1,"register-box"],[1,"register-header"],[3,"icon"],[1,"register-form"],[3,"ngSubmit"],[1,"input-box"],["for","username"],["type","text","name","username","id","username","placeholder","Username","required","","ngModel",""],["for","email"],["type","email","name","email","id","email","placeholder","Email","required","","email","","ngModel",""],["for","password"],["type","password","name","password","id","password","placeholder","Password","required","","ngModel",""],["for","rePassword"],["type","password","name","rePassword","id","rePassword","placeholder","Confirm Password","required","","ngModel",""],["id","login-call"],["routerLink","/login"],["type","submit","id","register-button"]],template:function(t,i){if(t&1){let r=Ee();E(0,"main")(1,"section",5)(2,"div",6)(3,"div",7),J(4,"fa-icon",8),E(5,"h1"),$(6,"Register"),z()(),E(7,"div",9)(8,"form",10,0),Y("ngSubmit",function(){j(r);let o=bt(9);return H(i.register(o))}),E(10,"div",11)(11,"label",12),$(12,"Username"),z(),J(13,"input",13,1),E(15,"label",14),$(16,"Email"),z(),J(17,"input",15,2),E(19,"label",16),$(20,"Password"),z(),J(21,"input",17,3),E(23,"label",18),$(24,"Confirm Password"),z(),J(25,"input",19,4),E(27,"p",20)(28,"i"),$(29,"Already have an account?"),z(),E(30,"span")(31,"a",21),$(32,"Login now"),z()()(),E(33,"button",22),$(34,"Register"),z()()()()()()()}t&2&&(R(4),ie("icon",i.faUser))},dependencies:[jt,Un,Bn,pn,Fn,Vn,An,ng,zn,Sn,_t,hn],styles:["#register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh}.register-header[_ngcontent-%COMP%]{position:relative;bottom:60px;display:flex;flex-direction:column;align-items:center}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500;font-family:Offside,sans-serif;color:#363540}.register-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding:20px 25px;margin-bottom:30px;border-radius:50%;border:#363540 3px solid;font-size:50px;background-color:#fff;color:#363540}.register-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:#363540 3px solid;border-radius:15px;margin-top:150px;width:25%;transition:.2s ease-in-out}.register-box[_ngcontent-%COMP%]:focus-within{box-shadow:10px 10px 15px #656375f3}.input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:40px;width:100%}.input-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:10px 0}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0 10px 10px;padding:10px;border-radius:5px;border:1px solid #363540;outline:none}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #363540}.input-box[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:25px}.register-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;width:100%}#login-call[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px;margin-bottom:20px}#login-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;font-family:Offside,sans-serif;color:#363540;text-decoration:none;margin-left:10px;transition:.1s ease-in-out}#register-call[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#9a9a9a}#register-button[_ngcontent-%COMP%]{background-color:#363540;color:#fff;border:none;padding:10px 50px;margin-top:5px;border-radius:5px;font-size:20px;font-weight:500;font-family:Offside,sans-serif;cursor:pointer;transition:.2s ease-in-out}#register-button[_ngcontent-%COMP%]:hover{background-color:#b5b5b5;color:#363540}.error-message[_ngcontent-%COMP%]{color:red;font-size:15px;font-weight:500;font-family:Offside,sans-serif;margin-top:10px}@media (max-width: 1300px){.register-box[_ngcontent-%COMP%]{width:35%}}@media (max-width: 992px){.register-box[_ngcontent-%COMP%]{width:50%}}@media (max-width: 768px){.register-box[_ngcontent-%COMP%]{width:70%}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.register-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:40px}#register-button[_ngcontent-%COMP%]{padding:10px 30px;font-size:18px}}@media (max-width: 576px){.register[_ngcontent-%COMP%]{height:fit-content}.register-box[_ngcontent-%COMP%]{width:90%;margin-top:250px}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px}.register-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:30px}#register-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}}"]})};var p8=class n{constructor(e,t){this.el=e;this.renderer=t}isActive=!1;ngOnInit(){this.updateStyles()}ngOnChanges(){this.updateStyles()}updateStyles(){this.isActive?this.renderer.setStyle(this.el.nativeElement,"background-color","#e3e3e3"):this.renderer.removeStyle(this.el.nativeElement,"background-color")}static \u0275fac=function(t){return new(t||n)(O(Ge),O(Rn))};static \u0275dir=He({type:n,selectors:[["","appFlowHighlight",""]],inputs:{isActive:[0,"appFlowHighlight","isActive"]},standalone:!0,features:[Bt]})};var sD=(n,e)=>e._id;function YJ(n,e){if(n&1&&(E(0,"button",3),$(1," edit "),z()),n&2){let t=P();zi("routerLink","/profile/",t.user==null?null:t.user.uid,"/edit")}}function ZJ(n,e){if(n&1){let t=Ee();E(0,"span",9),Y("click",function(){j(t);let r=P();return H(r.postSaved())}),$(1," saved "),z()}if(n&2){let t=P();ie("appFlowHighlight",t.flow==="saved")}}function XJ(n,e){n&1&&(E(0,"div",10),$(1,"Loading saved posts..."),z())}function JJ(n,e){n&1&&(E(0,"div",11)(1,"p"),$(2,"No posts yet"),z()())}function eee(n,e){if(n&1){let t=Ee();E(0,"app-post-box",14),Y("likePost",function(r){j(t);let s=P(3);return H(s.likePost(r))})("savePost",function(r){j(t);let s=P(3);return H(s.savePost(r))})("sharePost",function(r){j(t);let s=P(3);return H(s.sharePost(r))})("toggleOptionsMenu",function(r){j(t);let s=P(3);return H(s.toggleOptionsMenu(r.postId,r.event))})("closeOptionsMenu",function(){j(t);let r=P(3);return H(r.closeOptionsMenu())})("deletePost",function(r){j(t);let s=P(3);return H(s.deletePost(r))}),z()}if(n&2){let t=e.$implicit,i=P(3);ie("post",t)("user",i.user)("isAuthenticated",i.isAuthenticated)("likeBubbles",i.likeBubbles)("prevLikedState",i.prevLikedState)("prevSavedState",i.prevSavedState)("showCopyPopup",i.showCopyPopup)("copiedPostId",i.copiedPostId)("activePopupId",i.activePopupId)("showOptionsMenu",i.showOptionsMenu)("userProfile",i.userProfile)}}function tee(n,e){if(n&1&&(E(0,"div",12),Vr(1,eee,1,11,"app-post-box",13,sD),z()),n&2){let t=P(2);R(),Br(t.posts)}}function nee(n,e){if(n&1&&he(0,XJ,2,0,"div",10)(1,JJ,3,0,"div",11)(2,tee,3,0,"div",12),n&2){let t=P();_e(t.isLoading?0:t.posts.length===0?1:2)}}function iee(n,e){n&1&&(E(0,"div",10),$(1,"Loading saved posts..."),z())}function ree(n,e){n&1&&(E(0,"div",11)(1,"p"),$(2,"No saved posts yet"),z()())}function see(n,e){if(n&1){let t=Ee();E(0,"app-post-box",16),Y("likePost",function(r){j(t);let s=P(3);return H(s.likePost(r))})("savePost",function(r){j(t);let s=P(3);return H(s.savePost(r))})("sharePost",function(r){j(t);let s=P(3);return H(s.sharePost(r))})("toggleOptionsMenu",function(r){j(t);let s=P(3);return H(s.toggleOptionsMenu(r.postId,r.event))})("closeOptionsMenu",function(){j(t);let r=P(3);return H(r.closeOptionsMenu())})("deletePost",function(r){j(t);let s=P(3);return H(s.deletePost(r))}),z()}if(n&2){let t=e.$implicit,i=P(3);ie("post",t)("user",i.user)("isAuthenticated",i.isAuthenticated)("likeBubbles",i.likeBubbles)("prevLikedState",i.prevLikedState)("prevSavedState",i.prevSavedState)("showCopyPopup",i.showCopyPopup)("copiedPostId",i.copiedPostId)("activePopupId",i.activePopupId)("showOptionsMenu",i.showOptionsMenu)}}function oee(n,e){if(n&1&&(E(0,"div",12),Vr(1,see,1,10,"app-post-box",15,sD),z()),n&2){let t=P(2);R(),Br(t.posts)}}function cee(n,e){if(n&1&&(E(0,"div",8),he(1,iee,2,0,"div",10)(2,ree,3,0,"div",11)(3,oee,3,0,"div",12),z()),n&2){let t=P();R(),_e(t.isLoading?1:t.posts.length===0?2:3)}}var m8=class n{constructor(e,t,i,r,s){this.userService=e;this.postService=t;this.clipboard=i;this.route=r;this.cdr=s}activePopupId=null;showOptionsMenu=!1;userId;routeSub;likeBubbles={};posts=[];user=null;userPfp="";username="";isAuthenticated=!1;prevLikedState=!1;prevSavedState=!1;flow="posts";isLoading=!0;isEmpty=!1;userProfile=!1;subscription=new Ye;showCopyPopup=!1;copiedPostId=null;ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.userId=e.id,this.resetUserProfile(),this.resetFlow(),this.loadUserData()})}loadUserData(){let e=this.route.snapshot.paramMap.get("id");if(!e){console.error("User ID is null");return}let t=this.userService.getUserById(e).pipe(Ke(i=>{this.isAuthenticated=!!i,i?(this.user={uid:i.uid,username:i.displayName||"Unknown User",userPfp:i.photoURL||"",savedPosts:Array.isArray(i.savedPosts)?i.savedPosts:[]},this.username=this.user.username,this.userPfp=this.user.userPfp,this.userService.getUser().subscribe(r=>{this.user?.uid===r?.uid&&(this.userProfile=!0)})):(this.user=null,this.isEmpty=!0)}),Pe(i=>i?(this.isLoading=!0,this.isEmpty=!1,(this.flow==="posts"?this.postService.getPostsByUser(i.uid):this.postService.getSavedPosts(this.user?.savedPosts||[])).pipe(Pe(s=>{let o=s.map(c=>this.getUserData(c.uid).pipe(ee(a=>ae(N({},c),{username:a?.username||"Unknown User",userPfp:a?.userPfp||"",savedPosts:a?.savedPosts||[],userId:a?.uid||""}))));return o.length?Wc(o):se([])}))):se([])));this.subscription.add(t.subscribe({next:i=>{this.posts=i,this.isLoading=!1,this.isEmpty=i.length===0,this.cdr.detectChanges()},error:i=>{console.error("Error loading data:",i),this.posts=[],this.isLoading=!1,this.isEmpty=!0,this.cdr.detectChanges()}}))}postFlow(){this.flow="posts",this.loadUserData()}postSaved(){this.flow="saved",this.loadUserData()}likePost(e){if(!this.isAuthenticated||!this.user)return;let t=this.posts.find(i=>i._id===e);t&&(this.prevLikedState=this.isLiked(t),this.prevLikedState||(this.likeBubbles[e]=!0),this.postService.likePost(e,this.user.uid).subscribe({next:()=>{this.prevLikedState?t.likes=t.likes.filter(i=>i!==this.user.uid):(t.likes=t.likes||[],t.likes.push(this.user.uid),setTimeout(()=>{this.likeBubbles[e]=!1},800)),this.cdr.detectChanges()},error:i=>console.error("Error liking post:",i)}))}savePost(e){if(!this.isAuthenticated||!this.user)return;let t=this.isSaved(e);this.prevSavedState=t,(t?this.userService.unsavePost(this.user.uid,e):this.userService.savePost(this.user.uid,e)).subscribe({next:()=>{this.user&&(t?(this.user.savedPosts=this.user.savedPosts.filter(r=>r!==e),this.flow==="saved"&&(this.posts=this.posts.filter(r=>r._id!==e))):this.user.savedPosts=[...this.user.savedPosts||[],e],this.cdr.detectChanges())},error:r=>console.error("Error saving/unsaving post:",r)})}isLiked(e){return!this.isAuthenticated||!this.user?!1:e.likes?.includes(this.user.uid)??!1}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}sharePost(e){let i=`${window.location.href.replace(/\/profile\/.*$/,"")}/post/${e}`;this.clipboard.copy(i),this.copiedPostId=e,this.showCopyPopup=!0,setTimeout(()=>{this.showCopyPopup=!1,this.copiedPostId=null},1e3)}getUserData(e){return this.userService.getUserById(e).pipe(ee(t=>t?{uid:t.uid,username:t.displayName||"Unknown User",userPfp:t.photoURL||"",savedPosts:Array.isArray(t.savedPosts)?t.savedPosts:[]}:null))}onDocumentClick(e){let t=e.target;!t.closest(".options-menu")&&!t.closest("#faEllipsisH")&&this.closeOptionsMenu()}toggleOptionsMenu(e,t){t.stopPropagation(),this.activePopupId=this.activePopupId===e?null:e,this.cdr.detectChanges()}closeOptionsMenu(){this.activePopupId=null,this.cdr.detectChanges()}editPost(){this.closeOptionsMenu()}deletePost(e){this.postService.deletePost(e).subscribe({next:()=>{this.posts=this.posts.filter(t=>t._id!==e),this.closeOptionsMenu(),this.cdr.detectChanges()},error:t=>console.error("Error deleting post:",t)})}resetUserProfile(){this.userProfile=!1}resetFlow(){this.flow="posts"}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(O($e),O(Ft),O(l8),O(Ln),O(Kn))};static \u0275cmp=pe({type:n,selectors:[["app-profile"]],hostBindings:function(t,i){t&1&&Y("click",function(s){return i.onDocumentClick(s)},!1,Yl)},standalone:!0,features:[ve],decls:13,vars:6,consts:[[1,"profile-page"],[1,"profile-container"],["id","user-info-profile",3,"username","userPfp"],[1,"edit-profile",3,"routerLink"],[1,"flow-options"],["id","view-posts",3,"click","appFlowHighlight"],["id","view-saved",3,"appFlowHighlight"],[1,"profile-flow"],[1,"saved"],["id","view-saved",3,"click","appFlowHighlight"],[1,"loading"],[1,"no-posts"],[1,"flow"],["id","profile-post",3,"post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","activePopupId","showOptionsMenu","userProfile"],["id","profile-post",3,"likePost","savePost","sharePost","toggleOptionsMenu","closeOptionsMenu","deletePost","post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","activePopupId","showOptionsMenu","userProfile"],["id","profile-post",3,"post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","activePopupId","showOptionsMenu"],["id","profile-post",3,"likePost","savePost","sharePost","toggleOptionsMenu","closeOptionsMenu","deletePost","post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","activePopupId","showOptionsMenu"]],template:function(t,i){t&1&&(E(0,"main")(1,"div",0)(2,"div",1),J(3,"app-user-badge",2),he(4,YJ,2,2,"button",3),z(),E(5,"div",4)(6,"span",5),Y("click",function(){return i.postFlow()}),$(7," posts "),z(),he(8,ZJ,2,1,"span",6),z(),J(9,"hr"),E(10,"div",7),he(11,nee,3,1)(12,cee,4,1,"div",8),z()()()),t&2&&(R(3),ie("username",i.username)("userPfp",i.userPfp),R(),_e(i.userProfile?4:-1),R(2),ie("appFlowHighlight",i.flow==="posts"),R(2),_e(i.userProfile?8:-1),R(3),_e(i.flow==="posts"?11:12))},dependencies:[dn,_t,p8,jt,uo,mi],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center;min-height:100vh;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;padding:0 5%}.profile-page[_ngcontent-%COMP%]{margin-top:100px;width:600px;padding-top:50px;margin-bottom:0}.flow-options[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.flow-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:0;cursor:pointer;transition:ease .1s;font-family:Offside,sans-serif;padding:15px 0}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:40px}.edit-profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1px 15px;height:35px;width:10%;font-family:Roboto,sans-serif;font-size:14px;color:#fff;background-color:#007bff;border:1px solid;border-radius:5px;cursor:pointer;transition:all .3s}.edit-profile[_ngcontent-%COMP%]:hover{background-color:#0056b3}.profile-flow[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:20px}@media (max-width: 1200px){.profile-page[_ngcontent-%COMP%]{width:40%}}@media (max-width: 992px){.profile-page[_ngcontent-%COMP%]{width:60%}}@media (max-width: 768px){.profile-page[_ngcontent-%COMP%]{width:80%}.edit-profile[_ngcontent-%COMP%]{padding:1px 10px}}@media (max-width: 576px){.profile-page[_ngcontent-%COMP%]{width:100%}.edit-profile[_ngcontent-%COMP%]{padding:1px 5px}}"]})};var g8=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-error-page"]],standalone:!0,features:[ve],decls:10,vars:0,consts:[[1,"error-page"],[1,"logo"],[1,"error-code"],[1,"message"],["routerLink","/home",1,"home-button"]],template:function(t,i){t&1&&(E(0,"main")(1,"div",0)(2,"h1",1),$(3," Conneqt "),E(4,"span",2),$(5,"404"),z()(),E(6,"p",3),$(7,"Sorry, the page you are looking for does not exist."),z(),E(8,"button",4),$(9,"Back Home"),z()()())},dependencies:[jt],styles:["main[_ngcontent-%COMP%]{height:90vh;align-items:center;display:flex;justify-content:center}.error-page[_ngcontent-%COMP%]{text-align:center;font-family:Pacifico;color:#363540;margin-top:50px}.logo[_ngcontent-%COMP%]{font-size:150px;position:relative;display:inline-block}.error-code[_ngcontent-%COMP%]{font-size:50px;color:#ff9e5e;position:absolute;top:-20px;right:-50px;rotate:20deg}.message[_ngcontent-%COMP%]{font-family:cursive;color:#363540;font-size:1.2rem;margin:10px 0 30px}.error-image[_ngcontent-%COMP%]{width:200px;height:200px;margin:20px 0;background-color:#ff9e5e;display:block;border-radius:50%}.home-button[_ngcontent-%COMP%]{background-color:#ff9e5e;color:#363540;border:none;border-radius:8px;padding:10px 20px;font-size:1rem;cursor:pointer;font-family:Arial,sans-serif}.home-button[_ngcontent-%COMP%]:hover{background-color:#e8924d}"]})};var aee=(n,e)=>e._id;function lee(n,e){if(n&1){let t=Ee();E(0,"div",3),J(1,"app-user-badge",5),E(2,"form",6,0),Y("ngSubmit",function(){j(t);let r=bt(3),s=P(2);return H(s.comment(r))}),E(4,"textarea",7,1),$(6,"      "),z(),E(7,"div",8)(8,"button",9),J(9,"fa-icon",10),z()()()()}if(n&2){let t=P(2);R(),ie("username",(t.user==null?null:t.user.username)||"")("userPfp",(t.user==null?null:t.user.photoURL)||"")("uid",t.post.uid||""),R(8),ie("icon",t.faArrow)}}function uee(n,e){if(n&1){let t=Ee();E(0,"div",16)(1,"div",17),J(2,"fa-icon",18),$(3," Edit "),z(),E(4,"div",19),Y("click",function(){j(t);let r=P(2).$implicit,s=P(3);return H(s.deleteComment(s.post._id,r._id))}),J(5,"fa-icon",18),$(6," Delete "),z()()}if(n&2){let t=P(2).$implicit,i=P(3);Et("active",i.activePopupId===t._id),R(),Nf("routerLink","/post/",i.post._id,"/comment/",t._id,"/edit"),R(),ie("icon",i.faPenToSquare),R(3),ie("icon",i.faTrash)}}function dee(n,e){if(n&1){let t=Ee();E(0,"fa-icon",14),Y("click",function(r){j(t);let s=P().$implicit,o=P(3);return H(o.toggleOptionsMenu(s._id,r))}),z(),he(1,uee,7,7,"div",15)}if(n&2){let t=P().$implicit,i=P(3);ie("icon",i.faEllipsisH),R(),_e(i.activePopupId===t._id?1:-1)}}function fee(n,e){if(n&1&&(E(0,"div",11)(1,"div",12),J(2,"app-user-badge",5),he(3,dee,2,2),z(),E(4,"div",13)(5,"p"),$(6),z()()()),n&2){let t=e.$implicit,i=P(3);R(2),ie("username",t.displayName||"")("userPfp",t.userPfp||"")("uid",t.uid||""),R(),_e(i.isAuthenticated&&t.displayName===(i.user==null?null:i.user.username)?3:-1),R(3),cn(t.content)}}function hee(n,e){if(n&1&&(E(0,"div",4),Vr(1,fee,7,5,"div",11,aee),z()),n&2){let t=P(2);R(),Br(t.comments)}}function pee(n,e){if(n&1){let t=Ee();E(0,"app-post-box",2),Y("likePost",function(r){j(t);let s=P();return H(s.likePost(r))})("savePost",function(r){j(t);let s=P();return H(s.savePost(r))})("sharePost",function(r){j(t);let s=P();return H(s.sharePost(r))})("toggleOptionsMenu",function(r){j(t);let s=P();return H(s.toggleOptionsMenu(r.postId,r.event))})("closeOptionsMenu",function(){j(t);let r=P();return H(r.closeOptionsMenu())})("deletePost",function(r){j(t);let s=P();return H(s.deletePost(r))}),z(),J(1,"hr"),he(2,lee,10,4,"div",3)(3,hee,3,0,"div",4)}if(n&2){let t=P();ie("post",t.post)("user",t.user)("isAuthenticated",t.isAuthenticated)("likeBubbles",t.likeBubbles)("prevLikedState",t.prevLikedState)("prevSavedState",t.prevSavedState)("showCopyPopup",t.showCopyPopup)("copiedPostId",t.copiedPostId)("activePopupId",t.activePopupId)("showOptionsMenu",t.showOptionsMenu),R(2),_e(t.isAuthenticated?2:-1),R(),_e(t.comments?3:-1)}}var _8=class n{constructor(e,t,i,r){this.route=e;this.postService=t;this.userService=i;this.errorHandler=r}faArrow=_u;faEllipsisH=c8;faPenToSquare=gu;faTrash=ac;likeBubbles={};post=null;user=null;comments=[];prevLikedState=!1;prevSavedState=!1;showCopyPopup=!1;copiedPostId=null;activePopupId=null;showOptionsMenu=!1;isAuthenticated=!1;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");if(!e){console.error("Post ID is null or undefined");return}let t=this.postService.getPostById(e).pipe(Pe(r=>this.userService.getUserByReference(r.creator).pipe(ee(s=>ae(N({},r),{_id:r._id,username:s.displayName||"Unknown User",userPfp:s.photoURL||"",displayName:s.displayName,photoURL:s.photoURL,uid:s.uid,savedPosts:s.savedPosts||[]})))));this.userService.getUser().pipe(Ke(r=>{this.isAuthenticated=!!r,this.user=r?{uid:r.uid,username:r.displayName||"Unknown User",userPfp:r.photoURL||"",savedPosts:Array.isArray(r.savedPosts)?r.savedPosts:[],displayName:r.displayName||void 0,photoURL:r.photoURL||void 0,email:r.email||void 0}:null}),Pe(()=>t)).subscribe({next:r=>{this.post=r},error:r=>{console.error("Error loading data:",r),this.post=null}}),this.postService.getComments(e).subscribe({next:r=>{this.comments=r},error:r=>{console.error("Error loading comments:",r),this.comments=[]}})}likePost(e){if(!this.isAuthenticated||!this.user)return;let t=this.post;!t||!t.likes||(this.prevLikedState=this.isLiked(t),this.prevLikedState||(this.likeBubbles[e]=!0),this.postService.likePost(e,this.user.uid).subscribe({next:()=>{this.prevLikedState?t.likes=t.likes.filter(i=>i!==this.user.uid):(t.likes=t.likes||[],t.likes.push(this.user.uid),setTimeout(()=>{this.likeBubbles[e]=!1},800))},error:i=>console.error("Error liking post:",i)}))}savePost(e){if(!this.isAuthenticated||!this.user)return;let t=this.isSaved(e);this.prevSavedState=t,(t?this.userService.unsavePost(this.user.uid,e):this.userService.savePost(this.user.uid,e)).subscribe({next:()=>{this.user&&(t?this.user.savedPosts=this.user.savedPosts.filter(r=>r!==e):this.user.savedPosts=[...this.user.savedPosts||[],e])},error:r=>console.error("Error saving/unsaving post:",r)})}isLiked(e){return!this.isAuthenticated||!this.user||!e||!e.likes?!1:e.likes.includes(this.user.uid)}isSaved(e){return!this.isAuthenticated||!this.user?!1:this.user.savedPosts?.includes(e)??!1}deletePost(e){this.postService.deletePost(e).subscribe({next:()=>{this.post&&this.post._id===e&&(this.post=null),this.closeOptionsMenu()},error:t=>console.error("Error deleting post:",t)})}sharePost(e){let t=`${window.location.href}`;navigator.clipboard.writeText(t).then(()=>{this.copiedPostId=e,this.showCopyPopup=!0,setTimeout(()=>{this.showCopyPopup=!1,this.copiedPostId=null},2e3)}).catch(i=>{console.error("Failed to copy: ",i)})}comment(e){let t=this.post?._id,i=e.value.commentContent,r=this.user?.uid,s=this.user?.userPfp,o=this.user?.displayName;if(!t){console.error("Post ID is null or undefined");return}if(!this.isAuthenticated||!this.user){this.errorHandler.showError("Please login to comment");return}if(!r||!s){console.error("User ID or User Profile Picture is null or undefined");return}if(!i){this.errorHandler.showError("Comment content required");return}if(!o){console.error("Display Name is null or undefined");return}this.postService.addComment(t,i,r,o,s).subscribe({next:c=>{e.resetForm()},error:c=>this.errorHandler.showError(c)})}onDocumentClick(e){let t=e.target;!t.closest(".options-menu")&&!t.closest("#faEllipsisH")&&this.closeOptionsMenu()}toggleOptionsMenu(e,t){t.stopPropagation(),this.activePopupId=this.activePopupId===e?null:e}closeOptionsMenu(){this.activePopupId=null}deleteComment(e,t){this.postService.deleteComment(e,t).subscribe({next:()=>{this.comments=this.comments.filter(i=>i._id!==t),this.closeOptionsMenu()},error:i=>console.error("Error deleting comment:",i)})}static \u0275fac=function(t){return new(t||n)(O(Ln),O(Ft),O($e),O(bi))};static \u0275cmp=pe({type:n,selectors:[["app-details"]],hostBindings:function(t,i){t&1&&Y("click",function(s){return i.onDocumentClick(s)},!1,Yl)},standalone:!0,features:[ve],decls:2,vars:1,consts:[["form","ngForm"],["commentContent","ngModel"],["id","details-post",3,"likePost","savePost","sharePost","toggleOptionsMenu","closeOptionsMenu","deletePost","post","user","isAuthenticated","likeBubbles","prevLikedState","prevSavedState","showCopyPopup","copiedPostId","activePopupId","showOptionsMenu"],[1,"comment-form"],[1,"comments"],[3,"username","userPfp","uid"],[3,"ngSubmit"],["name","commentContent","ngModel","","id","commentContent","cols","30","rows","10","required","","placeholder","Your comment..."],[1,"comment-buttons"],["type","submit"],[1,"arrow-icon","icon-interactive",3,"icon"],[1,"comment"],[1,"comment-header"],[1,"comment-content"],["id","faEllipsisH",1,"icon-interactive",3,"click","icon"],[1,"options-menu",3,"active"],[1,"options-menu"],[1,"option-item",3,"routerLink"],[3,"icon"],[1,"option-item","delete",3,"click"]],template:function(t,i){t&1&&(E(0,"main"),he(1,pee,4,12),z()),t&2&&(R(),_e(i.post?1:-1))},dependencies:[dn,_t,hn,Un,Bn,pn,Fn,Vn,An,zn,Sn,jt,uo],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;min-height:100vh;height:fit-content;align-items:center;flex-direction:column;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;margin-top:100px}.comment-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:500px;margin-bottom:30px}.comment-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;margin-top:20px;width:100%}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:60px;padding:17px 20px;box-sizing:border-box;border:none;font-family:inherit;color:#363540;border-radius:25px;background-color:#e3e3e3;font-size:16px;resize:none}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px #0000001a}#details-post[_ngcontent-%COMP%]{width:500px}.comment-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:10px 0}.comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 20px;border:none;background-color:transparent;cursor:pointer}.arrow-icon[_ngcontent-%COMP%]{font-size:30px;transition:.2s ease}.arrow-icon[_ngcontent-%COMP%]:hover{color:#00f}hr[_ngcontent-%COMP%]{width:500px;margin:20px 0;border:1px solid #e3e3e3}.comments[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:30%;margin:40px 0;padding:20px 0}.comment[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;padding:20px;background-color:#e3e3e3;border-radius:15px}.comment-content[_ngcontent-%COMP%]{margin:5px 0}.comment-tooltip[_ngcontent-%COMP%]{position:absolute;background:#333;color:#fff;padding:8px 12px;border-radius:4px;font-size:14px;bottom:100%;left:50%;transform:translate(-50%);white-space:nowrap;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;position:relative}.comment-icon.active[_ngcontent-%COMP%]{color:#4caf50;transition:color .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(-50%) translateY(10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.options-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:25px;background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;min-width:150px;z-index:1000;opacity:0;visibility:hidden;transform-origin:top right;transform:scale(.95);transition:all .2s cubic-bezier(.4,0,.2,1)}.options-menu.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:scale(1)}.option-item[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s ease}.option-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.option-item.delete[_ngcontent-%COMP%]:hover{color:#dc3545;background-color:#ffeaea}#faEllipsisH[_ngcontent-%COMP%]{padding:8px;cursor:pointer}#faEllipsisH[_ngcontent-%COMP%]:hover{color:#666}@media (max-width: 1200px){.comment-form[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%], #details-post[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{width:400px}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px;height:40px;overflow:hidden}}@media (max-width: 768px){.comment-form[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{width:80%}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px;height:40px;overflow:hidden}}@media (max-width: 480px){.comment-form[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{width:95%}#details-post[_ngcontent-%COMP%]{width:350px}.comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:12px;height:40px;overflow:hidden}.options-menu[_ngcontent-%COMP%]{min-width:120px}.option-item[_ngcontent-%COMP%]{padding:10px 12px}}"]})};function mee(n,e){n&1&&(E(0,"div",11),$(1,"Content is required"),z())}function gee(n,e){if(n&1){let t=Ee();E(0,"div",16),J(1,"img",19),E(2,"div",20)(3,"button",21),Y("click",function(){j(t);let r=P(3);return H(r.removeImage())}),J(4,"fa-icon",22),$(5," Remove Image "),z(),E(6,"button",23),Y("click",function(){j(t),P();let r=bt(3);return H(r.click())}),J(7,"fa-icon",24),$(8),z()()()}if(n&2){let t=P(3);R(),ie("src",t.selectedImage||t.photo,Wn),R(3),ie("icon",t.faTrash),R(3),ie("icon",t.faImage),R(),Xi(" ",t.photo||t.selectedImage?"Change Image":"Add Image"," ")}}function _ee(n,e){if(n&1){let t=Ee();E(0,"div",18)(1,"app-image-cropper",25),Y("imageCropped",function(r){j(t);let s=P(3);return H(s.onImageCropped(r))})("cropSaved",function(){j(t);let r=P(3);return H(r.onCropSaved())})("cropCancelled",function(){j(t);let r=P(3);return H(r.onCropCancelled())}),z()()}if(n&2){let t=P(3);R(),ie("imageChangedEvent",t.selectedFileEvent)}}function yee(n,e){if(n&1){let t=Ee();E(0,"div",12),he(1,gee,9,4,"div",16),E(2,"input",17,2),Y("change",function(r){j(t);let s=P(2);return H(s.onFileSelected(r))}),z(),he(4,_ee,2,1,"div",18),z()}if(n&2){let t=P(2);R(),_e(t.photo||t.selectedImage?1:-1),R(3),_e(t.showCropper?4:-1)}}function vee(n,e){if(n&1){let t=Ee();E(0,"form",6,0),Y("ngSubmit",function(){j(t);let r=bt(1),s=P();return H(s.updatePost(r))}),E(2,"div",7),J(3,"app-user-badge",8),z(),E(4,"div",9)(5,"textarea",10,1),Ro("ngModelChange",function(r){j(t);let s=P();return m2(s.post.content,r)||(s.post.content=r),H(r)}),$(7,"        "),z(),he(8,mee,2,0,"div",11),z(),he(9,yee,5,2,"div",12),E(10,"div",13)(11,"button",14),$(12," Update Post "),z(),E(13,"button",15),Y("click",function(){j(t);let r=P();return H(r.cancel())}),$(14,"Cancel"),z()()()}if(n&2){let t=bt(1),i=bt(6),r=P();R(3),ie("username",r.user.username)("userPfp",r.user.userPfp)("uid",r.user.uid||""),R(2),ko("ngModel",r.post.content),R(3),_e(i.invalid&&(i.dirty||i.touched)?8:-1),R(),_e(r.post.img?9:-1),R(2),ie("disabled",t.invalid||r.isSubmitting)}}function bee(n,e){n&1&&(E(0,"div",5),$(1,"Loading post..."),z())}var y8=class n{constructor(e,t,i,r){this.route=e;this.router=t;this.postService=i;this.userService=r}post=null;user=null;isSubmitting=!1;faImage=lc;faTrash=ac;selectedImage=null;showCropper=!1;selectedFileEvent=null;photo=void 0;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");if(!e){console.error("No post ID provided"),this.router.navigate(["/"]);return}this.userService.getUser().pipe(Pe(i=>{if(!i)throw new Error("Not authenticated");return this.user={uid:i.uid,username:i.displayName||"Unknown User",userPfp:i.photoURL||"",savedPosts:Array.isArray(i.savedPosts)?i.savedPosts:[],displayName:i.displayName||void 0,photoURL:i.photoURL||void 0,email:i.email||void 0},this.postService.getPostById(e).pipe(Pe(r=>this.userService.getUserByReference(r.creator).pipe(ee(s=>ae(N({},r),{uid:s?.uid||"unknown",username:s?.displayName||"Unknown User",userPfp:s?.photoURL||"default-profile-pic-url"})))))})).subscribe({next:i=>{if(this.user?.uid!==i.uid){console.error("Not authorized to edit this post"),this.router.navigate(["/"]);return}this.post=i,this.photo=i.img},error:i=>{console.error("Error loading post:",i),this.router.navigate(["/"])}})}onFileSelected(e){this.selectedFileEvent=e,this.showCropper=!0}onImageCropped(e){this.selectedImage=e,this.photo=e}onCropSaved(){this.showCropper=!1}onCropCancelled(){this.selectedFileEvent=null,this.selectedImage=null,this.showCropper=!1}updatePost(e){if(!e.valid||!this.post?._id||!this.user)return;this.isSubmitting=!0;let t=this.selectedImage!==null?this.selectedImage:this.photo;t?.startsWith("data:image")?this.postService.uploadImageToFirebase(t).pipe(Pe(i=>this.postService.updatePost(this.post._id,e.value.content,i))).subscribe({next:()=>{this.router.navigate(["/post",this.post?._id])},error:i=>{console.error("Error updating post:",i),this.isSubmitting=!1}}):this.postService.updatePost(this.post._id,e.value.content,t||void 0).subscribe({next:()=>{this.router.navigate(["/profile"])},error:i=>{console.error("Error updating post:",i),this.isSubmitting=!1}})}removeImage(){this.photo=null,this.selectedImage=null}cancel(){this.post?._id?this.router.navigate(["/post",this.post._id]):this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(O(Ln),O(ot),O(Ft),O($e))};static \u0275cmp=pe({type:n,selectors:[["app-edit-post"]],standalone:!0,features:[ve],decls:6,vars:1,consts:[["editForm","ngForm"],["content","ngModel"],["fileInput",""],[1,"edit-container"],[1,"edit-page-caption"],[1,"loading"],[3,"ngSubmit"],[1,"form-header"],[3,"username","userPfp","uid"],[1,"form-content"],["name","content","required","","minlength","1",3,"ngModelChange","ngModel"],[1,"error"],[1,"img-container"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"],[1,"current-image"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"cropper-modal"],["alt","Post image",3,"src"],[1,"image-actions"],["type","button",1,"remove-image",3,"click"],[1,"trash-icon","icon-interactive",3,"icon"],["type","button",1,"change-image",3,"click"],[1,"image-icon","icon-interactive",3,"icon"],[3,"imageCropped","cropSaved","cropCancelled","imageChangedEvent"]],template:function(t,i){t&1&&(E(0,"main")(1,"div",3)(2,"h2",4),$(3,"Edit Page"),z(),he(4,vee,15,7,"form")(5,bee,2,0,"div",5),z()()),t&2&&(R(4),_e(i.post&&i.user?4:5))},dependencies:[_t,hn,Un,Bn,pn,Fn,Vn,An,m1,zn,Sn,dn,so],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;height:fit-content;align-items:center;justify-content:center;flex-direction:column;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;padding:1rem}.edit-page-caption[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;margin-bottom:1.25rem;font-family:Offside,sans-serif;text-align:center}.edit-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:2rem auto;padding:1.5rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-header[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;font-weight:500;text-align:center}.form-content[_ngcontent-%COMP%]{margin-bottom:1.25rem}textarea[_ngcontent-%COMP%]{width:100%;min-height:100px;padding:.75rem;border:1px solid #ddd;border-radius:4px;resize:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.img-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:flex-start;align-items:flex-end;margin:1.25rem 0}.current-image[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px}.current-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;object-fit:cover}.image-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}.remove-image[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:background .2s ease}.remove-image[_ngcontent-%COMP%]:hover{background:#b02b38}.change-image[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:background .2s ease}.change-image[_ngcontent-%COMP%]:hover{background:#0038a8}.icon-interactive[_ngcontent-%COMP%]{color:#fff}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:1.5rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:all .2s ease}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:#4caf50;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.error[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.5rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:1.25rem;color:#666;font-size:1rem}@media (max-width: 768px){.edit-page-caption[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.edit-container[_ngcontent-%COMP%]{padding:1rem}textarea[_ngcontent-%COMP%]{min-height:80px;padding:.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.img-container[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.edit-page-caption[_ngcontent-%COMP%]{font-size:1.75rem}textarea[_ngcontent-%COMP%]{min-height:70px}.current-image[_ngcontent-%COMP%]{max-width:100%}}"]})};function Cee(n,e){n&1&&(E(0,"div",9),$(1,"Content is required"),z())}function Mee(n,e){if(n&1){let t=Ee();E(0,"form",4,0),Y("ngSubmit",function(){j(t);let r=bt(1),s=P();return H(s.updateComment(r))}),E(2,"div",5)(3,"app-user-badge",6),$(4,` [uid]="user.uid || ''" `),z()(),E(5,"div",7)(6,"textarea",8,1),Ro("ngModelChange",function(r){j(t);let s=P();return m2(s.comment.content,r)||(s.comment.content=r),H(r)}),$(8,"        "),z(),he(9,Cee,2,0,"div",9),z(),E(10,"div",10)(11,"button",11),$(12," Update Comment "),z(),E(13,"button",12),Y("click",function(){j(t);let r=P();return H(r.cancel())}),$(14,"Cancel"),z()()()}if(n&2){let t=bt(1),i=bt(7),r=P();R(3),ie("username",r.user.username)("userPfp",r.user.userPfp),R(3),ko("ngModel",r.comment.content),R(3),_e(i.invalid&&(i.dirty||i.touched)?9:-1),R(2),ie("disabled",t.invalid||r.isSubmitting)}}function wee(n,e){n&1&&(E(0,"div",3),$(1,"Loading comment..."),z())}var v8=class n{constructor(e,t,i,r){this.route=e;this.router=t;this.postService=i;this.userService=r}comment=null;user=null;isSubmitting=!1;postId="";commentId="";ngOnInit(){if(this.postId=this.route.snapshot.paramMap.get("postId")||"",this.commentId=this.route.snapshot.paramMap.get("commentId")||"",!this.postId||!this.commentId){this.router.navigate(["/"]);return}this.userService.getUser().pipe(Ke(e=>{e&&(this.user={uid:e.uid,username:e.displayName||"Unknown User",userPfp:e.photoURL||"",savedPosts:[],displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,email:e.email||void 0})}),Pe(()=>this.postService.getComments(this.postId))).subscribe({next:e=>{this.comment=e.find(t=>t._id===this.commentId)||null,this.comment||this.router.navigate(["/post",this.postId])},error:e=>{console.error("Error loading comment:",e),this.router.navigate(["/post",this.postId])}})}updateComment(e){!e.valid||!this.comment||!this.postId||!this.commentId||(this.isSubmitting=!0,this.postService.updateComment(this.postId,this.commentId,e.value.content).subscribe({next:()=>{this.router.navigate(["/post",this.postId])},error:t=>{console.error("Error updating comment:",t),this.isSubmitting=!1}}))}cancel(){this.router.navigate(["/post",this.postId])}static \u0275fac=function(t){return new(t||n)(O(Ln),O(ot),O(Ft),O($e))};static \u0275cmp=pe({type:n,selectors:[["app-edit-comment"]],standalone:!0,features:[ve],decls:6,vars:1,consts:[["editForm","ngForm"],["content","ngModel"],[1,"edit-comment-container"],[1,"loading"],[3,"ngSubmit"],[1,"form-header"],[3,"username","userPfp"],[1,"form-content"],["name","content","required","","minlength","1",3,"ngModelChange","ngModel"],[1,"error"],[1,"form-actions"],["type","submit",3,"disabled"],["type","button",3,"click"]],template:function(t,i){t&1&&(E(0,"main")(1,"div",2)(2,"h2"),$(3,"Edit Comment"),z(),he(4,Mee,15,5,"form")(5,wee,2,0,"div",3),z()()),t&2&&(R(4),_e(i.comment&&i.user?4:5))},dependencies:[_t,Un,Bn,pn,Fn,Vn,An,m1,zn,Sn,dn],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;height:fit-content;align-items:center;justify-content:center;flex-direction:column;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540;min-height:100vh;padding:1rem}.edit-comment-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:2rem auto;padding:1.5rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;margin-bottom:1.25rem;font-family:Offside,sans-serif;text-align:center}.form-header[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;font-weight:500;text-align:center}.form-content[_ngcontent-%COMP%]{margin-bottom:1.25rem}textarea[_ngcontent-%COMP%]{width:100%;min-height:100px;padding:.75rem;border:1px solid #ddd;border-radius:4px;resize:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.form-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;justify-content:flex-end;margin-top:1rem}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:all .2s ease}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:#4caf50;color:#fff}.form-actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.form-actions[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.error[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.5rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:1.25rem;color:#666;font-size:1rem}@media (max-width: 768px){.edit-comment-container[_ngcontent-%COMP%]{padding:1rem}h2[_ngcontent-%COMP%]{font-size:2rem}textarea[_ngcontent-%COMP%]{min-height:80px;padding:.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}@media (max-width: 480px){h2[_ngcontent-%COMP%]{font-size:1.75rem}textarea[_ngcontent-%COMP%]{min-height:70px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function xee(n,e){if(n&1){let t=Ee();E(0,"app-image-cropper",17),Y("imageCropped",function(r){j(t);let s=P(2);return H(s.onImageCropped(r))})("cropSaved",function(){j(t);let r=P(2);return H(r.onCropSaved())})("cropCancelled",function(){j(t);let r=P(2);return H(r.onCropCancelled())}),z()}if(n&2){let t=P(2);ie("imageChangedEvent",t.selectedFileEvent)}}function Lee(n,e){n&1&&(E(0,"div",14),$(1,"Username must be at least 3 characters"),z())}function Eee(n,e){if(n&1){let t=Ee();E(0,"form",4,0),Y("ngSubmit",function(){j(t);let r=bt(1),s=P();return H(s.updateProfile(r))}),E(2,"div",5),J(3,"img",6),E(4,"button",7),Y("click",function(){j(t);let r=bt(8);return H(r.click())}),J(5,"fa-icon",8),$(6," Change Photo "),z(),E(7,"input",9,1),Y("change",function(r){j(t);let s=P();return H(s.onFileSelected(r))}),z()(),he(9,xee,1,1,"app-image-cropper",10),E(10,"div",11)(11,"label",12),$(12,"Username"),z(),E(13,"input",13,2),Ro("ngModelChange",function(r){j(t);let s=P();return m2(s.username,r)||(s.username=r),H(r)}),z(),he(15,Lee,2,0,"div",14),z(),E(16,"div",15)(17,"button",16),$(18," Save Changes "),z(),E(19,"button",7),Y("click",function(){j(t);let r=P();return H(r.cancel())}),$(20,"Cancel"),z()()()}if(n&2){let t=bt(1),i=bt(14),r=P();R(3),ie("src",r.selectedImage||r.user.userPfp,Wn),R(2),ie("icon",r.faImage),R(4),_e(r.showCropper?9:-1),R(4),ko("ngModel",r.username),R(2),_e(i.invalid&&(i.dirty||i.touched)?15:-1),R(2),ie("disabled",t.invalid||r.isSubmitting)}}var b8=class n{constructor(e,t){this.userService=e;this.router=t}user=null;username="";isSubmitting=!1;faImage=lc;selectedImage=null;showCropper=!1;selectedFileEvent=null;ngOnInit(){this.userService.getUser().subscribe(e=>{e?(this.user={uid:e.uid,username:e.displayName||"",userPfp:e.photoURL||"",savedPosts:[],displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,email:e.email||void 0},this.username=this.user.username):this.router.navigate(["/"])})}onFileSelected(e){this.selectedFileEvent=e,this.showCropper=!0}onImageCropped(e){this.selectedImage=e}onCropSaved(){this.showCropper=!1}onCropCancelled(){this.showCropper=!1,this.selectedImage=null,this.selectedFileEvent=null}updateProfile(e){if(!e.valid||!this.user)return;this.isSubmitting=!0;let t={};this.username!==this.user.username&&(t.displayName=this.username),this.selectedImage&&(t.photoURL=this.selectedImage),this.userService.updateProfile(this.user.uid,t).subscribe({next:()=>{this.router.navigate(["/profile",this.user?.uid])},error:i=>{console.error("Error updating profile:",i),this.isSubmitting=!1}})}cancel(){this.router.navigate(["/profile",this.user?.uid])}static \u0275fac=function(t){return new(t||n)(O($e),O(ot))};static \u0275cmp=pe({type:n,selectors:[["app-edit-profile"]],standalone:!0,features:[ve],decls:5,vars:1,consts:[["editForm","ngForm"],["fileInput",""],["usernameInput","ngModel"],[1,"edit-container"],[3,"ngSubmit"],[1,"profile-image"],["alt","Profile picture",3,"src"],["type","button",3,"click"],[3,"icon"],["type","file","accept","image/*",2,"display","none",3,"change"],[3,"imageChangedEvent"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","minlength","3",3,"ngModelChange","ngModel"],[1,"error"],[1,"form-actions"],["type","submit",3,"disabled"],[3,"imageCropped","cropSaved","cropCancelled","imageChangedEvent"]],template:function(t,i){t&1&&(E(0,"main")(1,"div",3)(2,"h2"),$(3,"Edit Profile"),z(),he(4,Eee,21,6,"form"),z()()),t&2&&(R(4),_e(i.user?4:-1))},dependencies:[Un,Bn,pn,Fn,Vn,An,m1,zn,Sn,_t,hn,so],styles:["main[_ngcontent-%COMP%]{display:flex;flex:1;height:100vh;align-items:center;justify-content:center;flex-direction:column;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#363540}.edit-container[_ngcontent-%COMP%]{width:600px;margin:20px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}h2[_ngcontent-%COMP%]{font-size:40px;font-weight:600;margin-bottom:20px;font-family:Offside,sans-serif;text-align:center}.profile-image[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;margin-bottom:10px}.profile-image[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;color:#007bff;cursor:pointer;display:flex;align-items:center;gap:8px;margin:0 auto}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;font-size:16px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:all .2s ease}button[type=submit][_ngcontent-%COMP%]{background:#4caf50;color:#fff}button[type=submit][_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}button[type=button][_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.error[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:5px}@media (max-width: 1200px){.edit-container[_ngcontent-%COMP%]{width:70%}}@media (max-width: 992px){.edit-container[_ngcontent-%COMP%]{width:80%}}@media (max-width: 768px){.edit-container[_ngcontent-%COMP%]{width:90%}h2[_ngcontent-%COMP%]{font-size:30px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}}@media (max-width: 576px){.edit-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{font-size:25px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})};var Ec=(n,e)=>{let t=U($e),i=U(ot);return t.getUser().pipe(ee(r=>r?!0:(i.navigate(["/login"]),!1)))};var oD=(n,e)=>{let t=U($e),i=U(Ft),r=U(ot),s=n.paramMap.get("postId"),o=n.paramMap.get("commentId");return!s||!o?(r.navigate(["/home"]),se(!1)):t.getUser().pipe(Pe(c=>{if(!c)return r.navigate(["/login"]),se(!1);let a=c.uid;return i.getComments(s).pipe(ee(u=>u.find(h=>h._id===o)?.uid===a?!0:(r.navigate(["/home"]),!1)))}))};var y_=(n,e)=>{let t=U($e),i=U(ot);return t.getUser().pipe(ee(r=>r?(i.navigate(["/home"]),!1):!0))};var cD=(n,e)=>{let t=U($e),i=U(Ft),r=U(ot),s=n.paramMap.get("id");return s?t.getUser().pipe(Pe(o=>o?i.getPostById(s).pipe(ee(c=>c.uid===o.uid?!0:(r.navigate(["/home"]),!1))):(r.navigate(["/login"]),se(!1)))):(r.navigate(["/home"]),se(!1))};var aD=(n,e)=>{let t=U($e),i=U(ot),r=n.paramMap.get("id");return t.getUser().pipe(ee(s=>s&&s.uid===r?!0:(i.navigate(["/"]),!1)))};var lD=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:d8},{path:"login",component:f8,canActivate:[y_]},{path:"register",component:h8,canActivate:[y_]},{path:"profile/:id",component:m8,canActivate:[Ec]},{path:"profile/:id/edit",component:b8,canActivate:[Ec,aD]},{path:"post/:id",component:_8,canActivate:[Ec]},{path:"post/:id/edit",component:y8,canActivate:[Ec,cD]},{path:"post/:postId/comment/:commentId/edit",component:v8,canActivate:[Ec,oD]},{path:"**",component:g8}];var v_={providers:[Rw(lD),lx(()=>ux({projectId:"conneqt-9ade2",appId:"1:984817012255:web:eb44e2b45cf499b5880f2a",storageBucket:"conneqt-9ade2.firebasestorage.app",apiKey:"AIzaSyCi7kvv3bpINYbrbtJPl4Jtml-_GRSURAg",authDomain:"conneqt-9ade2.firebaseapp.com",messagingSenderId:"984817012255",measurementId:"G-0S7CZ2MHCV"})),oL(()=>aL()),gI(()=>bI())]};function Iee(n,e){if(n&1){let t=Ee();E(0,"li",4)(1,"a",5),$(2,"My Profile"),z()(),E(3,"li",4)(4,"a",6),Y("click",function(){j(t);let r=P();return H(r.onLogout())}),$(5,"Logout"),z()()}if(n&2){let t=P();R(),zi("routerLink","/profile/",t.user.uid,"")}}function See(n,e){n&1&&(E(0,"li",4)(1,"a",7),$(2,"Login"),z()(),E(3,"li",4)(4,"a",8),$(5,"Register"),z()())}var C8=class n{constructor(e,t,i,r){this.userService=e;this.router=t;this.renderer=i;this.elRef=r}user=null;isMenuOpen=!1;ngOnInit(){this.userService.getUser().subscribe(e=>{this.user=e}),this.router.events.subscribe(()=>{this.closeMenu()}),this.renderer.listen("window","click",e=>{this.isMenuOpen&&!this.elRef.nativeElement.contains(e.target)&&this.closeMenu()})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}onLogout(){this.userService.logout().subscribe({next:()=>{this.user=null,this.router.navigate(["/login"])},error:e=>{console.error("Error logging out:",e)}})}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)(O($e),O(ot),O(Rn),O(Ge))};static \u0275cmp=pe({type:n,selectors:[["app-header"]],standalone:!0,features:[ve],decls:15,vars:5,consts:[["id","logo"],["routerLink","/home",3,"click"],[1,"hamburger-menu",3,"click"],["id","nav-links"],[1,"nav-link"],[3,"routerLink"],["href","",3,"click"],["routerLink","/login"],["routerLink","/register"]],template:function(t,i){t&1&&(E(0,"header")(1,"nav")(2,"span",0)(3,"a",1),Y("click",function(){return i.scrollToTop()}),$(4,"Conneqt"),z()(),E(5,"div",2),Y("click",function(){return i.toggleMenu()}),J(6,"span")(7,"span")(8,"span"),z(),E(9,"ul",3)(10,"li",4)(11,"a",1),Y("click",function(){return i.scrollToTop()}),$(12,"Home"),z()(),he(13,Iee,6,2)(14,See,6,0),z()()()),t&2&&(R(5),Et("open",i.isMenuOpen),R(4),Et("open",i.isMenuOpen),R(4),_e(i.user?13:14))},dependencies:[jt],styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;min-height:8vh;background-color:#363540;color:#fff;padding:0 30px;position:fixed;width:100%;z-index:1000;top:0}#logo[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-weight:400;font-size:40px;cursor:pointer;transition:.3s ease-in-out,transform .3s ease-in-out}#logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#logo[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#nav-links[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:35%;transition:all .3s ease-in-out}.nav-link[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;font-weight:500;font-family:Offside,sans-serif;margin:0 10px;list-style:none;cursor:pointer;border-radius:20px;position:relative}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;position:relative;font-size:20px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-position:left}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-5px;width:0;height:2px;background-color:#fff;transition:width .3s ease}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}@media (max-width: 900px){#nav-links[_ngcontent-%COMP%]{width:50%}}@media (max-width: 768px){.hamburger-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:30px;height:21px;cursor:pointer;z-index:1001}.hamburger-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:3px;width:100%;background-color:#fff;transition:all .3s ease}#nav-links[_ngcontent-%COMP%]{display:none;position:fixed;top:8vh;left:0;width:100%;background-color:#363540;padding:20px;box-shadow:0 2px 5px #0003;flex-direction:column}#nav-links.open[_ngcontent-%COMP%]{display:flex}.nav-link[_ngcontent-%COMP%]{margin:10px 0}.hamburger-menu.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(9px) rotate(45deg)}.hamburger-menu.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-menu.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-9px) rotate(-45deg)}}@media (max-width: 480px){.hamburger-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:30px;height:21px;cursor:pointer;z-index:1001}.hamburger-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:3px;width:100%;background-color:#fff;transition:all .3s ease}#nav-links[_ngcontent-%COMP%]{display:none;position:fixed;top:8vh;left:0;width:100%;background-color:#363540;padding:20px;box-shadow:0 2px 5px #0003;flex-direction:column}#nav-links.open[_ngcontent-%COMP%]{display:flex}.nav-link[_ngcontent-%COMP%]{margin:10px 0}.hamburger-menu.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(9px) rotate(45deg)}.hamburger-menu.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-menu.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-9px) rotate(-45deg)}}']})};var M8=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-footer"]],standalone:!0,features:[ve],decls:9,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-section","about"],["id","logo"],[1,"footer-bottom"]],template:function(t,i){t&1&&(E(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h2",3),$(4,"Conneqt"),z(),E(5,"p"),$(6," Conneqt is a social platform that connects people from all over the world. Share your thoughts and stay connected. "),z()()(),E(7,"div",4),$(8,"Designed by Luben-Stefano"),z()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#363540;color:#fff;padding:10px 0;text-align:center;position:relative;margin-top:150px;display:flex;justify-content:center;align-items:center;flex-direction:column;bottom:0}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap}#logo[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-weight:400;font-style:normal;font-size:40px}.footer-bottom[_ngcontent-%COMP%]{margin-top:5px}"]})};var w8=class n{title="conneqt";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-root"]],standalone:!0,features:[ve],decls:3,vars:0,template:function(t,i){t&1&&J(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[D7,_t,C8,M8]})};ZM(w8,ae(N({},v_),{providers:[...v_.providers||[],U5(Wz)]})).catch(n=>console.error(n));
